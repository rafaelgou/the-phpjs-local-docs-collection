<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Chapter 17. MySQL Cluster NDB 7.3</title>
<link rel="stylesheet" href="mvl.css" type="text/css" />
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1 + chunker.py v1.9.1" />
<link rel="start" href="index.html" title="{book-title}" />
<link rel="up" href="" title="" />
<link rel="prev" href="replication.html" title="Chapter 16. Replication" />
<link rel="next" href="partitioning.html" title="Chapter 18. Partitioning" />
<script language="javascript" type="text/javascript">
  function addOnload(theFunc)
  {
    var previous = window.onload;
    if (typeof window.onload != 'function')
    {
      window.onload = theFunc;
    }
    else
    {
      window.onload = function()
      {
        previous();
        theFunc();
      }
    }
  }

  addOnload(function()
  {
    var base = new Date(1377579534+*1000);
    var now = new Date();
    var diff = ((now-base)/1000)/(24*3600);

    if (diff > 90) {
      var nodes = document.getElementsByClassName('titlepage');
      nodes[0].innerHTML = '<p style="border: 5px #ff0000 solid; padding: 5px; margin 5px">' +
        'This copy of the manual is more than 90 days old. We encourage you to download a ' +
        'new version from <a href="http://dev.mysql.com">dev.mysql.com/doc</a>.</p>' + nodes[0].innerHTML;
    }
  });
</script>
<noscript></noscript>
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr>
<th colspan="3" align="center">Chapter 17. MySQL Cluster NDB 7.3</th>
</tr>
<tr>
<td width="20%" align="left"><a accesskey="p" href="replication.html">Prev</a> </td>
<th width="60%" align="center"></th>
<td width="20%" align="right"> <a accesskey="n" href="partitioning.html">Next</a></td>
</tr>
</table>
<hr>
</div>
<div class="chapter">
<div class="titlepage">
<div>
<div>
<h1 class="title"><a name="mysql-cluster"></a>Chapter 17. MySQL Cluster NDB 7.3</h1>

</div>

</div>

</div>
<div class="toc">
<p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-overview">17.1. MySQL Cluster Overview</a></span></dt><dd><dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-basics">17.1.1. MySQL Cluster Core Concepts</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-nodes-groups">17.1.2. MySQL Cluster Nodes, Node Groups, Replicas, and Partitions</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-overview-requirements">17.1.3. MySQL Cluster Hardware, Software, and Networking Requirements</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-development">17.1.4. MySQL Cluster Development History</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-compared">17.1.5. MySQL Server Using <code class="literal">InnoDB</code> Compared with MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations">17.1.6. Known Limitations of MySQL Cluster</a></span></dt></dl></dd><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-installation">17.2. MySQL Cluster Installation</a></span></dt><dd><dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto">17.2.1. The MySQL Cluster Auto-Installer</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-linux">17.2.2. Installation of MySQL Cluster on Linux</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-windows">17.2.3. Installing MySQL Cluster on Windows</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-configuration">17.2.4. Initial Configuration of MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-first-start">17.2.5. Initial Startup of MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-example-data">17.2.6. MySQL Cluster Example with Tables and Data</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-shutdown-restart">17.2.7. Safe Shutdown and Restart of MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-upgrade-downgrade">17.2.8. Upgrading and Downgrading MySQL Cluster NDB 7.3</a></span></dt></dl></dd><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-configuration">17.3. Configuration of MySQL Cluster NDB 7.3</a></span></dt><dd><dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-quick">17.3.1. Quick Test Setup of MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-config-file">17.3.2. MySQL Cluster Configuration Files</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-params-overview">17.3.3. Overview of MySQL Cluster Configuration Parameters</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-options-variables">17.3.4. MySQL Server Options and Variables for MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-interconnects">17.3.5. Using High-Speed Interconnects with MySQL Cluster</a></span></dt></dl></dd><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs">17.4. MySQL Cluster Programs</a></span></dt><dd><dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbd">17.4.1. <span class="command"><strong>ndbd</strong></span> — The MySQL Cluster Data Node Daemon</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbinfo-select-all">17.4.2. <span class="command"><strong>ndbinfo_select_all</strong></span> — Select From ndbinfo Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbmtd">17.4.3. <span class="command"><strong>ndbmtd</strong></span> — The MySQL Cluster Data Node Daemon (Multi-Threaded)</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd">17.4.4. <span class="command"><strong>ndb_mgmd</strong></span> — The MySQL Cluster Management Server Daemon</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm">17.4.5. <span class="command"><strong>ndb_mgm</strong></span> — The MySQL Cluster Management Client</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-blob-tool">17.4.6. <span class="command"><strong>ndb_blob_tool</strong></span> — Check and Repair BLOB and TEXT columns of MySQL Cluster
        Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-config">17.4.7. <span class="command"><strong>ndb_config</strong></span> — Extract MySQL Cluster Configuration Information</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-cpcd">17.4.8. <span class="command"><strong>ndb_cpcd</strong></span> — Automate Testing for NDB Development</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-delete-all">17.4.9. <span class="command"><strong>ndb_delete_all</strong></span> — Delete All Rows from an NDB Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-desc">17.4.10. <span class="command"><strong>ndb_desc</strong></span> — Describe NDB Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-index">17.4.11. <span class="command"><strong>ndb_drop_index</strong></span> — Drop Index from an NDB Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-table">17.4.12. <span class="command"><strong>ndb_drop_table</strong></span> — Drop an NDB Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-error-reporter">17.4.13. <span class="command"><strong>ndb_error_reporter</strong></span> — NDB Error-Reporting Utility</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-index-stat">17.4.14. <span class="command"><strong>ndb_index_stat</strong></span> — NDB Index Statistics Utility</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-backup-file">17.4.15. <span class="command"><strong>ndb_print_backup_file</strong></span> — Print NDB Backup File Contents</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-schema-file">17.4.16. <span class="command"><strong>ndb_print_schema_file</strong></span> — Print NDB Schema File Contents</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-sys-file">17.4.17. <span class="command"><strong>ndb_print_sys_file</strong></span> — Print NDB System File Contents</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbd-redo-log-reader">17.4.18. <span class="command"><strong>ndbd_redo_log_reader</strong></span> — Check and Print Content of Cluster Redo Log</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-restore">17.4.19. <span class="command"><strong>ndb_restore</strong></span> — Restore a MySQL Cluster Backup</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all">17.4.20. <span class="command"><strong>ndb_select_all</strong></span> — Print Rows from an NDB Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-select-count">17.4.21. <span class="command"><strong>ndb_select_count</strong></span> — Print Row Counts for NDB Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py">17.4.22. <span class="command"><strong>ndb_setup.py</strong></span> — Start browser-based Auto-Installer for
MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-show-tables">17.4.23. <span class="command"><strong>ndb_show_tables</strong></span> — Display List of NDB Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-size-pl">17.4.24. <span class="command"><strong>ndb_size.pl</strong></span> — NDBCLUSTER Size Requirement Estimator</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-waiter">17.4.25. <span class="command"><strong>ndb_waiter</strong></span> — Wait for MySQL Cluster to Reach a Given Status</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-program-options-common">17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs</a></span></dt></dl></dd><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-management">17.5. Management of MySQL Cluster</a></span></dt><dd><dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-start-phases">17.5.1. Summary of MySQL Cluster Start Phases</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-mgm-client-commands">17.5.2. Commands in the MySQL Cluster Management Client</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-backup">17.5.3. Online Backup of MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-mysqld">17.5.4. MySQL Server Usage for MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-rolling-restart">17.5.5. Performing a Rolling Restart of a MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-event-reports">17.5.6. Event Reports Generated in MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-logs-ndb-messages">17.5.7. MySQL Cluster Log Messages</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-single-user-mode">17.5.8. MySQL Cluster Single User Mode</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-sql-statements">17.5.9. Quick Reference: MySQL Cluster SQL Statements</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo">17.5.10. The <code class="literal">ndbinfo</code> MySQL Cluster Information Database</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-security">17.5.11. MySQL Cluster Security Issues</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-disk-data">17.5.12. MySQL Cluster Disk Data Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-online-add-node">17.5.13. Adding MySQL Cluster Data Nodes Online</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-privilege-distribution">17.5.14. Distributed MySQL Privileges for MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndb-api-statistics">17.5.15. NDB API Statistics Counters and Variables</a></span></dt></dl></dd><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication">17.6. MySQL Cluster Replication</a></span></dt><dd><dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-abbreviations">17.6.1. MySQL Cluster Replication: Abbreviations and Symbols</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-general">17.6.2. General Requirements for MySQL Cluster Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-issues">17.6.3. Known Issues in MySQL Cluster Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-schema">17.6.4. MySQL Cluster Replication Schema and Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-preparation">17.6.5. Preparing the MySQL Cluster for Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-starting">17.6.6. Starting MySQL Cluster Replication (Single Replication Channel)</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-two-channels">17.6.7. Using Two Replication Channels for MySQL Cluster Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-failover">17.6.8. Implementing Failover with MySQL Cluster Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-backups">17.6.9. MySQL Cluster Backups With MySQL Cluster Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-multi-master">17.6.10. MySQL Cluster Replication: Multi-Master and Circular Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution">17.6.11. MySQL Cluster Replication Conflict Resolution</a></span></dt></dl></dd><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-news">17.7. MySQL Cluster Release Notes</a></span></dt></dl>
</div>
<a class="indexterm" name="idp105779824"></a><a class="indexterm" name="idp105780896"></a><a class="indexterm" name="idp105782384"></a><a class="indexterm" name="idp105783888"></a><p>
    This chapter contains information about <em class="firstterm">MySQL
    Cluster</em>, which is a high-availability, high-redundancy
    version of MySQL adapted for the distributed computing environment.
    Recent releases of MySQL Cluster use version 7 of the
    <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine (also known
    as <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>) to enable running several
    computers with MySQL servers and other software in a cluster; the
    latest releases available for production use incorporate
    <code class="literal">NDB</code> version 7.3.
  </p><p>
    Support for the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage
    engine is not included in standard MySQL Server 5.6 binaries built
    by Oracle. Instead, users of MySQL Cluster binaries from Oracle
    should upgrade to the most recent binary release of MySQL Cluster
    for supported platforms—these include RPMs that should work
    with most Linux distributions. MySQL Cluster users who build from
    source should use the sources provided for MySQL Cluster. (Locations
    where the sources can be obtained are listed later in this section.)
  </p><p>
    This chapter contains information about MySQL Cluster NDB 7.3
    releases through 5.6.11-ndb-7.3.3. Currently, the MySQL
    Cluster NDB 7.3 release series is Generally Available (GA), as is
    MySQL Cluster NDB 7.2. MySQL Cluster NDB 7.1 and MySQL Cluster NDB
    7.0 are previous GA release series; although they are still
    supported, we recommend that new deployments use MySQL Cluster NDB
    7.3. For information about MySQL Cluster NDB 7.2, see
    <a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/mysql-cluster.html" target="_top">MySQL Cluster NDB 7.2</a>; for information about
    MySQL Cluster NDB 7.1, and previous versions of MySQL Cluster, see
    <a class="ulink" href="http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster.html" target="_top">MySQL Cluster NDB 6.1 - 7.1</a>.
  </p><a class="indexterm" name="idp105793696"></a><p><b>Supported Platforms. </b>
      MySQL Cluster is currently available and supported on a number of
      platforms. For exact levels of support available for on specific
      combinations of operating system versions, operating system
      distributions, and hardware platforms, please refer to
      <code class="uri">http://www.mysql.com/support/supportedplatforms/cluster.html</code>.
    </p><p><b>Availability. </b>
      MySQL Cluster binary and source packages are available for
      supported platforms from
      <a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">http://dev.mysql.com/downloads/cluster/</a>.
    </p><p><b>MySQL Cluster release numbers. </b>
      MySQL Cluster follows a somewhat different release pattern from
      the mainline MySQL Server 5.6 series of releases. In this
      <em class="citetitle">Manual</em> and other MySQL documentation, we
      identify these and later MySQL Cluster releases employing a
      version number that begins with <span class="quote">“<span class="quote">NDB</span>”</span>. This version
      number is that of the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>
      storage engine used in the release, and not of the MySQL server
      version on which the MySQL Cluster release is based.
    </p><p><b>Version strings used in MySQL Cluster software. </b>
      The version string displayed by MySQL Cluster programs uses this
      format:
    </p><pre class="programlisting">mysql-<em class="replaceable"><code>mysql_server_version</code></em>-ndb-<em class="replaceable"><code>ndb_engine_version</code></em>
</pre><p>
    <em class="replaceable"><code>mysql_server_version</code></em> represents the
    version of the MySQL Server on which the MySQL Cluster release is
    based. For all MySQL Cluster NDB 7.3 releases, this is
    <span class="quote">“<span class="quote">5.6</span>”</span>. <em class="replaceable"><code>ndb_engine_version</code></em> is
    the version of the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine
    used by this release of the MySQL Cluster software. You can see this
    format used in the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client, as shown here:
  </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql</code></strong>
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 2
Server version: 5.6.11-ndb-7.3.3 Source distribution

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; <strong class="userinput"><code>SELECT VERSION()\G</code></strong>
*************************** 1. row ***************************
VERSION(): 5.6.11-ndb-7.3.3
1 row in set (0.00 sec)
</pre><p>
    This version string is also displayed in the output of the
    <code class="literal">SHOW</code> command in the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>
    client:
  </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: localhost:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=1    @10.0.10.6  (5.6.11-ndb-7.3.3, Nodegroup: 0, Master)
id=2    @10.0.10.8  (5.6.11-ndb-7.3.3, Nodegroup: 0)

[ndb_mgmd(MGM)] 1 node(s)
id=3    @10.0.10.2  (5.6.11-ndb-7.3.3)

[mysqld(API)]   2 node(s)
id=4    @10.0.10.10  (5.6.11-ndb-7.3.3)
id=5 (not connected, accepting connect from any host)
</pre><p>
    The version string identifies the mainline MySQL version from which
    the MySQL Cluster release was branched and the version of the
    <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine used. For example,
    the full version string for MySQL Cluster NDB 7.3.2 (the first MySQL
    Cluster production release based on MySQL Server 5.6) is
    <code class="literal">mysql-5.6.11-ndb-7.3.2</code>. From this we can
    determine the following:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        Since the portion of the version string preceding
        <span class="quote">“<span class="quote"><code class="literal">-ndb-</code></span>”</span> is the base MySQL Server
        version, this means that MySQL Cluster NDB 7.3.2 derives from
        MySQL 5.6.11, and contains all feature enhancements and bugfixes
        from MySQL 5.6 up to and including MySQL 5.6.11.
      </p></li><li class="listitem"><p>
        Since the portion of the version string following
        <span class="quote">“<span class="quote"><code class="literal">-ndb-</code></span>”</span> represents the version
        number of the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> (or
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>) storage engine, MySQL
        Cluster NDB 7.3.2 uses version 7.3.2 of the
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine.
</p></li></ul>
</div>
<p>
    New MySQL Cluster releases are numbered according to updates in the
    <code class="literal">NDB</code> storage engine, and do not necessarily
    correspond in a one-to-one fashion with mainline MySQL Server
    releases. For example, MySQL Cluster NDB 7.3.2 (as previously noted)
    is based on MySQL 5.6.11, while MySQL Cluster NDB 7.3.1 was based on
    MySQL 5.6.10 (version string:
    <code class="literal">mysql-5.6.10-ndb-7.3.1</code>).
  </p><p><b>Compatibility with standard MySQL 5.6 releases. </b>
      While many standard MySQL schemas and applications can work using
      MySQL Cluster, it is also true that unmodified applications and
      database schemas may be slightly incompatible or have suboptimal
      performance when run using MySQL Cluster (see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations" title="17.1.6. Known Limitations of MySQL Cluster">Section 17.1.6, “Known Limitations of MySQL Cluster”</a>). Most of these issues
      can be overcome, but this also means that you are very unlikely to
      be able to switch an existing application datastore—that
      currently uses, for example, <a class="link" href="storage-engines.html#myisam-storage-engine" title="14.3. The MyISAM Storage Engine"><code class="literal">MyISAM</code></a>
      or <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a>—to use the
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine without allowing
      for the possibility of changes in schemas, queries, and
      applications. In addition, the MySQL Server and MySQL Cluster
      codebases diverge considerably, so that the standard
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> cannot function as a drop-in replacement
      for the version of <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> supplied with MySQL
      Cluster.
    </p><p><b>MySQL Cluster development source trees. </b>
      MySQL Cluster development trees can also be accessed from
      <a class="ulink" href="https://code.launchpad.net/~mysql/" target="_top">https://code.launchpad.net/~mysql/</a>:
    </p><p>
    The MySQL Cluster development sources maintained at
    <a class="ulink" href="https://code.launchpad.net/~mysql/" target="_top">https://code.launchpad.net/~mysql/</a> are licensed under
    the GPL. For information about obtaining MySQL sources using Bazaar
    and building them yourself, see
    <a class="xref" href="installing.html#installing-development-tree" title="2.9.3. Installing MySQL Using a Development Source Tree">Section 2.9.3, “Installing MySQL Using a Development Source Tree”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
      As with MySQL Server 5.6, MySQL Cluster NDB 7.3 is built using
      <span class="command"><strong>CMake</strong></span>.
</p>
</div>
<p>
    Currently, MySQL Cluster NDB 7.1, MySQL Cluster NDB 7.2, and MySQL
    Cluster NDB 7.3 releases are all Generally Available (GA), although
    we recommend that new deployments use MySQL Cluster NDB 7.3. MySQL
    Cluster NDB 6.1, MySQL Cluster NDB 6.2, and MySQL Cluster NDB 6.3,
    are no longer in active development. For an overview of major
    features added in MySQL Cluster NDB 7.3, see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-development" title="17.1.4. MySQL Cluster Development History">Section 17.1.4, “MySQL Cluster Development History”</a>. For an overview of
    major features added in past MySQL Cluster releases, see
    <a class="ulink" href="http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster-development.html" target="_top">MySQL Cluster Development History</a>, and
    <a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/mysql-cluster-development.html" target="_top">MySQL Cluster Development History</a>.
  </p><p>
    This chapter represents a work in progress, and its contents are
    subject to revision as MySQL Cluster continues to evolve. Additional
    information regarding MySQL Cluster can be found on the MySQL Web
    site at <code class="uri">http://www.mysql.com/products/cluster/</code>.
  </p><a class="indexterm" name="idp105843440"></a><p><b>Additional Resources. </b>
      More information about MySQL Cluster can be found in the following
      places:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        For answers to some commonly asked questions about MySQL
        Cluster, see <a class="xref" href="faqs.html#faqs-mysql-cluster" title="B.10. MySQL 5.6 FAQ: MySQL Cluster">Section B.10, “MySQL 5.6 FAQ: MySQL Cluster”</a>.
      </p></li><li class="listitem"><p>
        The MySQL Cluster mailing list:
        <a class="ulink" href="http://lists.mysql.com/cluster" target="_top">http://lists.mysql.com/cluster</a>.
      </p></li><li class="listitem"><p>
        The MySQL Cluster Forum:
        <a class="ulink" href="http://forums.mysql.com/list.php?25" target="_top">http://forums.mysql.com/list.php?25</a>.
      </p></li><li class="listitem"><p>
        Many MySQL Cluster users and developers blog about their
        experiences with MySQL Cluster, and make feeds of these
        available through
        <a class="ulink" href="http://www.planetmysql.org/" target="_top">PlanetMySQL</a>.
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="mysql-cluster-overview"></a>17.1. MySQL Cluster Overview</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-basics">17.1.1. MySQL Cluster Core Concepts</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-nodes-groups">17.1.2. MySQL Cluster Nodes, Node Groups, Replicas, and Partitions</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-overview-requirements">17.1.3. MySQL Cluster Hardware, Software, and Networking Requirements</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-development">17.1.4. MySQL Cluster Development History</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-compared">17.1.5. MySQL Server Using <code class="literal">InnoDB</code> Compared with MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations">17.1.6. Known Limitations of MySQL Cluster</a></span></dt></dl>
</div>
<a class="indexterm" name="idp105853472"></a><p>
    <em class="firstterm">MySQL Cluster</em> is a technology that enables
    clustering of in-memory databases in a shared-nothing system. The
    shared-nothing architecture enables the system to work with very
    inexpensive hardware, and with a minimum of specific requirements
    for hardware or software.
  </p><p>
    MySQL Cluster is designed not to have any single point of failure.
    In a shared-nothing system, each component is expected to have its
    own memory and disk, and the use of shared storage mechanisms such
    as network shares, network file systems, and SANs is not recommended
    or supported.
  </p><p>
    MySQL Cluster integrates the standard MySQL server with an in-memory
    clustered storage engine called <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
    (which stands for <span class="quote">“<span class="quote"><span class="emphasis"><em>N</em></span>etwork
    <span class="emphasis"><em>D</em></span>ata<span class="emphasis"><em>B</em></span>ase</span>”</span>). In our
    documentation, the term <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> refers to
    the part of the setup that is specific to the storage engine,
    whereas <span class="quote">“<span class="quote">MySQL Cluster</span>”</span> refers to the combination of
    one or more MySQL servers with the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
    storage engine.
  </p><p>
    A MySQL Cluster consists of a set of computers, known as
    <em class="firstterm">hosts</em>, each running one or more processes.
    These processes, known as <em class="firstterm">nodes</em>, may include
    MySQL servers (for access to NDB data), data nodes (for storage of
    the data), one or more management servers, and possibly other
    specialized data access programs. The relationship of these
    components in a MySQL Cluster is shown here:
</p>
<div class="mediaobject">
<img src="images/cluster-components-1.png" width="583" height="372" alt="MySQL Cluster Components">
</div>
<p>
    All these programs work together to form a MySQL Cluster (see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-programs" title="17.4. MySQL Cluster Programs">Section 17.4, “MySQL Cluster Programs”</a>. When data is stored by the
    <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine, the tables (and
    table data) are stored in the data nodes. Such tables are directly
    accessible from all other MySQL servers (SQL nodes) in the cluster.
    Thus, in a payroll application storing data in a cluster, if one
    application updates the salary of an employee, all other MySQL
    servers that query this data can see this change immediately.
  </p><p>
    Although a MySQL Cluster SQL node uses the <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
    server daemon, it differs in a number of critical respects from the
    <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> binary supplied with the MySQL
    5.6 distributions, and the two versions of
    <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> are not interchangeable.
  </p><p>
    In addition, a MySQL server that is not connected to a MySQL Cluster
    cannot use the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine and
    cannot access any MySQL Cluster data.
  </p><p>
    The data stored in the data nodes for MySQL Cluster can be mirrored;
    the cluster can handle failures of individual data nodes with no
    other impact than that a small number of transactions are aborted
    due to losing the transaction state. Because transactional
    applications are expected to handle transaction failure, this should
    not be a source of problems.
  </p><p>
    Individual nodes can be stopped and restarted, and can then rejoin
    the system (cluster). Rolling restarts (in which all nodes are
    restarted in turn) are used in making configuration changes and
    software upgrades (see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="17.5.5. Performing a Rolling Restart of a MySQL Cluster">Section 17.5.5, “Performing a Rolling Restart of a MySQL Cluster”</a>). Rolling restarts
    are also used as part of the process of adding new data nodes online
    (see <a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="17.5.13. Adding MySQL Cluster Data Nodes Online">Section 17.5.13, “Adding MySQL Cluster Data Nodes Online”</a>). For more
    information about data nodes, how they are organized in a MySQL
    Cluster, and how they handle and store MySQL Cluster data, see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-nodes-groups" title="17.1.2. MySQL Cluster Nodes, Node Groups, Replicas, and Partitions">Section 17.1.2, “MySQL Cluster Nodes, Node Groups, Replicas, and Partitions”</a>.
  </p><p>
    Backing up and restoring MySQL Cluster databases can be done using
    the <code class="literal">NDB</code>-native functionality found in the MySQL
    Cluster management client and the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>
    program included in the MySQL Cluster distribution. For more
    information, see <a class="xref" href="mysql-cluster.html#mysql-cluster-backup" title="17.5.3. Online Backup of MySQL Cluster">Section 17.5.3, “Online Backup of MySQL Cluster”</a>, and
    <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup">Section 17.4.19, “<span class="command"><strong>ndb_restore</strong></span> — Restore a MySQL Cluster Backup”</a>. You can also
    use the standard MySQL functionality provided for this purpose in
    <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> and the MySQL server. See
    <a class="xref" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program">Section 4.5.4, “<span class="command"><strong>mysqldump</strong></span> — A Database Backup Program”</a>, for more information.
  </p><p>
    MySQL Cluster nodes can use a number of different transport
    mechanisms for inter-node communications, including TCP/IP using
    standard 100 Mbps or faster Ethernet hardware. It is also possible
    to use the high-speed <em class="firstterm">Scalable Coherent
    Interface</em> (SCI) protocol with MySQL Cluster, although
    this is not required to use MySQL Cluster. SCI requires special
    hardware and software; see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-interconnects" title="17.3.5. Using High-Speed Interconnects with MySQL Cluster">Section 17.3.5, “Using High-Speed Interconnects with MySQL Cluster”</a>, for more about SCI
    and using it with MySQL Cluster.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-basics"></a>17.1.1. MySQL Cluster Core Concepts</h3>
</div>
</div>
</div>
<a class="indexterm" name="idp105886304"></a><a class="indexterm" name="idp105887792"></a><a class="indexterm" name="idp105889280"></a><a class="indexterm" name="idp105890784"></a><a class="indexterm" name="idp105892288"></a><a class="indexterm" name="idp105893792"></a><a class="indexterm" name="idp105895296"></a><a class="indexterm" name="idp105897216"></a><a class="indexterm" name="idp105899136"></a><a class="indexterm" name="idp105901072"></a><a class="indexterm" name="idp105902992"></a><a class="indexterm" name="idp105904480"></a><a class="indexterm" name="idp105905968"></a><a class="indexterm" name="idp105907456"></a><a class="indexterm" name="idp105908944"></a><p>
      <em class="firstterm"><a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a></em>
      (also known as <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>) is an in-memory
      storage engine offering high-availability and data-persistence
      features.
    </p><p>
      The <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine can be
      configured with a range of failover and load-balancing options,
      but it is easiest to start with the storage engine at the cluster
      level. MySQL Cluster's <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage
      engine contains a complete set of data, dependent only on other
      data within the cluster itself.
    </p><p>
      The <span class="quote">“<span class="quote">Cluster</span>”</span> portion of MySQL Cluster is configured
      independently of the MySQL servers. In a MySQL Cluster, each part
      of the cluster is considered to be a <em class="firstterm">node</em>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        In many contexts, the term <span class="quote">“<span class="quote">node</span>”</span> is used to
        indicate a computer, but when discussing MySQL Cluster it means
        a <span class="emphasis"><em>process</em></span>. It is possible to run multiple
        nodes on a single computer; for a computer on which one or more
        cluster nodes are being run we use the term <em class="firstterm">cluster
        host</em>.
</p>
</div>
<p>
      There are three types of cluster nodes, and in a minimal MySQL
      Cluster configuration, there will be at least three nodes, one of
      each of these types:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <em class="firstterm">Management node</em>: The role of this type
          of node is to manage the other nodes within the MySQL Cluster,
          performing such functions as providing configuration data,
          starting and stopping nodes, running backup, and so forth.
          Because this node type manages the configuration of the other
          nodes, a node of this type should be started first, before any
          other node. An MGM node is started with the command
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>.
        </p></li><li class="listitem"><p>
          <em class="firstterm">Data node</em>: This type of node stores
          cluster data. There are as many data nodes as there are
          replicas, times the number of fragments (see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-nodes-groups" title="17.1.2. MySQL Cluster Nodes, Node Groups, Replicas, and Partitions">Section 17.1.2, “MySQL Cluster Nodes, Node Groups, Replicas, and Partitions”</a>). For example,
          with two replicas, each having two fragments, you need four
          data nodes. One replica is sufficient for data storage, but
          provides no redundancy; therefore, it is recommended to have 2
          (or more) replicas to provide redundancy, and thus high
          availability. A data node is started with the command
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> (see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon">Section 17.4.1, “<span class="command"><strong>ndbd</strong></span> — The MySQL Cluster Data Node Daemon”</a>) or
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> (see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)">Section 17.4.3, “<span class="command"><strong>ndbmtd</strong></span> — The MySQL Cluster Data Node Daemon (Multi-Threaded)”</a>).
        </p><p>
          MySQL Cluster tables are normally stored completely in memory
          rather than on disk (this is why we refer to MySQL Cluster as
          an <em class="firstterm">in-memory</em> database). However, some
          MySQL Cluster data can be stored on disk; see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data" title="17.5.12. MySQL Cluster Disk Data Tables">Section 17.5.12, “MySQL Cluster Disk Data Tables”</a>, for more
          information.
        </p></li><li class="listitem"><p>
          <em class="firstterm">SQL node</em>: This is a node that accesses
          the cluster data. In the case of MySQL Cluster, an SQL node is
          a traditional MySQL server that uses the
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine. An SQL
          node is a <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process started with the
          <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a> and
          <code class="option">--ndb-connectstring</code> options, which are
          explained elsewhere in this chapter, possibly with additional
          MySQL server options as well.
        </p><p>
          An SQL node is actually just a specialized type of
          <em class="firstterm">API node</em>, which designates any
          application which accesses MySQL Cluster data. Another example
          of an API node is the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> utility
          that is used to restore a cluster backup. It is possible to
          write such applications using the NDB API. For basic
          information about the NDB API, see
          <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-getting-started.html" target="_top">Getting Started with the NDB API</a>.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Important
</div>
<p xmlns="">
        It is not realistic to expect to employ a three-node setup in a
        production environment. Such a configuration provides no
        redundancy; to benefit from MySQL Cluster's high-availability
        features, you must use multiple data and SQL nodes. The use of
        multiple management nodes is also highly recommended.
</p>
</div>
<p>
      For a brief introduction to the relationships between nodes, node
      groups, replicas, and partitions in MySQL Cluster, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-nodes-groups" title="17.1.2. MySQL Cluster Nodes, Node Groups, Replicas, and Partitions">Section 17.1.2, “MySQL Cluster Nodes, Node Groups, Replicas, and Partitions”</a>.
    </p><p>
      Configuration of a cluster involves configuring each individual
      node in the cluster and setting up individual communication links
      between nodes. MySQL Cluster is currently designed with the
      intention that data nodes are homogeneous in terms of processor
      power, memory space, and bandwidth. In addition, to provide a
      single point of configuration, all configuration data for the
      cluster as a whole is located in one configuration file.
    </p><p>
      The management server manages the cluster configuration file and
      the cluster log. Each node in the cluster retrieves the
      configuration data from the management server, and so requires a
      way to determine where the management server resides. When
      interesting events occur in the data nodes, the nodes transfer
      information about these events to the management server, which
      then writes the information to the cluster log.
    </p><p>
      In addition, there can be any number of cluster client processes
      or applications. These include standard MySQL clients,
      <code class="literal">NDB</code>-specific API programs, and management
      clients. These are described in the next few paragraphs.
    </p><p><b>Standard MySQL clients. </b>
        MySQL Cluster can be used with existing MySQL applications
        written in PHP, Perl, C, C++, Java, Python, Ruby, and so on.
        Such client applications send SQL statements to and receive
        responses from MySQL servers acting as MySQL Cluster SQL nodes
        in much the same way that they interact with standalone MySQL
        servers.
      </p><a class="indexterm" name="idp105943136"></a><a class="indexterm" name="idp105944624"></a><a class="indexterm" name="idp105946112"></a><p>
      MySQL clients using a MySQL Cluster as a data source can be
      modified to take advantage of the ability to connect with multiple
      MySQL servers to achieve load balancing and failover. For example,
      Java clients using Connector/J 5.0.6 and later can use
      <code class="literal">jdbc:mysql:loadbalance://</code> URLs (improved in
      Connector/J 5.1.7) to achieve load balancing transparently; for
      more information about using Connector/J with MySQL Cluster, see
      <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mccj-using-connectorj.html" target="_top">Using Connector/J with MySQL Cluster</a>.
    </p><p><b><code class="literal">NDB</code> client programs. </b>
        Client programs can be written that access MySQL Cluster data
        directly from the <code class="literal">NDBCLUSTER</code> storage engine,
        bypassing any MySQL Servers that may connected to the cluster,
        using the <em class="firstterm">NDB API</em>, a high-level C++ API.
        Such applications may be useful for specialized purposes where
        an SQL interface to the data is not needed. For more
        information, see <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndbapi.html" target="_top">The NDB API</a>.
      </p><p>
      <code class="literal">NDB</code>-specific Java applications can also be
      written for MySQL Cluster using the <em class="firstterm">MySQL Cluster
      Connector for Java</em>. This MySQL Cluster Connector
      includes <em class="firstterm">ClusterJ</em>, a high-level database
      API similar to object-relational mapping persistence frameworks
      such as Hibernate and JPA that connect directly to
      <code class="literal">NDBCLUSTER</code>, and so does not require access to a
      MySQL Server. Support is also provided in MySQL Cluster NDB 7.1
      and later for <em class="firstterm">ClusterJPA</em>, an OpenJPA
      implementation for MySQL Cluster that leverages the strengths of
      ClusterJ and JDBC; ID lookups and other fast operations are
      performed using ClusterJ (bypassing the MySQL Server), while more
      complex queries that can benefit from MySQL's query optimizer
      are sent through the MySQL Server, using JDBC. See
      <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mccj-overview-java.html" target="_top">Java and MySQL Cluster</a>, and
      <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mccj-overview-clusterj-object-models.html" target="_top">The ClusterJ API and Data Object Model</a>, for more
      information.
    </p><p>
      MySQL Cluster NDB 7.3 also supports applications written in
      JavaScript using Node.js. The MySQL Connector for JavaScript
      includes adapters for direct access to the <code class="literal">NDB</code>
      storage engine and as well as for the MySQL Server. Applications
      using this Connector are typically event-driven and use a domain
      object model similar in many ways to that employed by ClusterJ.
      For more information, see <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-nodejs.html" target="_top">MySQL NoSQL Connector for JavaScript</a>.
    </p><p>
      The Memcache API for MySQL Cluster, implemented as the loadable
      <em class="firstterm">ndbmemcache</em> storage engine for memcached
      version 1.6 and later, can be used to provide a persistent MySQL
      Cluster data store, accessed using the memcache protocol.
    </p><p>
      The standard <span class="command"><strong>memcached</strong></span> caching engine is
      included in the MySQL Cluster NDB 7.3 distribution. Each
      <span class="command"><strong>memcached</strong></span> server has direct access to data
      stored in MySQL Cluster, but is also able to cache data locally
      and to serve (some) requests from this local cache.
    </p><p>
      For more information, see <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndbmemcache.html" target="_top"><code class="literal">ndbmemcache</code>—Memcache API for MySQL Cluster</a>.
    </p><p><b>Management clients. </b>
        These clients connect to the management server and provide
        commands for starting and stopping nodes gracefully, starting
        and stopping message tracing (debug versions only), showing node
        versions and status, starting and stopping backups, and so on.
        An example of this type of program is the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> management client supplied with MySQL
        Cluster (see <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client">Section 17.4.5, “<span class="command"><strong>ndb_mgm</strong></span> — The MySQL Cluster Management Client”</a>).
        Such applications can be written using the <em class="firstterm">MGM
        API</em>, a C-language API that communicates directly
        with one or more MySQL Cluster management servers. For more
        information, see <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mgm-api.html" target="_top">The MGM API</a>.
      </p><p>
      Oracle also makes available MySQL Cluster Manager, which provides an advanced
      command-line interface simplifying many complex MySQL Cluster
      management tasks, such restarting a MySQL Cluster with a large
      number of nodes. The MySQL Cluster Manager client also supports commands for
      getting and setting the values of most node configuration
      parameters as well as <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server options and
      variables relating to MySQL Cluster. MySQL Cluster Manager 1.1 provides support
      for adding data nodes online. See the
      <a class="ulink" href="http://dev.mysql.com/doc/mysql-cluster-manager/1.1/en/index.html" target="_top">MySQL
      Cluster Manager User Manual</a>, for more information.
    </p><p><b>Event logs. </b>
        MySQL Cluster logs events by category (startup, shutdown,
        errors, checkpoints, and so on), priority, and severity. A
        complete listing of all reportable events may be found in
        <a class="xref" href="mysql-cluster.html#mysql-cluster-event-reports" title="17.5.6. Event Reports Generated in MySQL Cluster">Section 17.5.6, “Event Reports Generated in MySQL Cluster”</a>. Event logs are of
        the two types listed here:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <em class="firstterm">Cluster log</em>: Keeps a record of all
          desired reportable events for the cluster as a whole.
        </p></li><li class="listitem"><p>
          <em class="firstterm">Node log</em>: A separate log which is also
          kept for each individual node.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p xmlns="">
        Under normal circumstances, it is necessary and sufficient to
        keep and examine only the cluster log. The node logs need be
        consulted only for application development and debugging
        purposes.
</p>
</div>
<p><b>Checkpoint. </b>
        Generally speaking, when data is saved to disk, it is said that
        a <em class="firstterm">checkpoint</em> has been reached. More
        specific to MySQL Cluster, a checkpoint is a point in time where
        all committed transactions are stored on disk. With regard to
        the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine, there are
        two types of checkpoints which work together to ensure that a
        consistent view of the cluster's data is maintained. These are
        shown in the following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <em class="firstterm">Local Checkpoint (LCP)</em>: This is a
          checkpoint that is specific to a single node; however, LCPs
          take place for all nodes in the cluster more or less
          concurrently. An LCP involves saving all of a node's data to
          disk, and so usually occurs every few minutes. The precise
          interval varies, and depends upon the amount of data stored by
          the node, the level of cluster activity, and other factors.
        </p></li><li class="listitem"><p>
          <em class="firstterm">Global Checkpoint (GCP)</em>: A GCP occurs
          every few seconds, when transactions for all nodes are
          synchronized and the redo-log is flushed to disk.
</p></li></ul>
</div>
<p>
      For more information about the files and directories created by
      local checkpoints and global checkpoints, see
      <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-ndbd-filesystemdir-files.html" target="_top">MySQL Cluster Data Node <code class="literal">FileSystemDir</code> Files</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-nodes-groups"></a>17.1.2. MySQL Cluster Nodes, Node Groups, Replicas, and Partitions</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp105988032"></a><a class="indexterm" name="idp105989520"></a><a class="indexterm" name="idp105991008"></a><a class="indexterm" name="idp105992496"></a><a class="indexterm" name="idp105993584"></a><a class="indexterm" name="idp105994672"></a><p>
      This section discusses the manner in which MySQL Cluster divides
      and duplicates data for storage.
    </p><p>
      A number of concepts central to an understanding of this topic are
      discussed in the next few paragraphs.
    </p><p><b>(Data) Node. </b>
        An <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process, which stores a
        <em class="firstterm">replica</em> —that is, a copy of the
        <em class="firstterm">partition</em> (see below) assigned to the
        node group of which the node is a member.
      </p><p>
      Each data node should be located on a separate computer. While it
      is also possible to host multiple <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>
      processes on a single computer, such a configuration is not
      supported.
    </p><p>
      It is common for the terms <span class="quote">“<span class="quote">node</span>”</span> and <span class="quote">“<span class="quote">data
      node</span>”</span> to be used interchangeably when referring to an
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process; where mentioned, management nodes
      (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> processes) and SQL nodes
      (<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> processes) are specified as such in
      this discussion.
    </p><p><a name="mysql-cluster-nodes-groups-nodegroup"></a><b>Node Group. </b>
        A node group consists of one or more nodes, and stores
        partitions, or sets of <em class="firstterm">replicas</em> (see next
        item).
      </p><p>
      The number of node groups in a MySQL Cluster is not directly
      configurable; it is a function of the number of data nodes and of
      the number of replicas
      (<a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a>
      configuration parameter), as shown here:
    </p><pre class="programlisting">[<em class="replaceable"><code>number_of_node_groups</code></em>] = <em class="replaceable"><code>number_of_data_nodes</code></em> / <code class="literal">NoOfReplicas</code>
</pre><p>
      Thus, a MySQL Cluster with 4 data nodes has 4 node groups if
      <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a> is set to 1
      in the <code class="filename">config.ini</code> file, 2 node groups if
      <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a> is set to 2,
      and 1 node group if
      <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a> is set to 4.
      Replicas are discussed later in this section; for more information
      about <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a>, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition" title="17.3.2.6. Defining MySQL Cluster Data Nodes">Section 17.3.2.6, “Defining MySQL Cluster Data Nodes”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        All node groups in a MySQL Cluster must have the same number of
        data nodes.
</p>
</div>
<p>
      You can add new node groups (and thus new data nodes) online, to a
      running MySQL Cluster; see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="17.5.13. Adding MySQL Cluster Data Nodes Online">Section 17.5.13, “Adding MySQL Cluster Data Nodes Online”</a>, for more
      information.
    </p><p><a name="mysql-cluster-nodes-groups-partition"></a><b>Partition. </b>
        This is a portion of the data stored by the cluster. There are
        as many cluster partitions as nodes participating in the
        cluster. Each node is responsible for keeping at least one copy
        of any partitions assigned to it (that is, at least one replica)
        available to the cluster.
      </p><p>
      A replica belongs entirely to a single node; a node can (and
      usually does) store several replicas.
    </p><p><a name="mysql-cluster-nodes-groups-user-partitioning"></a><b><code class="literal">NDB</code> and user-defined partitioning. </b>
        While MySQL Cluster normally partitions
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables automatically, it is
        possible to employ user-defined partitioning with
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables. This is subject to the
        following limitations:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Only <code class="literal">KEY</code> and <code class="literal">LINEAR KEY</code>
          partitioning schemes can be used with
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables.
        </p></li><li class="listitem"><p>
          When using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>, the maximum number of
          partitions that may be defined explicitly for any
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table is <code class="literal">8 *
          [<em class="replaceable"><code>number of node groups</code></em>]</code>.
          (The number of node groups in a MySQL Cluster is determined as
          discussed previously in this section.)
        </p><p>
          When using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>, this maximum is also
          affected by the number of local query handler threads, which
          is determined by the value of the
          <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-maxnoofexecutionthreads"><code class="literal">MaxNoOfExecutionThreads</code></a>
          configuration parameter. In such cases, the maxmimum number of
          partitions that may be defined explicitly for an
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table is equal to <code class="literal">4
          * MaxNoOfExecutionThreads * [<em class="replaceable"><code>number of node
          groups</code></em>]</code>.
        </p><p>
          See <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)">Section 17.4.3, “<span class="command"><strong>ndbmtd</strong></span> — The MySQL Cluster Data Node Daemon (Multi-Threaded)”</a>, for more
          information.
</p></li></ol>
</div>
<p>
      For more information relating to MySQL Cluster and user-defined
      partitioning, see <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations" title="17.1.6. Known Limitations of MySQL Cluster">Section 17.1.6, “Known Limitations of MySQL Cluster”</a>, and
      <a class="xref" href="partitioning.html#partitioning-limitations-storage-engines" title="18.6.2. Partitioning Limitations Relating to Storage Engines">Section 18.6.2, “Partitioning Limitations Relating to Storage Engines”</a>.
    </p><p><a name="mysql-cluster-nodes-groups-replica"></a><b>Replica. </b>
        This is a copy of a cluster partition. Each node in a node group
        stores a replica. Also sometimes known as a <em class="firstterm">partition
        replica</em>. The number of replicas is equal to the
        number of nodes per node group.
      </p><p>
      The following diagram illustrates a MySQL Cluster with four data
      nodes, arranged in two node groups of two nodes each; nodes 1 and
      2 belong to node group 0, and nodes 3 and 4 belong to node group
      1. Note that only data (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>) nodes are shown
      here; although a working cluster requires an
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> process for cluster management and at
      least one SQL node to access the data stored by the cluster, these
      have been omitted in the figure for clarity.
</p>
<div class="mediaobject">
<img src="images/replicas-groups-1-1.png" width="500" height="505" alt="A MySQL Cluster, with 2 node groups having 2 nodes each">
</div>
<p>
      The data stored by the cluster is divided into four partitions,
      numbered 0, 1, 2, and 3. Each partition is stored—in
      multiple copies—on the same node group. Partitions are
      stored on alternate node groups as follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Partition 0 is stored on node group 0; a <em class="firstterm">primary
          replica</em> (primary copy) is stored on node 1, and a
          <em class="firstterm">backup replica</em> (backup copy of the
          partition) is stored on node 2.
        </p></li><li class="listitem"><p>
          Partition 1 is stored on the other node group (node group 1);
          this partition's primary replica is on node 3, and its backup
          replica is on node 4.
        </p></li><li class="listitem"><p>
          Partition 2 is stored on node group 0. However, the placing of
          its two replicas is reversed from that of Partition 0; for
          Partition 2, the primary replica is stored on node 2, and the
          backup on node 1.
        </p></li><li class="listitem"><p>
          Partition 3 is stored on node group 1, and the placement of
          its two replicas are reversed from those of partition 1. That
          is, its primary replica is located on node 4, with the backup
          on node 3.
</p></li></ul>
</div>
<p>
      What this means regarding the continued operation of a MySQL
      Cluster is this: so long as each node group participating in the
      cluster has at least one node operating, the cluster has a
      complete copy of all data and remains viable. This is illustrated
      in the next diagram.
</p>
<div class="mediaobject">
<img src="images/replicas-groups-1-2.png" width="500" height="395" alt="Nodes required to keep a 2x2 cluster viable">
</div>
<p>
      In this example, where the cluster consists of two node groups of
      two nodes each, any combination of at least one node in node group
      0 and at least one node in node group 1 is sufficient to keep the
      cluster <span class="quote">“<span class="quote">alive</span>”</span> (indicated by arrows in the diagram).
      However, if <span class="emphasis"><em>both</em></span> nodes from
      <span class="emphasis"><em>either</em></span> node group fail, the remaining two
      nodes are not sufficient (shown by the arrows marked out with an
      <span class="bold"><strong>X</strong></span>); in either case, the cluster
      has lost an entire partition and so can no longer provide access
      to a complete set of all cluster data.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-overview-requirements"></a>17.1.3. MySQL Cluster Hardware, Software, and Networking Requirements</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp106066784"></a><a class="indexterm" name="idp106068272"></a><p>
      One of the strengths of MySQL Cluster is that it can be run on
      commodity hardware and has no unusual requirements in this regard,
      other than for large amounts of RAM, due to the fact that all live
      data storage is done in memory. (It is possible to reduce this
      requirement using Disk Data tables—see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data" title="17.5.12. MySQL Cluster Disk Data Tables">Section 17.5.12, “MySQL Cluster Disk Data Tables”</a>, for more information
      about these.) Naturally, multiple and faster CPUs can enhance
      performance. Memory requirements for other MySQL Cluster processes
      are relatively small.
    </p><p>
      The software requirements for MySQL Cluster are also modest. Host
      operating systems do not require any unusual modules, services,
      applications, or configuration to support MySQL Cluster. For
      supported operating systems, a standard installation should be
      sufficient. The MySQL software requirements are simple: all that
      is needed is a production release of MySQL Cluster. It is not
      strictly necessary to compile MySQL yourself merely to be able to
      use MySQL Cluster. We assume that you are using the binaries
      appropriate to your platform, available from the MySQL Cluster
      software downloads page at
      <a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">http://dev.mysql.com/downloads/cluster/</a>.
    </p><p>
      For communication between nodes, MySQL Cluster supports TCP/IP
      networking in any standard topology, and the minimum expected for
      each host is a standard 100 Mbps Ethernet card, plus a switch,
      hub, or router to provide network connectivity for the cluster as
      a whole. We strongly recommend that a MySQL Cluster be run on its
      own subnet which is not shared with machines not forming part of
      the cluster for the following reasons:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Security. </b>
            Communications between MySQL Cluster nodes are not encrypted
            or shielded in any way. The only means of protecting
            transmissions within a MySQL Cluster is to run your MySQL
            Cluster on a protected network. If you intend to use MySQL
            Cluster for Web applications, the cluster should definitely
            reside behind your firewall and not in your network's
            De-Militarized Zone
            (<a class="ulink" href="http://compnetworking.about.com/cs/networksecurity/g/bldef_dmz.htm" target="_top">DMZ</a>)
            or elsewhere.
          </p><p>
          See
          <a class="xref" href="mysql-cluster.html#mysql-cluster-security-networking-issues" title="17.5.11.1. MySQL Cluster Security and Networking Issues">Section 17.5.11.1, “MySQL Cluster Security and Networking Issues”</a>,
          for more information.
        </p></li><li class="listitem"><p><b>Efficiency. </b>
            Setting up a MySQL Cluster on a private or protected network
            enables the cluster to make exclusive use of bandwidth
            between cluster hosts. Using a separate switch for your
            MySQL Cluster not only helps protect against unauthorized
            access to MySQL Cluster data, it also ensures that MySQL
            Cluster nodes are shielded from interference caused by
            transmissions between other computers on the network. For
            enhanced reliability, you can use dual switches and dual
            cards to remove the network as a single point of failure;
            many device drivers support failover for such communication
            links.
</p></li></ul>
</div>
<p><a name="mysql-cluster-network-latency-issues"></a><b>Network communication and latency. </b>
        MySQL Cluster requires communication between data nodes and API
        nodes (including SQL nodes), as well as between data nodes and
        other data nodes, to execute queries and updates. Communication
        latency between these processes can directly affect the observed
        performance and latency of user queries. In addition, to
        maintain consistency and service despite the silent failure of
        nodes, MySQL Cluster uses heartbeating and timeout mechanisms
        which treat an extended loss of communication from a node as
        node failure. This can lead to reduced redundancy. Recall that,
        to maintain data consistency, a MySQL Cluster shuts down when
        the last node in a node group fails. Thus, to avoid increasing
        the risk of a forced shutdown, breaks in communication between
        nodes should be avoided wherever possible.
      </p><p>
      The failure of a data or API node results in the abort of all
      uncommitted transactions involving the failed node. Data node
      recovery requires synchronization of the failed node's data
      from a surviving data node, and re-establishment of disk-based
      redo and checkpoint logs, before the data node returns to service.
      This recovery can take some time, during which the Cluster
      operates with reduced redundancy.
    </p><p>
      Heartbeating relies on timely generation of heartbeat signals by
      all nodes. This may not be possible if the node is overloaded, has
      insufficient machine CPU due to sharing with other programs, or is
      experiencing delays due to swapping. If heartbeat generation is
      sufficiently delayed, other nodes treat the node that is slow to
      respond as failed.
    </p><p>
      This treatment of a slow node as a failed one may or may not be
      desirable in some circumstances, depending on the impact of the
      node's slowed operation on the rest of the cluster. When
      setting timeout values such as
      <a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatintervaldbdb"><code class="literal">HeartbeatIntervalDbDb</code></a> and
      <a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatintervaldbapi"><code class="literal">HeartbeatIntervalDbApi</code></a> for
      MySQL Cluster, care must be taken care to achieve quick detection,
      failover, and return to service, while avoiding potentially
      expensive false positives.
    </p><p>
      Where communication latencies between data nodes are expected to
      be higher than would be expected in a LAN environment (on the
      order of 100 µs), timeout parameters must be increased to
      ensure that any allowed periods of latency periods are well within
      configured timeouts. Increasing timeouts in this way has a
      corresponding effect on the worst-case time to detect failure and
      therefore time to service recovery.
    </p><p>
      LAN environments can typically be configured with stable low
      latency, and such that they can provide redundancy with fast
      failover. Individual link failures can be recovered from with
      minimal and controlled latency visible at the TCP level (where
      MySQL Cluster normally operates). WAN environments may offer a
      range of latencies, as well as redundancy with slower failover
      times. Individual link failures may require route changes to
      propagate before end-to-end connectivity is restored. At the TCP
      level this can appear as large latencies on individual channels.
      The worst-case observed TCP latency in these scenarios is related
      to the worst-case time for the IP layer to reroute around the
      failures.
    </p><p><b>SCI support. </b>
        It is also possible to use the high-speed Scalable Coherent
        Interface (SCI) with MySQL Cluster, but this is not a
        requirement. See <a class="xref" href="mysql-cluster.html#mysql-cluster-interconnects" title="17.3.5. Using High-Speed Interconnects with MySQL Cluster">Section 17.3.5, “Using High-Speed Interconnects with MySQL Cluster”</a>,
        for more about this protocol and its use with MySQL Cluster.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-development"></a>17.1.4. MySQL Cluster Development History</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-development-5-6-ndb-7-3">17.1.4.1. MySQL Cluster Development in MySQL Cluster NDB 7.3</a></span></dt></dl>
</div>
<a class="indexterm" name="idp106093280"></a><a class="indexterm" name="idp106094352"></a><a class="indexterm" name="idp106095440"></a><p>
      In this section, we discuss changes in the implementation of MySQL
      Cluster in MySQL MySQL Cluster NDB 7.3, as compared to MySQL
      Cluster NDB 7.2 and earlier releases. Changes and features most
      likely to be of interest are shown in the following table:
</p>
<div class="informaltable">
<table border="1"><colgroup><col></colgroup><thead><tr><th scope="col"><a class="link" href="mysql-cluster.html#mysql-cluster-development-5-6-ndb-7-3" title="17.1.4.1. MySQL Cluster Development in MySQL Cluster NDB 7.3">MySQL Cluster NDB
              7.3</a></th></tr></thead><tbody><tr><td scope="row">MySQL Cluster NDB 7.3 is based on MySQL 5.6. For more information about
              new features in MySQL Server 5.6, see
              <a class="xref" href="introduction.html#mysql-nutshell" title="1.4. What Is New in MySQL 5.6">Section 1.4, “What Is New in MySQL 5.6”</a>.</td></tr><tr><td scope="row">MySQL Cluster NDB 7.3 supports foreign key constraints on tables.</td></tr><tr><td scope="row">MySQL Cluster NDB 7.3 provides support for Node.js using the MySQL NoSQL
              Connector for JavaScript. See
<a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-nodejs.html" target="_top">MySQL NoSQL Connector for JavaScript</a>, for more information.</td></tr></tbody></table>
</div>
<p>
      This section contains information about MySQL Cluster NDB 7.3
      releases through 5.6.11-ndb-7.3.3, which is now
      available as a General Availability release. MySQL Cluster NDB 7.2
      and MySQL Cluster NDB 7.1 are previous GA release series which are
      still supported, although we recommend that new deployments use
      MySQL Cluster NDB 7.3. For information about MySQL Cluster NDB 7.2
      and previous MySQL Cluster releases, see
      <a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/mysql-cluster.html" target="_top">MySQL Cluster NDB 7.2</a>, in the
      <em class="citetitle">MySQL 5.5 Reference Manual</em>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-development-5-6-ndb-7-3"></a>17.1.4.1. MySQL Cluster Development in MySQL Cluster NDB 7.3</h4>
</div>
</div>
</div>
<p>
        The following improvements to MySQL Cluster have been made in
        MySQL Cluster NDB 7.3:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Based on MySQL Server 5.6. </b>
              MySQL Cluster NDB 7.3 is based on MySQL Server 5.6, so
              that MySQL Cluster users can benefit from MySQL 5.6's
              improvements in scalability and performance monitoring. As
              with MySQL 5.6, MySQL Cluster NDB 7.3 uses
              <span class="command"><strong>CMake</strong></span> for configuring and building from
              source. For more information about changes and
              improvements in MySQL 5.6, see
              <a class="xref" href="introduction.html#mysql-nutshell" title="1.4. What Is New in MySQL 5.6">Section 1.4, “What Is New in MySQL 5.6”</a>.
            </p></li><li class="listitem"><p><b>Foreign keys. </b>
              Tables created using the <code class="literal">NDB</code> storage
              engine version 7.3.0 and later provide support for foreign
              key constraints. (This includes all MySQL Cluster NDB 7.3
              releases.) For general information about how MySQL 5.6 and
              MySQL Cluster NDB 7.3 handle foreign keys, see
              <a class="xref" href="introduction.html#constraint-foreign-key" title="1.8.6.2. FOREIGN KEY Constraints">Section 1.8.6.2, “<code class="literal">FOREIGN KEY</code> Constraints”</a>. For syntax and
              related information, see <a class="xref" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax">Section 13.1.17, “<code class="literal">CREATE TABLE</code> Syntax”</a>,
              and <a class="xref" href="sql-syntax.html#create-table-foreign-keys" title="13.1.17.2. Using FOREIGN KEY Constraints">Section 13.1.17.2, “Using <code class="literal">FOREIGN KEY</code> Constraints”</a>.
            </p></li><li class="listitem"><p><b><code class="filename">Node.js</code> support. </b>
              MySQL Cluster NDB 7.3 also supports applications written
              in JavaScript using Node.js. The MySQL Connector for
              JavaScript includes adapters for direct access to the
              <code class="literal">NDB</code> storage engine and as well as for
              the MySQL Server. Applications using this Connector are
              typically event-driven and use a domain object model
              similar in many ways to that employed by ClusterJ. For
              more information, see <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-nodejs.html" target="_top">MySQL NoSQL Connector for JavaScript</a>.
</p></li></ul>
</div>
<p>
        MySQL Cluster NDB 7.3 is also supported by MySQL Cluster Manager, which provides
        an advanced command-line interface that can simplify many
        complex MySQL Cluster management tasks. See
        <a class="ulink" href="http://dev.mysql.com/doc/cluster-manager/en/index.html" target="_top">MySQL™ Cluster Manager 1.2.4 User Manual</a>, for more information.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-compared"></a>17.1.5. MySQL Server Using <code class="literal">InnoDB</code> Compared with MySQL Cluster</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndb-innodb-engines">17.1.5.1. Differences Between the <code class="literal">NDB</code> and
        <code class="literal">InnoDB</code> Storage Engines</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndb-innodb-workloads">17.1.5.2. <code class="literal">NDB</code> and <code class="literal">InnoDB</code>
        Workloads</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndb-innodb-usage">17.1.5.3. <code class="literal">NDB</code> and <code class="literal">InnoDB</code>
Feature Usage Summary</a></span></dt></dl>
</div>
<a class="indexterm" name="idp106123824"></a><a class="indexterm" name="idp106125328"></a><a class="indexterm" name="idp106126816"></a><p>
      MySQL Server offers a number of choices in storage engines. Since
      both <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> and
      <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> can serve as transactional
      MySQL storage engines, users of MySQL Server sometimes become
      interested in MySQL Cluster. They see
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> as a possible alternative or
      upgrade to the default <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> storage
      engine in MySQL 5.6. While <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> and
      <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> share common characteristics,
      there are differences in architecture and implementation, so that
      some existing MySQL Server applications and usage scenarios can be
      a good fit for MySQL Cluster, but not all of them.
    </p><p>
      In this section, we discuss and compare some characteristics of
      the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine used by MySQL
      Cluster NDB 7.3 with <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> used in
      MySQL 5.6. The next few sections provide a technical comparison.
      In many instances, decisions about when and where to use MySQL
      Cluster must be made on a case-by-case basis, taking all factors
      into consideration. While it is beyond the scope of this
      documentation to provide specifics for every conceivable usage
      scenario, we also attempt to offer some very general guidance on
      the relative suitability of some common types of applications for
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> as opposed to
      <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> backends.
    </p><a class="indexterm" name="idp106139488"></a><a class="indexterm" name="idp106140976"></a><a class="indexterm" name="idp106142464"></a><p>
      MySQL Cluster NDB 7.3 uses a <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> based on
      MySQL 5.6, including support for
      <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> 1.1. While it is possible to
      use <code class="literal">InnoDB</code> tables with MySQL Cluster, such
      tables are not clustered. It is also not possible to use programs
      or libraries from a MySQL Cluster NDB 7.3 distribution with MySQL
      Server 5.6, or the reverse.
    </p><p>
      While it is also true that some types of common business
      applications can be run either on MySQL Cluster or on MySQL Server
      (most likely using the <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> storage
      engine), there are some important architectural and implementation
      differences. <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-innodb-engines" title="17.1.5.1. Differences Between the NDB and InnoDB Storage Engines">Section 17.1.5.1, “Differences Between the <code class="literal">NDB</code> and
        <code class="literal">InnoDB</code> Storage Engines”</a>,
      provides a summary of the these differences. Due to the
      differences, some usage scenarios are clearly more suitable for
      one engine or the other; see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-innodb-workloads" title="17.1.5.2. NDB and InnoDB Workloads">Section 17.1.5.2, “<code class="literal">NDB</code> and <code class="literal">InnoDB</code>
        Workloads”</a>. This in turn
      has an impact on the types of applications that better suited for
      use with <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> or
      <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a>. See
      <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-innodb-usage" title="17.1.5.3. NDB and InnoDB Feature Usage Summary">Section 17.1.5.3, “<code class="literal">NDB</code> and <code class="literal">InnoDB</code>
        Feature Usage Summary”</a>, for a comparison
      of the relative suitability of each for use in common types of
      database applications.
    </p><p>
      For information about the relative characteristics of the
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> and
      <a class="link" href="storage-engines.html#memory-storage-engine" title="14.4. The MEMORY Storage Engine"><code class="literal">MEMORY</code></a> storage engines, see
      <a class="xref" href="storage-engines.html#memory-compared-cluster" title="When to Use MEMORY or MySQL Cluster">When to Use <code class="literal">MEMORY</code> or MySQL Cluster</a>.
    </p><p>
      See <a class="xref" href="storage-engines.html" title="Chapter 14. Storage Engines">Chapter 14, <i>Storage Engines</i></a>, for additional information
      about MySQL storage engines.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndb-innodb-engines"></a>17.1.5.1. Differences Between the <code class="literal">NDB</code> and
<code class="literal">InnoDB</code> Storage Engines</h4>
</div>
</div>
</div>
<a class="indexterm" name="idp106157856"></a><a class="indexterm" name="idp106159360"></a><a class="indexterm" name="idp106160848"></a><a class="indexterm" name="idp106162352"></a><p>
        The MySQL Cluster <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage
        engine is implemented using a distributed, shared-nothing
        architecture, which causes it to behave differently from
        <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> in a number of ways. For
        those unaccustomed to working with
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>, unexpected behaviors can arise
        due to its distributed nature with regard to transactions,
        foreign keys, table limits, and other characteristics. These are
        shown in the following table:
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><p>
                  Feature
                </p></th><th scope="col"><p>
                  <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> 1.1
                </p></th><th scope="col"><p>
                  MySQL Cluster <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> 7.3
                </p></th></tr></thead><tbody><tr><td scope="row"><p>
                  <span class="emphasis"><em>MySQL Server Version</em></span>
                </p></td><td><p>
                  5.6
                </p></td><td><p>
                  5.6
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em><a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> Version
                  </em></span>
                </p></td><td><p>
                  <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> 5.6.14
                </p></td><td><p>
                  <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a>
                  5.6.11
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>MySQL Cluster Version </em></span>
                </p></td><td><p>
                  N/A
                </p></td><td><p>
                  <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
                  7.3.3
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Storage Limits</em></span>
                </p></td><td><p>
                  64TB
                </p></td><td><p>
                  3TB
                </p>



                <p>
                  (Practical upper limit based on 48 data nodes with
                  64GB RAM each; can be increased with disk-based data
                  and BLOBs)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Foreign Keys</em></span>
                </p></td><td><p>
                  Yes
                </p></td><td><p>
                  Yes (Developer preview release)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Transactions</em></span>
                </p></td><td><p>
                  All standard types
                </p></td><td><p>
                  <a class="link" href="sql-syntax.html#isolevel_read-committed"><code class="literal">READ COMMITTED</code></a>
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>MVCC</em></span>
                </p></td><td><p>
                  Yes
                </p></td><td><p>
                  No
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Data Compression</em></span>
                </p></td><td><p>
                  Yes
                </p></td><td><p>
                  No
                </p>



                <p>
                  (MySQL Cluster checkpoint and backup files can be
                  compressed)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Large Row Support (&gt; 14K)</em></span>
                </p></td><td><p>
                  Supported for
                  <a class="link" href="data-types.html#binary-varbinary" title="11.4.2. The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>,
                  <code class="literal">VARCHAR</code>,
                  <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a>, and
                  <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns
                </p></td><td><p>
                  Supported for <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> and
                  <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns only
                </p>



                <p>
                  (Using these types to store very large amounts of data
                  can lower MySQL Cluster performance)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Replication Support</em></span>
                </p></td><td><p>
                  Asynchronous and semi-synchronous replication using
                  MySQL Replication
                </p></td><td><p>
                  Automatic synchronous replication within a MySQL
                  Cluster.
                </p>



                <p>
                  Asynchronous replication between MySQL Clusters, using
                  MySQL Replication
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Scaleout for Read Operations</em></span>
                </p></td><td><p>
                  Yes (MySQL Replication)
                </p></td><td><p>
                  Yes (Automatic partitioning in MySQL Cluster; MySQL
                  Replication)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Scaleout for Write Operations</em></span>
                </p></td><td><p>
                  Requires application-level partitioning (sharding)
                </p></td><td><p>
                  Yes (Automatic partitioning in MySQL Cluster is
                  transparent to applications)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>High Availability (HA)</em></span>
                </p></td><td><p>
                  Requires additional software
                </p></td><td><p>
                  Yes (Designed for 99.999% uptime)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Node Failure Recovery and
                  Failover</em></span>
                </p></td><td><p>
                  Requires additional software
                </p></td><td><p>
                  Automatic
                </p>



                <p>
                  (Key element in MySQL Cluster architecture)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Time for Node Failure Recovery</em></span>
                </p></td><td><p>
                  30 seconds or longer
                </p></td><td><p>
                  Typically &lt; 1 second
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Real-Time Performance</em></span>
                </p></td><td><p>
                  No
                </p></td><td><p>
                  Yes
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>In-Memory Tables</em></span>
                </p></td><td><p>
                  No
                </p></td><td><p>
                  Yes
                </p>



                <p>
                  (Some data can optionally be stored on disk; both
                  in-memory and disk data storage are durable)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>NoSQL Access to Storage Engine </em></span>
                </p></td><td><p>
                  Native memcached interface in development (see the
                  MySQL Dev Zone article
                  <a class="ulink" href="https://dev.mysql.com/tech-resources/articles/nosql-to-mysql-with-memcached.html" target="_top"><em class="citetitle">NoSQL
                  to MySQL with Memcached</em></a>)
                </p></td><td><p>
                  Yes
                </p>



                <p>
                  Multiple APIs, including Memcached,
                  Node.js/JavaScript, Java, JPA, C++, and HTTP/REST
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Concurrent and Parallel Writes</em></span>
                </p></td><td><p>
                  Not supported
                </p></td><td><p>
                  Up to 48 writers, optimized for concurrent writes
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Conflict Detection and Resolution (Multiple
                  Replication Masters)</em></span>
                </p></td><td><p>
                  No
                </p></td><td><p>
                  Yes
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Hash Indexes</em></span>
                </p></td><td><p>
                  No
                </p></td><td><p>
                  Yes
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Online Addition of Nodes</em></span>
                </p></td><td><p>
                  Read-only replicas using MySQL Replication
                </p></td><td><p>
                  Yes (all node types)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Online Upgrades</em></span>
                </p></td><td><p>
                  No
                </p></td><td><p>
                  Yes
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Online Schema Modifications</em></span>
                </p></td><td><p>
                  Yes
                </p></td><td><p>
                  Yes
</p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndb-innodb-workloads"></a>17.1.5.2. <code class="literal">NDB</code> and <code class="literal">InnoDB</code>
Workloads</h4>
</div>
</div>
</div>
<a class="indexterm" name="idp106249392"></a><a class="indexterm" name="idp106250896"></a><a class="indexterm" name="idp106252384"></a><a class="indexterm" name="idp106253888"></a><a class="indexterm" name="idp106255376"></a><a class="indexterm" name="idp106256864"></a><p>
        MySQL Cluster has a range of unique attributes that make it
        ideal to serve applications requiring high availability, fast
        failover, high throughput, and low latency. Due to its
        distributed architecture and multi-node implementation, MySQL
        Cluster also has specific constraints that may keep some
        workloads from performing well. A number of major differences in
        behavior between the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> and
        <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> storage engines with regard
        to some common types of database-driven application workloads
        are shown in the following table::
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col"><p>
                  Workload
                </p></th><th scope="col"><p>
                  <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a>
                </p></th><th scope="col"><p>
                  MySQL Cluster (<a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>)
                </p></th></tr></thead><tbody><tr><td scope="row"><p>
                  <span class="emphasis"><em>High-Volume OLTP Applications</em></span>
                </p></td><td><p>
                  Yes
                </p></td><td><p>
                  Yes
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>DSS Applications (data marts,
                  analytics)</em></span>
                </p></td><td><p>
                  Yes
                </p></td><td><p>
                  Limited (Join operations across OLTP datasets not
                  exceeding 3TB in size)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Custom Applications</em></span>
                </p></td><td><p>
                  Yes
                </p></td><td><p>
                  Yes
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Packaged Applications</em></span>
                </p></td><td><p>
                  Yes
                </p></td><td><p>
                  Limited (should be mostly primary key access for best
                  results; foreign also now supported)
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>In-Network Telecoms Applications (HLR, HSS,
                  SDP)</em></span>
                </p></td><td><p>
                  No
                </p></td><td><p>
                  Yes
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>Session Management and Caching</em></span>
                </p></td><td><p>
                  Yes
                </p></td><td><p>
                  Yes
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>E-Commerce Applications</em></span>
                </p></td><td><p>
                  Yes
                </p></td><td><p>
                  Yes
                </p></td></tr><tr><td scope="row"><p>
                  <span class="emphasis"><em>User Profile Management, AAA
                  Protocol</em></span>
                </p></td><td><p>
                  Yes
                </p></td><td><p>
                  Yes
</p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndb-innodb-usage"></a>17.1.5.3. <code class="literal">NDB</code> and <code class="literal">InnoDB</code>
Feature Usage Summary</h4>
</div>
</div>
</div>
<a class="indexterm" name="idp106289536"></a><a class="indexterm" name="idp106291040"></a><a class="indexterm" name="idp106292528"></a><a class="indexterm" name="idp106294032"></a><a class="indexterm" name="idp106295520"></a><a class="indexterm" name="idp106297024"></a><a class="indexterm" name="idp106298528"></a><p>
        When comparing application feature requirements to the
        capabilities of <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> with
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>, some are clearly more
        compatible with one storage engine than the other.
      </p><p>
        The following table shows required supported features for
        applications according to which of these two storage engines
        each of them is usually better suited:
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col"><p>
                  Preferred application requirements for
                  <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a>
                </p></th><th scope="col"><p>
                  Preferred application requirements for
                  <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
</p></th></tr></thead><tbody><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                      Foreign keys
                    </p></li><li class="listitem"><p>
                      Full table scans
                    </p></li><li class="listitem"><p>
                      Very large databases, rows, or transactions
                    </p></li><li class="listitem"><p>
                      Transactions other than
                      <a class="link" href="sql-syntax.html#isolevel_read-committed"><code class="literal">READ COMMITTED</code></a>
</p></li></ul>
</div>
</td><td>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                      Write scaling
                    </p></li><li class="listitem"><p>
                      99.999% uptime
                    </p></li><li class="listitem"><p>
                      Online addition of nodes and online schema
                      operations
                    </p></li><li class="listitem"><p>
                      Multiple SQL and NoSQL APIs (see
                      <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mysql-cluster-api-overview.html" target="_top">MySQL Cluster APIs: Overview and Concepts</a>)
                    </p></li><li class="listitem"><p>
                      Real-time performance
                    </p></li><li class="listitem"><p>
                      Limited use of <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a>
                      columns
                    </p></li><li class="listitem"><p>
                      Foreign keys are supported, although their use may
                      have an impact on performance at high throughput
</p></li></ul>
</div>
</td></tr></tbody></table>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-limitations"></a>17.1.6. Known Limitations of MySQL Cluster</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-syntax">17.1.6.1. Noncompliance with SQL Syntax in MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-limits">17.1.6.2. Limits and Differences of MySQL Cluster from Standard MySQL Limits</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-transactions">17.1.6.3. Limits Relating to Transaction Handling in MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-error-handling">17.1.6.4. MySQL Cluster Error Handling</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-database-objects">17.1.6.5. Limits Associated with Database Objects in MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-unsupported">17.1.6.6. Unsupported or Missing Features in MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-performance">17.1.6.7. Limitations Relating to Performance in MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-exclusive-to-cluster">17.1.6.8. Issues Exclusive to MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-disk-data">17.1.6.9. Limitations Relating to MySQL Cluster Disk Data Storage</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-multiple-nodes">17.1.6.10. Limitations Relating to Multiple MySQL Cluster Nodes</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-limitations-resolved">17.1.6.11. Previous MySQL Cluster Issues Resolved in MySQL Cluster NDB 7.3</a></span></dt></dl>
</div>
<a class="indexterm" name="idp106323440"></a><a class="indexterm" name="idp106324528"></a><p>
      In the sections that follow, we discuss known limitations in
      current releases of MySQL Cluster as compared with the features
      available when using the <code class="literal">MyISAM</code> and
      <code class="literal">InnoDB</code> storage engines. If you check the
      <span class="quote">“<span class="quote">Cluster</span>”</span> category in the MySQL bugs database at
      <a class="ulink" href="http://bugs.mysql.com" target="_top">http://bugs.mysql.com</a>, you can find known bugs in
      the following categories under <span class="quote">“<span class="quote">MySQL Server:</span>”</span> in the
      MySQL bugs database at <a class="ulink" href="http://bugs.mysql.com" target="_top">http://bugs.mysql.com</a>, which
      we intend to correct in upcoming releases of MySQL Cluster:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL Cluster
        </p></li><li class="listitem"><p>
          Cluster Direct API (NDBAPI)
        </p></li><li class="listitem"><p>
          Cluster Disk Data
        </p></li><li class="listitem"><p>
          Cluster Replication
        </p></li><li class="listitem"><p>
          ClusterJ
</p></li></ul>
</div>
<p>
      This information is intended to be complete with respect to the
      conditions just set forth. You can report any discrepancies that
      you encounter to the MySQL bugs database using the instructions
      given in <a class="xref" href="introduction.html#bug-reports" title="1.7. How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>. If we do not plan to fix
      the problem in MySQL Cluster NDB 7.3 or later, we will add it to
      the list.
    </p><p>
      See <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-resolved" title="17.1.6.11. Previous MySQL Cluster Issues Resolved in MySQL Cluster NDB 7.3">Section 17.1.6.11, “Previous MySQL Cluster Issues Resolved in MySQL Cluster NDB 7.3”</a> for a
      list of issues in MySQL Cluster NDB 7.2 that have been resolved in
      MySQL Cluster NDB 7.3..
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        Limitations and other issues specific to MySQL Cluster
        Replication are described in
        <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-issues" title="17.6.3. Known Issues in MySQL Cluster Replication">Section 17.6.3, “Known Issues in MySQL Cluster Replication”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-limitations-syntax"></a>17.1.6.1. Noncompliance with SQL Syntax in MySQL Cluster</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp106339888"></a><p>
        Some SQL statements relating to certain MySQL features produce
        errors when used with <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables,
        as described in the following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Temporary tables. </b>
              Temporary tables are not supported. Trying either to
              create a temporary table that uses the
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine or to
              alter an existing temporary table to use
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> fails with the error
              <span class="errortext">Table storage engine 'ndbcluster' does not
              support the create option 'TEMPORARY'</span>.
            </p></li><li class="listitem"><p><b>Indexes and keys in <code class="literal">NDB</code> tables. </b>
              Keys and indexes on MySQL Cluster tables are subject to
              the following limitations:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b>Column width. </b>
                  Attempting to create an index on an
                  <code class="literal">NDB</code> table column whose width is
                  greater than 3072 bytes succeeds, but only the first
                  3072 bytes are actually used for the index. In such
                  cases, a warning <span class="errortext">Specified key was too
                  long; max key length is 3072 bytes</span> is
                  issued, and a <a class="link" href="sql-syntax.html#show-create-table" title="13.7.5.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE
                  TABLE</code></a> statement shows the length of the
                  index as 3072.
                </p></li><li class="listitem"><p><b><code class="literal">TEXT</code> and
                  <code class="literal">BLOB</code> columns. </b>
                  You cannot create indexes on
                  <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table columns that
                  use any of the <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> or
                  <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> data types.
                </p></li><li class="listitem"><p><b><code class="literal">FULLTEXT</code> indexes. </b>
                  The <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine
                  does not support <code class="literal">FULLTEXT</code> indexes,
                  which are possible for
                  <a class="link" href="storage-engines.html#myisam-storage-engine" title="14.3. The MyISAM Storage Engine"><code class="literal">MyISAM</code></a> and (MySQL 5.6.4
                  and later) <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> tables
                  only.
                </p><p>
                However, you can create indexes on
                <a class="link" href="data-types.html#char" title="11.4.1. The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> columns of
                <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables.
              </p></li><li class="listitem"><p><b><code class="literal">USING HASH</code> keys and <code class="literal">NULL</code>. </b>
                  Using nullable columns in unique keys and primary keys
                  means that queries using these columns are handled as
                  full table scans. To work around this issue, make the
                  column <code class="literal">NOT NULL</code>, or re-create the
                  index without the <code class="literal">USING HASH</code>
                  option.
                </p></li><li class="listitem"><p><b>Prefixes. </b>
                  There are no prefix indexes; only entire columns can
                  be indexed. (The size of an <code class="literal">NDB</code>
                  column index is always the same as the width of the
                  column in bytes, up to and including 3072 bytes, as
                  described earlier in this section. Also see
                  <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-unsupported" title="17.1.6.6. Unsupported or Missing Features in MySQL Cluster">Section 17.1.6.6, “Unsupported or Missing Features in MySQL Cluster”</a>,
                  for additional information.)
                </p></li><li class="listitem"><p><b><code class="literal">BIT</code> columns. </b>
                  A <a class="link" href="data-types.html#bit-type" title="11.2.4. Bit-Value Type - BIT"><code class="literal">BIT</code></a> column cannot be
                  a primary key, unique key, or index, nor can it be
                  part of a composite primary key, unique key, or index.
                </p></li><li class="listitem"><p><b><code class="literal">AUTO_INCREMENT</code> columns. </b>
                  Like other MySQL storage engines, the
                  <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine can
                  handle a maximum of one
                  <code class="literal">AUTO_INCREMENT</code> column per table.
                  However, in the case of a Cluster table with no
                  explicit primary key, an
                  <code class="literal">AUTO_INCREMENT</code> column is
                  automatically defined and used as a
                  <span class="quote">“<span class="quote">hidden</span>”</span> primary key. For this reason,
                  you cannot define a table that has an explicit
                  <code class="literal">AUTO_INCREMENT</code> column unless that
                  column is also declared using the <code class="literal">PRIMARY
                  KEY</code> option. Attempting to create a table
                  with an <code class="literal">AUTO_INCREMENT</code> column that
                  is not the table's primary key, and using the
                  <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine, fails
                  with an error.
</p></li></ul>
</div>
</li><li class="listitem"><p><b>Restrictions on foreign keys. </b>
              Support for foreign key constraints in MySQL Cluster NDB
              7.3 is comparable to that provided by
              <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a>, subject to the
              following restrictions:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">ON UPDATE CASCADE</code> is not supported
                when the reference is to the parent table's primary
                key.
              </p></li><li class="listitem"><p>
                <code class="literal">SET DEFAULT</code> is not supported. (Also
                not supported by <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a>.)
              </p></li><li class="listitem"><p>
                The <code class="literal">NO ACTION</code> keywords are accepted
                but treated as <code class="literal">RESCRICT</code>. (Also the
                same as with <code class="literal">InnoDB</code>.)
</p></li></ul>
</div>
<p>
            For more information, see
            <a class="xref" href="sql-syntax.html#create-table-foreign-keys" title="13.1.17.2. Using FOREIGN KEY Constraints">Section 13.1.17.2, “Using <code class="literal">FOREIGN KEY</code> Constraints”</a>, and
            <a class="xref" href="introduction.html#constraint-foreign-key" title="1.8.6.2. FOREIGN KEY Constraints">Section 1.8.6.2, “<code class="literal">FOREIGN KEY</code> Constraints”</a>.
          </p></li><li class="listitem"><p><b>MySQL Cluster and geometry data types. </b><a class="indexterm" name="idp106397696"></a>
              Geometry data types (<code class="literal">WKT</code> and
              <code class="literal">WKB</code>) are supported for
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables. However, spatial
              indexes are not supported.
            </p></li><li class="listitem"><p><b>Character sets and binary log files. </b>
              Currently, the <code class="literal">ndb_apply_status</code> and
              <code class="literal">ndb_binlog_index</code> tables are created
              using the <code class="literal">latin1</code> (ASCII) character set.
              Because names of binary logs are recorded in this table,
              binary log files named using non-Latin characters are not
              referenced correctly in these tables. This is a known
              issue, which we are working to fix. (Bug #50226)
            </p><p>
            To work around this problem, use only Latin-1 characters
            when naming binary log files or setting any the
            <a class="link" href="server-administration.html#option_mysqld_basedir"><code class="option">--basedir</code></a>,
            <a class="link" href="replication.html#option_mysqld_log-bin"><code class="option">--log-bin</code></a>, or
            <a class="link" href="replication.html#option_mysqld_log-bin-index"><code class="option">--log-bin-index</code></a> options.
          </p></li><li class="listitem"><p><b>Creating <code class="literal">NDBCLUSTER</code> tables with
              user-defined partitioning. </b>
              <a class="indexterm" name="idp106411136"></a>

              <a class="indexterm" name="idp106412624"></a>

              <a class="indexterm" name="idp106414128"></a>

              Support for user-defined partitioning in MySQL Cluster is
              restricted to [<code class="literal">LINEAR</code>]
              <code class="literal">KEY</code> partitioning. Using any other
              partitioning type with <code class="literal">ENGINE=NDB</code> or
              <code class="literal">ENGINE=NDBCLUSTER</code> in a
              <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> statement
              results in an error.
            </p><p><b>Default partitioning scheme. </b>
              All MySQL Cluster tables are by default partitioned by
              <code class="literal">KEY</code> using the table's primary key
              as the partitioning key. If no primary key is explicitly
              set for the table, the <span class="quote">“<span class="quote">hidden</span>”</span> primary key
              automatically created by the
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine is used
              instead. For additional discussion of these and related
              issues, see <a class="xref" href="partitioning.html#partitioning-key" title="18.2.5. KEY Partitioning">Section 18.2.5, “<code class="literal">KEY</code> Partitioning”</a>.
            </p><p>
            <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> and
            <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statements that
            would cause a user-partitioned
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> table not to meet
            either or both of the following two requirements are not
            permitted, and fail with an error:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                The table must have an explicit primary key.
              </p></li><li class="listitem"><p>
                All columns listed in the table's partitioning
                expression must be part of the primary key.
</p></li></ol>
</div>
<p><b>Exception. </b>
              If a user-partitioned
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> table is created
              using an empty column-list (that is, using
              <code class="literal">PARTITION BY [LINEAR] KEY()</code>), then no
              explicit primary key is required.
            </p><p><b>Maximum number of partitions for <code class="literal">NDBCLUSTER</code>
              tables. </b>
              The maximum number of partitions that can defined for a
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> table when
              employing user-defined partitioning is 8 per node group.
              (See <a class="xref" href="mysql-cluster.html#mysql-cluster-nodes-groups" title="17.1.2. MySQL Cluster Nodes, Node Groups, Replicas, and Partitions">Section 17.1.2, “MySQL Cluster Nodes, Node Groups, Replicas, and Partitions”</a>, for
              more information about MySQL Cluster node groups.
            </p><p><b><code class="literal">DROP PARTITION</code> not supported. </b>
              It is not possible to drop partitions from
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables using
              <code class="literal">ALTER TABLE ... DROP PARTITION</code>. The
              other partitioning extensions to
              <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER
              TABLE</code></a>—<code class="literal">ADD PARTITION</code>,
              <code class="literal">REORGANIZE PARTITION</code>, and
              <code class="literal">COALESCE PARTITION</code>—are supported
              for Cluster tables, but use copying and so are not
              optimized. See
              <a class="xref" href="partitioning.html#partitioning-management-range-list" title="18.3.1. Management of RANGE and LIST Partitions">Section 18.3.1, “Management of <code class="literal">RANGE</code> and <code class="literal">LIST</code>
        Partitions”</a> and
              <a class="xref" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax">Section 13.1.7, “<code class="literal">ALTER TABLE</code> Syntax”</a>.
            </p></li><li class="listitem"><p><b>Row-based replication. </b><a class="indexterm" name="idp106444784"></a>
              When using row-based replication with MySQL Cluster,
              binary logging cannot be disabled. That is, the
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine ignores
              the value of <a class="link" href="server-administration.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin</code></a>.
              (Bug #16680)
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-limitations-limits"></a>17.1.6.2. Limits and Differences of MySQL Cluster from Standard MySQL Limits</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp106450080"></a><p>
        In this section, we list limits found in MySQL Cluster that
        either differ from limits found in, or that are not found in,
        standard MySQL.
      </p><a class="indexterm" name="idp106452192"></a><a class="indexterm" name="idp106453680"></a><a class="indexterm" name="idp106455184"></a><a class="indexterm" name="idp106456672"></a><a class="indexterm" name="idp106458160"></a><p><b>Memory usage and recovery. </b>
          Memory consumed when data is inserted into an
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table is not automatically
          recovered when deleted, as it is with other storage engines.
          Instead, the following rules hold true:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            A <a class="link" href="sql-syntax.html#delete" title="13.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statement on an
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table makes the memory
            formerly used by the deleted rows available for re-use by
            inserts on the same table only. However, this memory can be
            made available for general re-use by performing
            <a class="link" href="sql-syntax.html#optimize-table" title="13.7.2.4. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>.
          </p><p>
            A rolling restart of the cluster also frees any memory used
            by deleted rows. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="17.5.5. Performing a Rolling Restart of a MySQL Cluster">Section 17.5.5, “Performing a Rolling Restart of a MySQL Cluster”</a>.
          </p></li><li class="listitem"><p>
            A <a class="link" href="sql-syntax.html#drop-table" title="13.1.28. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> or
            <a class="link" href="sql-syntax.html#truncate-table" title="13.1.33. TRUNCATE TABLE Syntax"><code class="literal">TRUNCATE TABLE</code></a> operation on
            an <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table frees the memory
            that was used by this table for re-use by any
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table, either by the same
            table or by another <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              Recall that <a class="link" href="sql-syntax.html#truncate-table" title="13.1.33. TRUNCATE TABLE Syntax"><code class="literal">TRUNCATE TABLE</code></a>
              drops and re-creates the table. See
              <a class="xref" href="sql-syntax.html#truncate-table" title="13.1.33. TRUNCATE TABLE Syntax">Section 13.1.33, “<code class="literal">TRUNCATE TABLE</code> Syntax”</a>.
</p>
</div>
</li><li class="listitem"><p><b>Limits imposed by the cluster's configuration. </b><a class="indexterm" name="idp106475104"></a>
              A number of hard limits exist which are configurable, but
              available main memory in the cluster sets limits. See the
              complete list of configuration parameters in
              <a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="17.3.2. MySQL Cluster Configuration Files">Section 17.3.2, “MySQL Cluster Configuration Files”</a>. Most
              configuration parameters can be upgraded online. These
              hard limits include:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                Database memory size and index memory size
                (<a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> and
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a>,
                respectively).
              </p><p>
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> is
                allocated as 32KB pages. As each
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> page
                is used, it is assigned to a specific table; once
                allocated, this memory cannot be freed except by
                dropping the table.
              </p><p>
                See <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition" title="17.3.2.6. Defining MySQL Cluster Data Nodes">Section 17.3.2.6, “Defining MySQL Cluster Data Nodes”</a>, for
                more information.
              </p></li><li class="listitem"><p>
                The maximum number of operations that can be performed
                per transaction is set using the configuration
                parameters
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentoperations"><code class="literal">MaxNoOfConcurrentOperations</code></a>
                and
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooflocaloperations"><code class="literal">MaxNoOfLocalOperations</code></a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
                  Bulk loading, <a class="link" href="sql-syntax.html#truncate-table" title="13.1.33. TRUNCATE TABLE Syntax"><code class="literal">TRUNCATE
                  TABLE</code></a>, and <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER
                  TABLE</code></a> are handled as special cases by
                  running multiple transactions, and so are not subject
                  to this limitation.
</p>
</div>
</li><li class="listitem"><p>
                Different limits related to tables and indexes. For
                example, the maximum number of ordered indexes in the
                cluster is determined by
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooforderedindexes"><code class="literal">MaxNoOfOrderedIndexes</code></a>,
                and the maximum number of ordered indexes per table is
                16.
</p></li></ul>
</div>
</li><li class="listitem"><p><b>Node and data object maximums. </b>
              The following limits apply to numbers of cluster nodes and
              metadata objects:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                The maximum number of data nodes is 48.
              </p><p>
                A data node must have a node ID in the range of 1 to 49,
                inclusive. (Management and API nodes may use node IDs in
                the range 1 to 255, inclusive.)
              </p></li><li class="listitem"><p>
                The total maximum number of nodes in a MySQL Cluster is
                255. This number includes all SQL nodes (MySQL Servers),
                API nodes (applications accessing the cluster other than
                MySQL servers), data nodes, and management servers.
              </p></li><li class="listitem"><p>
                The maximum number of metadata objects in current
                versions of MySQL Cluster is 20320. This limit is
                hard-coded.
</p></li></ul>
</div>
<p>
            See <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-resolved" title="17.1.6.11. Previous MySQL Cluster Issues Resolved in MySQL Cluster NDB 7.3">Section 17.1.6.11, “Previous MySQL Cluster Issues Resolved in MySQL Cluster NDB 7.3”</a>,
            for more information.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-limitations-transactions"></a>17.1.6.3. Limits Relating to Transaction Handling in MySQL Cluster</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp106500592"></a><p>
        A number of limitations exist in MySQL Cluster with regard to
        the handling of transactions. These include the following:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Transaction isolation level. </b>
              The <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine
              supports only the <a class="link" href="sql-syntax.html#isolevel_read-committed"><code class="literal">READ
              COMMITTED</code></a> transaction isolation level.
              (<code class="literal">InnoDB</code>, for example, supports
              <a class="link" href="sql-syntax.html#isolevel_read-committed"><code class="literal">READ COMMITTED</code></a>,
              <a class="link" href="sql-syntax.html#isolevel_read-uncommitted"><code class="literal">READ UNCOMMITTED</code></a>,
              <a class="link" href="sql-syntax.html#isolevel_repeatable-read"><code class="literal">REPEATABLE READ</code></a>, and
              <a class="link" href="sql-syntax.html#isolevel_serializable"><code class="literal">SERIALIZABLE</code></a>.) See
              <a class="xref" href="mysql-cluster.html#mysql-cluster-backup-troubleshooting" title="17.5.3.4. MySQL Cluster Backup Troubleshooting">Section 17.5.3.4, “MySQL Cluster Backup Troubleshooting”</a>,
              for information on how this can affect backing up and
              restoring Cluster databases.)
            </p></li><li class="listitem"><p><b>Transactions and <code class="literal">BLOB</code> or
              <code class="literal">TEXT</code> columns. </b>
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> stores only part
              of a column value that uses any of MySQL's
              <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
              <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> data types in the
              table visible to MySQL; the remainder of the
              <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
              <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> is stored in a
              separate internal table that is not accessible to MySQL.
              This gives rise to two related issues of which you should
              be aware whenever executing
              <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statements on tables
              that contain columns of these types:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                For any <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> from a
                MySQL Cluster table: If the
                <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> includes a
                <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
                <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> column, the
                <a class="link" href="sql-syntax.html#isolevel_read-committed"><code class="literal">READ COMMITTED</code></a>
                transaction isolation level is converted to a read with
                read lock. This is done to guarantee consistency.
              </p></li><li class="listitem"><p>
                For any <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> which uses
                a unique key lookup to retrieve any columns that use any
                of the <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
                <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> data types and that
                is executed within a transaction, a shared read lock is
                held on the table for the duration of the
                transaction—that is, until the transaction is
                either committed or aborted.
              </p><p>
                This issue does not occur for queries that use index or
                table scans, even against
                <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables having
                <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
                <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns.
              </p><p>
                For example, consider the table <code class="literal">t</code>
                defined by the following <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE
                TABLE</code></a> statement:
              </p><pre class="programlisting">CREATE TABLE t (
    a INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    b INT NOT NULL,
    c INT NOT NULL,
    d TEXT,
    INDEX i(b),
    UNIQUE KEY u(c)
) ENGINE = NDB,</pre><p>
                Either of the following queries on <code class="literal">t</code>
                causes a shared read lock, because the first query uses
                a primary key lookup and the second uses a unique key
                lookup:
              </p><pre class="programlisting">SELECT * FROM t WHERE a = 1;

SELECT * FROM t WHERE c = 1;</pre><p>
                However, none of the four queries shown here causes a
                shared read lock:
              </p><pre class="programlisting">SELECT * FROM t WHERE b 1;

SELECT * FROM t WHERE d = '1';

SELECT * FROM t;

SELECT b,c WHERE a = 1; </pre><p>
                This is because, of these four queries, the first uses
                an index scan, the second and third use table scans, and
                the fourth, while using a primary key lookup, does not
                retrieve the value of any
                <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
                <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns.
              </p><p>
                You can help minimize issues with shared read locks by
                avoiding queries that use unique key lookups that
                retrieve <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
                <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns, or, in
                cases where such queries are not avoidable, by
                committing transactions as soon as possible afterward.
</p></li></ol>
</div>
</li><li class="listitem"><p><b>Rollbacks. </b>
              There are no partial transactions, and no partial
              rollbacks of transactions. A duplicate key or similar
              error causes the entire transaction to be rolled back.
            </p><p>
            This behavior differs from that of other transactional
            storage engines such as <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a>
            that may roll back individual statements.
          </p></li><li class="listitem"><p><b>Transactions and memory usage. </b><a class="indexterm" name="idp106547488"></a><a class="indexterm" name="idp106549008"></a>
              As noted elsewhere in this chapter, MySQL Cluster does not
              handle large transactions well; it is better to perform a
              number of small transactions with a few operations each
              than to attempt a single large transaction containing a
              great many operations. Among other considerations, large
              transactions require very large amounts of memory. Because
              of this, the transactional behavior of a number of MySQL
              statements is effected as described in the following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="link" href="sql-syntax.html#truncate-table" title="13.1.33. TRUNCATE TABLE Syntax"><code class="literal">TRUNCATE TABLE</code></a> is not
                transactional when used on
                <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables. If a
                <a class="link" href="sql-syntax.html#truncate-table" title="13.1.33. TRUNCATE TABLE Syntax"><code class="literal">TRUNCATE TABLE</code></a> fails to
                empty the table, then it must be re-run until it is
                successful.
              </p></li><li class="listitem"><p>
                <code class="literal">DELETE FROM</code> (even with no
                <code class="literal">WHERE</code> clause) <span class="emphasis"><em>is</em></span>
                transactional. For tables containing a great many rows,
                you may find that performance is improved by using
                several <code class="literal">DELETE FROM ... LIMIT ...</code>
                statements to <span class="quote">“<span class="quote">chunk</span>”</span> the delete operation.
                If your objective is to empty the table, then you may
                wish to use <a class="link" href="sql-syntax.html#truncate-table" title="13.1.33. TRUNCATE TABLE Syntax"><code class="literal">TRUNCATE
                TABLE</code></a> instead.
              </p></li><li class="listitem"><p><b><code class="literal">LOAD DATA</code> statements. </b>
                  <a class="link" href="sql-syntax.html#load-data" title="13.2.6. LOAD DATA INFILE Syntax"><code class="literal">LOAD DATA
                  INFILE</code></a> is not transactional when used on
                  <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
                  When executing a
                  <a class="link" href="sql-syntax.html#load-data" title="13.2.6. LOAD DATA INFILE Syntax"><code class="literal">LOAD DATA
                  INFILE</code></a> statement, the
                  <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> engine performs
                  commits at irregular intervals that enable better
                  utilization of the communication network. It is not
                  possible to know ahead of time when such commits take
                  place.
</p>
</div>
<p>
                <a class="ulink" href="http://dev.mysql.com/doc/refman/5.1/en/load-data-from-master.html" target="_top"><code class="literal">LOAD DATA FROM MASTER</code></a> is
                not supported in MySQL Cluster.
              </p></li><li class="listitem"><p><b><code class="literal">ALTER TABLE</code> and transactions. </b>
                  When copying an <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table
                  as part of an <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER
                  TABLE</code></a>, the creation of the copy is
                  nontransactional. (In any case, this operation is
                  rolled back when the copy is deleted.)
</p></li></ul>
</div>
</li><li class="listitem"><p><b>Transactions and the <code class="literal">COUNT()</code> function. </b>
              When using MySQL Cluster Replication, it is not possible
              to guarantee the transactional consistency of the
              <code class="literal">COUNT()</code> function on the slave. In other
              words, when performing on the master a series of
              statements (<a class="link" href="sql-syntax.html#insert" title="13.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>,
              <a class="link" href="sql-syntax.html#delete" title="13.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>, or both) that
              changes the number of rows in a table within a single
              transaction, executing <code class="literal">SELECT COUNT(*) FROM
              <em class="replaceable"><code>table</code></em></code> queries on the
              slave may yield intermediate results. This is due to the
              fact that <code class="literal">SELECT COUNT(...)</code> may perform
              dirty reads, and is not a bug in the
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine. (See Bug
              #31321 for more information.)
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-limitations-error-handling"></a>17.1.6.4. MySQL Cluster Error Handling</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp106581136"></a><p>
        Starting, stopping, or restarting a node may give rise to
        temporary errors causing some transactions to fail. These
        include the following cases:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Temporary errors. </b>
              When first starting a node, it is possible that you may
              see Error 1204 <span class="errortext">Temporary failure, distribution
              changed</span> and similar temporary errors.
            </p></li><li class="listitem"><p><b>Errors due to node failure. </b>
              The stopping or failure of any data node can result in a
              number of different node failure errors. (However, there
              should be no aborted transactions when performing a
              planned shutdown of the cluster.)
</p></li></ul>
</div>
<p>
        In either of these cases, any errors that are generated must be
        handled within the application. This should be done by retrying
        the transaction.
      </p><p>
        See also <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-limits" title="17.1.6.2. Limits and Differences of MySQL Cluster from Standard MySQL Limits">Section 17.1.6.2, “Limits and Differences of MySQL Cluster from Standard MySQL Limits”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-limitations-database-objects"></a>17.1.6.5. Limits Associated with Database Objects in MySQL Cluster</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp106590400"></a><p>
        Some database objects such as tables and indexes have different
        limitations when using the
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Number of database objects. </b>
              The maximum number of <span class="emphasis"><em>all</em></span>
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> database objects in a
              single MySQL Cluster—including databases, tables,
              and indexes—is limited to 20320.
            </p></li><li class="listitem"><p><b>Attributes per table. </b>
              The maximum number of attributes (that is, columns and
              indexes) that can belong to a given table is 512.
            </p></li><li class="listitem"><p><b>Attributes per key. </b>
              The maximum number of attributes per key is 32.
            </p></li><li class="listitem"><p><b>Row size. </b>
              

              The maximum permitted size of any one row is 14000 bytes
              (as of MySQL Cluster NDB 7.0). Each
              <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
              <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> column contributes 256
              + 8 = 264 bytes to this total.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-limitations-unsupported"></a>17.1.6.6. Unsupported or Missing Features in MySQL Cluster</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp106605584"></a><p>
        A number of features supported by other storage engines are not
        supported for <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables. Trying to
        use any of these features in MySQL Cluster does not cause errors
        in or of itself; however, errors may occur in applications that
        expects the features to be supported or enforced:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Index prefixes. </b>
              Prefixes on indexes are not supported for
              <code class="literal">NDBCLUSTER</code> tables. If a prefix is used
              as part of an index specification in a statement such as
              <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a>,
              <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>, or
              <a class="link" href="sql-syntax.html#create-index" title="13.1.13. CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a>, the prefix is
              ignored.
            </p></li><li class="listitem"><p><b><code class="literal">LOAD TABLE ... FROM MASTER</code>. </b>
              <a class="ulink" href="http://dev.mysql.com/doc/refman/5.1/en/load-table-from-master.html" target="_top"><code class="literal">LOAD TABLE FROM MASTER</code></a> is
              not supported.
            </p></li><li class="listitem"><p><b>Savepoints and rollbacks. </b>
              Savepoints and rollbacks to savepoints are ignored as in
              <code class="literal">MyISAM</code>.
            </p></li><li class="listitem"><p><b>Durability of commits. </b>
              There are no durable commits on disk. Commits are
              replicated, but there is no guarantee that logs are
              flushed to disk on commit.
            </p></li><li class="listitem"><p><b>Replication. </b>
              Statement-based replication is not supported. Use
              <a class="link" href="server-administration.html#option_mysqld_binlog-format"><code class="option">--binlog-format=ROW</code></a> (or
              <a class="link" href="server-administration.html#option_mysqld_binlog-format"><code class="option">--binlog-format=MIXED</code></a>) when
              setting up cluster replication. See
              <a class="xref" href="mysql-cluster.html#mysql-cluster-replication" title="17.6. MySQL Cluster Replication">Section 17.6, “MySQL Cluster Replication”</a>, for more
              information.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p xmlns="">
          See <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-transactions" title="17.1.6.3. Limits Relating to Transaction Handling in MySQL Cluster">Section 17.1.6.3, “Limits Relating to Transaction Handling in MySQL Cluster”</a>,
          for more information relating to limitations on transaction
          handling in <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-limitations-performance"></a>17.1.6.7. Limitations Relating to Performance in MySQL Cluster</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp106628560"></a><p>
        The following performance issues are specific to or especially
        pronounced in MySQL Cluster:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Range scans. </b>
              There are query performance issues due to sequential
              access to the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage
              engine; it is also relatively more expensive to do many
              range scans than it is with either
              <code class="literal">MyISAM</code> or <code class="literal">InnoDB</code>.
            </p></li><li class="listitem"><p><b>Reliability of <code class="literal">Records in range</code>. </b>
              The <code class="literal">Records in range</code> statistic is
              available but is not completely tested or officially
              supported. This may result in nonoptimal query plans in
              some cases. If necessary, you can employ <code class="literal">USE
              INDEX</code> or <code class="literal">FORCE INDEX</code> to alter
              the execution plan. See <a class="xref" href="sql-syntax.html#index-hints" title="13.2.9.3. Index Hint Syntax">Section 13.2.9.3, “Index Hint Syntax”</a>, for
              more information on how to do this.
            </p></li><li class="listitem"><p><b>Unique hash indexes. </b>
              Unique hash indexes created with <code class="literal">USING
              HASH</code> cannot be used for accessing a table if
              <code class="literal">NULL</code> is given as part of the key.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-limitations-exclusive-to-cluster"></a>17.1.6.8. Issues Exclusive to MySQL Cluster</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp106644448"></a><p>
        The following are limitations specific to the
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Machine architecture. </b>
              All machines used in the cluster must have the same
              architecture. That is, all machines hosting nodes must be
              either big-endian or little-endian, and you cannot use a
              mixture of both. For example, you cannot have a management
              node running on a PowerPC which directs a data node that
              is running on an x86 machine. This restriction does not
              apply to machines simply running <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>
              or other clients that may be accessing the cluster's SQL
              nodes.
            </p></li><li class="listitem"><p><b>Binary logging. </b><a class="indexterm" name="idp106651440"></a><a class="indexterm" name="idp106652944"></a>
              MySQL Cluster has the following limitations or
              restrictions with regard to binary logging:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <a class="link" href="server-administration.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin</code></a> has no
                effect on data operations; however, it is supported for
                schema operations.
              </p></li><li class="listitem"><p>
                MySQL Cluster cannot produce a binary log for tables
                having <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> columns but
                no primary key.
              </p></li><li class="listitem"><p>
                Only the following schema operations are logged in a
                cluster binary log which is <span class="emphasis"><em>not</em></span> on
                the <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> executing the statement:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                    <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="sql-syntax.html#drop-table" title="13.1.28. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="sql-syntax.html#create-database" title="13.1.10. CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a> /
                    <a class="link" href="sql-syntax.html#create-database" title="13.1.10. CREATE DATABASE Syntax"><code class="literal">CREATE
                    SCHEMA</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="sql-syntax.html#drop-database" title="13.1.21. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> /
                    <a class="link" href="sql-syntax.html#drop-database" title="13.1.21. DROP DATABASE Syntax"><code class="literal">DROP
                    SCHEMA</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="sql-syntax.html#create-tablespace" title="13.1.18. CREATE TABLESPACE Syntax"><code class="literal">CREATE TABLESPACE</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="sql-syntax.html#alter-tablespace" title="13.1.8. ALTER TABLESPACE Syntax"><code class="literal">ALTER TABLESPACE</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="sql-syntax.html#drop-tablespace" title="13.1.29. DROP TABLESPACE Syntax"><code class="literal">DROP TABLESPACE</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="sql-syntax.html#create-logfile-group" title="13.1.14. CREATE LOGFILE GROUP Syntax"><code class="literal">CREATE LOGFILE GROUP</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="sql-syntax.html#alter-logfile-group" title="13.1.3. ALTER LOGFILE GROUP Syntax"><code class="literal">ALTER LOGFILE GROUP</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="sql-syntax.html#drop-logfile-group" title="13.1.25. DROP LOGFILE GROUP Syntax"><code class="literal">DROP LOGFILE GROUP</code></a>
</p></li></ul>
</div>
</li></ul>
</div>
</li></ul>
</div>
<p>
        See also
        <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-multiple-nodes" title="17.1.6.10. Limitations Relating to Multiple MySQL Cluster Nodes">Section 17.1.6.10, “Limitations Relating to Multiple MySQL Cluster Nodes”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-limitations-disk-data"></a>17.1.6.9. Limitations Relating to MySQL Cluster Disk Data Storage</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp106683120"></a><p><b>Disk Data object maximums and minimums. </b>
          Disk data objects are subject to the following maximums and
          minimums:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Maximum number of tablespaces:
            2<sup>32</sup> (4294967296)
          </p></li><li class="listitem"><p>
            Maximum number of data files per tablespace:
            2<sup>16</sup> (65536)
          </p></li><li class="listitem"><p>
            Maximum data file size: The theoretical limit is 64G;
            however, the practical upper limit is 32G. This is
            equivalent to 32768 extents of 1M each.
          </p><p>
            Since a MySQL Cluster Disk Data table can use at most 1
            tablespace, this means that the theoretical upper limit to
            the amount of data (in bytes) that can be stored on disk by
            a single <code class="literal">NDB</code> table is 32G * 65536 =
            2251799813685248, or approximately 2 petabytes.
          </p></li><li class="listitem"><p>
            The theoretical maximum number of extents per tablespace
            data file is 2<sup>16</sup> (65536);
            however, for practical purposes, the recommended maximum
            number of extents per data file is
            2<sup>15</sup> (32768).
          </p><p>
            The minimum and maximum possible sizes of extents for
            tablespace data files are 32K and 2G, respectively. See
            <a class="xref" href="sql-syntax.html#create-tablespace" title="13.1.18. CREATE TABLESPACE Syntax">Section 13.1.18, “<code class="literal">CREATE TABLESPACE</code> Syntax”</a>, for more information.
</p></li></ul>
</div>
<p><b>Disk Data tables and diskless mode. </b>
          Use of Disk Data tables is not permitted when running the
          cluster in diskless mode.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-limitations-multiple-nodes"></a>17.1.6.10. Limitations Relating to Multiple MySQL Cluster Nodes</h4>

</div>

</div>

</div>
<p><b>Multiple SQL nodes. </b><a class="indexterm" name="idp106697344"></a>
          The following are issues relating to the use of multiple MySQL
          servers as MySQL Cluster SQL nodes, and are specific to the
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>No distributed table locks. </b>
              A <a class="link" href="sql-syntax.html#lock-tables" title="13.3.5. LOCK TABLES and UNLOCK TABLES Syntax"><code class="literal">LOCK TABLES</code></a> works only
              for the SQL node on which the lock is issued; no other SQL
              node in the cluster <span class="quote">“<span class="quote">sees</span>”</span> this lock. This is
              also true for a lock issued by any statement that locks
              tables as part of its operations. (See next item for an
              example.)
            </p></li><li class="listitem"><p><b><code class="literal">ALTER TABLE</code> operations. </b>
              <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> is not fully
              locking when running multiple MySQL servers (SQL nodes).
              (As discussed in the previous item, MySQL Cluster does not
              support distributed table locks.)
</p></li></ul>
</div>
<p><b>Multiple management nodes. </b><a class="indexterm" name="idp106707568"></a>
          When using multiple management servers:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            You must give nodes explicit IDs in connect strings because
            automatic allocation of node IDs does not work across
            multiple management servers.
          </p></li><li class="listitem"><p>
            When a management server starts, it first checks for any
            other management server in the same MySQL Cluster, and upon
            successful connection to the other management server uses
            its configuration data. This means that the management
            server <a class="link" href="mysql-cluster.html#option_ndb_mgmd_reload"><code class="option">--reload</code></a> and
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_initial"><code class="option">--initial</code></a> startup options
            are ignored unless the management server is the only one
            running. It also means that, when performing a rolling
            restart of a MySQL Cluster with multiple management nodes,
            the management server reads its own configuration file if
            (and only if) it is the only management server running in
            this MySQL Cluster. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="17.5.5. Performing a Rolling Restart of a MySQL Cluster">Section 17.5.5, “Performing a Rolling Restart of a MySQL Cluster”</a>, for more
            information.
</p></li></ul>
</div>
<p><b>Multiple network addresses. </b>
          Multiple network addresses per data node are not supported.
          Use of these is liable to cause problems: In the event of a
          data node failure, an SQL node waits for confirmation that the
          data node went down but never receives it because another
          route to that data node remains open. This can effectively
          make the cluster inoperable.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          It is possible to use multiple network hardware
          <span class="emphasis"><em>interfaces</em></span> (such as Ethernet cards) for a
          single data node, but these must be bound to the same address.
          This also means that it not possible to use more than one
          <code class="literal">[tcp]</code> section per connection in the
          <code class="literal">config.ini</code> file. See
          <a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition" title="17.3.2.8. MySQL Cluster TCP/IP Connections">Section 17.3.2.8, “MySQL Cluster TCP/IP Connections”</a>, for more
          information.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-limitations-resolved"></a>17.1.6.11. Previous MySQL Cluster Issues Resolved in MySQL Cluster NDB 7.3</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp106721120"></a><p>
        A number of limitations and related issues that existed in
        earlier versions of MySQL Cluster have been resolved in MySQL
        Cluster NDB 7.3. These are described briefly in the following
        list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Support for foreign keys. </b>
              Foreign key constraints are now supported for
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables, similar to how
              these are supported by the
              <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> storage engine.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              Unlike the case with user-partitioned
              <code class="literal">InnoDB</code> tables, foreign keys are
              supported for <code class="literal">NDB</code> tables that are
              partitioned by <code class="literal">KEY</code> or <code class="literal">LINEAR
              KEY</code>.
</p>
</div>
<p>
            <a class="xref" href="introduction.html#constraint-foreign-key" title="1.8.6.2. FOREIGN KEY Constraints">Section 1.8.6.2, “<code class="literal">FOREIGN KEY</code> Constraints”</a>, provides more
            information about foreign key support in MySQL. For more
            information about the syntax supported by MySQL for foreign
            keys, see <a class="xref" href="sql-syntax.html#create-table-foreign-keys" title="13.1.17.2. Using FOREIGN KEY Constraints">Section 13.1.17.2, “Using <code class="literal">FOREIGN KEY</code> Constraints”</a>.
</p></li></ul>
</div>

</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="mysql-cluster-installation"></a>17.2. MySQL Cluster Installation</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto">17.2.1. The MySQL Cluster Auto-Installer</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-linux">17.2.2. Installation of MySQL Cluster on Linux</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-windows">17.2.3. Installing MySQL Cluster on Windows</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-configuration">17.2.4. Initial Configuration of MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-first-start">17.2.5. Initial Startup of MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-example-data">17.2.6. MySQL Cluster Example with Tables and Data</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-shutdown-restart">17.2.7. Safe Shutdown and Restart of MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-upgrade-downgrade">17.2.8. Upgrading and Downgrading MySQL Cluster NDB 7.3</a></span></dt></dl>
</div>
<a class="indexterm" name="idp106734640"></a><a class="indexterm" name="idp106735712"></a><a class="indexterm" name="idp106736800"></a><a class="indexterm" name="idp106738288"></a><a class="indexterm" name="idp106739376"></a><p>
    This section describes the basics for planning, installing,
    configuring, and running a MySQL Cluster. Whereas the examples in
    <a class="xref" href="mysql-cluster.html#mysql-cluster-configuration" title="17.3. Configuration of MySQL Cluster NDB 7.3">Section 17.3, “Configuration of MySQL Cluster NDB 7.3”</a> provide more in-depth
    information on a variety of clustering options and configuration,
    the result of following the guidelines and procedures outlined here
    should be a usable MySQL Cluster which meets the
    <span class="emphasis"><em>minimum</em></span> requirements for availability and
    safeguarding of data.
  </p><p>
    For information about upgrading or downgrading a MySQL Cluster
    between release versions, see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-upgrade-downgrade" title="17.2.8. Upgrading and Downgrading MySQL Cluster NDB 7.3">Section 17.2.8, “Upgrading and Downgrading MySQL Cluster NDB 7.3”</a>.
  </p><p>
    This section covers hardware and software requirements; networking
    issues; installation of MySQL Cluster; basic configuration issues;
    starting, stopping, and restarting the cluster; loading of a sample
    database; and performing queries.
  </p><p>
    MySQL Cluster NDB 7.3 provides a MySQL Cluster Auto-Installer, a
    web-based graphical installer, as part of the MySQL Cluster
    distribution. The Auto-Installer can be used to perform basic
    installation and setup of a MySQL Cluster on one (for testing) or
    more host computers. See
    <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto" title="17.2.1. The MySQL Cluster Auto-Installer">Section 17.2.1, “The MySQL Cluster Auto-Installer”</a>, for more information.
  </p><p><b>Assumptions. </b>
      The following sections make a number of assumptions regarding the
      cluster's physical and network configuration. These
      assumptions are discussed in the next few paragraphs.
    </p><p><a name="mysql-cluster-install-nodes-hosts"></a><b>Cluster nodes and host computers. </b>
      The cluster consists of four nodes, each on a separate host
      computer, and each with a fixed network address on a typical
      Ethernet network as shown here:
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Node</th><th scope="col">IP Address</th></tr></thead><tbody><tr><td scope="row">Management node (<span class="command"><strong>mgmd</strong></span>)</td><td>192.168.0.10</td></tr><tr><td scope="row">SQL node (<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>)</td><td>192.168.0.20</td></tr><tr><td scope="row">Data node "A" (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>)</td><td>192.168.0.30</td></tr><tr><td scope="row">Data node "B" (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>)</td><td>192.168.0.40</td></tr></tbody></table>
</div>
<p>
    This may be made clearer by the following diagram:
</p>
<div class="mediaobject">
<img src="images/multi-comp-1.png" width="500" height="393" alt="MySQL Cluster Multi-Computer Setup">
</div>
<p><b>Network addressing. </b>
      <a class="indexterm" name="idp106767248"></a>

      <a class="indexterm" name="idp106768736"></a>

      In the interest of simplicity (and reliability), this
      <em class="citetitle">How-To</em> uses only numeric IP addresses.
      However, if DNS resolution is available on your network, it is
      possible to use host names in lieu of IP addresses in configuring
      Cluster. Alternatively, you can use the <code class="filename">hosts</code>
      file (typically <code class="filename">/etc/hosts</code> for Linux and
      other Unix-like operating systems,
      <code class="filename">C:\WINDOWS\system32\drivers\etc\hosts</code> on
      Windows, or your operating system's equivalent) for providing
      a means to do host lookup if such is available.
    </p><p><b>Potential hosts file issues. </b>
      A common problem when trying to use host names for Cluster nodes
      arises because of the way in which some operating systems
      (including some Linux distributions) set up the system's own
      host name in the <code class="filename">/etc/hosts</code> during
      installation. Consider two machines with the host names
      <code class="literal">ndb1</code> and <code class="literal">ndb2</code>, both in the
      <code class="literal">cluster</code> network domain. Red Hat Linux
      (including some derivatives such as CentOS and Fedora) places the
      following entries in these machines'
      <code class="filename">/etc/hosts</code> files:
    </p><pre class="programlisting">#  ndb1 <code class="filename">/etc/hosts</code>:
127.0.0.1   ndb1.cluster ndb1 localhost.localdomain localhost
</pre><pre class="programlisting">#  ndb2 <code class="filename">/etc/hosts</code>:
127.0.0.1   ndb2.cluster ndb2 localhost.localdomain localhost
</pre><p>
    SUSE Linux (including OpenSUSE) places these entries in the
    machines' <code class="filename">/etc/hosts</code> files:
  </p><pre class="programlisting">#  ndb1 <code class="filename">/etc/hosts</code>:
127.0.0.1       localhost
127.0.0.2       ndb1.cluster ndb1
</pre><pre class="programlisting">#  ndb2 <code class="filename">/etc/hosts</code>:
127.0.0.1       localhost
127.0.0.2       ndb2.cluster ndb2
</pre><p>
    In both instances, <code class="literal">ndb1</code> routes
    <code class="literal">ndb1.cluster</code> to a loopback IP address, but gets a
    public IP address from DNS for <code class="literal">ndb2.cluster</code>,
    while <code class="literal">ndb2</code> routes <code class="literal">ndb2.cluster</code>
    to a loopback address and obtains a public address for
    <code class="literal">ndb1.cluster</code>. The result is that each data node
    connects to the management server, but cannot tell when any other
    data nodes have connected, and so the data nodes appear to hang
    while starting.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Caution
</div>
<p xmlns="">
      You cannot mix <code class="literal">localhost</code> and other host names
      or IP addresses in <code class="filename">config.ini</code>. For these
      reasons, the solution in such cases (other than to use IP
      addresses for <span class="emphasis"><em>all</em></span>
      <code class="filename">config.ini</code> <code class="literal">HostName</code>
      entries) is to remove the fully qualified host names from
      <code class="filename">/etc/hosts</code> and use these in
      <code class="filename">config.ini</code> for all cluster hosts.
</p>
</div>
<p><b>Host computer type. </b>
      Each host computer in our installation scenario is an Intel-based
      desktop PC running a supported operating system installed to disk
      in a standard configuration, and running no unnecessary services.
      The core operating system with standard TCP/IP networking
      capabilities should be sufficient. Also for the sake of
      simplicity, we also assume that the file systems on all hosts are
      set up identically. In the event that they are not, you should
      adapt these instructions accordingly.
    </p><p><b>Network hardware. </b>
      Standard 100 Mbps or 1 gigabit Ethernet cards are installed on
      each machine, along with the proper drivers for the cards, and
      that all four hosts are connected through a standard-issue
      Ethernet networking appliance such as a switch. (All machines
      should use network cards with the same throughout. That is, all
      four machines in the cluster should have 100 Mbps cards
      <span class="emphasis"><em>or</em></span> all four machines should have 1 Gbps
      cards.) MySQL Cluster works in a 100 Mbps network; however,
      gigabit Ethernet provides better performance.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
      MySQL Cluster is <span class="emphasis"><em>not</em></span> intended for use in a
      network for which throughput is less than 100 Mbps or which
      experiences a high degree of latency. For this reason (among
      others), attempting to run a MySQL Cluster over a wide area
      network such as the Internet is not likely to be successful, and
      is not supported in production.
</p>
</div>
<p><b>Sample data. </b>
      We use the <code class="literal">world</code> database which is available
      for download from the MySQL Web site (see
      <a class="ulink" href="http://dev.mysql.com/doc/index-other.html" target="_top">http://dev.mysql.com/doc/index-other.html</a>). We assume that
      each machine has sufficient memory for running the operating
      system, required MySQL Cluster processes, and (on the data nodes)
      storing the database.
    </p><p>
    For general information about installing MySQL, see
    <a class="xref" href="installing.html" title="Chapter 2. Installing and Upgrading MySQL">Chapter 2, <i>Installing and Upgrading MySQL</i></a>. For information about installation of
    MySQL Cluster on Linux and other Unix-like operating systems, see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-install-linux" title="17.2.2. Installation of MySQL Cluster on Linux">Section 17.2.2, “Installation of MySQL Cluster on Linux”</a>. For information about
    installation of MySQL Cluster on Windows operating systems, see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows" title="17.2.3. Installing MySQL Cluster on Windows">Section 17.2.3, “Installing MySQL Cluster on Windows”</a>.
  </p><p>
    For general information about MySQL Cluster hardware, software, and
    networking requirements, see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-overview-requirements" title="17.1.3. MySQL Cluster Hardware, Software, and Networking Requirements">Section 17.1.3, “MySQL Cluster Hardware, Software, and Networking Requirements”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-install-auto"></a>17.2.1. The MySQL Cluster Auto-Installer</h3>

</div>

</div>

</div>

<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto-requirements">17.2.1.1. MySQL Cluster Auto-Installer Requirements</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto-overview">17.2.1.2. MySQL Cluster Auto-Installer Overview</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-auto-using">17.2.1.3. Using the MySQL Cluster Auto-Installer</a></span></dt></dl>
</div>
<a class="indexterm" name="idp106809168"></a><a class="indexterm" name="idp106810256"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-requirements" title="17.2.1.1. MySQL Cluster Auto-Installer Requirements">Section 17.2.1.1, “MySQL Cluster Auto-Installer Requirements”</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-overview" title="17.2.1.2. MySQL Cluster Auto-Installer Overview">Section 17.2.1.2, “MySQL Cluster Auto-Installer Overview”</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using" title="17.2.1.3. Using the MySQL Cluster Auto-Installer">Section 17.2.1.3, “Using the MySQL Cluster Auto-Installer”</a>
</p></li></ul>
</div>
<p>
      This section describes the web-based graphical configuration
      installer included as part of the MySQL Cluster distribution
      beginning with MySQL Cluster NDB 7.3.1. Topics discussed include
      an overview of the installer and its parts, software and other
      requirements for running the installer, navigating the GUI, and
      using the installer to set up and start or stop a MySQL Cluster on
      one or more host computers.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-install-auto-requirements"></a>17.2.1.1. MySQL Cluster Auto-Installer Requirements</h4>
</div>
</div>
</div>
<a class="indexterm" name="idp106817936"></a><p>
        This section provides information on supported operating
        platforms and software, required software, and other
        prerequisites for running the MySQL Cluster Auto-Installer.
      </p><p><b>Supported platforms. </b>
          <a class="indexterm" name="idp106820976"></a>

          The MySQL Cluster Auto-Installer is available with most MySQL
          Cluster NDB 7.3 distributions for recent versions of Linux,
          Windows, Solaris, and MacOS X. For more detailed information
          about platform support for MySQL Cluster and the MySQL Cluster
          Auto-Installer, see <code class="uri">http://www.mysql.com/support/supportedplatforms/cluster.html</code>.
        </p><p><b>Supported Web browsers. </b>
          <a class="indexterm" name="idp106824496"></a>

          The Web-based installer is supported with recent versions of
          Firefox and Microsoft Internet Explorer. It should also work
          with recent versions of Opera, Safari, and Chrome, although we
          have not thoroughly tested for compability with these
          browsers.
        </p><p><b>Required software—setup host. </b>
          <a class="indexterm" name="idp106827552"></a>

          The following software must be installed on the host where the
          Auto-Installer is run:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Python 2.6 or newer. </b>
              <a class="indexterm" name="idp106830880"></a>

              The Auto-Installer requires the Python interpreter and
              standard libraries. If these are not already installed on
              the system, you may be able to add them using the
              system's package manager. Otherwise, they can be
              downloaded from
              <a class="ulink" href="http://python.org/download/" target="_top">http://python.org/download/</a>.
            </p></li><li class="listitem"><p><b>Paramiko 1.7.7.1 or newer. </b>
              This is required to communicate with remote hosts using
              SSH. You can download it from
              <a class="ulink" href="http://www.lag.net/paramiko/" target="_top">http://www.lag.net/paramiko/</a>. Paramiko may
              also be available from your system's package manager.
            </p></li><li class="listitem"><p><b>Pycrypto version 2.6 or newer. </b>
              This cryptography module is required by Paramiko. If it is
              not available using your system's package manage, you
              can download it from
              <a class="ulink" href="https://www.dlitz.net/software/pycrypto/" target="_top">https://www.dlitz.net/software/pycrypto/</a>.
</p></li></ul>
</div>
<p>
        All of the software in the preceding list is included in the
        Windows version of the configuration tool, and does not need to
        be installed separately.
      </p><p>
        The Paramiko and Pycrypto libraries are required only if you
        intend to deploy MySQL Cluster nodes on remote hosts, and are
        not needed if all nodes are on the same host where the installer
        is run.
      </p><p><b>Required software—remote hosts. </b>
          <a class="indexterm" name="idp106840768"></a>

          The only software required for remote hosts where you wish to
          deploy MySQL Cluster nodes is the SSH server, which is usually
          installed by default on Linux and Solaris systems. Several
          alternatives are available for Windows; for an overview of
          these, see
          <a class="ulink" href="http://en.wikipedia.org/wiki/Comparison_of_SSH_servers" target="_top">http://en.wikipedia.org/wiki/Comparison_of_SSH_servers</a>.
        </p><p>
        <a class="indexterm" name="idp106843712"></a>

        An additional requirement when using multiple hosts is that it
        is possible to authenticate to any of the remote hosts using SSH
        and the proper keys or user credentials, as discussed in the
        next few paragraphs:
      </p><p><b>Authentication and security. </b>
          <a class="indexterm" name="idp106846576"></a>

          Three basic security or authentication mechanisms for remote
          access are available to the Auto-Installer, which we list and
          describe here:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>SSH. </b>
              A secure shell connection is used to enable the back end
              to perform actions on remote hosts. For this reason, an
              SSH server must be running on the remote host. In
              addition, the system user running the installer must have
              access to the remote server, either with a user name and
              password, or by using public and private keys.
            </p></li><li class="listitem"><p><b>HTTPS. </b>
              Remote communication between the Web browser front end and
              the back end is not encrypted by default, which means that
              information such as the user's SSH password is
              transmitted in clear text that is readable to anyone. For
              communication from a remote client to be encrypted, the
              back end must have a certificate, and the front end must
              communicate with the back end using HTTPS rather than
              HTTP. Enabling HTTPS is accomplished most easily through
              issuing a self-signed certificate. Once the certificate is
              issued, you must make sure that it is used. You can do
              this by starting <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a> from the
              command line with the
              <a class="link" href="mysql-cluster.html#option_ndb_setup_py_use-https"><code class="option">--use-https</code></a> and
              <a class="link" href="mysql-cluster.html#option_ndb_setup_py_cert-file"><code class="option">--cert-file</code></a> options.
            </p></li><li class="listitem"><p><b>Certificate-based authentication. </b>
              The back end <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a> process can
              execute commands on the local host as well as remote
              hosts. This means that anyone connecting to the back end
              can take charge of how commands are executed. To reject
              unwanted connections to the back end, a certificate may be
              required for authentication of the client. In this case, a
              certificate must be issued by the user, installed in the
              browser, and made available to the back end for
              authentication purposes. You can enact this requirement
              (together with or in place of password or key
              authentication) by starting
              <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a> with the
              <a class="link" href="mysql-cluster.html#option_ndb_setup_py_ca-certs-file"><code class="option">--ca-certs-file</code></a>
              option.
</p></li></ul>
</div>
<p>
        <a class="indexterm" name="idp106861024"></a>

        There is no need or requirement for secure authentication when
        the client browser is running on the same host as the
        Auto-Installer back end.
      </p><p>
        See also <a class="xref" href="mysql-cluster.html#mysql-cluster-security" title="17.5.11. MySQL Cluster Security Issues">Section 17.5.11, “MySQL Cluster Security Issues”</a>, which
        discusses security considerations to take into account when
        deploying MySQL Cluster, as well as <a class="xref" href="security.html" title="Chapter 6. Security">Chapter 6, <i>Security</i></a>,
        for more general MySQL security information.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-install-auto-overview"></a>17.2.1.2. MySQL Cluster Auto-Installer Overview</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp106865648"></a><p>
        The MySQL Cluster Auto-Installer is made up of two components.
        The front end is a GUI client implemented as a Web page that
        loads and runs in a standard Web browser such as Firefox or
        Microsoft Internet Explorer (see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-requirements" title="17.2.1.1. MySQL Cluster Auto-Installer Requirements">Section 17.2.1.1, “MySQL Cluster Auto-Installer Requirements”</a>). The
        back end is a server process (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a>)
        that runs on the local machine or on another host to which you
        have access.
      </p><p>
        These two components (client and server) communicate with each
        other using standard HTTP requests and responses. The back end
        can manage MySQL Cluster software programs on any host where the
        back end user has granted access. If the MySQL Cluster software
        is on a different host, the back end relies on SSH for access,
        using the Paramiko library for executing commands remotely (see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-requirements" title="17.2.1.1. MySQL Cluster Auto-Installer Requirements">Section 17.2.1.1, “MySQL Cluster Auto-Installer Requirements”</a>).
      </p><p>
        The remainder of this section is concerned primarily with the
        Web client. For more information about using the command-line
        tool, see <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster">Section 17.4.22, “<span class="command"><strong>ndb_setup.py</strong></span> — Start browser-based Auto-Installer for
        MySQL Cluster”</a>.
      </p><p><b>MySQL Cluster Auto-Installer Interface. </b>
          <a class="indexterm" name="idp106872848"></a>

          This section describes the layout and navigation of the MySQL
          Cluster Auto-Installer, whose Welcome screen looks similar to
          what is shown here when it is first opened in the Web browser:
</p>
<div class="mediaobject">
<img src="images/welcome-first.png" width="600" height="429" alt="Welcome screen for MySQL Cluster Auto-Installer.">
</div>
<p>
        You can access the installer UI by selecting either of the
        options <span class="bold"><strong>Create New MySQL
        Cluster</strong></span> or <span class="bold"><strong>Continue Previous
        Cluster Configuration</strong></span>. A typical screen in the
        Auto-Installer includes the following elements:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><b>Display panel. </b>
              The central area where data regarding configuration
              settings and controls for changing them are displayed.
            </p></li><li class="listitem"><p><b>Breadcrumb navigation. </b>
              Located in the top left and top center of the GUI, the
              breadcrumb navigation bar consists of a series of titles
              linking to screens that correspond to steps in the
              configuration of a MySQL Cluster. The breadcrumb allows
              you to jump between these stages in arbritrary order.
            </p></li><li class="listitem"><p><b>Sequential navigation. </b>
              This consists of a set of buttons labelled
              <span class="guibutton">Previous</span>,
              <span class="guibutton">Next</span>, and
              <span class="guibutton">Finished</span>, and can be found in the
              lower right-hand corner of the GUI. The sequential
              navigation is used to move between steps in the suggested
              order.
            </p></li><li class="listitem"><p><b>Settings and Help menus. </b>
              These menus can be found in the top right corner of the
              GUI (to the right of the breadcrumb navigation bar).
              <span class="guimenu">Settings</span> provides provides a way check
              and possibly alter configuration settings for the
              Auto-Installer; <span class="guimenu">Help</span> can be used to
              access the installer's built-in help files.
</p></li></ol>
</div>
<p>
        The locations of the elements just described are shown here in a
        typical page in the Auto-Installer; the numbers superimposed
        thereupon correspond to those used in the preceding list.
</p>
<div class="mediaobject">
<img src="images/layout.png" width="600" height="430" alt="Layout of the MySQL Cluster Auto-Installer GUI.">
</div>
<p>
        All of these elements except for the display panel are described
        in greater detail in the remainder of this section.
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using" title="17.2.1.3. Using the MySQL Cluster Auto-Installer">Section 17.2.1.3, “Using the MySQL Cluster Auto-Installer”</a>, describes
        the panels shown in the display area as well as the
        functionality of each panel and the controls it contains.
      </p><p><b>Arbitrary and sequential navigation. </b>
          The Auto-Installer can display any of a number of pages
          covering different stages in the setup and configuration of a
          MySQL Cluster deployment. You can navigate between pages in
          either of two ways. The first of these is the breadcrumb trail
          navigation toolbar displaying the titles of the various pages
          (in which the title of the current page is highlighted and
          disabled). From these, any desired page, in any desired order,
          can be reached by selecting the title of the corresponding
          page. This toolbar is shown here:
</p>
<div class="mediaobject">
<img src="images/breadcrumb-detail.png" width="600" height="53" alt="Detail of MySQL Cluster Auto-Installer breadcrumb navigation, showing page titles/links.">
</div>
<p>
        The second navigation mechanism provided by the Auto-Installer
        consists of the <span class="guibutton">Next</span>,
        <span class="guibutton">Previous</span>, and
        <span class="guibutton">Finish</span> sequential navigation buttons at
        the bottom right of the page. These can be used to move to the
        next or previous page in predetermined order, or to go to the
        very last page. The buttons are enabled and disabled as needed,
        so that you cannot, for example, advance beyond the last page.
      </p><p><b>Settings and Help menus. </b>
          These menus are positioned adjacent to one another in the top
          right corner of the GUI, as shown earlier in this section. The
          <span class="guimenu">Settings</span> menu is shown here in more detail:
</p>
<div class="mediaobject">
<img src="images/settings-detail.png" width="400" height="175" alt="MySQL Cluster Auto-Installer Settings menu detail.">
</div>
<p>
        The entries in the <span class="guimenu">Settings</span> menu are
        described here, in the following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="guimenuitem">Clear configuration and restart</span>:
            Remove all hosts and processes; reset all parameter values
            to their defaults; start the installer over at the first
            page.
          </p></li><li class="listitem"><p>
            <span class="guimenuitem">Automatically save configuration as
            cookies</span>: Save your configuration
            information—such as host names, process data, and
            parameter values—as a cookie in the browser. When this
            option is chosen, all information except any SSH password is
            saved. This means that you can quit and restart the browser,
            and continue working on the same configuration from where
            you left off at the end of the previous session).
          </p><p>
            Since the SSH password is never saved, you must supply this
            once again at the beginning of a new session, if one is
            used.
          </p></li><li class="listitem"><p>
            <span class="guimenuitem">Show advanced configuration
            options</span>: Show advanced configuration
            parameters in the Auto-Installer and make these settable by
            the user.
          </p><p>
            You should note that, once set, the advanced parameters
            continue to be used in the configuration file until they are
            explicitly changed or reset. This is regardless of whether
            the advanced parameters are currently visible in the
            installer; in other words, disabling the menu item does not
            reset the values of any of these parameters.
          </p></li><li class="listitem"><p>
            <span class="guimenuitem">Automatically get resource information for new
            hosts</span>: Query new hosts automatically for
            hardware resource information to pre-populate a number of
            configuration options and values. In this case, the
            suggested values are not mandatory, but they are used unless
            explicitly changed using the appropriate editing options in
            the installer.
</p></li></ul>
</div>
<p>
        As with the installer's navigation elements, one or more of
        the entries in the <span class="guimenu">Settings</span> menu may be
        disabled due to choices you have made previously.
      </p><p>
        The <span class="guimenu">Help</span> menu is shown here, as it appears
        when expanded:
</p>
<div class="mediaobject">
<img src="images/help-detail.png" width="400" height="175" alt="The MySQL Cluster Auto-Installer Help menu, expanded.">
</div>
<p>
        The <span class="guimenu">Help</span> menu provides several options,
        described in the following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="guibutton">Content</span>: Show the built-in user
            guide. This is opened in a separate browser window, so that
            it can be used simultaneously with the installer without
            interrupting workflow.
          </p></li><li class="listitem"><p>
            <span class="guibutton">Current page</span>: Open the built-in user
            guide to the section describing the page currently displayed
            in the installer.
          </p></li><li class="listitem"><p>
            <span class="guibutton">About</span>: This will show a small dialog
            displaying the installer name and the version number of the
            MySQL Cluster distribution it was supplied with, similar to
            what is shown here:
</p>
<div class="mediaobject">
<img src="images/about.png" width="500" height="200" alt="The MySQL Cluster Auto-Installer About dialog.">
</div>
</li></ul>
</div>
<p>
        The Auto-Installer also provides context-sensitive help in the
        form of tooltips for most input widgets. One of these tooltips
        is displayed when the mouse hovers over a widget or the small
        question mark which can sometimes appear next to a widget label.
      </p><p>
        In addition, the names of MySQL Cluster configuration parameters
        are linked to their descriptions in the online MySQL Cluster
        documentation, so that if you click on the name of a given
        parameter, the documentation for that parameter is shown in a
        separate window.
</p>
</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-install-auto-using"></a>17.2.1.3. Using the MySQL Cluster Auto-Installer</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp106950880"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-starting" title="17.2.1.3.1. Starting the MySQL Cluster Auto-Installer">Section 17.2.1.3.1, “Starting the MySQL Cluster Auto-Installer”</a>
          </p></li><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-welcome" title="17.2.1.3.2. MySQL Cluster Auto-Installer Welcome Screen">Section 17.2.1.3.2, “MySQL Cluster Auto-Installer <span class="emphasis"><em>Welcome</em></span> Screen”</a>
          </p></li><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-cluster" title="17.2.1.3.3. MySQL Cluster Auto-Installer Define Cluster Screen">Section 17.2.1.3.3, “MySQL Cluster Auto-Installer <span class="emphasis"><em>Define Cluster</em></span> Screen”</a>
          </p></li><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-hosts" title="17.2.1.3.4. MySQL Cluster Auto-Installer Define Hosts Screen">Section 17.2.1.3.4, “MySQL Cluster Auto-Installer <span class="emphasis"><em>Define Hosts</em></span> Screen”</a>
          </p></li><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-processes" title="17.2.1.3.5. MySQL Cluster Auto-Installer Define Processes Screen">Section 17.2.1.3.5, “MySQL Cluster Auto-Installer <span class="emphasis"><em>Define Processes</em></span>
          Screen”</a>
          </p></li><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-attributes" title="17.2.1.3.6. MySQL Cluster Auto-Installer Define Attributes Screen">Section 17.2.1.3.6, “MySQL Cluster Auto-Installer <span class="emphasis"><em>Define Attributes</em></span>
          Screen”</a>
          </p></li><li class="listitem"><p>
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto-using-deploy-cluster" title="17.2.1.3.7. MySQL Cluster Auto-Installer Deploy Cluster Screen">Section 17.2.1.3.7, “MySQL Cluster Auto-Installer <span class="emphasis"><em>Deploy Cluster</em></span> Screen”</a>
</p></li></ul>
</div>
<p>
        The MySQL Cluster Auto-Installer consists of several pages, each
        corresponding to a step in the process used to configure and
        deploy a MySQL Cluster, and listed here:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-welcome" title="17.2.1.3.2. MySQL Cluster Auto-Installer Welcome Screen">Welcome</a></strong></span>:
            Begin using the Auto-Installer by choosing either to
            configure a new MySQL Cluster, or to continue configuring an
            existing one.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-cluster" title="17.2.1.3.3. MySQL Cluster Auto-Installer Define Cluster Screen">Define
            Cluster</a></strong></span>: Set basic information about the
            cluster as a whole, such as name, hosts, and load type. Here
            you can also set the SSH authentication type for accessing
            remote hosts, if needed.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-hosts" title="17.2.1.3.4. MySQL Cluster Auto-Installer Define Hosts Screen">Define
            Hosts</a></strong></span>: Identify the hosts where you intend
            to run MySQL Cluster processes.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-processes" title="17.2.1.3.5. MySQL Cluster Auto-Installer Define Processes Screen">Define
            Processes</a></strong></span>: Assign one or more processes of
            a given type or types to each cluster host.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-attributes" title="17.2.1.3.6. MySQL Cluster Auto-Installer Define Attributes Screen">Define
            Attributes</a></strong></span>: Set configuration attributes
            for processes or types of processes.
          </p></li><li class="listitem"><p>
            <span class="bold"><strong><a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-deploy-cluster" title="17.2.1.3.7. MySQL Cluster Auto-Installer Deploy Cluster Screen">Deploy
            Cluster</a></strong></span>: Deploy the cluster with the
            configuration set previously; start and stop the deployed
            cluster.
</p></li></ul>
</div>
<p>
        The following sections describe in greater detail the purpose
        and function of each of these pages, in the order just listed.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="mysql-cluster-install-auto-using-starting"></a>17.2.1.3.1. Starting the MySQL Cluster Auto-Installer</h5>
</div>
</div>
</div>
<a class="indexterm" name="idp106976912"></a><p>
          The Auto-Installer is provided together with the MySQL Cluster
          software. (See <a class="xref" href="mysql-cluster.html#mysql-cluster-installation" title="17.2. MySQL Cluster Installation">Section 17.2, “MySQL Cluster Installation”</a>.)
          The present section explains how to start the installer. You
          can do by invoking the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a>
          executable. <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a> is found in the
          <code class="filename">bin</code> within the MySQL Cluster installation
          directory; a typical location might be
          <code class="filename">/usr/local/mysql/bin</code> on a Linux system or
          <code class="filename">C:\Program Files\MySQL\MySQL Server
          5.6\bin</code> on a Windows system, but this can vary
          according to where the MySQL Cluster software is installed on
          your system.
        </p><p>
          On Windows, you can also start the installer by running
          <span class="command"><strong>setup.bat</strong></span> in the MySQL
          Cluster installation directory. When invoked from the command
          line, it accepts the same options as does
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a>.
        </p><a class="indexterm" name="idp106986176"></a><a class="indexterm" name="idp106987680"></a><p>
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a> can be started with any of
          several options that affect its operation, but it is usually
          sufficient to allow the default settings be used, in which
          case you can start <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a> by either
          of the following two methods:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
              Navigate to the MySQL Cluster <code class="filename">bin</code>
              directory in a terminal and invoke it from the command
              line, without any additional arguments or options, like
              this:
            </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_setup</code></strong>
</pre><p>
              This works regardless of operating platform.
            </p></li><li class="listitem"><p>
              Navigate to the MySQL Cluster <code class="filename">bin</code>
              directory in a file browser (such Windows Explorer on
              Windows, or Konqueror, Dolphin, or Nautilus on Linux) and
              activate (usually by double-clicking) the
              <span class="guilabel">ndb_setup.py</span> file icon. This works on
              Windows, and should work with most common Linux desktops
              as well.
            </p><p>
              On Windows, you can also navigate to the MySQL Cluster
              installation directory and activate the
              <span class="guilabel">setup.bat</span> file icon.
</p></li></ol>
</div>
<p>
          In either case, once <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a> is
          invoked, the Auto-Installer's
          <a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-welcome" title="17.2.1.3.2. MySQL Cluster Auto-Installer Welcome Screen"><span class="bold"><strong>Welcome</strong></span>
          screen</a> should open in the system's default Web
          browser.
        </p><p>
          In some cases, you may wish to use non-default settings for
          the installer, such as specifying a different port for the
          Auto-Installer's included Web server to run on, in which
          case you must invoke <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a> with one
          or more startup options with values overriding the necessary
          defaults. The same startup options can be used on Windows
          systems with the <span class="command"><strong>setup.bat</strong></span>
          file supplied for such platforms in the MySQL Cluster software
          distribution. This can be done using the command line, but if
          you want or need to start the installer from a desktop or file
          browser while emplying one or more of these options, it is
          also possible to create a script or batch file containing the
          proper invocation, then to double-click its file icon in the
          file browser to start the installer. (On Linux systems, you
          might also need to make the script file executable first.) For
          information about advanced startup options for the MySQL
          Cluster Auto-Installer, see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster">Section 17.4.22, “<span class="command"><strong>ndb_setup.py</strong></span> — Start browser-based Auto-Installer for
        MySQL Cluster”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="mysql-cluster-install-auto-using-welcome"></a>17.2.1.3.2. MySQL Cluster Auto-Installer <span class="emphasis"><em>Welcome</em></span> Screen</h5>

</div>

</div>

</div>
<a class="indexterm" name="idp107007968"></a><p>
          The <span class="bold"><strong>Welcome</strong></span> screen is loaded
          in the default browser when <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a> is
          invoked, as shown here:
</p>
<div class="mediaobject">
<img src="images/welcome-closeup.png" width="600" height="411" alt="The MySQL Cluster Auto-Installer Welcome screen.">
</div>
<p>
          This screen provides the following two choices for entering
          the installer, one of which must be selected to continue:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
              <span class="guilabel">Create New MySQL Cluster</span>: Start the
              Auto-Installer with a completely new cluster to be set up
              and deployed.
            </p></li><li class="listitem"><p>
              <span class="guilabel">Continue Previous Cluster
              Configuration</span>: Start the Auto-Installer at the
              same point where the previous session ended, with all
              previous settings preserved.
</p></li></ol>
</div>
<p>
          The second option requires that the browser be able to access
          its cookies from the previous session, as these provide the
          mechanism by which configuration and other information
          generated during a session is stored. In other words, to
          continue the previous session with the Auto-Installer, you
          must use the same web browser running on the same host as you
          did for the previous session.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="mysql-cluster-install-auto-using-define-cluster"></a>17.2.1.3.3. MySQL Cluster Auto-Installer <span class="emphasis"><em>Define Cluster</em></span> Screen</h5>

</div>

</div>

</div>
<a class="indexterm" name="idp107023840"></a><p>
          The <span class="bold"><strong>Define Cluster</strong></span> screen is
          the first screen to appear following the choice made in the
          <a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-welcome" title="17.2.1.3.2. MySQL Cluster Auto-Installer Welcome Screen"><span class="bold"><strong>Welcome</strong></span>
          screen</a>, and is used for setting general properties of
          the cluster. The layout of the <span class="bold"><strong>Define
          Cluster</strong></span> screen is shown here:
</p>
<div class="mediaobject">
<img src="images/define-cluster.png" width="600" height="439" alt="The MySQL Cluster Auto-Installer Define Cluster screen.">
</div>
<p>
          The <span class="bold"><strong>Define Cluster</strong></span> screen
          allows you to set a number of general properties for the
          cluster, as described in this list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="guilabel">Cluster name</span>: A name that identifies
              the cluster. The default is <code class="literal">MyCluster</code>.
            </p></li><li class="listitem"><p>
              <span class="guilabel">Host list</span>: A comma-delimited list of
              one or more hosts where cluster processes should run. By
              default, this is <code class="literal">127.0.0.1</code>. If you add
              remote hosts to the list, you must be able to connect to
              them using the <span class="guilabel">SSH Credentials</span>
              supplied.
            </p></li><li class="listitem"><p>
              <span class="guilabel">Application type</span>: Choose one of the
              following:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                  <span class="guimenuitem">Simple testing</span>: Minimal
                  resource usage for small-scale testing. This the
                  default. <span class="emphasis"><em>Not intended for production
                  environments</em></span>.
                </p></li><li class="listitem"><p>
                  <span class="guimenuitem">Web</span>: Maximize performance
                  for the given hardware.
                </p></li><li class="listitem"><p>
                  <span class="guimenuitem">Real-time</span>: Maximize
                  performance while maximizing sensitivity to timeouts
                  in order to minimize the time needed to detect failed
                  cluster processes.
</p></li></ol>
</div>
</li><li class="listitem"><p>
              <span class="guilabel">Write load</span>: Choose a level for the
              anticipated number of writes for the cluster as a whole.
              You can choose any one of the following levels:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                  <span class="guimenuitem">Low</span>: The expected load
                  includes fewer than 100 write transactions for second.
                </p></li><li class="listitem"><p>
                  <span class="guimenuitem">Medium</span>: The expected load
                  includes 100 to 1000 write transactions per second.
                </p></li><li class="listitem"><p>
                  <span class="guimenuitem">High</span>: The expected load
                  includes more than 1000 write transactions per second.
</p></li></ol>
</div>
</li><li class="listitem"><p>
              <span class="guilabel">SSH Credentials</span>: Choose
              <span class="guilabel">Key-Based SSH</span> or enter
              <span class="guilabel">User</span> and
              <span class="guilabel">Password</span> credentials. The SSH key or
              a user name with password is required for connecting to
              any remote hosts specified in the <span class="guilabel">Host
              list</span>. By default, <span class="guilabel">Key-Based
              SSH</span> is selected, and the
              <span class="guilabel">User</span> and
              <span class="guilabel">Password</span> fileds are blank.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="mysql-cluster-install-auto-using-define-hosts"></a>17.2.1.3.4. MySQL Cluster Auto-Installer <span class="emphasis"><em>Define Hosts</em></span> Screen</h5>

</div>

</div>

</div>
<a class="indexterm" name="idp107064224"></a><p>
          The <span class="bold"><strong>Define Hosts</strong></span> screen,
          shown here, provides a means of viewing and specifying several
          key properties of each cluster host:
</p>
<div class="mediaobject">
<img src="images/define-hosts.png" width="600" height="435" alt="MySQL Cluster Define Hosts screen.">
</div>
<a class="indexterm" name="idp107072048"></a><p>
          The hosts currently entered are displayed in the grid with
          various pieces of information. You can add hosts by clicking
          the <span class="guibutton">Add hosts</span> button and entering a
          list of one or more comma-separated host names, IP addresses,
          or both (as when editing the host list on the
          <a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-cluster" title="17.2.1.3.3. MySQL Cluster Auto-Installer Define Cluster Screen"><span class="bold"><strong>Define
          Cluster</strong></span> screen</a>).
        </p><p>
          Similarly, you can remove one or more hosts using the button
          labelled <span class="guibutton">Remove selected host(s)</span>. When
          you remove a host in this fashion, any process which was
          configured for that host is also removed.
        </p><p>
          If <span class="guilabel">Automatically get resource information for new
          hosts</span> is checked in the
          <a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-overview" title="17.2.1.2. MySQL Cluster Auto-Installer Overview"><span class="guimenu">Settings</span>
          menu</a>, the Auto-Installer attempts to retrieve the
          platform name, amount of memory, and number of CPU cores and
          to fill these in automatically. The status of this is
          displayed in the <span class="emphasis"><em>Resource info</em></span> column.
          Fetching the information from remote hosts is not
          instantaneous and may take some time, particularly from remote
          hosts running Windows.
        </p><p>
          If the SSH user credentials on the
          <a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-cluster" title="17.2.1.3.3. MySQL Cluster Auto-Installer Define Cluster Screen"><span class="emphasis"><em>Define
          Cluster</em></span> screen</a> are changed, the tool tries
          to refresh the hardware information from any hosts for which
          information is missing. However, if a given field has already
          been edited, the user-supplied information is
          <span class="emphasis"><em>not</em></span> overwritten by any value fetched from
          that host.
        </p><p>
          The hardware resource information, platform name, installation
          directory, and data directory can be edited by the user by
          clicking the corresponding cell in the grid, by selecting one
          or more hosts and clicking the button labelled <span class="guilabel">Edit
          selected host(s)</span>. This causes a dialog box to
          appear, in which these fields can be edited, as shown here:
</p>
<div class="mediaobject">
<img src="images/edit-hosts.png" width="600" height="169" alt="MySQL Cluster Auto-Installer Edit Hosts(s) dialog.">
</div>
<p>
          When more than one host is selected, any edited values are
          applied to all selected hosts.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="mysql-cluster-install-auto-using-define-processes"></a>17.2.1.3.5. MySQL Cluster Auto-Installer <span class="emphasis"><em>Define Processes</em></span>
Screen</h5>
</div>
</div>
</div>
<a class="indexterm" name="idp107091856"></a><p>
          The <span class="bold"><strong>Define Processes</strong></span> screen,
          shown here, provides a way to assign MySQL Cluster processes
          (nodes) to cluster hosts:
</p>
<div class="mediaobject">
<img src="images/define-processes.png" width="600" height="435" alt="The MySQL Cluster Auto-Installer Define Processes screen.">
</div>
<p>
          The left-hand portion of this screen contains a process tree
          showing cluster hosts and processes set up to run on each one.
          On the right is a panel which displays information about the
          item currently selected in the tree.
        </p><p>
          When this screen is accessed for the first time for a given
          cluster, a default set of processes is defined for you, based
          on the number of hosts. If you later return to the
          <a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-hosts" title="17.2.1.3.4. MySQL Cluster Auto-Installer Define Hosts Screen"><span class="bold"><strong>Define
          Hosts</strong></span></a> screen, remove all hosts, and add new
          hosts, this also causes a new default set of processes to be
          defined.
        </p><p>
          MySQL Cluster processes are of the following types:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Management node. </b>
                Performs administrative tasks such as stopping
                individual data nodes, querying node and cluster status,
                and making backups. Executable:
                <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>.
              </p></li><li class="listitem"><p><b>Single-threaded data node. </b>
                Stores data and executes queries. Executable:
                <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>.
              </p></li><li class="listitem"><p><b>Multi threaded data node. </b>
                Stores data and executes queries with multiple worker
                threads executing in parallel. Executable:
                <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>.
              </p></li><li class="listitem"><p><b>SQL node. </b>
                MySQL server for executing SQL queries against
                <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>. Executable:
                <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
              </p></li><li class="listitem"><p><b>API node. </b>
                A client accessing data in
                <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> by means of the NDB API
                or other low-level client API, rather than by using SQL.
                See <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/index.html" target="_top">MySQL Cluster API Developer Guide</a>, for more information.
</p></li></ul>
</div>
<p>
          For more information about process (node) types, see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-basics" title="17.1.1. MySQL Cluster Core Concepts">Section 17.1.1, “MySQL Cluster Core Concepts”</a>.
        </p><p>
          Processes shown in the tree are numbered sequentially by type,
          for each host—for example, <code class="literal">SQL node
          1</code>, <code class="literal">SQL node 2</code>, and so on—to
          simplify identification.
        </p><p>
          Each management node, data node, or SQL process must be
          assigned to a specific host, and is not allowed to run on any
          other host. An API node <span class="emphasis"><em>may</em></span> be assigned
          to a single host, but this is not required. Instead, you can
          assign it to the special <span class="guimenuitem">Any host</span>
          entry which the tree also contains in addition to any other
          hosts, and which acts as a placeholder for processes that are
          allowed to run on any host. <span class="emphasis"><em>Only API processes may
          use this <span class="guimenuitem">Any host</span> entry</em></span>.
        </p><p><b>Adding processes. </b>
            <a class="indexterm" name="idp107124896"></a>

            To add a new process to a given host, either right-click
            that host's entry in the tree, then select the
            <span class="guilabel">Add process</span> popup when it appears, or
            select a host in the process tree, and press the
            <span class="guibutton">Add process</span> button below the process
            tree. Performing either of these actions opens the add
            process dialog, as shown here:
</p>
<div class="mediaobject">
<img src="images/add-process.png" width="600" height="300" alt="Dialog used in the MySQL Cluster Auto-Installer Define Processes screeen for adding a new cluster process.">
</div>
<p>
          Here you can select from among the available process types
          described earlier this section; you can also enter an
          arbitrary process name to take the place of the suggested
          value, if desired.
        </p><p><b>Removing processes. </b>
            <a class="indexterm" name="idp107135168"></a>

            To delete a process, right-click on a process in the tree
            and select <span class="guilabel">delete process</span> from the pop
            up menu that appears, or select a process, then use the
            <span class="guibutton">delete process</span> button below the
            process tree.
          </p><p>
          When a process is selected in the process tree, information
          about that process is displayed in the panel to the right of
          the tree, where you can change the process name and possibly
          its type. <span class="emphasis"><em>Important</em></span>: Currently, you can
          change a single-threaded data node (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>)
          to a multi-threaded data node (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>), or
          the reverse, only; no other process type changes are allowed.
          If you want to make a change between any other process types,
          you must delete the original process first, then add a new
          process of the desired type.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="mysql-cluster-install-auto-using-define-attributes"></a>17.2.1.3.6. MySQL Cluster Auto-Installer <span class="emphasis"><em>Define Attributes</em></span>
Screen</h5>
</div>
</div>
</div>
<a class="indexterm" name="idp107143568"></a><p>
          This screen has a layout similar to that of the
          <a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-processes" title="17.2.1.3.5. MySQL Cluster Auto-Installer Define Processes Screen"><span class="bold"><strong>Define
          Processes</strong></span> screen</a>, with a process tree at the
          left. Unlike that screen's tree, the
          <span class="bold"><strong>Define Attributes</strong></span> process
          tree is organized by process or node type, with
          single-threaded and multi-threaded data nodes considered to be
          of the same type for this purpose, in groups labelled
          <span class="guimenu">Management Layer</span>, <span class="guimenu">Data
          Layer</span>, <span class="guimenu">SQL Layer</span>, and
          <span class="guimenu">API Layer</span>. A panel to the right of this
          tree displays information regarding the item currently
          selected. The <span class="bold"><strong>Define
          Attributes</strong></span> screen is shown here:
</p>
<div class="mediaobject">
<img src="images/define-attributes.png" width="600" height="435" alt="MySQL Cluster Auto-Installer Define Attributes screen.">
</div>
<p>
          A checkbox labelled <span class="guilabel">Show advanced
          configuration</span> is located below the process tree.
          Checking this box makes advanced options visible in the
          information pane. Note that these options are set and used
          whether or not they are visible.
        </p><p>
          You can edit attributes for a single process by selecting that
          process from the tree, or for all processes of the same type
          in the cluster by selecting one of the
          <span class="guimenu">Layer</span> folders. A per-process value set for
          a given attribute overrides any per-group setting for that
          attribute that would otherwise apply to the process in
          question. An example of such an information panel (for an SQL
          process) is shown here:
</p>
<div class="mediaobject">
<img src="images/define-attributes-mysqld.png" width="600" height="300" alt="Define Attributes process with information panel showing attributes for an SQL process selected in the tree.">
</div>
<p>
          For some of the attributes shown in the information panel, a
          button bearing a plus sign is displayed to the right, which
          means that the value of this attribute can be overridden. This
          <span class="guibutton">+</span> button activates an input widget for
          the attribute, enabling you to change its value. When the
          value has been overridden, this button changes into a button
          showing an <span class="guibutton">X</span>, as shown here:
</p>
<div class="mediaobject">
<img src="images/define-attributes-mysqld-overridden.png" width="600" height="300" alt="The default value for an SQL process attribute has been overridden, as indicated with the X button.">
</div>
<p>
          Clicking the <span class="guibutton">X</span> button next to an
          attribute undoes any changes made to it; it immediately
          reverts to the predefined value.
        </p><p>
          All configuration attributes have predefined values calculated
          by the installer, based such factors as host name, node ID,
          node type, and so on. In most cases, these values may be left
          as they are. If you are not familiar with it already, it is
          highly recommended that you read the applicable documentation
          before making changes to any of the attribute values. To make
          finding this information easier, each attribute name shown in
          the information panel is linked to its description in the
          online MySQL Cluster documentation.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h5 class="title"><a name="mysql-cluster-install-auto-using-deploy-cluster"></a>17.2.1.3.7. MySQL Cluster Auto-Installer <span class="emphasis"><em>Deploy Cluster</em></span> Screen</h5>

</div>

</div>

</div>
<a class="indexterm" name="idp107176688"></a><p>
          This screen allows you to perform the following tasks:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              Review process startup commands and configuration files to
              be applied
            </p></li><li class="listitem"><p>
              Distribute configuration files by creating any necessary
              files and directories on all cluster hosts—that is,
              <span class="emphasis"><em>deploy</em></span> the cluster as presently
              configured
            </p></li><li class="listitem"><p>
              Start and stop the cluster
</p></li></ul>
</div>
<p>
          The <span class="bold"><strong>Deploy Cluster</strong></span> screen is
          shown here:
</p>
<div class="mediaobject">
<img src="images/deploy-cluster.png" width="600" height="440" alt="MySQL Cluster Auto-Installer Deploy Cluster screen.">
</div>
<p>
          Like the
          <a class="link" href="mysql-cluster.html#mysql-cluster-install-auto-using-define-attributes" title="17.2.1.3.6. MySQL Cluster Auto-Installer Define Attributes Screen"><span class="bold"><strong>Define
          Attributes</strong></span> screen</a>, this screens features a
          process tree, organized by process type, on the left hand
          side. Next to each process is a status icon whose color
          indicates the current status of the process: green if it is
          running; yellow if it is starting or stopping; red if the
          process is stopped.
        </p><p>
          To the right of the process tree are two information panels,
          the upper panel showing the startup command or commands needed
          to start the selected process. (For some processes, more than
          one command may be required—for example, if
          initialization is necessary.) The lower panel shows the
          contents of the configuration file, if any, for the given
          process; currently, the management node process is only type
          of process having a configuration file. Other process types
          are configured using command-line parameters when starting the
          process, or by obtaining configuration information from the
          management nodes as needed in real time.
        </p><p>
          Three buttons are located immediately below the process tree.
          These are labelled as and perform the functions described in
          the following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="guibutton">Deploy cluster</span>: Verify that the
              configuration is valid. Create any directories required on
              the cluster hosts, and distribute the configuration files
              onto the hosts. A progress bar shows how far the
              deployment has proceeded.
            </p></li><li class="listitem"><p>
              <span class="guibutton">Start cluster</span>: The cluster is
              deployed as with <span class="guibutton">Deploy cluster</span>,
              after which all cluster processes are started in the
              correct order.
            </p><p>
              Starting these processes may take some time. If the
              estimated time to completion is too large, the installer
              provides an opportunity to cancel or to continue of the
              startup procedure. A progress bar indicates the current
              status of the startup procedure, as shown here:
</p>
<div class="mediaobject">
<img src="images/starting-cluster.png" width="375" height="125" alt="Text describing image.">
</div>
<p>
              The process status icons adjoining the process tree
              mentioned previously also update with the status of each
              process.
            </p></li><li class="listitem"><p>
              <span class="guibutton">Stop cluster</span>: After the cluster has
              been started, you can stop it using the this. As with
              starting the cluster, cluster shutdown is not
              instantaneous, and may require some time complete. A
              progress bar, similar to that displayed during cluster
              startup, shows the approximate current status of the
              cluster shutdown procedure, as do the process status icons
              adjoining the process tree.
</p></li></ul>
</div>

</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-install-linux"></a>17.2.2. Installation of MySQL Cluster on Linux</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-linux-binary">17.2.2.1. Installing a MySQL Cluster Binary Release on Linux</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-linux-rpm">17.2.2.2. Installing MySQL Cluster from RPM</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-linux-source">17.2.2.3. Building MySQL Cluster from Source on Linux</a></span></dt></dl>
</div>
<a class="indexterm" name="idp107207296"></a><a class="indexterm" name="idp107208800"></a><p>
      This section covers installation methods for MySQL Cluster on
      Linux and other Unix-like operating systems. While the next few
      sections refer to a Linux operating system, the instructions and
      procedures given there should be easily adaptable to other
      supported Unix-like platforms. For manual installation and setup
      instructions specific to Windows systems, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows" title="17.2.3. Installing MySQL Cluster on Windows">Section 17.2.3, “Installing MySQL Cluster on Windows”</a>.
    </p><p>
      Each MySQL Cluster host computer must have the correct executable
      programs installed. A host running an SQL node must have installed
      on it a MySQL Server binary (<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>).
      Management nodes require the management server daemon
      (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>); data nodes require the data node
      daemon (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>). It
      is not necessary to install the MySQL Server binary on management
      node hosts and data node hosts. It is recommended that you also
      install the management client (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>) on the
      management server host.
    </p><p>
      Installation of MySQL Cluster on Linux can be done using
      precompiled binaries from Oracle (downloaded as a .tar.gz
      archive), with RPM packages (also available from Oracle), or from
      source code. All three of these installation methods are described
      in the section that follow.
    </p><p>
      Regardless of the method used, it is still necessary following
      installation of the MySQL Cluster binaries to create configuration
      files for all cluster nodes, before you can start the cluster. See
      <a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="17.2.4. Initial Configuration of MySQL Cluster">Section 17.2.4, “Initial Configuration of MySQL Cluster”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-install-linux-binary"></a>17.2.2.1. Installing a MySQL Cluster Binary Release on Linux</h4>
</div>
</div>
</div>
<a class="indexterm" name="idp107219728"></a><a class="indexterm" name="idp107221232"></a><p>
        This section covers the steps necessary to install the correct
        executables for each type of Cluster node from precompiled
        binaries supplied by Oracle.
      </p><p>
        For setting up a cluster using precompiled binaries, the first
        step in the installation process for each cluster host is to
        download the latest MySQL Cluster NDB 7.3 binary archive
        (<code class="filename">mysql-cluster-gpl-7.3.3-linux-i686-glibc23.tar.gz</code>)
        from the <a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">MySQL Cluster
        downloads area</a>. We assume that you have placed this file
        in each machine's <code class="filename">/var/tmp</code> directory.
        (If you do require a custom binary, see
        <a class="xref" href="installing.html#installing-development-tree" title="2.9.3. Installing MySQL Using a Development Source Tree">Section 2.9.3, “Installing MySQL Using a Development Source Tree”</a>.)
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          After completing the installation, do not yet start any of the
          binaries. We show you how to do so following the configuration
          of the nodes (see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="17.2.4. Initial Configuration of MySQL Cluster">Section 17.2.4, “Initial Configuration of MySQL Cluster”</a>).
</p>
</div>
<p><b>SQL nodes. </b>
          On each of the machines designated to host SQL nodes, perform
          the following steps as the system <code class="literal">root</code>
          user:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Check your <code class="filename">/etc/passwd</code> and
            <code class="filename">/etc/group</code> files (or use whatever tools
            are provided by your operating system for managing users and
            groups) to see whether there is already a
            <code class="literal">mysql</code> group and <code class="literal">mysql</code>
            user on the system. Some OS distributions create these as
            part of the operating system installation process. If they
            are not already present, create a new
            <code class="literal">mysql</code> user group, and then add a
            <code class="literal">mysql</code> user to this group:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>groupadd mysql</code></strong>
shell&gt; <strong class="userinput"><code>useradd -g mysql mysql</code></strong>
</pre><p>
            The syntax for <span class="command"><strong>useradd</strong></span> and
            <span class="command"><strong>groupadd</strong></span> may differ slightly on different
            versions of Unix, or they may have different names such as
            <span class="command"><strong>adduser</strong></span> and <span class="command"><strong>addgroup</strong></span>.
          </p></li><li class="listitem"><p>
            Change location to the directory containing the downloaded
            file, unpack the archive, and create a symbolic link named
            <code class="filename">mysql</code> to the <code class="filename">mysql</code>
            directory. Note that the actual file and directory names
            vary according to the MySQL Cluster version number.
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /var/tmp</code></strong>
shell&gt; <strong class="userinput"><code>tar -C /usr/local -xzvf mysql-cluster-gpl-7.3.3-linux2.6.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>ln -s /usr/local/mysql-cluster-gpl-7.3.3-linux2.6-i686 /usr/local/mysql</code></strong>
</pre></li><li class="listitem"><p>
            Change location to the <code class="filename">mysql</code> directory
            and run the supplied script for creating the system
            databases:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd mysql</code></strong>
shell&gt; <strong class="userinput"><code>scripts/mysql_install_db --user=mysql</code></strong>
</pre></li><li class="listitem"><p>
            Set the necessary permissions for the MySQL server and data
            directories:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>chown -R root .</code></strong>
shell&gt; <strong class="userinput"><code>chown -R mysql data</code></strong>
shell&gt; <strong class="userinput"><code>chgrp -R mysql .</code></strong>
</pre></li><li class="listitem"><p>
            Copy the MySQL startup script to the appropriate directory,
            make it executable, and set it to start when the operating
            system is booted up:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cp support-files/mysql.server /etc/rc.d/init.d/</code></strong>
shell&gt; <strong class="userinput"><code>chmod +x /etc/rc.d/init.d/mysql.server</code></strong>
shell&gt; <strong class="userinput"><code>chkconfig --add mysql.server</code></strong>
</pre><p>
            (The startup scripts directory may vary depending on your
            operating system and version—for example, in some
            Linux distributions, it is
            <code class="filename">/etc/init.d</code>.)
          </p><p>
            Here we use Red Hat's <span class="command"><strong>chkconfig</strong></span> for
            creating links to the startup scripts; use whatever means is
            appropriate for this purpose on your platform, such as
            <span class="command"><strong>update-rc.d</strong></span> on Debian.
</p></li></ol>
</div>
<p>
        Remember that the preceding steps must be repeated on each
        machine where an SQL node is to reside.
      </p><p><b>Data nodes. </b>
          Installation of the data nodes does not require the
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> binary. Only the MySQL Cluster data
          node executable <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> (single-threaded) or
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> (multi-threaded) is required. These
          binaries can also be found in the <code class="filename">.tar.gz</code>
          archive. Again, we assume that you have placed this archive in
          <code class="filename">/var/tmp</code>.
        </p><p>
        As system <code class="literal">root</code> (that is, after using
        <span class="command"><strong>sudo</strong></span>, <span class="command"><strong>su root</strong></span>, or your
        system's equivalent for temporarily assuming the system
        administrator account's privileges), perform the following steps
        to install the data node binaries on the data node hosts:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Change location to the <code class="filename">/var/tmp</code>
            directory, and extract the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> and
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> binaries from the archive into a
            suitable directory such as
            <code class="filename">/usr/local/bin</code>:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /var/tmp</code></strong>
shell&gt; <strong class="userinput"><code>tar -zxvf mysql-5.6.11-ndb-7.3.3-linux-i686-glibc23.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql-5.6.11-ndb-7.3.3-linux-i686-glibc23</code></strong>
shell&gt; <strong class="userinput"><code>cp bin/ndbd /usr/local/bin/ndbd</code></strong>
shell&gt; <strong class="userinput"><code>cp bin/ndbmtd /usr/local/bin/ndbmtd</code></strong>
</pre><p>
            (You can safely delete the directory created by unpacking
            the downloaded archive, and the files it contains, from
            <code class="filename">/var/tmp</code> once
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> and <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>
            have been copied to the executables directory.)
          </p></li><li class="listitem"><p>
            Change location to the directory into which you copied the
            files, and then make both of them executable:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /usr/local/bin</code></strong>
shell&gt; <strong class="userinput"><code>chmod +x ndb*</code></strong>
</pre></li></ol>
</div>
<p>
        The preceding steps should be repeated on each data node host.
      </p><p>
        Although only one of the data node executables is required to
        run a MySQL Cluster data node, we have shown you how to install
        both <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> and <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> in
        the preceding instructions. We recommend that you do this when
        installing or upgrading MySQL Cluster, even if you plan to use
        only one of them, since this will save time and trouble in the
        event that you later decide to change from one to the other.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          The data directory on each machine hosting a data node is
          <code class="filename">/usr/local/mysql/data</code>. This piece of
          information is essential when configuring the management node.
          (See <a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="17.2.4. Initial Configuration of MySQL Cluster">Section 17.2.4, “Initial Configuration of MySQL Cluster”</a>.)
</p>
</div>
<p><b>Management nodes. </b>
          Installation of the management node does not require the
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> binary. Only the MySQL Cluster
          management server (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>) is required;
          you most likely want to install the management client
          (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>) as well. Both of these binaries
          also be found in the <code class="filename">.tar.gz</code> archive.
          Again, we assume that you have placed this archive in
          <code class="filename">/var/tmp</code>.
        </p><p>
        As system <code class="literal">root</code>, perform the following steps
        to install <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> and
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> on the management node host:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Change location to the <code class="filename">/var/tmp</code>
            directory, and extract the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> and
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> from the archive into a suitable
            directory such as <code class="filename">/usr/local/bin</code>:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /var/tmp</code></strong>
shell&gt; <strong class="userinput"><code>tar -zxvf mysql-5.6.11-ndb-7.3.3-linux2.6-i686.tar.gz</code></strong>
shell&gt; <strong class="userinput"><code>cd mysql-5.6.11-ndb-7.3.3-linux2.6-i686</code></strong>
shell&gt; <strong class="userinput"><code>cp bin/ndb_mgm* /usr/local/bin</code></strong>
</pre><p>
            (You can safely delete the directory created by unpacking
            the downloaded archive, and the files it contains, from
            <code class="filename">/var/tmp</code> once
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> and <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>
            have been copied to the executables directory.)
          </p></li><li class="listitem"><p>
            Change location to the directory into which you copied the
            files, and then make both of them executable:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /usr/local/bin</code></strong>
shell&gt; <strong class="userinput"><code>chmod +x ndb_mgm*</code></strong>
</pre></li></ol>
</div>
<p>
        In <a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="17.2.4. Initial Configuration of MySQL Cluster">Section 17.2.4, “Initial Configuration of MySQL Cluster”</a>, we
        create configuration files for all of the nodes in our example
        MySQL Cluster.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-install-linux-rpm"></a>17.2.2.2. Installing MySQL Cluster from RPM</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp107317440"></a><a class="indexterm" name="idp107318944"></a><p>
        This section covers the steps necessary to install the correct
        executables for each type of MySQL Cluster node using RPM
        packages supplied by Oracle.
      </p><p>
        RPMs are available for both 32-bit and 64-bit Linux platforms.
        The filenames for these RPMs use the following pattern:
      </p><pre class="programlisting">MySQL-Cluster-<em class="replaceable"><code>component</code></em>-<em class="replaceable"><code>producttype</code></em>-<em class="replaceable"><code>ndbversion</code></em>.<em class="replaceable"><code>distribution</code></em>.<em class="replaceable"><code>architecture</code></em>.rpm

<em class="replaceable"><code>component</code></em>:= {server | client [| <em class="replaceable"><code>other</code></em>]}

<em class="replaceable"><code>producttype</code></em>:= {gpl | advanced}

<em class="replaceable"><code>ndbversion</code></em>:= <em class="replaceable"><code>major</code></em>.<em class="replaceable"><code>minor</code></em>.<em class="replaceable"><code>release</code></em>

<em class="replaceable"><code>distribution</code></em>:= {sles10 | rhel5 | el6}

<em class="replaceable"><code>architecture</code></em>:= {i386 | x86_64}
</pre><p>
        The <em class="replaceable"><code>component</code></em> can be
        <code class="literal">server</code> or <code class="literal">client</code>. (Other
        values are possible, but since only the
        <code class="literal">server</code> and <code class="literal">client</code>
        components are required for a working MySQL Cluster
        installation, we do not discuss them here.) The
        <em class="replaceable"><code>producttype</code></em> for Community RPMs
        downloaded from <code class="uri">http://dev.mysql.com/downloads/cluster/</code> is
        always <code class="literal">gpl</code>; <code class="literal">advanced</code> is
        used to indicate commercial releases.
        <em class="replaceable"><code>ndbversion</code></em> represents the three-part
        <code class="literal">NDB</code> storage engine version number in
        7.3.<em class="replaceable"><code>x</code></em> format. The
        <em class="replaceable"><code>distribution</code></em> can be one of
        <code class="literal">sles11</code> (SUSE Enterprise Linux 11),
        <code class="literal">rhel5</code> (Oracle Linux 5, Red Hat Enterprise
        Linux 4 and 5), or <code class="literal">el6</code> (Oracle Linux 6, Red
        Hat Enterprise Linux 6) The
        <em class="replaceable"><code>architecture</code></em> is
        <code class="literal">i386</code> for 32-bit RPMs and
        <code class="literal">x86_64</code> for 64-bit versions.
      </p><p>
        For a MySQL Cluster, one and possibly two RPMs are required:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The <code class="literal">server</code> RPM (for example,
            <code class="filename">MySQL-Cluster-server-gpl-7.3.3-1.sles11.i386.rpm</code>),
            which supplies the core files needed to run a MySQL Server
            with <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine
            support (that is, as a MySQL Cluster SQL node) as well as
            all MySQL Cluster executables, including the management
            node, data node, and <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client
            binaries. This RPM is always required for installing MySQL
            Cluster NDB 7.3.
          </p></li><li class="listitem"><p>
            If you do not have your own client application capable of
            administering a MySQL server, you should also obtain and
            install the <code class="literal">client</code> RPM (for example,
            <code class="filename">MySQL-Cluster-client-gpl-7.3.3-1.sles11.i386.rpm</code>),
            which supplies the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client
</p></li></ul>
</div>
<p>
        The MySQL Cluster version number in the RPM file names (shown
        here as <code class="literal">7.3.3</code>) can vary
        according to the version which you are actually using.
        <span class="emphasis"><em>It is very important that all of the Cluster RPMs to
        be installed have the same version number</em></span>. The
        <em class="replaceable"><code>architecture</code></em> designation should be
        appropriate to the machine on which the RPM is to be installed;
        in particular, you should keep in mind that 64-bit RPMs cannot
        be used with 32-bit operating system.
      </p><p><b>Data nodes. </b>
          On a computer that is to host a cluster data node it is
          necessary to install only the <code class="literal">server</code> RPM.
          To do so, copy this RPM to the data node host, and run the
          following command as the system root user, replacing the name
          shown for the RPM as necessary to match that of the RPM
          downloaded from the MySQL web site:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm -Uhv MySQL-Cluster-server-gpl-7.3.3-1.sles11.i386.rpm</code></strong>
</pre><p>
        Although this installs all MySQL Cluster binaries, only the
        program <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>
        (both in <code class="filename">/usr/sbin</code>) is actually needed to
        run a MySQL Cluster data node.
      </p><p><b>SQL nodes. </b>
          On each machine to be used for hosting a cluster SQL node,
          install the <code class="literal">server</code> RPM by executing the
          following command as the system root user, replacing the name
          shown for the RPM as necessary to match the name of the RPM
          downloaded from the MySQL web site:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm -Uhv MySQL-Cluster-server-gpl-7.3.3-1.sles11.i386.rpm</code></strong>
</pre><p>
        This installs the MySQL server binary
        (<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>) with
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine support in the
        <code class="filename">/usr/sbin</code> directory, as well as all needed
        MySQL Server support files. It also installs the
        <a class="link" href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span class="command"><strong>mysql.server</strong></span></a> and
        <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> startup scripts (in
        <code class="filename">/usr/share/mysql</code> and
        <code class="filename">/usr/bin</code>, respectively). The RPM installer
        should take care of general configuration issues (such as
        creating the <code class="literal">mysql</code> user and group, if needed)
        automatically.
      </p><p>
        To administer the SQL node (MySQL server), you should also
        install the <code class="literal">client</code> RPM, as shown here:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm -Uhv MySQL-Cluster-client-gpl-7.3.3-1.sles11.i386.rpm</code></strong>
</pre><p>
        This installs the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client program.
      </p><p><b>Management nodes. </b>
          To install the MySQL Cluster management server, it is
          necessary only to use the <code class="literal">server</code> RPM. Copy
          this RPM to the computer intended to host the management node,
          and then install it by running the following command as the
          system root user (replace the name shown for the RPM as
          necessary to match that of the <code class="literal">server</code> RPM
          downloaded from the MySQL web site):
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>rpm -Uhv MySQL-Cluster-server-gpl-7.3.3-1.sles11.i386.rpm</code></strong>
</pre><p>
        Although this RPM installs many other files, only the management
        server binary <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> (in the
        <code class="filename">/usr/sbin</code> directory) is actually required
        for running a management node. The <code class="literal">server</code> RPM
        also installs <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>, the
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> management client.
      </p><p>
        See <a class="xref" href="installing.html#linux-installation-rpm" title="2.5.1. Installing MySQL on Linux Using RPM Packages">Section 2.5.1, “Installing MySQL on Linux Using RPM Packages”</a>, for general
        information about installing MySQL using RPMs supplied by
        Oracle.
      </p><p>
        After installing from RPM, you still need to configure the
        cluster as discussed in
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="17.2.4. Initial Configuration of MySQL Cluster">Section 17.2.4, “Initial Configuration of MySQL Cluster”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          A number of RPMs used by MySQL Cluster NDB 7.1 were made
          obsolete and discontinued in MySQL Cluster NDB 7.3. These
          include the former <code class="literal">MySQL-Cluster-clusterj</code>,
          <code class="literal">MySQL-Cluster-extra</code>,
          <code class="literal">MySQL-Cluster-management</code>,
          <code class="literal">MySQL-Cluster-storage</code>, and <code class="literal">MySQL
          Cluster-tools</code> RPMs; all of these have been merged
          into the <code class="literal">MySQL-Cluster-server</code> RPM.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-install-linux-source"></a>17.2.2.3. Building MySQL Cluster from Source on Linux</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp107390592"></a><a class="indexterm" name="idp107392096"></a><p>
        This section provides information about compiling MySQL Cluster
        on Linux and other Unix-like platforms. Building MySQL Cluster
        from source is similar to building the standard MySQL Server,
        although it differs in a few key respects discussed here. For
        general information about building MySQL from source, see
        <a class="xref" href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a>. For information about
        compiling MySQL Cluster on Windows platforms, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-source" title="17.2.3.2. Compiling and Installing MySQL Cluster from Source on Windows">Section 17.2.3.2, “Compiling and Installing MySQL Cluster from Source on Windows”</a>.
      </p><p>
        Building MySQL Cluster requires using the MySQL Cluster sources.
        These are available from the MySQL Cluster downloads page at
        <code class="uri">http://dev.mysql.com/downloads/cluster/</code>. The archived source
        file should have a name similar to
        <code class="filename">mysql-cluster-gpl-7.3.3.tar.gz</code>.
        You can also obtain MySQL development sources from
        <code class="uri">launchpad.net</code>. Attempting to build MySQL Cluster from
        standard MySQL Server 5.6 sources is not supported.
      </p><p>
        The <a class="link" href="installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a>
        option for <span class="command"><strong>CMake</strong></span> causes the binaries for the
        management nodes, data nodes, and other MySQL Cluster programs
        to be built; it also causes <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> to be
        compiled with <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine
        support. This option is enabled by default in the MySQL Cluster
        NDB 7.3 sources.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          In MySQL Cluster NDB 7.3, the
          <a class="link" href="installing.html#option_cmake_with_ndb_java"><code class="option">WITH_NDB_JAVA</code></a> option is enabled
          by default. This means that, by default, if
          <span class="command"><strong>CMake</strong></span> cannot find the location of Java on
          your system, the configuration process fails; if you do not
          wish to enable Java and ClusterJ support, you must indicate
          this explicitly by configuring the build using
          <code class="option">-DWITH_NDB_JAVA=OFF</code>. Use
          <a class="link" href="installing.html#option_cmake_with_classpath"><code class="option">WITH_CLASSPATH</code></a> to provide the
          Java classpath if needed.
</p>
</div>
<p>
        For more information about <span class="command"><strong>CMake</strong></span> options
        specific to building MySQL Cluster, see
        <a class="link" href="installing.html#cmake-mysql-cluster-options" title="2.9.4.  ???TITLE??? Options for Compiling MySQL Cluster">Options for
        Compiling MySQL Cluster</a>.
      </p><p>
        After you have run <span class="command"><strong>make &amp;&amp; make
        install</strong></span> (or your system's equivalent), the result
        is similar to what is obtained by unpacking a precompiled binary
        to the same location.
      </p><p><b>Management nodes. </b>
          When building from source and running the default
          <span class="command"><strong>make install</strong></span>, the management server and
          management client binaries (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> and
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>) can be found in
          <code class="filename">/usr/local/mysql/bin</code>. Only
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> is required to be present on a
          management node host; however, it is also a good idea to have
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> present on the same host machine.
          Neither of these executables requires a specific location on
          the host machine's file system.
        </p><p><b>Data nodes. </b>
          The only executable required on a data node host is the data
          node binary <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>. (<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, for
          example, does not have to be present on the host machine.) By
          default, when building from source, this file is placed in the
          directory <code class="filename">/usr/local/mysql/bin</code>. For
          installing on multiple data node hosts, only
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> need be
          copied to the other host machine or machines. (This assumes
          that all data node hosts use the same architecture and
          operating system; otherwise you may need to compile separately
          for each different platform.) The data node binary need not be
          in any particular location on the host's file system, as long
          as the location is known.
        </p><p>
        When compiling MySQL Cluster from source, no special options are
        required for building multi-threaded data node binaries.
        Configuring the build with <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
        storage engine support causes <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> to be
        built automatically; <span class="command"><strong>make install</strong></span> places the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> binary in the installation
        <code class="filename">bin</code> directory along with
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>, and
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>.
      </p><p><b>SQL nodes. </b>
          If you compile MySQL with clustering support, and perform the
          default installation (using <span class="command"><strong>make install</strong></span> as
          the system <code class="literal">root</code> user),
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is placed in
          <code class="filename">/usr/local/mysql/bin</code>. Follow the steps
          given in <a class="xref" href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a> to make
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> ready for use. If you want to run
          multiple SQL nodes, you can use a copy of the same
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> executable and its associated
          support files on several machines. The easiest way to do this
          is to copy the entire <code class="filename">/usr/local/mysql</code>
          directory and all directories and files contained within it to
          the other SQL node host or hosts, then repeat the steps from
          <a class="xref" href="installing.html#source-installation" title="2.9. Installing MySQL from Source">Section 2.9, “Installing MySQL from Source”</a> on each machine. If you
          configure the build with a nondefault <code class="option">PREFIX</code>
          option, you must adjust the directory accordingly.
        </p><p>
        In <a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="17.2.4. Initial Configuration of MySQL Cluster">Section 17.2.4, “Initial Configuration of MySQL Cluster”</a>, we
        create configuration files for all of the nodes in our example
        MySQL Cluster.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-install-windows"></a>17.2.3. Installing MySQL Cluster on Windows</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-windows-binary">17.2.3.1. Installing MySQL Cluster on Windows from a Binary Release</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-windows-source">17.2.3.2. Compiling and Installing MySQL Cluster from Source on Windows</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-windows-initial-start">17.2.3.3. Initial Startup of MySQL Cluster on Windows</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-install-windows-service">17.2.3.4. Installing MySQL Cluster Processes as Windows Services</a></span></dt></dl>
</div>
<a class="indexterm" name="idp107440896"></a><a class="indexterm" name="idp107442400"></a><p>
      This section describes installation procedures for MySQL Cluster
      on Windows hosts. MySQL Cluster NDB 7.3 binaries for Windows can
      be obtained from <a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">http://dev.mysql.com/downloads/cluster/</a>. For
      information about installing MySQL Cluster on Windows from a
      binary release provided by Oracle, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-binary" title="17.2.3.1. Installing MySQL Cluster on Windows from a Binary Release">Section 17.2.3.1, “Installing MySQL Cluster on Windows from a Binary Release”</a>.
    </p><p>
      It is also possible to compile and install MySQL Cluster from
      source on Windows using Microsoft Visual Studio. For more
      information, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-source" title="17.2.3.2. Compiling and Installing MySQL Cluster from Source on Windows">Section 17.2.3.2, “Compiling and Installing MySQL Cluster from Source on Windows”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-install-windows-binary"></a>17.2.3.1. Installing MySQL Cluster on Windows from a Binary Release</h4>
</div>
</div>
</div>
<a class="indexterm" name="idp107447856"></a><a class="indexterm" name="idp107449360"></a><p>
        This section describes a basic installation of MySQL Cluster on
        Windows using a binary <code class="literal">no-install</code> MySQL
        Cluster release provided by Oracle, using the same 4-node setup
        outlined in the beginning of this section (see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-installation" title="17.2. MySQL Cluster Installation">Section 17.2, “MySQL Cluster Installation”</a>), as shown in the
        following table:
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Node</th><th scope="col">IP Address</th></tr></thead><tbody><tr><td scope="row">Management (MGMD) node</td><td>192.168.0.10</td></tr><tr><td scope="row">MySQL server (SQL) node</td><td>192.168.0.20</td></tr><tr><td scope="row">Data (NDBD) node "A"</td><td>192.168.0.30</td></tr><tr><td scope="row">Data (NDBD) node "B"</td><td>192.168.0.40</td></tr></tbody></table>
</div>
<p>
        As on other platforms, the MySQL Cluster host computer running
        an SQL node must have installed on it a MySQL Server binary
        (<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld.exe</strong></span></a>). You should also have the MySQL
        client (<a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql.exe</strong></span></a>) on on this host. For
        management nodes and data nodes, it is not necessary to install
        the MySQL Server binary; however, each management node requires
        the management server daemon (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd.exe</strong></span></a>);
        each data node requires the data node daemon
        (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd.exe</strong></span></a> or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd.exe</strong></span></a>).
        For this example, we refer to <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd.exe</strong></span></a> as the
        data node executable, but you can install
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd.exe</strong></span></a>, the multi-threaded version of
        this program, instead, in exactly the same way. You should also
        install the management client (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm.exe</strong></span></a>)
        on the management server host. This section covers the steps
        necessary to install the correct Windows binaries for each type
        of MySQL Cluster node.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          As with other Windows programs, MySQL Cluster executables are
          named with the <code class="filename">.exe</code> file extension.
          However, it is not necessary to include the
          <code class="filename">.exe</code> extension when invoking these
          programs from the command line. Therefore, we often simply
          refer to these programs in this documentation as
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>,
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>, and so on. You should understand
          that, whether we refer (for example) to
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> or <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld.exe</strong></span></a>,
          either name means the same thing (the MySQL Server program).
</p>
</div>
<p>
        For setting up a MySQL Cluster using Oracles's
        <code class="literal">no-install</code> binaries, the first step in the
        installation process is to download the latest MySQL Cluster
        Windows binary archive from
        <a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">http://dev.mysql.com/downloads/cluster/</a>. This archive has a
        filename of the form
        <code class="filename">mysql-cluster-gpl-noinstall-<em class="replaceable"><code>ver</code></em>-win<em class="replaceable"><code>arch</code></em>.zip</code>,
        where <em class="replaceable"><code>ver</code></em> is the
        <code class="literal">NDB</code> storage engine version (such as
        <code class="literal">7.3.1</code>), and <em class="replaceable"><code>arch</code></em>
        is the architecture (<code class="literal">32</code> for 32-bit binaries,
        and <code class="literal">64</code> for 64-bit binaries). For example, the
        MySQL Cluster NDB 7.3.1 <code class="literal">no-install</code> archive
        for 32-bit Windows systems is named
        <code class="filename">mysql-cluster-gpl-noinstall-7.3.1-win32.zip</code>.
      </p><p>
        You can run 32-bit MySQL Cluster binaries on both 32-bit and
        64-bit versions of Windows; however, 64-bit MySQL Cluster
        binaries can be used only on 64-bit versions of Windows. If you
        are using a 32-bit version of Windows on a computer that has a
        64-bit CPU, then you must use the 32-bit MySQL Cluster binaries.
      </p><p>
        To minimize the number of files that need to be downloaded from
        the Internet or copied between machines, we start with the
        computer where you intend to run the SQL node.
      </p><p><b>SQL node. </b>
          We assume that you have placed a copy of the
          <code class="literal">no-install</code> archive in the directory
          <code class="filename">C:\Documents and
          Settings\<em class="replaceable"><code>username</code></em>\My
          Documents\Downloads</code> on the computer having the IP
          address 192.168.0.20, where
          <em class="replaceable"><code>username</code></em> is the name of the current
          user. (You can obtain this name using <code class="literal">ECHO
          %USERNAME%</code> on the command line.) To install and run
          MySQL Cluster executables as Windows services, this user
          should be a member of the <code class="literal">Administrators</code>
          group.
        </p><p>
        Extract all the files from the archive. The Extraction Wizard
        integrated with Windows Explorer is adequate for this task. (If
        you use a different archive program, be sure that it extracts
        all files and directories from the archive, and that it
        preserves the archive's directory structure.) When you are
        asked for a destination directory, enter
        <code class="filename">C:\</code>, which causes the Extraction Wizard to
        extract the archive to the directory
        <code class="filename">C:\mysql-cluster-gpl-noinstall-<em class="replaceable"><code>ver</code></em>-win<em class="replaceable"><code>arch</code></em></code>.
        Rename this directory to <code class="filename">C:\mysql</code>.
      </p><p>
        It is possible to install the MySQL Cluster binaries to
        directories other than <code class="filename">C:\mysql\bin</code>;
        however, if you do so, you must modify the paths shown in this
        procedure accordingly. In particular, if the MySQL Server (SQL
        node) binary is installed to a location other than
        <code class="filename">C:\mysql</code> or <code class="filename">C:\Program
        Files\MySQL\MySQL Server 5.6</code>, or if the
        SQL node's data directory is in a location other than
        <code class="filename">C:\mysql\data</code> or <code class="filename">C:\Program
        Files\MySQL\MySQL Server 5.6\data</code>, extra
        configuration options must be used on the command line or added
        to the <code class="filename">my.ini</code> or
        <code class="filename">my.cnf</code> file when starting the SQL node. For
        more information about configuring a MySQL Server to run in a
        nonstandard location, see
        <a class="xref" href="installing.html#windows-install-archive" title="2.3.5. Installing MySQL on Microsoft Windows Using a noinstall Zip Archive">Section 2.3.5, “Installing MySQL on Microsoft Windows Using a
      <code class="literal">noinstall</code> Zip Archive”</a>.
      </p><p>
        For a MySQL Server with MySQL Cluster support to run as part of
        a MySQL Cluster, it must be started with the options
        <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a> and
        <a class="link" href="mysql-cluster.html#option_mysqld_ndb-connectstring"><code class="option">--ndb-connectstring</code></a>. While you
        can specify these options on the command line, it is usually
        more convenient to place them in an option file. To do this,
        create a new text file in Notepad or another text editor. Enter
        the following configuration information into this file:
      </p><pre class="programlisting">[mysqld]
# Options for mysqld process:
ndbcluster                      # run NDB storage engine
ndb-connectstring=192.168.0.10  # location of management server</pre><p>
        You can add other options used by this MySQL Server if desired
        (see <a class="xref" href="installing.html#windows-create-option-file" title="2.3.5.2. Creating an Option File">Section 2.3.5.2, “Creating an Option File”</a>), but the file
        must contain the options shown, at a minimum. Save this file as
        <code class="filename">C:\mysql\my.ini</code>. This completes the
        installation and setup for the SQL node.
      </p><p><b>Data nodes. </b>
          A MySQL Cluster data node on a Windows host requires only a
          single executable, one of either <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd.exe</strong></span></a>
          or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd.exe</strong></span></a>. For this example, we assume
          that you are using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd.exe</strong></span></a>, but the same
          instructions apply when using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd.exe</strong></span></a>.
          On each computer where you wish to run a data node (the
          computers having the IP addresses 192.168.0.30 and
          192.168.0.40), create the directories
          <code class="filename">C:\mysql</code>,
          <code class="filename">C:\mysql\bin</code>, and
          <code class="filename">C:\mysql\cluster-data</code>; then, on the
          computer where you downloaded and extracted the
          <code class="literal">no-install</code> archive, locate
          <code class="filename">ndbd.exe</code> in the
          <code class="filename">C:\mysql\bin</code> directory. Copy this file to
          the <code class="filename">C:\mysql\bin</code> directory on each of the
          two data node hosts.
        </p><p>
        To function as part of a MySQL Cluster, each data node must be
        given the address or hostname of the management server. You can
        supply this information on the command line using the
        <a class="link" href="mysql-cluster.html#option_ndb_config_ndb-connectstring"><code class="option">--ndb-connectstring</code></a> or
        <code class="option">-c</code> option when starting each data node process.
        However, it is usually preferable to put this information in an
        option file. To do this, create a new text file in Notepad or
        another text editor and enter the following text:
      </p><pre class="programlisting">[mysql_cluster]
# Options for data node process:
ndb-connectstring=192.168.0.10  # location of management server</pre><p>
        Save this file as <code class="filename">C:\mysql\my.ini</code> on the
        data node host. Create another text file containing the same
        information and save it on as
        <code class="filename">C:mysql\my.ini</code> on the other data node host,
        or copy the my.ini file from the first data node host to the
        second one, making sure to place the copy in the second data
        node's <code class="filename">C:\mysql</code> directory. Both data
        node hosts are now ready to be used in the MySQL Cluster, which
        leaves only the management node to be installed and configured.
      </p><p><b>Management node. </b>
          The only executable program required on a computer used for
          hosting a MySQL Cluster management node is the management
          server program <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd.exe</strong></span></a>. However, in
          order to administer the MySQL Cluster once it has been
          started, you should also install the MySQL Cluster management
          client program <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm.exe</strong></span></a> on the same
          machine as the management server. Locate these two programs on
          the machine where you downloaded and extracted the
          <code class="literal">no-install</code> archive; this should be the
          directory <code class="filename">C:\mysql\bin</code> on the SQL node
          host. Create the directory <code class="filename">C:\mysql\bin</code>
          on the computer having the IP address 192.168.0.10, then copy
          both programs to this directory.
        </p><p>
        You should now create two configuration files for use by
        <code class="filename">ndb_mgmd.exe</code>:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            A local configuration file to supply configuration data
            specific to the management node itself. Typically, this file
            needs only to supply the location of the MySQL Cluster
            global configuration file (see item 2).
          </p><p>
            To create this file, start a new text file in Notepad or
            another text editor, and enter the following information:
          </p><pre class="programlisting">[mysql_cluster]
# Options for management node process
config-file=C:/mysql/bin/config.ini</pre><p>
            Save this file as the plaintext file
            <code class="filename">C:\mysql\bin\my.ini</code>.
          </p></li><li class="listitem"><p>
            A global configuration file from which the management node
            can obtain configuration information governing the MySQL
            Cluster as a whole. At a minimum, this file must contain a
            section for each node in the MySQL Cluster, and the IP
            addresses or hostnames for the management node and all data
            nodes (<code class="literal">HostName</code> configuration parameter).
            It is also advisable to include the following additional
            information:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                The IP address or hostname of any SQL nodes
              </p></li><li class="listitem"><p>
                The data memory and index memory allocated to each data
                node (<a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a>
                and <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a>
                configuration parameters)
              </p></li><li class="listitem"><p>
                The number of replicas, using the
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a>
                configuration parameter (see
                <a class="xref" href="mysql-cluster.html#mysql-cluster-nodes-groups" title="17.1.2. MySQL Cluster Nodes, Node Groups, Replicas, and Partitions">Section 17.1.2, “MySQL Cluster Nodes, Node Groups, Replicas, and Partitions”</a>)
              </p></li><li class="listitem"><p>
                The directory where each data node stores it data and
                log file, and the directory where the management node
                keeps its log files (in both cases, the
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a>
                configuration parameter)
</p></li></ul>
</div>
<p>
            Create a new text file using a text editor such as Notepad,
            and input the following information:
          </p><pre class="programlisting">[ndbd default]
# Options affecting ndbd processes on all data nodes:
NoOfReplicas=2                      # Number of replicas
DataDir=C:/mysql/bin/cluster-data   # Directory for each data node's data files
                                    # Forward slashes used in directory path,
                                    # rather than backslashes. This is correct;
                                    # see <span class="bold"><strong>Important</strong></span> note in text
DataMemory=80M    # Memory allocated to data storage
IndexMemory=18M   # Memory allocated to index storage
                  # For DataMemory and IndexMemory, we have used the
                  # default values. Since the "world" database takes up
                  # only about 500KB, this should be more than enough for
                  # this example Cluster setup.

[ndb_mgmd]
# Management process options:
HostName=192.168.0.10               # Hostname or IP address of management node
DataDir=C:/mysql/bin/cluster-logs   # Directory for management node log files

[ndbd]
# Options for data node "A":
                                # (one [ndbd] section per data node)
HostName=192.168.0.30           # Hostname or IP address

[ndbd]
# Options for data node "B":
HostName=192.168.0.40           # Hostname or IP address

[mysqld]
# SQL node options:
HostName=192.168.0.20           # Hostname or IP address
</pre><p>
            Save this file as the plaintext file
            <code class="filename">C:\mysql\bin\config.ini</code>.
</p></li></ol>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Important
</div>
<p xmlns="">
          A single backslash character (<code class="literal">\</code>) cannot be
          used when specifying directory paths in program options or
          configuration files used by MySQL Cluster on Windows. Instead,
          you must either escape each backslash character with a second
          backslash (<code class="literal">\\</code>), or replace the backslash
          with a forward slash character (<code class="literal">/</code>). For
          example, the following line from the
          <code class="literal">[ndb_mgmd]</code> section of a MySQL Cluster
          <code class="filename">config.ini</code> file does not work:
        </p><pre class="programlisting">DataDir=C:\mysql\bin\cluster-logs</pre><p xmlns="">
          Instead, you may use either of the following:
        </p><pre class="programlisting">DataDir=C:\\mysql\\bin\\cluster-logs  # Escaped backslashes</pre><pre class="programlisting">DataDir=C:/mysql/bin/cluster-logs     # Forward slashes</pre><p xmlns="">
          For reasons of brevity and legibility, we recommend that you
          use forward slashes in directory paths used in MySQL Cluster
          program options and configuration files on Windows.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-install-windows-source"></a>17.2.3.2. Compiling and Installing MySQL Cluster from Source on Windows</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp107559040"></a><a class="indexterm" name="idp107560544"></a><p>
        Oracle provides precompiled MySQL Cluster binaries for Windows
        which should be adequate for most users. However, if you wish,
        it is also possible to compile MySQL Cluster for Windows from
        source code. The procedure for doing this is almost identical to
        the procedure used to compile the standard MySQL Server binaries
        for Windows, and uses the same tools. However, there are two
        major differences:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            To build MySQL Cluster, you must use the MySQL Cluster
            sources, which you can obtain from
            <a class="ulink" href="http://dev.mysql.com/downloads/cluster/" target="_top">http://dev.mysql.com/downloads/cluster/</a>.
          </p><p>
            Attempting to build MySQL Cluster from the source code for
            the standard MySQL Server is likely not to be successful,
            and is not supported by Oracle.
          </p></li><li class="listitem"><p>
            You must configure the build using the
            <a class="link" href="installing.html#option_cmake_with_ndbcluster_storage_engine"><code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code></a>
            or <a class="link" href="installing.html#option_cmake_with_ndbcluster"><code class="option">WITH_NDBCLUSTER</code></a> option in
            addition to any other build options you wish to use with
            <span class="command"><strong>CMake</strong></span>. (<code class="option">WITH_NDBCLUSTER</code>
            is supported as an alias for
            <code class="option">WITH_NDBCLUSTER_STORAGE_ENGINE</code>, and works
            in exactly the same way.)
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Important
</div>
<p xmlns="">
          In MySQL Cluster NDB 7.3, the
          <a class="link" href="installing.html#option_cmake_with_ndb_java"><code class="option">WITH_NDB_JAVA</code></a> option is enabled
          by default. This means that, by default, if
          <span class="command"><strong>CMake</strong></span> cannot find the location of Java on
          your system, the configuration process fails; if you do not
          wish to enable Java and ClusterJ support, you must indicate
          this explicitly by configuring the build using
          <code class="option">-DWITH_NDB_JAVA=OFF</code>. (Bug #12379735) Use
          <a class="link" href="installing.html#option_cmake_with_classpath"><code class="option">WITH_CLASSPATH</code></a> to provide the
          Java classpath if needed.
</p>
</div>
<p>
        For more information about <span class="command"><strong>CMake</strong></span> options
        specific to building MySQL Cluster, see
        <a class="link" href="installing.html#cmake-mysql-cluster-options" title="2.9.4.  ???TITLE??? Options for Compiling MySQL Cluster">Options for
        Compiling MySQL Cluster</a>.
      </p><p>
        Once the build process is complete, you can create a Zip archive
        containing the compiled binaries;
        <a class="xref" href="installing.html#installing-source-distribution" title="2.9.2. Installing MySQL Using a Standard Source Distribution">Section 2.9.2, “Installing MySQL Using a Standard Source Distribution”</a> provides the
        commands needed to perform this task on Windows systems. The
        MySQL Cluster binaries can be found in the
        <code class="filename">bin</code> directory of the resulting archive,
        which is equivalent to the <code class="literal">no-install</code>
        archive, and which can be installed and configured in the same
        manner. For more information, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-binary" title="17.2.3.1. Installing MySQL Cluster on Windows from a Binary Release">Section 17.2.3.1, “Installing MySQL Cluster on Windows from a Binary Release”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-install-windows-initial-start"></a>17.2.3.3. Initial Startup of MySQL Cluster on Windows</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp107580320"></a><p>
        Once the MySQL Cluster executables and needed configuration
        files are in place, performing an initial start of the cluster
        is simply a matter of starting the MySQL Cluster executables for
        all nodes in the cluster. Each cluster node process must be
        started separately, and on the host computer where it resides.
        The management node should be started first, followed by the
        data nodes, and then finally by any SQL nodes.
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            On the management node host, issue the following command
            from the command line to start the management node process:
          </p><pre class="programlisting">C:\mysql\bin&gt; <strong class="userinput"><code>ndb_mgmd</code></strong>
2010-06-23 07:53:34 [MgmtSrvr] INFO -- NDB Cluster Management Server. mysql-5.6.11-ndb-7.3.3
2010-06-23 07:53:34 [MgmtSrvr] INFO -- Reading cluster configuration from 'config.ini'
</pre><p>
            The management node process continues to print logging
            output to the console. This is normal, because the
            management node is not running as a Windows service. (If you
            have used MySQL Cluster on a Unix-like platform such as
            Linux, you may notice that the management node's
            default behavior in this regard on Windows is effectively
            the opposite of its behavior on Unix systems, where it runs
            by default as a Unix daemon process. This behavior is also
            true of MySQL Cluster data node processes running on
            Windows.) For this reason, do not close the window in which
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd.exe</strong></span></a> is running; doing so kills
            the management node process. (See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-service" title="17.2.3.4. Installing MySQL Cluster Processes as Windows Services">Section 17.2.3.4, “Installing MySQL Cluster Processes as Windows Services”</a>,
            where we show how to install and run MySQL Cluster processes
            as Windows services.)
          </p><p>
            The required <code class="option">-f</code> option tells the management
            node where to find the global configuration file
            (<code class="filename">config.ini</code>). The long form of this
            option is <a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-file"><code class="option">--config-file</code></a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              A MySQL Cluster management node caches the configuration
              data that it reads from <code class="filename">config.ini</code>;
              once it has created a configuration cache, it ignores the
              <code class="filename">config.ini</code> file on subsequent starts
              unless forced to do otherwise. This means that, if the
              management node fails to start due to an error in this
              file, you must make the management node re-read
              <code class="filename">config.ini</code> after you have corrected
              any errors in it. You can do this by starting
              <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd.exe</strong></span></a> with the
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_reload"><code class="option">--reload</code></a> or
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_initial"><code class="option">--initial</code></a> option on the
              command line. Either of these options works to refresh the
              configuration cache.
            </p><p xmlns="">
              It is not necessary or advisable to use either of these
              options in the management node's
              <code class="filename">my.ini</code> file.
</p>
</div>
<p>
            For additional information about options which can be used
            with <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon">Section 17.4.4, “<span class="command"><strong>ndb_mgmd</strong></span> — The MySQL Cluster Management Server Daemon”</a>, as well
            as <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
          </p></li><li class="listitem"><p>
            On each of the data node hosts, run the command shown here
            to start the data node processes:
          </p><pre class="programlisting">C:\mysql\bin&gt; <strong class="userinput"><code>ndbd</code></strong>
2010-06-23 07:53:46 [ndbd] INFO -- Configuration fetched from 'localhost:1186', generation: 1
</pre><p>
            In each case, the first line of output from the data node
            process should resemble what is shown in the preceding
            example, and is followed by additional lines of logging
            output. As with the management node process, this is normal,
            because the data node is not running as a Windows service.
            For this reason, do not close the console window in which
            the data node process is running; doing so kills
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd.exe</strong></span></a>. (For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-service" title="17.2.3.4. Installing MySQL Cluster Processes as Windows Services">Section 17.2.3.4, “Installing MySQL Cluster Processes as Windows Services”</a>.)
          </p></li><li class="listitem"><p>
            Do not start the SQL node yet; it cannot connect to the
            cluster until the data nodes have finished starting, which
            may take some time. Instead, in a new console window on the
            management node host, start the MySQL Cluster management
            client <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm.exe</strong></span></a>, which should be in
            <code class="filename">C:\mysql\bin</code> on the management node
            host. (Do not try to re-use the console window where
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd.exe</strong></span></a> is running by typing
            <span class="keycap"><strong>CTRL</strong></span>+<span class="keycap"><strong>C</strong></span>, as this kills the
            management node.) The resulting output should look like
            this:
          </p><pre class="programlisting">C:\mysql\bin&gt; <strong class="userinput"><code>ndb_mgm</code></strong>
-- NDB Cluster -- Management Client --
ndb_mgm&gt;
</pre><p>
            When the prompt <code class="literal">ndb_mgm&gt;</code> appears, this
            indicates that the management client is ready to receive
            MySQL Cluster management commands. You can observe the
            status of the data nodes as they start by entering
            <code class="literal">ALL STATUS</code> at the management client
            prompt. This command causes a running report of the data
            nodes's startup sequence, which should look something
            like this:
          </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>ALL STATUS</code></strong>
Connected to Management Server at: localhost:1186
Node 2: starting (Last completed phase 3) (mysql-5.6.11-ndb-7.3.3)
Node 3: starting (Last completed phase 3) (mysql-5.6.11-ndb-7.3.3)

Node 2: starting (Last completed phase 4) (mysql-5.6.11-ndb-7.3.3)
Node 3: starting (Last completed phase 4) (mysql-5.6.11-ndb-7.3.3)

Node 2: Started (version 7.3.3)
Node 3: Started (version 7.3.3)

ndb_mgm&gt;
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              Commands issued in the management client are not
              case-sensitive; we use uppercase as the canonical form of
              these commands, but you are not required to observe this
              convention when inputting them into the
              <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client. For more information,
              see <a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="17.5.2. Commands in the MySQL Cluster Management Client">Section 17.5.2, “Commands in the MySQL Cluster Management Client”</a>.
</p>
</div>
<p>
            The output produced by <code class="literal">ALL STATUS</code> is
            likely to vary from what is shown here, according to the
            speed at which the data nodes are able to start, the release
            version number of the MySQL Cluster software you are using,
            and other factors. What is significant is that, when you see
            that both data nodes have started, you are ready to start
            the SQL node.
          </p><p>
            You can leave <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm.exe</strong></span></a> running; it has
            no negative impact on the performance of the MySQL Cluster,
            and we use it in the next step to verify that the SQL node
            is connected to the cluster after you have started it.
          </p></li><li class="listitem"><p>
            On the computer designated as the SQL node host, open a
            console window and navigate to the directory where you
            unpacked the MySQL Cluster binaries (if you are following
            our example, this is <code class="filename">C:\mysql\bin</code>).
          </p><p>
            Start the SQL node by invoking <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld.exe</strong></span></a>
            from the command line, as shown here:
          </p><pre class="programlisting">C:\mysql\bin&gt; <strong class="userinput"><code>mysqld --console</code></strong>
</pre><p>
            The <a class="link" href="server-administration.html#option_mysqld_console"><code class="option">--console</code></a> option causes
            logging information to be written to the console, which can
            be helpful in the event of problems. (Once you are satisfied
            that the SQL node is running in a satisfactory manner, you
            can stop it and restart it out without the
            <a class="link" href="server-administration.html#option_mysqld_console"><code class="option">--console</code></a> option, so that
            logging is performed normally.)
          </p><p>
            In the console window where the management client
            (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm.exe</strong></span></a>) is running on the
            management node host, enter the <code class="literal">SHOW</code>
            command, which should produce output similar to what is
            shown here:
          </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: localhost:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=2    @192.168.0.30  (Version: 5.6.11-ndb-7.3.3, Nodegroup: 0, Master)
id=3    @192.168.0.40  (Version: 5.6.11-ndb-7.3.3, Nodegroup: 0)

[ndb_mgmd(MGM)] 1 node(s)
id=1    @192.168.0.10  (Version: 5.6.11-ndb-7.3.3)

[mysqld(API)]   1 node(s)
id=4    @192.168.0.20  (Version: 5.6.11-ndb-7.3.3)
</pre><p>
            You can also verify that the SQL node is connected to the
            MySQL Cluster in the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client
            (<a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql.exe</strong></span></a>) using the
            <a class="link" href="sql-syntax.html#show-engine-ndb-status" title="SHOW ENGINE NDB STATUS"><code class="literal">SHOW ENGINE NDB STATUS</code></a>
            statement.
</p></li></ol>
</div>
<p>
        You should now be ready to work with database objects and data
        using MySQL Cluster's
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine. See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-example-data" title="17.2.6. MySQL Cluster Example with Tables and Data">Section 17.2.6, “MySQL Cluster Example with Tables and Data”</a>, for more
        information and examples.
      </p><p>
        You can also install <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd.exe</strong></span></a>,
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd.exe</strong></span></a>, and <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd.exe</strong></span></a>
        as Windows services. For information on how to do this, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-service" title="17.2.3.4. Installing MySQL Cluster Processes as Windows Services">Section 17.2.3.4, “Installing MySQL Cluster Processes as Windows Services”</a>).
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-install-windows-service"></a>17.2.3.4. Installing MySQL Cluster Processes as Windows Services</h4>

</div>

</div>

</div>
<p>
        Once you are satisfied that MySQL Cluster is running as desired,
        you can install the management nodes and data nodes as Windows
        services, so that these processes are started and stopped
        automatically whenever Windows is started or stopped. This also
        makes it possible to control these processes from the command
        line with the appropriate <span class="command"><strong>NET START</strong></span> or
        <span class="command"><strong>NET STOP</strong></span> command, or using the Windows
        graphical <span class="command"><strong>Services</strong></span> utility.
      </p><p>
        Installing programs as Windows services usually must be done
        using an account that has Administrator rights on the system.
      </p><p>
        To install the management node as a service on Windows, invoke
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd.exe</strong></span></a> from the command line on the
        machine hosting the management node, using the
        <a class="link" href="mysql-cluster.html#option_ndb_mgmd_install"><code class="option">--install</code></a> option, as shown
        here:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndb_mgmd.exe --install</code></strong>
Installing service 'MySQL Cluster Management Server' 
  as '"C:\mysql\bin\ndbd.exe" "--service=ndb_mgmd"'
Service successfully installed.
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          When installing a MySQL Cluster program as a Windows service,
          you should always specify the complete path; otherwise the
          service installation may fail with the error <span class="errortext">The
          system cannot find the file specified</span>.
</p>
</div>
<p>
        The <a class="link" href="mysql-cluster.html#option_ndb_mgmd_install"><code class="option">--install</code></a> option must be
        used first, ahead of any other options that might be specified
        for <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd.exe</strong></span></a>. However, it is preferable
        to specify such options in an options file instead. If your
        options file is not in one of the default locations as shown in
        the output of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd.exe</strong></span></a>
        <a class="link" href="mysql-cluster.html#option_ndb_common_help"><code class="option">--help</code></a>, you can specify the
        location using the
        <a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-file"><code class="option">--config-file</code></a> option.
      </p><p>
        Now you should be able to start and stop the management server
        like this:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>NET START ndb_mgmd</code></strong>
The MySQL Cluster Management Server service is starting.
The MySQL Cluster Management Server service was started successfully.

C:\&gt; <strong class="userinput"><code>NET STOP ndb_mgmd</code></strong>
The MySQL Cluster Management Server service is stopping..
The MySQL Cluster Management Server service was stopped successfully.
</pre><p>
        You can also start or stop the management server as a Windows
        service using the descriptive name, as shown here:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>NET START 'MySQL Cluster Management Server'</code></strong>
The MySQL Cluster Management Server service is starting.
The MySQL Cluster Management Server service was started successfully.

C:\&gt; <strong class="userinput"><code>NET STOP  'MySQL Cluster Management Server'</code></strong>
The MySQL Cluster Management Server service is stopping..
The MySQL Cluster Management Server service was stopped successfully.
</pre><p>
        However, it is usually simpler to specify a short service name
        or to permit the default service name to be used when installing
        the service, and then reference that name when starting or
        stopping the service. To specify a service name other than
        <code class="literal">ndb_mgmd</code>, append it to the
        <a class="link" href="mysql-cluster.html#option_ndb_mgmd_install"><code class="option">--install</code></a> option, as shown in
        this example:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndb_mgmd.exe --install=mgmd1</code></strong>
Installing service 'MySQL Cluster Management Server' 
  as '"C:\mysql\bin\ndb_mgmd.exe" "--service=mgmd1"'
Service successfully installed.
</pre><p>
        Now you should be able to start or stop the service using the
        name you have specified, like this:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>NET START mgmd1</code></strong>
The MySQL Cluster Management Server service is starting.
The MySQL Cluster Management Server service was started successfully.

C:\&gt; <strong class="userinput"><code>NET STOP mgmd1</code></strong>
The MySQL Cluster Management Server service is stopping..
The MySQL Cluster Management Server service was stopped successfully.
</pre><p>
        To remove the management node service, invoke
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd.exe</strong></span></a> with the
        <a class="link" href="mysql-cluster.html#option_ndb_mgmd_remove"><code class="option">--remove</code></a> option, as shown here:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndb_mgmd.exe --remove</code></strong>
Removing service 'MySQL Cluster Management Server'
Service successfully removed.
</pre><p>
        If you installed the service using a service name other than the
        default, you can remove the service by passing this name as the
        value of the <a class="link" href="mysql-cluster.html#option_ndb_mgmd_remove"><code class="option">--remove</code></a> option,
        like this:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndb_mgmd.exe --remove=mgmd1</code></strong>
Removing service 'mgmd1'
Service successfully removed.
</pre><p>
        Installation of a MySQL Cluster data node process as a Windows
        service can be done in a similar fashion, using the
        <a class="link" href="mysql-cluster.html#option_ndbd_install"><code class="option">--install</code></a> option for
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd.exe</strong></span></a> (or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd.exe</strong></span></a>),
        as shown here:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndbd.exe --install</code></strong>
Installing service 'MySQL Cluster Data Node Daemon' as '"C:\mysql\bin\ndbd.exe" "--service=ndbd"'
Service successfully installed.
</pre><p>
        Now you can start or stop the data node using either the default
        service name or the descriptive name with <span class="command"><strong>net
        start</strong></span> or <span class="command"><strong>net stop</strong></span>, as shown in the
        following example:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>NET START ndbd</code></strong>
The MySQL Cluster Data Node Daemon service is starting.
The MySQL Cluster Data Node Daemon service was started successfully.

C:\&gt; <strong class="userinput"><code>NET STOP ndbd</code></strong>
The MySQL Cluster Data Node Daemon service is stopping..
The MySQL Cluster Data Node Daemon service was stopped successfully.

C:\&gt; <strong class="userinput"><code>NET START 'MySQL Cluster Data Node Daemon'</code></strong>
The MySQL Cluster Data Node Daemon service is starting.
The MySQL Cluster Data Node Daemon service was started successfully.

C:\&gt; <strong class="userinput"><code>NET STOP 'MySQL Cluster Data Node Daemon'</code></strong>
The MySQL Cluster Data Node Daemon service is stopping..
The MySQL Cluster Data Node Daemon service was stopped successfully.
</pre><p>
        To remove the data node service, invoke
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd.exe</strong></span></a> with the
        <a class="link" href="mysql-cluster.html#option_ndbd_remove"><code class="option">--remove</code></a> option, as shown here:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndbd.exe --remove</code></strong>
Removing service 'MySQL Cluster Data Node Daemon'
Service successfully removed.
</pre><p>
        As with <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd.exe</strong></span></a> (and
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld.exe</strong></span></a>), when installing
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd.exe</strong></span></a> as a Windows service, you can also
        specify a name for the service as the value of
        <a class="link" href="mysql-cluster.html#option_ndbd_install"><code class="option">--install</code></a>, and then use it when
        starting or stopping the service, like this:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndbd.exe --install=dnode1</code></strong>
Installing service 'dnode1' as '"C:\mysql\bin\ndbd.exe" "--service=dnode1"'
Service successfully installed.

C:\&gt; <strong class="userinput"><code>NET START dnode1</code></strong>
The MySQL Cluster Data Node Daemon service is starting.
The MySQL Cluster Data Node Daemon service was started successfully.

C:\&gt; <strong class="userinput"><code>NET STOP dnode1</code></strong>
The MySQL Cluster Data Node Daemon service is stopping..
The MySQL Cluster Data Node Daemon service was stopped successfully.
</pre><p>
        If you specified a service name when installing the data node
        service, you can use this name when removing it as well, by
        passing it as the value of the
        <a class="link" href="mysql-cluster.html#option_ndbd_remove"><code class="option">--remove</code></a> option, as shown here:
      </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>C:\mysql\bin\ndbd.exe --remove=dnode1</code></strong>
Removing service 'dnode1'
Service successfully removed.
</pre><p>
        Installation of the SQL node as a Windows service, starting the
        service, stopping the service, and removing the service are done
        in a similar fashion, using <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
        <code class="option">--install</code>, <span class="command"><strong>NET START</strong></span>,
        <span class="command"><strong>NET STOP</strong></span>, and <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
        <a class="link" href="server-administration.html#option_mysqld_remove"><code class="option">--remove</code></a>. For additional
        information, see <a class="xref" href="installing.html#windows-start-service" title="2.3.5.7. Starting MySQL as a Windows Service">Section 2.3.5.7, “Starting MySQL as a Windows Service”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-install-configuration"></a>17.2.4. Initial Configuration of MySQL Cluster</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp107708784"></a><a class="indexterm" name="idp107710272"></a><a class="indexterm" name="idp107711760"></a><p>
      In this section, we discuss manual configuration of an installed
      MySQL Cluster by creating and editing configuration files.
    </p><p>
      MySQL Cluster NDB 7.3 also provides a GUI installer which can be
      used to perform the configuration without the need to edit text
      files in a separate application. For more information, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto" title="17.2.1. The MySQL Cluster Auto-Installer">Section 17.2.1, “The MySQL Cluster Auto-Installer”</a>.
    </p><p>
      For our four-node, four-host MySQL Cluster (see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-install-nodes-hosts" title="Cluster nodes and host computers">Cluster nodes and host computers</a>), it is
      necessary to write four configuration files, one per node host.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Each data node or SQL node requires a
          <code class="filename">my.cnf</code> file that provides two pieces of
          information: a <em class="firstterm">connection string</em> that
          tells the node where to find the management node, and a line
          telling the MySQL server on this host (the machine hosting the
          data node) to enable the
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine.
        </p><p>
          For more information on connection strings, see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="17.3.2.3. MySQL Cluster Connection Strings">Section 17.3.2.3, “MySQL Cluster Connection Strings”</a>.
        </p></li><li class="listitem"><p>
          The management node needs a <code class="filename">config.ini</code>
          file telling it how many replicas to maintain, how much memory
          to allocate for data and indexes on each data node, where to
          find the data nodes, where to save data to disk on each data
          node, and where to find any SQL nodes.
</p></li></ul>
</div>
<p><b>Configuring the data nodes and SQL nodes. </b>
        The <code class="filename">my.cnf</code> file needed for the data nodes
        is fairly simple. The configuration file should be located in
        the <code class="filename">/etc</code> directory and can be edited using
        any text editor. (Create the file if it does not exist.) For
        example:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>vi /etc/my.cnf</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        We show <span class="command"><strong>vi</strong></span> being used here to create the
        file, but any text editor should work just as well.
</p>
</div>
<p>
      For each data node and SQL node in our example setup,
      <code class="filename">my.cnf</code> should look like this:
    </p><pre class="programlisting">[mysqld]
# Options for mysqld process:
ndbcluster                      # run NDB storage engine

[mysql_cluster]
# Options for MySQL Cluster processes:
ndb-connectstring=192.168.0.10  # location of management server</pre><p>
      After entering the preceding information, save this file and exit
      the text editor. Do this for the machines hosting data node
      <span class="quote">“<span class="quote">A</span>”</span>, data node <span class="quote">“<span class="quote">B</span>”</span>, and the SQL node.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        Once you have started a <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process with
        the <code class="literal">ndbcluster</code> and
        <code class="literal">ndb-connectstring</code> parameters in the
        <code class="literal">[mysqld]</code> and
        <code class="literal">[mysql_cluster]</code> sections of the
        <code class="filename">my.cnf</code> file as shown previously, you cannot
        execute any <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> or
        <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statements without
        having actually started the cluster. Otherwise, these statements
        will fail with an error. This is by design.
</p>
</div>
<p><b>Configuring the management node. </b>
        The first step in configuring the management node is to create
        the directory in which the configuration file can be found and
        then to create the file itself. For example (running as
        <code class="literal">root</code>):
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mkdir /var/lib/mysql-cluster</code></strong>
shell&gt; <strong class="userinput"><code>cd /var/lib/mysql-cluster</code></strong>
shell&gt; <strong class="userinput"><code>vi config.ini</code></strong>
</pre><p>
      For our representative setup, the <code class="filename">config.ini</code>
      file should read as follows:
    </p><pre class="programlisting">[ndbd default]
# Options affecting ndbd processes on all data nodes:
NoOfReplicas=2    # Number of replicas
DataMemory=80M    # How much memory to allocate for data storage
IndexMemory=18M   # How much memory to allocate for index storage
                  # For DataMemory and IndexMemory, we have used the
                  # default values. Since the "world" database takes up
                  # only about 500KB, this should be more than enough for
                  # this example Cluster setup.

[tcp default]
# TCP/IP options:
portnumber=2202   # This the default; however, you can use any
                  # port that is free for all the hosts in the cluster
                  # Note: It is recommended that you do not specify the port
                  # number at all and simply allow the default value to be used
                  # instead

[ndb_mgmd]
# Management process options:
hostname=192.168.0.10           # Hostname or IP address of MGM node
datadir=/var/lib/mysql-cluster  # Directory for MGM node log files

[ndbd]
# Options for data node "A":
                                # (one [ndbd] section per data node)
hostname=192.168.0.30           # Hostname or IP address
datadir=/usr/local/mysql/data   # Directory for this data node's data files

[ndbd]
# Options for data node "B":
hostname=192.168.0.40           # Hostname or IP address
datadir=/usr/local/mysql/data   # Directory for this data node's data files

[mysqld]
# SQL node options:
hostname=192.168.0.20           # Hostname or IP address
                                # (additional mysqld connections can be
                                # specified for this node for various
# purposes such as running ndb_restore)</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        The <code class="literal">world</code> database can be downloaded from
        <a class="ulink" href="http://dev.mysql.com/doc/" target="_top">http://dev.mysql.com/doc/</a>, where it can be found listed
        under <span class="quote">“<span class="quote">Examples</span>”</span>.
</p>
</div>
<p>
      After all the configuration files have been created and these
      minimal options have been specified, you are ready to proceed with
      starting the cluster and verifying that all processes are running.
      We discuss how this is done in
      <a class="xref" href="mysql-cluster.html#mysql-cluster-install-first-start" title="17.2.5. Initial Startup of MySQL Cluster">Section 17.2.5, “Initial Startup of MySQL Cluster”</a>.
    </p><p>
      For more detailed information about the available MySQL Cluster
      configuration parameters and their uses, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="17.3.2. MySQL Cluster Configuration Files">Section 17.3.2, “MySQL Cluster Configuration Files”</a>, and
      <a class="xref" href="mysql-cluster.html#mysql-cluster-configuration" title="17.3. Configuration of MySQL Cluster NDB 7.3">Section 17.3, “Configuration of MySQL Cluster NDB 7.3”</a>. For configuration
      of MySQL Cluster as relates to making backups, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-backup-configuration" title="17.5.3.3. Configuration for MySQL Cluster Backups">Section 17.5.3.3, “Configuration for MySQL Cluster Backups”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        The default port for Cluster management nodes is 1186; the
        default port for data nodes is 2202. However, the cluster can
        automatically allocate ports for data nodes from those that are
        already free.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-install-first-start"></a>17.2.5. Initial Startup of MySQL Cluster</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp107755392"></a><p>
      Starting the cluster is not very difficult after it has been
      configured. Each cluster node process must be started separately,
      and on the host where it resides. The management node should be
      started first, followed by the data nodes, and then finally by any
      SQL nodes:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          On the management host, issue the following command from the
          system shell to start the management node process:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgmd -f /var/lib/mysql-cluster/config.ini</code></strong>
</pre><p>
          The first time that it is started, <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>
          must be told where to find its configuration file, using the
          <code class="option">-f</code> or
          <a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-file"><code class="option">--config-file</code></a> option. (See
          <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon">Section 17.4.4, “<span class="command"><strong>ndb_mgmd</strong></span> — The MySQL Cluster Management Server Daemon”</a>, for
          details.)
        </p><p>
          For additional options which can be used with
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>, see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
        </p></li><li class="listitem"><p>
          On each of the data node hosts, run this command to start the
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndbd</code></strong>
</pre></li><li class="listitem"><p>
          If you used RPM files to install MySQL on the cluster host
          where the SQL node is to reside, you can (and should) use the
          supplied startup script to start the MySQL server process on
          the SQL node.
</p></li></ol>
</div>
<a class="indexterm" name="idp107770144"></a><a class="indexterm" name="idp107771632"></a><p>
      If all has gone well, and the cluster has been set up correctly,
      the cluster should now be operational. You can test this by
      invoking the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> management node client.
      The output should look like that shown here, although you might
      see some slight differences in the output depending upon the exact
      version of MySQL that you are using:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgm</code></strong>
-- NDB Cluster -- Management Client --
ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: localhost:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=2    @192.168.0.30  (Version: 5.6.11-ndb-7.3.3, Nodegroup: 0, Master)
id=3    @192.168.0.40  (Version: 5.6.11-ndb-7.3.3, Nodegroup: 0)

[ndb_mgmd(MGM)] 1 node(s)
id=1    @192.168.0.10  (Version: 5.6.11-ndb-7.3.3)

[mysqld(API)]   1 node(s)
id=4    @192.168.0.20  (Version: 5.6.11-ndb-7.3.3)
</pre><p>
      The SQL node is referenced here as
      <code class="literal">[mysqld(API)]</code>, which reflects the fact that the
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process is acting as a MySQL Cluster API
      node.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        The IP address shown for a given MySQL Cluster SQL or other API
        node in the output of <code class="literal">SHOW</code>
        is the address used by the SQL or API node to connect to the
        cluster data nodes, and not to any management node.
</p>
</div>
<p>
      You should now be ready to work with databases, tables, and data
      in MySQL Cluster. See
      <a class="xref" href="mysql-cluster.html#mysql-cluster-install-example-data" title="17.2.6. MySQL Cluster Example with Tables and Data">Section 17.2.6, “MySQL Cluster Example with Tables and Data”</a>, for a brief
      discussion.
</p>
</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-install-example-data"></a>17.2.6. MySQL Cluster Example with Tables and Data</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp107783280"></a><a class="indexterm" name="idp107784768"></a>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        The information in this section applies to MySQL Cluster running
        on both Unix and Windows platforms.
</p>
</div>
<p>
      Working with database tables and data in MySQL Cluster is not much
      different from doing so in standard MySQL. There are two key
      points to keep in mind:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          For a table to be replicated in the cluster, it must use the
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine. To
          specify this, use the <code class="literal">ENGINE=NDBCLUSTER</code> or
          <code class="literal">ENGINE=NDB</code> option when creating the table:
        </p><pre class="programlisting">CREATE TABLE <em class="replaceable"><code>tbl_name</code></em> (<em class="replaceable"><code>col_name</code></em> <em class="replaceable"><code>column_definitions</code></em>) ENGINE=NDBCLUSTER;
</pre><p>
          Alternatively, for an existing table that uses a different
          storage engine, use <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
          to change the table to use
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>:
        </p><pre class="programlisting">ALTER TABLE <em class="replaceable"><code>tbl_name</code></em> ENGINE=NDBCLUSTER;
</pre></li><li class="listitem"><p>
          Every <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> table has a
          primary key. If no primary key is defined by the user when a
          table is created, the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>
          storage engine automatically generates a hidden one. Such a
          key takes up space just as does any other table index. (It is
          not uncommon to encounter problems due to insufficient memory
          for accommodating these automatically created indexes.)
</p></li></ul>
</div>
<p>
      If you are importing tables from an existing database using the
      output of <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>, you can open the SQL
      script in a text editor and add the <code class="literal">ENGINE</code>
      option to any table creation statements, or replace any existing
      <code class="literal">ENGINE</code> options. Suppose that you have the
      <code class="literal">world</code> sample database on another MySQL server
      that does not support MySQL Cluster, and you want to export the
      <code class="literal">City</code> table:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqldump --add-drop-table world City &gt; city_table.sql</code></strong>
</pre><p>
      The resulting <code class="filename">city_table.sql</code> file will
      contain this table creation statement (and the
      <a class="link" href="sql-syntax.html#insert" title="13.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statements necessary to
      import the table data):
    </p><pre class="programlisting">DROP TABLE IF EXISTS `City`;
CREATE TABLE `City` (
  `ID` int(11) NOT NULL auto_increment,
  `Name` char(35) NOT NULL default '',
  `CountryCode` char(3) NOT NULL default '',
  `District` char(20) NOT NULL default '',
  `Population` int(11) NOT NULL default '0',
  PRIMARY KEY  (`ID`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;

INSERT INTO `City` VALUES (1,'Kabul','AFG','Kabol',1780000);
INSERT INTO `City` VALUES (2,'Qandahar','AFG','Qandahar',237500);
INSERT INTO `City` VALUES (3,'Herat','AFG','Herat',186800);<em class="replaceable"><code>(remaining INSERT statements omitted)</code></em>
</pre><p>
      You need to make sure that MySQL uses the
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine for this
      table. There are two ways that this can be accomplished. One of
      these is to modify the table definition
      <span class="emphasis"><em>before</em></span> importing it into the Cluster
      database. Using the <code class="literal">City</code> table as an example,
      modify the <code class="literal">ENGINE</code> option of the definition as
      follows:
    </p><pre class="programlisting">DROP TABLE IF EXISTS `City`;
CREATE TABLE `City` (
  `ID` int(11) NOT NULL auto_increment,
  `Name` char(35) NOT NULL default '',
  `CountryCode` char(3) NOT NULL default '',
  `District` char(20) NOT NULL default '',
  `Population` int(11) NOT NULL default '0',
  PRIMARY KEY  (`ID`)
) <span class="bold"><strong>ENGINE=NDBCLUSTER</strong></span> DEFAULT CHARSET=latin1;

INSERT INTO `City` VALUES (1,'Kabul','AFG','Kabol',1780000);
INSERT INTO `City` VALUES (2,'Qandahar','AFG','Qandahar',237500);
INSERT INTO `City` VALUES (3,'Herat','AFG','Herat',186800);
<em class="replaceable"><code>(remaining INSERT statements omitted)</code></em>
</pre><p>
      This must be done for the definition of each table that is to be
      part of the clustered database. The easiest way to accomplish this
      is to do a search-and-replace on the file that contains the
      definitions and replace all instances of
      <code class="literal">TYPE=<em class="replaceable"><code>engine_name</code></em></code> or
      <code class="literal">ENGINE=<em class="replaceable"><code>engine_name</code></em></code>
      with <code class="literal">ENGINE=NDBCLUSTER</code>. If you do not want to
      modify the file, you can use the unmodified file to create the
      tables, and then use <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> to
      change their storage engine. The particulars are given later in
      this section.
    </p><p>
      Assuming that you have already created a database named
      <code class="literal">world</code> on the SQL node of the cluster, you can
      then use the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> command-line client to read
      <code class="filename">city_table.sql</code>, and create and populate the
      corresponding table in the usual manner:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql world &lt; city_table.sql</code></strong>
</pre><p>
      It is very important to keep in mind that the preceding command
      must be executed on the host where the SQL node is running (in
      this case, on the machine with the IP address
      <code class="literal">192.168.0.20</code>).
    </p><p>
      To create a copy of the entire <code class="literal">world</code> database
      on the SQL node, use <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> on the
      noncluster server to export the database to a file named
      <code class="filename">world.sql</code>; for example, in the
      <code class="filename">/tmp</code> directory. Then modify the table
      definitions as just described and import the file into the SQL
      node of the cluster like this:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql world &lt; /tmp/world.sql</code></strong>
</pre><p>
      If you save the file to a different location, adjust the preceding
      instructions accordingly.
    </p><p>
      Running <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> queries on the SQL
      node is no different from running them on any other instance of a
      MySQL server. To run queries from the command line, you first need
      to log in to the MySQL Monitor in the usual way (specify the
      <code class="literal">root</code> password at the <code class="literal">Enter
      password:</code> prompt):
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root -p</code></strong>
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 1 to server version: 5.6.11-ndb-7.3.3

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt;
</pre><p>
      We simply use the MySQL server's <code class="literal">root</code>
      account and assume that you have followed the standard security
      precautions for installing a MySQL server, including setting a
      strong <code class="literal">root</code> password. For more information, see
      <a class="xref" href="installing.html#default-privileges" title="2.10.2. Securing the Initial MySQL Accounts">Section 2.10.2, “Securing the Initial MySQL Accounts”</a>.
    </p><p>
      It is worth taking into account that Cluster nodes do
      <span class="emphasis"><em>not</em></span> make use of the MySQL privilege system
      when accessing one another. Setting or changing MySQL user
      accounts (including the <code class="literal">root</code> account) effects
      only applications that access the SQL node, not interaction
      between nodes. See
      <a class="xref" href="mysql-cluster.html#mysql-cluster-security-mysql-privileges" title="17.5.11.2. MySQL Cluster and MySQL Privileges">Section 17.5.11.2, “MySQL Cluster and MySQL Privileges”</a>, for
      more information.
    </p><p>
      If you did not modify the <code class="literal">ENGINE</code> clauses in the
      table definitions prior to importing the SQL script, you should
      run the following statements at this point:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>USE world;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE City ENGINE=NDBCLUSTER;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE Country ENGINE=NDBCLUSTER;</code></strong>
mysql&gt; <strong class="userinput"><code>ALTER TABLE CountryLanguage ENGINE=NDBCLUSTER;</code></strong>
</pre><p>
      Selecting a database and running a <span class="command"><strong>SELECT</strong></span> query
      against a table in that database is also accomplished in the usual
      manner, as is exiting the MySQL Monitor:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>USE world;</code></strong>
mysql&gt; <strong class="userinput"><code>SELECT Name, Population FROM City ORDER BY Population DESC LIMIT 5;</code></strong>
+-----------+------------+
| Name      | Population |
+-----------+------------+
| Bombay    |   10500000 |
| Seoul     |    9981619 |
| São Paulo |    9968485 |
| Shanghai  |    9696300 |
| Jakarta   |    9604900 |
+-----------+------------+
5 rows in set (0.34 sec)

mysql&gt; <strong class="userinput"><code>\q</code></strong>
Bye

shell&gt;
</pre><p>
      Applications that use MySQL can employ standard APIs to access
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables. It is important to
      remember that your application must access the SQL node, and not
      the management or data nodes. This brief example shows how we
      might execute the <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statement
      just shown by using the PHP 5.X <code class="literal">mysqli</code>
      extension running on a Web server elsewhere on the network:
    </p><pre class="programlisting">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta http-equiv="Content-Type"
           content="text/html; charset=iso-8859-1"&gt;
  &lt;title&gt;SIMPLE mysqli SELECT&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;?php
  # connect to SQL node:
  $link = new mysqli('192.168.0.20', 'root', '<em class="replaceable"><code>root_password</code></em>', 'world');
  # parameters for mysqli constructor are:
  #   host, user, password, database

  if( mysqli_connect_errno() )
    die("Connect failed: " . mysqli_connect_error());

  $query = "SELECT Name, Population
            FROM City
            ORDER BY Population DESC
            LIMIT 5";

  # if no errors...
  if( $result = $link-&gt;query($query) )
  {
?&gt;
&lt;table border="1" width="40%" cellpadding="4" cellspacing ="1"&gt;
  &lt;tbody&gt;
  &lt;tr&gt;
    &lt;th width="10%"&gt;City&lt;/th&gt;
    &lt;th&gt;Population&lt;/th&gt;
  &lt;/tr&gt;
&lt;?
    # then display the results...
    while($row = $result-&gt;fetch_object())
      printf("&lt;tr&gt;\n  &lt;td align=\"center\"&gt;%s&lt;/td&gt;&lt;td&gt;%d&lt;/td&gt;\n&lt;/tr&gt;\n",
              $row-&gt;Name, $row-&gt;Population);
?&gt;
  &lt;/tbody
&lt;/table&gt;
&lt;?
  # ...and verify the number of rows that were retrieved
    printf("&lt;p&gt;Affected rows: %d&lt;/p&gt;\n", $link-&gt;affected_rows);
  }
  else
    # otherwise, tell us what went wrong
    echo mysqli_error();

  # free the result set and the mysqli connection object
  $result-&gt;close();
  $link-&gt;close();
?&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre><p>
      We assume that the process running on the Web server can reach the
      IP address of the SQL node.
    </p><p>
      In a similar fashion, you can use the MySQL C API, Perl-DBI,
      Python-mysql, or MySQL Connectors to perform the tasks of data
      definition and manipulation just as you would normally with MySQL.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-install-shutdown-restart"></a>17.2.7. Safe Shutdown and Restart of MySQL Cluster</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp107858144"></a><a class="indexterm" name="idp107859632"></a><p>
      To shut down the cluster, enter the following command in a shell
      on the machine hosting the management node:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgm -e shutdown</code></strong>
</pre><p>
      The <code class="option">-e</code> option here is used to pass a command to
      the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client from the shell. (See
      <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>, for more
      information about this option.) The command causes the
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>, <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>, and any
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> processes to
      terminate gracefully. Any SQL nodes can be terminated using
      <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin shutdown</strong></span></a> and other means. On Windows
      platforms, assuming that you have installed the SQL node as a
      Windows service, you can use <span class="command"><strong>NET STOP MYSQL</strong></span>.
    </p><p>
      To restart the cluster on Unix platforms, run these commands:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          On the management host (<code class="literal">192.168.0.10</code> in our
          example setup):
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgmd -f /var/lib/mysql-cluster/config.ini</code></strong>
</pre></li><li class="listitem"><p>
          On each of the data node hosts
          (<code class="literal">192.168.0.30</code> and
          <code class="literal">192.168.0.40</code>):
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndbd</code></strong>
</pre></li><li class="listitem"><p>
          Use the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client to verify that both
          data nodes have started successfully.
        </p></li><li class="listitem"><p>
          On the SQL host (<code class="literal">192.168.0.20</code>):
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqld_safe &amp;</code></strong>
</pre></li></ul>
</div>
<p>
      On Windows platforms, assuming that you have installed all MySQL
      Cluster processes as Windows services using the default service
      names (see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-service" title="17.2.3.4. Installing MySQL Cluster Processes as Windows Services">Section 17.2.3.4, “Installing MySQL Cluster Processes as Windows Services”</a>), you can
      restart the cluster as follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          On the management host (<code class="literal">192.168.0.10</code> in our
          example setup), execute the following command:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>NET START ndb_mgmd</code></strong>
</pre></li><li class="listitem"><p>
          On each of the data node hosts
          (<code class="literal">192.168.0.30</code> and
          <code class="literal">192.168.0.40</code>), execute the following
          command:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>NET START ndbd</code></strong>
</pre></li><li class="listitem"><p>
          On the management node host, use the
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client to verify that the
          management node and both data nodes have started successfully
          (see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-initial-start" title="17.2.3.3. Initial Startup of MySQL Cluster on Windows">Section 17.2.3.3, “Initial Startup of MySQL Cluster on Windows”</a>).
        </p></li><li class="listitem"><p>
          On the SQL node host (<code class="literal">192.168.0.20</code>),
          execute the following command:
        </p><pre class="programlisting">C:\&gt; <strong class="userinput"><code>NET START mysql</code></strong>
</pre></li></ul>
</div>
<p>
      In a production setting, it is usually not desirable to shut down
      the cluster completely. In many cases, even when making
      configuration changes, or performing upgrades to the cluster
      hardware or software (or both), which require shutting down
      individual host machines, it is possible to do so without shutting
      down the cluster as a whole by performing a <em class="firstterm">rolling
      restart</em> of the cluster. For more information about
      doing this, see <a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="17.5.5. Performing a Rolling Restart of a MySQL Cluster">Section 17.5.5, “Performing a Rolling Restart of a MySQL Cluster”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-upgrade-downgrade"></a>17.2.8. Upgrading and Downgrading MySQL Cluster NDB 7.3</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp107899264"></a><a class="indexterm" name="idp107900752"></a><a class="indexterm" name="idp107902272"></a><a class="indexterm" name="idp107903760"></a><p>
      This section provides information about MySQL Cluster software and
      table file compatibility between different MySQL Cluster NDB 7.3
      releases with regard to performing upgrades and downgrades as well
      as compatibility matrices and notes. You are expected already to
      be familiar with installing and configuring a MySQL Cluster prior
      to attempting an upgrade or downgrade. See
      <a class="xref" href="mysql-cluster.html#mysql-cluster-configuration" title="17.3. Configuration of MySQL Cluster NDB 7.3">Section 17.3, “Configuration of MySQL Cluster NDB 7.3”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        Only compatibility between MySQL versions with regard to
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> is taken into account in
        this section, and there are likely other issues to be
        considered. <span class="emphasis"><em>As with any other MySQL software upgrade
        or downgrade, you are strongly encouraged to review the relevant
        portions of the MySQL Manual for the MySQL versions from which
        and to which you intend to migrate, before attempting an upgrade
        or downgrade of the MySQL Cluster software</em></span>. See
        <a class="xref" href="installing.html#upgrading" title="2.11.1. Upgrading MySQL">Section 2.11.1, “Upgrading MySQL”</a>.
</p>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="mysql-cluster-configuration"></a>17.3. Configuration of MySQL Cluster NDB 7.3</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-quick">17.3.1. Quick Test Setup of MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-config-file">17.3.2. MySQL Cluster Configuration Files</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-params-overview">17.3.3. Overview of MySQL Cluster Configuration Parameters</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-options-variables">17.3.4. MySQL Server Options and Variables for MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-interconnects">17.3.5. Using High-Speed Interconnects with MySQL Cluster</a></span></dt></dl>
</div>
<a class="indexterm" name="idp107914944"></a><a class="indexterm" name="idp107916032"></a><p>
    A MySQL server that is part of a MySQL Cluster differs in one chief
    respect from a normal (nonclustered) MySQL server, in that it
    employs the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine. This
    engine is also referred to sometimes as
    <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>, although
    <code class="literal">NDB</code> is preferred.
  </p><p>
    To avoid unnecessary allocation of resources, the server is
    configured by default with the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
    storage engine disabled. To enable <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>,
    you must modify the server's <code class="filename">my.cnf</code>
    configuration file, or start the server with the
    <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a> option.
  </p><p>
    This MySQL server is a part of the cluster, so it also must know how
    to access an management node to obtain the cluster configuration
    data. The default behavior is to look for the management node on
    <code class="literal">localhost</code>. However, should you need to specify
    that its location is elsewhere, this can be done in
    <code class="filename">my.cnf</code>, or with the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>
    client. Before the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine
    can be used, at least one management node must be operational, as
    well as any desired data nodes.
  </p><p>
    For more information about
    <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a> and other
    <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> options specific to MySQL Cluster, see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-mysqld" title="17.3.4.2. MySQL Server Options for MySQL Cluster">Section 17.3.4.2, “MySQL Server Options for MySQL Cluster”</a>.
  </p><p>
    In MySQL Cluster NDB 7.3.1 and later, you can use the MySQL Cluster
    Auto-Installer to set up and deploy a MySQL Cluster on one or more
    hosts using a browser-based GUI. For more information, see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto" title="17.2.1. The MySQL Cluster Auto-Installer">Section 17.2.1, “The MySQL Cluster Auto-Installer”</a>.
  </p><p>
    For general information about installing MySQL Cluster, see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-installation" title="17.2. MySQL Cluster Installation">Section 17.2, “MySQL Cluster Installation”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-quick"></a>17.3.1. Quick Test Setup of MySQL Cluster</h3>
</div>
</div>
</div>
<a class="indexterm" name="idp107936624"></a><a class="indexterm" name="idp107938112"></a><a class="indexterm" name="idp107939600"></a><p>
      To familiarize you with the basics, we will describe the simplest
      possible configuration for a functional MySQL Cluster. After this,
      you should be able to design your desired setup from the
      information provided in the other relevant sections of this
      chapter.
    </p><p>
      First, you need to create a configuration directory such as
      <code class="filename">/var/lib/mysql-cluster</code>, by executing the
      following command as the system <code class="literal">root</code> user:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mkdir /var/lib/mysql-cluster</code></strong>
</pre><p>
      In this directory, create a file named
      <code class="filename">config.ini</code> that contains the following
      information. Substitute appropriate values for
      <code class="literal">HostName</code> and <code class="literal">DataDir</code> as
      necessary for your system.
    </p><pre class="programlisting"># file "config.ini" - showing minimal setup consisting of 1 data node,
# 1 management server, and 3 MySQL servers.
# The empty default sections are not required, and are shown only for
# the sake of completeness.
# Data nodes must provide a hostname but MySQL Servers are not required
# to do so.
# If you don't know the hostname for your machine, use localhost.
# The DataDir parameter also has a default value, but it is recommended to
# set it explicitly.
# Note: [db], [api], and [mgm] are aliases for [ndbd], [mysqld], and [ndb_mgmd],
# respectively. [db] is deprecated and should not be used in new installations.

[ndbd default]
NoOfReplicas= 1

[mysqld  default]
[ndb_mgmd default]
[tcp default]

[ndb_mgmd]
HostName= myhost.example.com

[ndbd]
HostName= myhost.example.com
DataDir= /var/lib/mysql-cluster

[mysqld]
[mysqld]
[mysqld]</pre><p>
      You can now start the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> management
      server. By default, it attempts to read the
      <code class="filename">config.ini</code> file in its current working
      directory, so change location into the directory where the file is
      located and then invoke <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /var/lib/mysql-cluster</code></strong>
shell&gt; <strong class="userinput"><code>ndb_mgmd</code></strong>
</pre><p>
      Then start a single data node by running <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndbd</code></strong>
</pre><p>
      For command-line options which can be used when starting
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
    </p><p>
      By default, <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> looks for the management
      server at <code class="literal">localhost</code> on port 1186.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        If you have installed MySQL from a binary tarball, you will need
        to specify the path of the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> and
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> servers explicitly. (Normally, these
        will be found in <code class="filename">/usr/local/mysql/bin</code>.)
</p>
</div>
<p>
      Finally, change location to the MySQL data directory (usually
      <code class="filename">/var/lib/mysql</code> or
      <code class="filename">/usr/local/mysql/data</code>), and make sure that
      the <code class="filename">my.cnf</code> file contains the option necessary
      to enable the NDB storage engine:
    </p><pre class="programlisting">[mysqld]
ndbcluster</pre><p>
      You can now start the MySQL server as usual:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqld_safe --user=mysql &amp;</code></strong>
</pre><p>
      Wait a moment to make sure the MySQL server is running properly.
      If you see the notice <code class="literal">mysql ended</code>, check the
      server's <code class="filename">.err</code> file to find out what went
      wrong.
    </p><p>
      If all has gone well so far, you now can start using the cluster.
      Connect to the server and verify that the
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine is enabled:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql</code></strong>
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 1 to server version: 5.6.14

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; <strong class="userinput"><code>SHOW ENGINES\G</code></strong>
...
*************************** 12. row ***************************
Engine: NDBCLUSTER
Support: YES
Comment: Clustered, fault-tolerant, memory-based tables
*************************** 13. row ***************************
Engine: NDB
Support: YES
Comment: Alias for NDBCLUSTER
...
</pre><p>
      The row numbers shown in the preceding example output may be
      different from those shown on your system, depending upon how your
      server is configured.
    </p><p>
      Try to create an <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> table:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql</code></strong>
mysql&gt; <strong class="userinput"><code>USE test;</code></strong>
Database changed

mysql&gt; <strong class="userinput"><code>CREATE TABLE ctest (i INT) ENGINE=NDBCLUSTER;</code></strong>
Query OK, 0 rows affected (0.09 sec)

mysql&gt; <strong class="userinput"><code>SHOW CREATE TABLE ctest \G</code></strong>
*************************** 1. row ***************************
       Table: ctest
Create Table: CREATE TABLE `ctest` (
  `i` int(11) default NULL
) ENGINE=ndbcluster DEFAULT CHARSET=latin1
1 row in set (0.00 sec)
</pre><p>
      To check that your nodes were set up properly, start the
      management client:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgm</code></strong>
</pre><a class="indexterm" name="idp107983600"></a><p>
      Use the <span class="command"><strong>SHOW</strong></span> command from within the management
      client to obtain a report on the cluster's status:
    </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Cluster Configuration
---------------------
[ndbd(NDB)]     1 node(s)
id=2    @127.0.0.1  (Version: 5.6.11-ndb-7.3.3, Nodegroup: 0, Master)

[ndb_mgmd(MGM)] 1 node(s)
id=1    @127.0.0.1  (Version: 5.6.11-ndb-7.3.3)

[mysqld(API)]   3 node(s)
id=3    @127.0.0.1  (Version: 5.6.11-ndb-7.3.3)
id=4 (not connected, accepting connect from any host)
id=5 (not connected, accepting connect from any host)
</pre><p>
      At this point, you have successfully set up a working MySQL
      Cluster. You can now store data in the cluster by using any table
      created with <code class="literal">ENGINE=NDBCLUSTER</code> or its alias
      <code class="literal">ENGINE=NDB</code>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-config-file"></a>17.3.2. MySQL Cluster Configuration Files</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-config-example">17.3.2.1. MySQL Cluster Configuration: Basic Example</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-config-starting">17.3.2.2. Recommended Starting Configuration for MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-connection-strings">17.3.2.3. MySQL Cluster Connection Strings</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-computer-definition">17.3.2.4. Defining Computers in a MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-mgm-definition">17.3.2.5. Defining a MySQL Cluster Management Server</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbd-definition">17.3.2.6. Defining MySQL Cluster Data Nodes</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-api-definition">17.3.2.7. Defining SQL and Other API Nodes in a MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-tcp-definition">17.3.2.8. MySQL Cluster TCP/IP Connections</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-tcp-definition-direct">17.3.2.9. MySQL Cluster TCP/IP Connections Using Direct Connections</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-shm-definition">17.3.2.10. MySQL Cluster Shared-Memory Connections</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-sci-definition">17.3.2.11. SCI Transport Connections in MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-config-send-buffers">17.3.2.12. Configuring MySQL Cluster Send Buffer Parameters</a></span></dt></dl>
</div>
<a class="indexterm" name="idp107991216"></a><a class="indexterm" name="idp107992704"></a><a class="indexterm" name="idp107994192"></a><p>
      Configuring MySQL Cluster requires working with two files:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <code class="filename">my.cnf</code>: Specifies options for all MySQL
          Cluster executables. This file, with which you should be
          familiar with from previous work with MySQL, must be
          accessible by each executable running in the cluster.
        </p></li><li class="listitem"><p>
          <code class="filename">config.ini</code>: This file, sometimes known as
          the <em class="firstterm">global configuration file</em>, is read
          only by the MySQL Cluster management server, which then
          distributes the information contained therein to all processes
          participating in the cluster. <code class="filename">config.ini</code>
          contains a description of each node involved in the cluster.
          This includes configuration parameters for data nodes and
          configuration parameters for connections between all nodes in
          the cluster. For a quick reference to the sections that can
          appear in this file, and what sorts of configuration
          parameters may be placed in each section, see
          <a class="link" href="mysql-cluster.html#mysql-cluster-config-ini-sections" title="17.3.2.1.  Sections of the ???TITLE??? File">Sections of
          the <code class="filename">config.ini</code> File</a>.
</p></li></ul>
</div>
<p><b>Caching of configuration data. </b>
        In MySQL Cluster NDB 7.3, MySQL Cluster uses <em class="firstterm">stateful
        configuration</em>. Rather than reading the global
        configuration file every time the management server is
        restarted, the management server caches the configuration the
        first time it is started, and thereafter, the global
        configuration file is read only when one of the following
        conditions is true:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>The management server is started using the <code class="option">--initial</code>
            option. </b>
            In this case, the global configuration file is re-read, any
            existing cache files are deleted, and the management server
            creates a new configuration cache.
          </p></li><li class="listitem"><p><b>The management server is started using the <code class="option">--reload</code>
            option. </b>
            In this case, the management server compares its cache with
            the global configuration file. If they differ, the
            management server creates a new configuration cache; any
            existing configuration cache is preserved, but not used. If
            the management server's cache and the global
            configuration file contain the same configuration data, then
            the existing cache is used, and no new cache is created.
          </p></li><li class="listitem"><p><b>The management server is started using a <code class="option">--config-cache</code>
            option. </b>
            This option can be used to force the management server to
            bypass configuration caching altogether. In this case, the
            management server ignores any configuration files that may
            be present, always reading its configuration data from the
            <code class="filename">config.ini</code> file instead.
          </p></li><li class="listitem"><p><b>No configuration cache is found. </b>
            In this case, the management server reads the global
            configuration file and creates a cache containing the same
            configuration data as found in the file.
</p></li></ul>
</div>
<p><b>Configuration cache files. </b>
        The management server by default creates configuration cache
        files in a directory named <code class="filename">mysql-cluster</code> in
        the MySQL installation directory. (If you build MySQL Cluster
        from source on a Unix system, the default location is
        <code class="filename">/usr/local/mysql-cluster</code>.) This can be
        overridden at runtime by starting the management server with the
        <code class="option">--configdir</code> option. Configuration cache files
        are binary files named according to the pattern
        <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_config.bin.<em class="replaceable"><code>seq_id</code></em></code>,
        where <em class="replaceable"><code>node_id</code></em> is the management
        server's node ID in the cluster, and
        <em class="replaceable"><code>seq_id</code></em> is a cache idenitifer. Cache
        files are numbered sequentially using
        <em class="replaceable"><code>seq_id</code></em>, in the order in which they
        are created. The management server uses the latest cache file as
        determined by the <em class="replaceable"><code>seq_id</code></em>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        It is possible to roll back to a previous configuration by
        deleting later configuration cache files, or by renaming an
        earlier cache file so that it has a higher
        <em class="replaceable"><code>seq_id</code></em>. However, since configuration
        cache files are written in a binary format, you should not
        attempt to edit their contents by hand.
</p>
</div>
<p>
      For more information about the <code class="option">--configdir</code>,
      <code class="option">--initial</code>, and <code class="option">--reload</code> options
      for the MySQL Cluster management server, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon">Section 17.4.4, “<span class="command"><strong>ndb_mgmd</strong></span> — The MySQL Cluster Management Server Daemon”</a>.
    </p><p>
      We are continuously making improvements in Cluster configuration
      and attempting to simplify this process. Although we strive to
      maintain backward compatibility, there may be times when introduce
      an incompatible change. In such cases we will try to let Cluster
      users know in advance if a change is not backward compatible. If
      you find such a change and we have not documented it, please
      report it in the MySQL bugs database using the instructions given
      in <a class="xref" href="introduction.html#bug-reports" title="1.7. How to Report Bugs or Problems">Section 1.7, “How to Report Bugs or Problems”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-config-example"></a>17.3.2.1. MySQL Cluster Configuration: Basic Example</h4>
</div>
</div>
</div>
<a class="indexterm" name="idp108028176"></a><a class="indexterm" name="idp108029664"></a><a class="indexterm" name="idp108031152"></a><p>
        To support MySQL Cluster, you will need to update
        <code class="filename">my.cnf</code> as shown in the following example.
        You may also specify these parameters on the command line when
        invoking the executables.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          The options shown here should not be confused with those that
          are used in <code class="filename">config.ini</code> global
          configuration files. Global configuration options are
          discussed later in this section.
</p>
</div>
<pre class="programlisting"># my.cnf
# example additions to my.cnf for MySQL Cluster
# (valid in MySQL 5.6)

# enable ndbcluster storage engine, and provide connection string for
# management server host (default port is 1186)
[mysqld]
ndbcluster
ndb-connectstring=ndb_mgmd.mysql.com


# provide connection string for management server host (default port: 1186)
[ndbd]
connect-string=ndb_mgmd.mysql.com

# provide connection string for management server host (default port: 1186)
[ndb_mgm]
connect-string=ndb_mgmd.mysql.com

# provide location of cluster configuration file
[ndb_mgmd]
config-file=/etc/config.ini</pre><p>
        (For more information on connection strings, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="17.3.2.3. MySQL Cluster Connection Strings">Section 17.3.2.3, “MySQL Cluster Connection Strings”</a>.)
      </p><pre class="programlisting"># my.cnf
# example additions to my.cnf for MySQL Cluster
# (will work on all versions)

# enable ndbcluster storage engine, and provide connection string for management
# server host to the default port 1186
[mysqld]
ndbcluster
ndb-connectstring=ndb_mgmd.mysql.com:1186</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          Once you have started a <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process with
          the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> and
          <code class="literal">ndb-connectstring</code> parameters in the
          <code class="literal">[mysqld]</code> in the <code class="filename">my.cnf</code>
          file as shown previously, you cannot execute any
          <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> or
          <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statements without
          having actually started the cluster. Otherwise, these
          statements will fail with an error. <span class="emphasis"><em>This is by
          design</em></span>.
</p>
</div>
<p>
        You may also use a separate <code class="literal">[mysql_cluster]</code>
        section in the cluster <code class="filename">my.cnf</code> file for
        settings to be read and used by all executables:
      </p><pre class="programlisting"># cluster-specific settings
[mysql_cluster]
ndb-connectstring=ndb_mgmd.mysql.com:1186</pre><p>
        For additional <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> variables that
        can be set in the <code class="filename">my.cnf</code> file, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-system-variables" title="17.3.4.3. MySQL Cluster System Variables">Section 17.3.4.3, “MySQL Cluster System Variables”</a>.
      </p><p>
        The MySQL Cluster global configuration file is by convention
        named <code class="filename">config.ini</code> (but this is not
        required). If needed, it is read by <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>
        at startup and can be placed in any location that can be read by
        it. The location and name of the configuration are specified
        using
        <a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-file"><code class="option">--config-file=<em class="replaceable"><code>path_name</code></em></code></a>
        with <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> on the command line. This
        option has no default value, and is ignored if
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> uses the configuration cache.
      </p><p>
        The global configuration file for MySQL Cluster uses INI format,
        which consists of sections preceded by section headings
        (surrounded by square brackets), followed by the appropriate
        parameter names and values. One deviation from the standard INI
        format is that the parameter name and value can be separated by
        a colon (<span class="quote">“<span class="quote"><code class="literal">:</code></span>”</span>) as well as the
        equal sign (<span class="quote">“<span class="quote"><code class="literal">=</code></span>”</span>); however, the
        equal sign is preferred. Another deviation is that sections are
        not uniquely identified by section name. Instead, unique
        sections (such as two different nodes of the same type) are
        identified by a unique ID specified as a parameter within the
        section.
      </p><p>
        Default values are defined for most parameters, and can also be
        specified in <code class="filename">config.ini</code>. To create a
        default value section, simply add the word
        <code class="literal">default</code> to the section name. For example, an
        <code class="literal">[ndbd]</code> section contains parameters that apply
        to a particular data node, whereas an <code class="literal">[ndbd
        default]</code> section contains parameters that apply to all
        data nodes. Suppose that all data nodes should use the same data
        memory size. To configure them all, create an <code class="literal">[ndbd
        default]</code> section that contains a
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> line to
        specify the data memory size.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          In some older releases of MySQL Cluster, there was no default
          value for
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a>, which
          always had to be specified explicitly in the <code class="literal">[ndbd
          default]</code> section. Although this parameter now has a
          default value of 2, which is the recommended setting in most
          common usage scenarios, it is still recommended practice to
          set this parameter explicitly.
</p>
</div>
<p>
        The global configuration file must define the computers and
        nodes involved in the cluster and on which computers these nodes
        are located. An example of a simple configuration file for a
        cluster consisting of one management server, two data nodes and
        two MySQL servers is shown here:
      </p><pre class="programlisting"># file "config.ini" - 2 data nodes and 2 SQL nodes
# This file is placed in the startup directory of ndb_mgmd (the
# management server)
# The first MySQL Server can be started from any host. The second
# can be started only on the host mysqld_5.mysql.com

[ndbd default]
NoOfReplicas= 2
DataDir= /var/lib/mysql-cluster

[ndb_mgmd]
Hostname= ndb_mgmd.mysql.com
DataDir= /var/lib/mysql-cluster

[ndbd]
HostName= ndbd_2.mysql.com

[ndbd]
HostName= ndbd_3.mysql.com

[mysqld]
[mysqld]
HostName= mysqld_5.mysql.com</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          The preceding example is intended as a minimal starting
          configuration for purposes of familiarization with MySQL
          Cluster, and is almost certain not to be sufficient for
          production settings. See
          <a class="xref" href="mysql-cluster.html#mysql-cluster-config-starting" title="17.3.2.2. Recommended Starting Configuration for MySQL Cluster">Section 17.3.2.2, “Recommended Starting Configuration for MySQL Cluster”</a>, which
          provides a more complete example starting configuration.
</p>
</div>
<p>
        Each node has its own section in the
        <code class="filename">config.ini</code> file. For example, this cluster
        has two data nodes, so the preceding configuration file contains
        two <code class="literal">[ndbd]</code> sections defining these nodes.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          Do not place comments on the same line as a section heading in
          the <code class="filename">config.ini</code> file; this causes the
          management server not to start because it cannot parse the
          configuration file in such cases.
</p>
</div>
<h5><a name="mysql-cluster-config-ini-sections"></a>
        Sections of the <code class="filename">config.ini</code> File
</h5>
<p>
        There are six different sections that you can use in the
        <code class="filename">config.ini</code> configuration file, as described
        in the following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">[computer]</code>: Defines cluster hosts. This
            is not required to configure a viable MySQL Cluster, but be
            may used as a convenience when setting up a large cluster.
            See <a class="xref" href="mysql-cluster.html#mysql-cluster-computer-definition" title="17.3.2.4. Defining Computers in a MySQL Cluster">Section 17.3.2.4, “Defining Computers in a MySQL Cluster”</a>, for
            more information.
          </p></li><li class="listitem"><p>
            <code class="literal">[ndbd]</code>: Defines a cluster data node
            (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process). See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition" title="17.3.2.6. Defining MySQL Cluster Data Nodes">Section 17.3.2.6, “Defining MySQL Cluster Data Nodes”</a>, for
            details.
          </p></li><li class="listitem"><p>
            <code class="literal">[mysqld]</code>: Defines the cluster's MySQL
            server nodes (also called SQL or API nodes). For a
            discussion of SQL node configuration, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-api-definition" title="17.3.2.7. Defining SQL and Other API Nodes in a MySQL Cluster">Section 17.3.2.7, “Defining SQL and Other API Nodes in a MySQL Cluster”</a>.
          </p></li><li class="listitem"><p>
            <code class="literal">[mgm]</code> or <code class="literal">[ndb_mgmd]</code>:
            Defines a cluster management server (MGM) node. For
            information concerning the configuration of management
            nodes, see <a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-definition" title="17.3.2.5. Defining a MySQL Cluster Management Server">Section 17.3.2.5, “Defining a MySQL Cluster Management Server”</a>.
          </p></li><li class="listitem"><p>
            <code class="literal">[tcp]</code>: Defines a TCP/IP connection
            between cluster nodes, with TCP/IP being the default
            connection protocol. Normally, <code class="literal">[tcp]</code> or
            <code class="literal">[tcp default]</code> sections are not required
            to set up a MySQL Cluster, as the cluster handles this
            automatically; however, it may be necessary in some
            situations to override the defaults provided by the cluster.
            See <a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition" title="17.3.2.8. MySQL Cluster TCP/IP Connections">Section 17.3.2.8, “MySQL Cluster TCP/IP Connections”</a>, for
            information about available TCP/IP configuration parameters
            and how to use them. (You may also find
            <a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition-direct" title="17.3.2.9. MySQL Cluster TCP/IP Connections Using Direct Connections">Section 17.3.2.9, “MySQL Cluster TCP/IP Connections Using Direct Connections”</a> to be
            of interest in some cases.)
          </p></li><li class="listitem"><p>
            <code class="literal">[shm]</code>: Defines shared-memory connections
            between nodes. In MySQL 5.6, it is enabled by
            default, but should still be considered experimental. For a
            discussion of SHM interconnects, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-shm-definition" title="17.3.2.10. MySQL Cluster Shared-Memory Connections">Section 17.3.2.10, “MySQL Cluster Shared-Memory Connections”</a>.
          </p></li><li class="listitem"><p>
            <code class="literal">[sci]</code>:Defines <em class="firstterm">Scalable
            Coherent Interface</em> connections between cluster
            data nodes. Such connections require software which, while
            freely available, is not part of the MySQL Cluster
            distribution, as well as specialized hardware. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-sci-definition" title="17.3.2.11. SCI Transport Connections in MySQL Cluster">Section 17.3.2.11, “SCI Transport Connections in MySQL Cluster”</a> for detailed
            information about SCI interconnects.
</p></li></ul>
</div>
<p>
        You can define <code class="literal">default</code> values for each
        section. All Cluster parameter names are case-insensitive, which
        differs from parameters specified in <code class="filename">my.cnf</code>
        or <code class="filename">my.ini</code> files.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-config-starting"></a>17.3.2.2. Recommended Starting Configuration for MySQL Cluster</h4>

</div>

</div>

</div>
<p>
        Achieving the best performance from a MySQL Cluster depends on a
        number of factors including the following:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            MySQL Cluster software version
          </p></li><li class="listitem"><p>
            Numbers of data nodes and SQL nodes
          </p></li><li class="listitem"><p>
            Hardware
          </p></li><li class="listitem"><p>
            Operating system
          </p></li><li class="listitem"><p>
            Amount of data to be stored
          </p></li><li class="listitem"><p>
            Size and type of load under which the cluster is to operate
</p></li></ul>
</div>
<p>
        Therefore, obtaining an optimum configuration is likely to be an
        iterative process, the outcome of which can vary widely with the
        specifics of each MySQL Cluster deployment. Changes in
        configuration are also likely to be indicated when changes are
        made in the platform on which the cluster is run, or in
        applications that use the MySQL Cluster's data. For these
        reasons, it is not possible to offer a single configuration that
        is ideal for all usage scenarios. However, in this section, we
        provide a recommended base configuration.
      </p><p><b>Starting <code class="filename">config.ini</code> file. </b>
          The following <code class="filename">config.ini</code> file is a
          recommended starting point for configuring a cluster running
          MySQL Cluster NDB 7.3:
        </p><pre class="programlisting"># TCP PARAMETERS

[tcp default]<a class="link" href="mysql-cluster.html#ndbparam-tcp-sendbuffermemory"><code class="literal">SendBufferMemory</code></a>=2M
<a class="link" href="mysql-cluster.html#ndbparam-tcp-receivebuffermemory"><code class="literal">ReceiveBufferMemory</code></a>=2M

# Increasing the sizes of these 2 buffers beyond the default values
# helps prevent bottlenecks due to slow disk I/O.

# MANAGEMENT NODE PARAMETERS

[ndb_mgmd default]
<a class="link" href="mysql-cluster.html#ndbparam-mgmd-datadir"><code class="literal">DataDir</code></a>=<em class="replaceable"><code>path/to/management/server/data/directory</code></em>

# It is possible to use a different data directory for each management
# server, but for ease of administration it is preferable to be
# consistent.

[ndb_mgmd]
<a class="link" href="mysql-cluster.html#ndbparam-mgmd-hostname"><code class="literal">HostName</code></a>=<em class="replaceable"><code>management-server-A-hostname</code></em>
# <a class="link" href="mysql-cluster.html#ndbparam-mgmd-nodeid"><code class="literal">NodeId</code></a>=<em class="replaceable"><code>management-server-A-nodeid</code></em>

[ndb_mgmd]
<a class="link" href="mysql-cluster.html#ndbparam-mgmd-hostname"><code class="literal">HostName</code></a>=<em class="replaceable"><code>management-server-B-hostname</code></em>
# <a class="link" href="mysql-cluster.html#ndbparam-mgmd-nodeid"><code class="literal">NodeId</code></a>=<em class="replaceable"><code>management-server-B-nodeid</code></em>

# Using 2 management servers helps guarantee that there is always an
# arbitrator in the event of network partitioning, and so is
# recommended for high availability. Each management server must be
# identified by a HostName. You may for the sake of convenience specify
# a NodeId for any management server, although one will be allocated
# for it automatically; if you do so, it must be in the range 1-255
# inclusive and must be unique among all IDs specified for cluster
# nodes.

# DATA NODE PARAMETERS

[ndbd default]
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a>=2

# Using 2 replicas is recommended to guarantee availability of data; 
# using only 1 replica does not provide any redundancy, which means 
# that the failure of a single data node causes the entire cluster to 
# shut down. We do not recommend using more than 2 replicas, since 2 is 
# sufficient to provide high availability, and we do not currently test 
# with greater values for this parameter.

<a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockpagesinmainmemory"><code class="literal">LockPagesInMainMemory</code></a>=1

# On Linux and Solaris systems, setting this parameter locks data node
# processes into memory. Doing so prevents them from swapping to disk,
# which can severely degrade cluster performance.

<a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a>=3072M
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a>=384M

# The values provided for DataMemory and IndexMemory assume 4 GB RAM
# per data node. However, for best results, you should first calculate
# the memory that would be used based on the data you actually plan to
# store (you may find the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-size-pl" title="17.4.24. ndb_size.pl — NDBCLUSTER Size Requirement Estimator">ndb_size.pl</a> utility helpful in estimating
# this), then allow an extra 20% over the calculated values. Naturally,
# you should ensure that each data node host has at least as much
# physical memory as the sum of these two values.

# <a class="link" href="mysql-cluster.html#ndbparam-ndbd-odirect"><code class="literal">ODirect</code></a>=1

# Enabling this parameter causes NDBCLUSTER to try using O_DIRECT
# writes for local checkpoints and redo logs; this can reduce load on
# CPUs. We recommend doing so when using MySQL Cluster on systems running 
# Linux kernel 2.6 or later.

<a class="link" href="mysql-cluster.html#ndbparam-ndbd-nooffragmentlogfiles"><code class="literal">NoOfFragmentLogFiles</code></a>=300
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a>=<em class="replaceable"><code>path/to/data/node/data/directory</code></em>
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentoperations"><code class="literal">MaxNoOfConcurrentOperations</code></a>=100000

<a class="link" href="mysql-cluster.html#ndbparam-ndbd-schedulerspintimer"><code class="literal">SchedulerSpinTimer</code></a>=400
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-schedulerexecutiontimer"><code class="literal">SchedulerExecutionTimer</code></a>=100
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-realtimescheduler"><code class="literal">RealTimeScheduler</code></a>=1
# Setting these parameters allows you to take advantage of real-time scheduling
# of NDB threads to achieve increased throughput when using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>. They 
# are not needed when using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>; in particular, you should not set 
# <a class="link" href="mysql-cluster.html#ndbparam-ndbd-realtimescheduler"><code class="literal">RealTimeScheduler</code></a> for <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> data nodes.

<a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenglobalcheckpoints"><code class="literal">TimeBetweenGlobalCheckpoints</code></a>=1000
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochs"><code class="literal">TimeBetweenEpochs</code></a>=200
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskcheckpointspeed"><code class="literal">DiskCheckpointSpeed</code></a>=10M
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskcheckpointspeedinrestart"><code class="literal">DiskCheckpointSpeedInRestart</code></a>=100M
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-redobuffer"><code class="literal">RedoBuffer</code></a>=32M

# <a class="link" href="mysql-cluster.html#ndbparam-ndbd-compressedlcp"><code class="literal">CompressedLCP</code></a>=1
# <a class="link" href="mysql-cluster.html#ndbparam-ndbd-compressedbackup"><code class="literal">CompressedBackup</code></a>=1
# Enabling CompressedLCP and CompressedBackup causes, respectively, local
checkpoint files and backup files to be compressed, which can result in a space
savings of up to 50% over noncompressed LCPs and backups.

# <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooflocalscans"><code class="literal">MaxNoOfLocalScans</code></a>=64
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables"><code class="literal">MaxNoOfTables</code></a>=1024
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooforderedindexes"><code class="literal">MaxNoOfOrderedIndexes</code></a>=256

[ndbd]
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-hostname"><code class="literal">HostName</code></a>=<em class="replaceable"><code>data-node-A-hostname</code></em>
# <a class="link" href="mysql-cluster.html#ndbparam-ndbd-nodeid"><code class="literal">NodeId</code></a>=<em class="replaceable"><code>data-node-A-nodeid</code></em>

<a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockexecutethreadtocpu"><code class="literal">LockExecuteThreadToCPU</code></a>=1
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockmaintthreadstocpu"><code class="literal">LockMaintThreadsToCPU</code></a>=0
# On systems with multiple CPUs, these parameters can be used to lock NDBCLUSTER
# threads to specific CPUs

[ndbd]
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-hostname"><code class="literal">HostName</code></a>=<em class="replaceable"><code>data-node-B-hostname</code></em>
# <a class="link" href="mysql-cluster.html#ndbparam-ndbd-nodeid"><code class="literal">NodeId</code></a>=<em class="replaceable"><code>data-node-B-nodeid</code></em>

<a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockexecutethreadtocpu"><code class="literal">LockExecuteThreadToCPU</code></a>=1
<a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockmaintthreadstocpu"><code class="literal">LockMaintThreadsToCPU</code></a>=0

# You must have an [ndbd] section for every data node in the cluster;
# each of these sections must include a HostName. Each section may
# optionally include a NodeId for convenience, but in most cases, it is
# sufficient to allow the cluster to allocate node IDs dynamically. If
# you do specify the node ID for a data node, it must be in the range 1
# to 48 inclusive and must be unique among all IDs specified for
# cluster nodes.

# SQL NODE / API NODE PARAMETERS

[mysqld]
# <a class="link" href="mysql-cluster.html#ndbparam-api-hostname"><code class="literal">HostName</code></a>=<em class="replaceable"><code>sql-node-A-hostname</code></em>
# <a class="link" href="mysql-cluster.html#ndbparam-api-nodeid"><code class="literal">NodeId</code></a>=<em class="replaceable"><code>sql-node-A-nodeid</code></em>

[mysqld]

[mysqld]

# Each API or SQL node that connects to the cluster requires a [mysqld]
# or [api] section of its own. Each such section defines a connection
# <span class="quote">“<span class="quote">slot</span>”</span>; you should have at least as many of these sections in the
# config.ini file as the total number of API nodes and SQL nodes that
# you wish to have connected to the cluster at any given time. There is
# no performance or other penalty for having extra slots available in
# case you find later that you want or need more API or SQL nodes to
# connect to the cluster at the same time.
# If no HostName is specified for a given [mysqld] or [api] section,
# then <span class="emphasis"><em>any</em></span> API or SQL node may use that slot to connect to the
# cluster. You may wish to use an explicit HostName for one connection slot
# to guarantee that an API or SQL node from that host can always
# connect to the cluster. If you wish to prevent API or SQL nodes from
# connecting from other than a desired host or hosts, then use a
# HostName for every [mysqld] or [api] section in the config.ini file.
# You can if you wish define a node ID (NodeId parameter) for any API or
# SQL node, but this is not necessary; if you do so, it must be in the
# range 1 to 255 inclusive and must be unique among all IDs specified
# for cluster nodes.
</pre><p><b>Recommended <code class="filename">my.cnf</code> options for SQL nodes. </b>
          MySQL Servers acting as MySQL Cluster SQL nodes must always be
          started with the <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a>
          and <code class="option">--ndb-connectstring</code> options, either on
          the command line or in <code class="filename">my.cnf</code>. In
          addition, set the following options for all
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> processes in the cluster, unless
          your setup requires otherwise:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="option">--ndb-use-exact-count=0</code>
          </p></li><li class="listitem"><p>
            <code class="option">--ndb-index-stat-enable=0</code>
          </p></li><li class="listitem"><p>
            <code class="option">--ndb-force-send=1</code>
          </p></li><li class="listitem"><p>
            <code class="option">--engine-condition-pushdown=1</code>
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-connection-strings"></a>17.3.2.3. MySQL Cluster Connection Strings</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp108170304"></a><a class="indexterm" name="idp108171792"></a><p>
        With the exception of the MySQL Cluster management server
        (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>), each node that is part of a MySQL
        Cluster requires a <em class="firstterm">connection string</em> that
        points to the management server's location. This connection
        string is used in establishing a connection to the management
        server as well as in performing other tasks depending on the
        node's role in the cluster. The syntax for a connection string
        is as follows:
      </p><pre class="programlisting">[nodeid=<em class="replaceable"><code>node_id</code></em>, ]<em class="replaceable"><code>host-definition</code></em>[, <em class="replaceable"><code>host-definition</code></em>[, ...]]

<em class="replaceable"><code>host-definition</code></em>:
    <em class="replaceable"><code>host_name</code></em>[:<em class="replaceable"><code>port_number</code></em>]
</pre><p>
        <code class="literal">node_id</code> is an integer greater than or equal
        to 1 which identifies a node in <code class="filename">config.ini</code>.
        <em class="replaceable"><code>host_name</code></em> is a string representing a
        valid Internet host name or IP address.
        <em class="replaceable"><code>port_number</code></em> is an integer referring
        to a TCP/IP port number.
      </p><pre class="programlisting">example 1 (long):    "nodeid=2,myhost1:1100,myhost2:1100,192.168.0.3:1200"
example 2 (short):   "myhost1"</pre><p>
        <code class="literal">localhost:1186</code> is used as the default
        connection string value if none is provided. If
        <em class="replaceable"><code>port_num</code></em> is omitted from the
        connection string, the default port is 1186. This port should
        always be available on the network because it has been assigned
        by IANA for this purpose (see
        <a class="ulink" href="http://www.iana.org/assignments/port-numbers" target="_top">http://www.iana.org/assignments/port-numbers</a> for
        details).
      </p><p>
        By listing multiple host definitions, it is possible to
        designate several redundant management servers. A MySQL Cluster
        data or API node attempts to contact successive management
        servers on each host in the order specified, until a successful
        connection has been established.
      </p><p>
        It is also possible to specify in a connection string one or
        more bind addresses to be used by nodes having multiple network
        interfaces for connecting to management servers. A bind address
        consists of a hostname or network address and an optional port
        number. This enhanced syntax for connection strings is shown
        here:
      </p><pre class="programlisting">[nodeid=<em class="replaceable"><code>node_id</code></em>, ]
    [bind-address=<em class="replaceable"><code>host-definition</code></em>, ]
    <em class="replaceable"><code>host-definition</code></em>[; bind-address=<em class="replaceable"><code>host-definition</code></em>]
    <em class="replaceable"><code>host-definition</code></em>[; bind-address=<em class="replaceable"><code>host-definition</code></em>]
    [, ...]]

<em class="replaceable"><code>host-definition</code></em>:
    <em class="replaceable"><code>host_name</code></em>[:<em class="replaceable"><code>port_number</code></em>]
</pre><p>
        If a single bind address is used in the connection string
        <span class="emphasis"><em>prior</em></span> to specifying any management hosts,
        then this address is used as the default for connecting to any
        of them (unless overridden for a given management server; see
        later in this section for an example). For example, the
        following connection string causes the node to use
        <code class="literal">192.168.178.242</code> regardless of the management
        server to which it connects:
      </p><pre class="programlisting">bind-address=192.168.178.242, poseidon:1186, perch:1186</pre><p>
        If a bind address is specified <span class="emphasis"><em>following</em></span> a
        management host definition, then it is used only for connecting
        to that management node. Consider the following connection
        string:
      </p><pre class="programlisting">poseidon:1186;bind-address=localhost, perch:1186;bind-address=192.168.178.242</pre><p>
        In this case, the node uses <code class="literal">localhost</code> to
        connect to the management server running on the host named
        <code class="literal">poseidon</code> and
        <code class="literal">192.168.178.242</code> to connect to the management
        server running on the host named <code class="literal">perch</code>.
      </p><p>
        You can specify a default bind address and then override this
        default for one or more specific management hosts. In the
        following example, <code class="literal">localhost</code> is used for
        connecting to the management server running on host
        <code class="literal">poseidon</code>; since
        <code class="literal">192.168.178.242</code> is specified first (before
        any management server definitions), it is the default bind
        address and so is used for connecting to the management servers
        on hosts <code class="literal">perch</code> and <code class="literal">orca</code>:
      </p><pre class="programlisting">bind-address=192.168.178.242,poseidon:1186;bind-address=localhost,perch:1186,orca:2200</pre><p>
        There are a number of different ways to specify the connection
        string:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Each executable has its own command-line option which
            enables specifying the management server at startup. (See
            the documentation for the respective executable.)
          </p></li><li class="listitem"><p>
            It is also possible to set the connection string for all
            nodes in the cluster at once by placing it in a
            <code class="literal">[mysql_cluster]</code> section in the management
            server's <code class="filename">my.cnf</code> file.
          </p></li><li class="listitem"><p>
            For backward compatibility, two other options are available,
            using the same syntax:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                Set the <code class="envar">NDB_CONNECTSTRING</code> environment
                variable to contain the connection string.
              </p></li><li class="listitem"><p>
                Write the connection string for each executable into a
                text file named <code class="filename">Ndb.cfg</code> and place
                this file in the executable's startup directory.
</p></li></ol>
</div>
<p>
            However, these are now deprecated and should not be used for
            new installations.
</p></li></ul>
</div>
<p>
        The recommended method for specifying the connection string is
        to set it on the command line or in the
        <code class="filename">my.cnf</code> file for each executable.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-computer-definition"></a>17.3.2.4. Defining Computers in a MySQL Cluster</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp108216064"></a><a class="indexterm" name="idp108217552"></a><p>
        The <code class="literal">[computer]</code> section has no real
        significance other than serving as a way to avoid the need of
        defining host names for each node in the system. All parameters
        mentioned here are required.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-computer-id"></a>
            <code class="literal">Id</code>
</p>
<div class="informaltable">
<a name="id-computer-table"></a><table summary="This table provides type and value information for the Id
computer configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>string</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IS</td></tr></tbody></table>
</div>
<p>
            This is a unique identifier, used to refer to the host
            computer elsewhere in the configuration file.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              The computer ID is <span class="emphasis"><em>not</em></span> the same as
              the node ID used for a management, API, or data node.
              Unlike the case with node IDs, you cannot use
              <code class="literal">NodeId</code> in place of
              <code class="literal">Id</code> in the <code class="literal">[computer]</code>
              section of the <code class="filename">config.ini</code> file.
</p>
</div>
</li><li class="listitem"><p><a name="ndbparam-computer-hostname"></a>
            <code class="literal">HostName</code>
</p>
<div class="informaltable">
<a name="hostname-computer-table"></a><table summary="This table provides type and value information for the
HostName computer configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name or IP address</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            This is the computer's hostname or IP address.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-mgm-definition"></a>17.3.2.5. Defining a MySQL Cluster Management Server</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp108254448"></a><a class="indexterm" name="idp108255936"></a><p>
        The <code class="literal">[ndb_mgmd]</code> section is used to configure
        the behavior of the management server. <code class="literal">[mgm]</code>
        can be used as an alias; the two section names are equivalent.
        All parameters in the following list are optional and assume
        their default values if omitted.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          If neither the <code class="literal">ExecuteOnComputer</code> nor the
          <code class="literal">HostName</code> parameter is present, the default
          value <code class="literal">localhost</code> will be assumed for both.
</p>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-mgmd-id"></a>
            <a class="indexterm" name="idp108263584"></a>

            <code class="literal">Id</code>
</p>
<div class="informaltable">
<a name="id-mgmd-table"></a><table summary="This table provides type and value information for the Id
management node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>[none]</td><td>1 - 255</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IS</td></tr></tbody></table>
</div>
<p>
            Each node in the cluster has a unique identity. For a
            management node, this is represented by an integer value in
            the range 1 to 255, inclusive. This ID is used by all
            internal cluster messages for addressing the node, and so
            must be unique for each MySQL Cluster node, regardless of
            the type of node.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              Data node IDs must be less than 49. If you plan to deploy
              a large number of data nodes, it is a good idea to limit
              the node IDs for management nodes (and API nodes) to
              values greater than 48.
</p>
</div>
<p>
            The use of the <code class="literal">Id</code> parameter for
            identifying management nodes is deprecated in favor of
            <a class="link" href="mysql-cluster.html#ndbparam-mgmd-nodeid"><code class="literal">NodeId</code></a>. Although
            <code class="literal">Id</code> continues to be supported for backward
            compatibility, it now generates a warning and is subject to
            removal in a future version of MySQL Cluster.
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-nodeid"></a>
            <a class="indexterm" name="idp108283008"></a>

            <code class="literal">NodeId</code>
</p>
<div class="informaltable">
<a name="nodeid-mgmd-table"></a><table summary="This table provides type and value information for the
NodeId management node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>[none]</td><td>1 - 255</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IS</td></tr></tbody></table>
</div>
<p>
            Each node in the cluster has a unique identity. For a
            management node, this is represented by an integer value in
            the range 1 to 255 inclusive. This ID is used by all
            internal cluster messages for addressing the node, and so
            must be unique for each MySQL Cluster node, regardless of
            the type of node.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              Data node IDs must be less than 49. If you plan to deploy
              a large number of data nodes, it is a good idea to limit
              the node IDs for management nodes (and API nodes) to
              values greater than 48.
</p>
</div>
<p>
            <code class="literal">NodeId</code> is the preferred parameter name to
            use when identifying management nodes. Although the older
            <a class="link" href="mysql-cluster.html#ndbparam-mgmd-id"><code class="literal">Id</code></a> continues to be
            supported for backward compatibility, it is now deprecated
            and generates a warning when used; it is also subject to
            removal in a future MySQL Cluster release.
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-executeoncomputer"></a>
            <a class="indexterm" name="idp108301856"></a>

            <code class="literal">ExecuteOnComputer</code>
</p>
<div class="informaltable">
<a name="executeoncomputer-mgmd-table"></a><table summary="This table provides type and value information for the
ExecuteOnComputer management node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            This refers to the <code class="literal">Id</code> set for one of the
            computers defined in a <code class="literal">[computer]</code> section
            of the <code class="filename">config.ini</code> file.
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-portnumber"></a>
            <a class="indexterm" name="idp108319248"></a>

            <code class="literal">PortNumber</code>
</p>
<div class="informaltable">
<a name="portnumber-mgmd-table"></a><table summary="This table provides type and value information for the
PortNumber management node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>1186</td><td>0 - 64K</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This is the port number on which the management server
            listens for configuration requests and management commands.
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-hostname"></a>
            <a class="indexterm" name="idp108334624"></a>

            <code class="literal">HostName</code>
</p>
<div class="informaltable">
<a name="hostname-mgmd-table"></a><table summary="This table provides type and value information for the
HostName management node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name or IP address</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            Specifying this parameter defines the hostname of the
            computer on which the management node is to reside. To
            specify a hostname other than <code class="literal">localhost</code>,
            either this parameter or
            <code class="literal">ExecuteOnComputer</code> is required.
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-logdestination"></a>
            <a class="indexterm" name="idp108351456"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-mgmd-logdestination"><code class="literal">LogDestination</code></a>
</p>
<div class="informaltable">
<a name="logdestination-mgmd-table"></a><table summary="This table provides type and value information for the
LogDestination management node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>{CONSOLE|SYSLOG|FILE}</td><td>[see text]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter specifies where to send cluster logging
            information. There are three options in this
            regard—<code class="literal">CONSOLE</code>,
            <code class="literal">SYSLOG</code>, and
            <code class="literal">FILE</code>—with <code class="literal">FILE</code>
            being the default:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">CONSOLE</code> outputs the log to
                <code class="literal">stdout</code>:
              </p><pre class="programlisting">CONSOLE</pre></li><li class="listitem"><p>
                <code class="literal">SYSLOG</code> sends the log to a
                <code class="literal">syslog</code> facility, possible values
                being one of <code class="literal">auth</code>,
                <code class="literal">authpriv</code>, <code class="literal">cron</code>,
                <code class="literal">daemon</code>, <code class="literal">ftp</code>,
                <code class="literal">kern</code>, <code class="literal">lpr</code>,
                <code class="literal">mail</code>, <code class="literal">news</code>,
                <code class="literal">syslog</code>, <code class="literal">user</code>,
                <code class="literal">uucp</code>, <code class="literal">local0</code>,
                <code class="literal">local1</code>, <code class="literal">local2</code>,
                <code class="literal">local3</code>, <code class="literal">local4</code>,
                <code class="literal">local5</code>, <code class="literal">local6</code>, or
                <code class="literal">local7</code>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
                  Not every facility is necessarily supported by every
                  operating system.
</p>
</div>
<pre class="programlisting">SYSLOG:facility=syslog</pre></li><li class="listitem"><p>
                <code class="literal">FILE</code> pipes the cluster log output to
                a regular file on the same machine. The following values
                can be specified:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>
                    <code class="literal">filename</code>: The name of the log
                    file.
                  </p><p>
                    In MySQL Cluster NDB 7.3, the default log file name
                    used in such cases is
                    <code class="filename">ndb_<em class="replaceable"><code>nodeid</code></em>_cluster.log</code>
                    (in some older versions, the log file's default
                    name, used if <code class="literal">FILE</code> was specified
                    without also setting <code class="literal">filename</code>,
                    was <code class="filename">logger.log</code>.).
                  </p></li><li class="listitem"><p>
                    <code class="literal">maxsize</code>: The maximum size (in
                    bytes) to which the file can grow before logging
                    rolls over to a new file. When this occurs, the old
                    log file is renamed by appending
                    <em class="replaceable"><code>.N</code></em> to the file name,
                    where <em class="replaceable"><code>N</code></em> is the next
                    number not yet used with this name.
                  </p></li><li class="listitem"><p>
                    <code class="literal">maxfiles</code>: The maximum number of
                    log files.
</p></li></ul>
</div>
<pre class="programlisting">FILE:filename=cluster.log,maxsize=1000000,maxfiles=6</pre><p>
                The default value for the <code class="literal">FILE</code>
                parameter is
                <code class="literal">FILE:filename=ndb_<em class="replaceable"><code>node_id</code></em>_cluster.log,maxsize=1000000,maxfiles=6</code>,
                where <em class="replaceable"><code>node_id</code></em> is the ID of
                the node.
</p></li></ul>
</div>
<p>
            It is possible to specify multiple log destinations
            separated by semicolons as shown here:
          </p><pre class="programlisting">CONSOLE;SYSLOG:facility=local0;FILE:filename=/var/log/mgmd</pre></li><li class="listitem"><p><a name="ndbparam-mgmd-arbitrationrank"></a>
            <a class="indexterm" name="idp108407856"></a>

            <code class="literal">ArbitrationRank</code>
</p>
<div class="informaltable">
<a name="arbitrationrank-mgmd-table"></a><table summary="This table provides type and value information for the
ArbitrationRank management node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>0-2</td><td>1</td><td>0 - 2</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is used to define which nodes can act as
            arbitrators. Only management nodes and SQL nodes can be
            arbitrators. <code class="literal">ArbitrationRank</code> can take one
            of the following values:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">0</code>: The node will never be used as an
                arbitrator.
              </p></li><li class="listitem"><p>
                <code class="literal">1</code>: The node has high priority; that
                is, it will be preferred as an arbitrator over
                low-priority nodes.
              </p></li><li class="listitem"><p>
                <code class="literal">2</code>: Indicates a low-priority node
                which be used as an arbitrator only if a node with a
                higher priority is not available for that purpose.
</p></li></ul>
</div>
<p>
            Normally, the management server should be configured as an
            arbitrator by setting its <code class="literal">ArbitrationRank</code>
            to 1 (the default for management nodes) and those for all
            SQL nodes to 0 (the default for SQL nodes).
          </p><p>
            You can disable arbitration completely either by setting
            <code class="literal">ArbitrationRank</code> to 0 on all management
            and SQL nodes, or by setting the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitration"><code class="literal">Arbitration</code></a>
            parameter in the <code class="literal">[ndbd default]</code> section
            of the <code class="filename">config.ini</code> global configuration
            file. Setting
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitration"><code class="literal">Arbitration</code></a> causes
            any settings for <code class="literal">ArbitrationRank</code> to be
            disregarded.
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-arbitrationdelay"></a>
            <a class="indexterm" name="idp108435680"></a>

            <code class="literal">ArbitrationDelay</code>
</p>
<div class="informaltable">
<a name="arbitrationdelay-mgmd-table"></a><table summary="This table provides type and value information for the
ArbitrationDelay management node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>0</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            An integer value which causes the management server's
            responses to arbitration requests to be delayed by that
            number of milliseconds. By default, this value is 0; it is
            normally not necessary to change it.
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-datadir"></a>
            <a class="indexterm" name="idp108451120"></a>

            <code class="literal">DataDir</code>
</p>
<div class="informaltable">
<a name="datadir-mgmd-table"></a><table summary="This table provides type and value information for the
DataDir management node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>path</td><td>.</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This specifies the directory where output files from the
            management server will be placed. These files include
            cluster log files, process output files, and the daemon's
            process ID (PID) file. (For log files, this location can be
            overridden by setting the <code class="literal">FILE</code> parameter
            for <a class="link" href="mysql-cluster.html#ndbparam-mgmd-logdestination"><code class="literal">LogDestination</code></a>
            as discussed previously in this section.)
          </p><p>
            The default value for this parameter is the directory in
            which <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> is located.
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-heartbeatthreadpriority"></a>
            <a class="indexterm" name="idp108469584"></a>

            <code class="literal">HeartbeatThreadPriority</code>
</p>
<div class="informaltable">
<a name="heartbeatthreadpriority-mgmd-table"></a><table summary="This table provides type and value information for the
      HeartbeatThreadPriority management node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>string</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            Set the scheduling policy and priority of heartbeat threads
            for management and API nodes.
          </p><p>
            The syntax for setting this parameter is shown here:
          </p><pre class="programlisting">HeartbeatThreadPriority = <em class="replaceable"><code>policy</code></em>[, <em class="replaceable"><code>priority</code></em>]

<em class="replaceable"><code>policy</code></em>:
  {FIFO | RR}
</pre><p>
            When setting this parameter, you must specify a policy. This
            is one of <code class="literal">FIFO</code> (first in, first out) or
            <code class="literal">RR</code> (round robin). The policy value is
            followed optionally by the priority (an integer).
          </p></li><li class="listitem"><p><a name="ndbparam-mgmd-totalsendbuffermemory"></a>
            <a class="indexterm" name="idp108489440"></a>

            <code class="literal">TotalSendBufferMemory</code>
</p>
<div class="informaltable">
<a name="totalsendbuffermemory-mgmd-table"></a><table summary="This table provides type and value information for the
      TotalSendBufferMemory management node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>256K</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is available beginning with MySQL Cluster NDB
            6.4.0. It is used to determine the total amount of memory to
            allocate on this node for shared send buffer memory among
            all configured transporters.
          </p><p>
            If this parameter is set, its minimum permitted value is
            256KB; the maxmimum is 4294967039. For more detailed
            information about the behavior and use of
            <code class="literal">TotalSendBufferMemory</code> and configuring
            send buffer memory parameters, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="17.3.2.12. Configuring MySQL Cluster Send Buffer Parameters">Section 17.3.2.12, “Configuring MySQL Cluster Send Buffer Parameters”</a>.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p xmlns="">
          After making changes in a management node's
          configuration, it is necessary to perform a rolling restart of
          the cluster for the new configuration to take effect.
        </p><p xmlns="">
          To add new management servers to a running MySQL Cluster, it
          is also necessary to perform a rolling restart of all cluster
          nodes after modifying any existing
          <code class="filename">config.ini</code> files. For more information
          about issues arising when using multiple management nodes, see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-multiple-nodes" title="17.1.6.10. Limitations Relating to Multiple MySQL Cluster Nodes">Section 17.1.6.10, “Limitations Relating to Multiple MySQL Cluster Nodes”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbd-definition"></a>17.3.2.6. Defining MySQL Cluster Data Nodes</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp108510752"></a><a class="indexterm" name="idp108512240"></a><p>
        The <code class="literal">[ndbd]</code> and <code class="literal">[ndbd
        default]</code> sections are used to configure the behavior
        of the cluster's data nodes.
      </p><p>
        <code class="literal">[ndbd]</code> and <code class="literal">[ndbd default]</code>
        are always used as the section names whether you are using
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> binaries
        for the data node processes.
      </p><p>
        There are many parameters which control buffer sizes, pool
        sizes, timeouts, and so forth. The only mandatory parameter is
        either one of <code class="literal">ExecuteOnComputer</code> or
        <code class="literal">HostName</code>; this must be defined in the local
        <code class="literal">[ndbd]</code> section.
      </p><p>
        The parameter
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a> should be
        defined in the <code class="literal">[ndbd default]</code> section, as it
        is common to all Cluster data nodes. It is not strictly
        necessary to set
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a>, but it is
        good practice to set it explicitly.
      </p><p>
        Most data node parameters are set in the <code class="literal">[ndbd
        default]</code> section. Only those parameters explicitly
        stated as being able to set local values are permitted to be
        changed in the <code class="literal">[ndbd]</code> section. Where present,
        <code class="literal">HostName</code>, <code class="literal">NodeId</code> and
        <code class="literal">ExecuteOnComputer</code> <span class="emphasis"><em>must</em></span>
        be defined in the local <code class="literal">[ndbd]</code> section, and
        not in any other section of <code class="filename">config.ini</code>. In
        other words, settings for these parameters are specific to one
        data node.
      </p><p>
        For those parameters affecting memory usage or buffer sizes, it
        is possible to use <code class="literal">K</code>, <code class="literal">M</code>,
        or <code class="literal">G</code> as a suffix to indicate units of 1024,
        1024×1024, or 1024×1024×1024. (For example,
        <code class="literal">100K</code> means 100 × 1024 = 102400.)
        Parameter names and values are currently case-sensitive.
      </p><p>
        Information about configuration parameters specific to MySQL
        Cluster Disk Data tables can be found later in this section (see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition-disk-data-parameters" title="Disk Data Configuration Parameters">Disk Data Configuration Parameters</a>).
      </p><p>
        All of these parameters also apply to <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>
        (the multi-threaded version of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>). Three
        additional data node configuration
        parameters—<a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-maxnoofexecutionthreads"><code class="literal">MaxNoOfExecutionThreads</code></a>,
        <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-threadconfig"><code class="literal">ThreadConfig</code></a>, and
        <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-nooffragmentlogparts"><code class="literal">NoOfFragmentLogParts</code></a>—apply
        to <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> only; these have no effect when
        used with <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>. For more information, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition-ndbmtd-parameters" title="Multi-Threading Configuration Parameters (ndbmtd)">Multi-Threading Configuration Parameters (<span class="command"><strong>ndbmtd</strong></span>)</a>.
        See also <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)">Section 17.4.3, “<span class="command"><strong>ndbmtd</strong></span> — The MySQL Cluster Data Node Daemon (Multi-Threaded)”</a>.
      </p><p><b>Identifying data nodes. </b>
          The <code class="literal">NodeId</code> or <code class="literal">Id</code> value
          (that is, the data node identifier) can be allocated on the
          command line when the node is started or in the configuration
          file.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-id"></a>
            <a class="indexterm" name="idp108547984"></a>

            <code class="literal">Id</code>
</p>
<div class="informaltable">
<a name="id-ndbd-table"></a><table summary="This table provides type and value information for the Id
data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>[none]</td><td>1 - 48</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IS</td></tr></tbody></table>
</div>
<p>
            A unique node ID is used as the node's address for all
            cluster internal messages. For data nodes, this is an
            integer in the range 1 to 48 inclusive. Each node in the
            cluster must have a unique identifier.
          </p><p>
            <code class="literal">NodeId</code> is the preferred parameter name to
            use when identifying data nodes. Although the older
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-id"><code class="literal">Id</code></a> is still
            supported for backward compatibility, it is now deprecated,
            and generates a warning when used. <code class="literal">Id</code> is
            also subject to removal in a future MySQL Cluster release.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-nodeid"></a>
            <a class="indexterm" name="idp108566240"></a>

            <code class="literal">NodeId</code>
</p>
<div class="informaltable">
<a name="nodeid-ndbd-table"></a><table summary="This table provides type and value information for the
NodeId data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>[none]</td><td>1 - 48</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IS</td></tr></tbody></table>
</div>
<p>
            A unique node ID is used as the node's address for all
            cluster internal messages. For data nodes, this is an
            integer in the range 1 to 48 inclusive. Each node in the
            cluster must have a unique identifier.
          </p><p>
            <code class="literal">NodeId</code> is the preferred parameter name to
            use when identifying data nodes. Although
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-id"><code class="literal">Id</code></a> continues to be
            supported for backward compatibility, it is now deprecated,
            generates a warning when used, and is subject to removal in
            a future version of MySQL Cluster.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-executeoncomputer"></a>
            <a class="indexterm" name="idp108583904"></a>

            <code class="literal">ExecuteOnComputer</code>
</p>
<div class="informaltable">
<a name="executeoncomputer-ndbd-table"></a><table summary="This table provides type and value information for the
ExecuteOnComputer data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            This refers to the <code class="literal">Id</code> set for one of the
            computers defined in a <code class="literal">[computer]</code>
            section.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-hostname"></a>
            <a class="indexterm" name="idp108600560"></a>

            <code class="literal">HostName</code>
</p>
<div class="informaltable">
<a name="hostname-ndbd-table"></a><table summary="This table provides type and value information for the
HostName data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name or IP address</td><td>localhost</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            Specifying this parameter defines the hostname of the
            computer on which the data node is to reside. To specify a
            hostname other than <code class="literal">localhost</code>, either
            this parameter or <code class="literal">ExecuteOnComputer</code> is
            required.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-serverport"></a>
            <a class="indexterm" name="idp108617360"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-serverport"><code class="literal">ServerPort</code></a>
</p>
<div class="informaltable">
<a name="serverport-ndbd-table"></a><table summary="This table provides type and value information for the
ServerPort data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>[none]</td><td>1 - 64K</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Each node in the cluster uses a port to connect to other
            nodes. By default, this port is allocated dynamically in
            such a way as to ensure that no two nodes on the same host
            computer receive the same port number, so it should normally
            not be necessary to specify a value for this parameter.
          </p><p>
            However, if you need to be able to open specific ports in a
            firewall to permit communication between data nodes and API
            nodes (including SQL nodes), you can set this parameter to
            the number of the desired port in an
            <code class="literal">[ndbd]</code> section or (if you need to do this
            for multiple data nodes) the <code class="literal">[ndbd
            default]</code> section of the
            <code class="filename">config.ini</code> file, and then open the port
            having that number for incoming connections from SQL nodes,
            API nodes, or both.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              Connections from data nodes to management nodes is done
              using the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> management port (the
              management server's <code class="literal">PortNumber</code>;
              see <a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-definition" title="17.3.2.5. Defining a MySQL Cluster Management Server">Section 17.3.2.5, “Defining a MySQL Cluster Management Server”</a>) so
              outgoing connections to that port from any data nodes
              should always be permitted.
</p>
</div>
</li><li class="listitem"><p><a name="ndbparam-ndbd-tcpbind_inaddr_any"></a>
            <code class="literal">TcpBind_INADDR_ANY</code>
          </p><p>
            Setting this parameter to <code class="literal">TRUE</code> or
            <code class="literal">1</code> binds <code class="literal">IP_ADDR_ANY</code> so
            that connections can be made from anywhere (for
            autogenerated connections). The default is
            <code class="literal">FALSE</code> (<code class="literal">0</code>).
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-nodegroup"></a>
            <a class="indexterm" name="idp108645104"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-nodegroup"><code class="literal">NodeGroup</code></a>
</p>
<div class="informaltable">
<a name="nodegroup-ndbd-table"></a><table summary="This table provides type and value information for the
NodeGroup data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td> </td><td>[none]</td><td>0 - 65536</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IS</td></tr></tbody></table>
</div>
<p>
            This parameter can be used to assign a data node to a
            specific node group. It is read only when the cluster is
            started for the first time, and cannot be used to reassign a
            data node to a different node group online. It is generally
            not desirable to use this parameter in the <code class="literal">[ndbd
            default]</code> section of the
            <code class="filename">config.ini</code> file, and care must be taken
            not to assign nodes to node groups in such a way that an
            invalid numbers of nodes are assigned to any node groups.
          </p><p>
            The <a class="link" href="mysql-cluster.html#ndbparam-ndbd-nodegroup"><code class="literal">NodeGroup</code></a>
            parameter is chiefly intended for use in adding a new node
            group to a running MySQL Cluster without having to perform a
            rolling restart. For this purpose, you should set it to
            65536 (the maximum value). You are not required to set a
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-nodegroup"><code class="literal">NodeGroup</code></a> value for
            all cluster data nodes, only for those nodes which are to be
            started and added to the cluster as a new node group at a
            later time. For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node-example" title="17.5.13.3. Adding MySQL Cluster Data Nodes Online: Detailed Example">Section 17.5.13.3, “Adding MySQL Cluster Data Nodes Online: Detailed Example”</a>.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-noofreplicas"></a>
            <a class="indexterm" name="idp108665408"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a>
</p>
<div class="informaltable">
<a name="noofreplicas-ndbd-table"></a><table summary="This table provides type and value information for the
NoOfReplicas data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>2</td><td>1 - 4</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IS</td></tr></tbody></table>
</div>
<p>
            This global parameter can be set only in the <code class="literal">[ndbd
            default]</code> section, and defines the number of
            replicas for each table stored in the cluster. This
            parameter also specifies the size of node groups. A node
            group is a set of nodes all storing the same information.
          </p><p>
            Node groups are formed implicitly. The first node group is
            formed by the set of data nodes with the lowest node IDs,
            the next node group by the set of the next lowest node
            identities, and so on. By way of example, assume that we
            have 4 data nodes and that
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a> is set
            to 2. The four data nodes have node IDs 2, 3, 4 and 5. Then
            the first node group is formed from nodes 2 and 3, and the
            second node group by nodes 4 and 5. It is important to
            configure the cluster in such a manner that nodes in the
            same node groups are not placed on the same computer because
            a single hardware failure would cause the entire cluster to
            fail.
          </p><p>
            If no node IDs are provided, the order of the data nodes
            will be the determining factor for the node group. Whether
            or not explicit assignments are made, they can be viewed in
            the output of the management client's
            <code class="literal">SHOW</code> command.
          </p><p>
            The default value for
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a> is 2,
            which is the recommended setting in most common usage
            scenarios.
          </p><p>
            The maximum possible value is 4; <span class="emphasis"><em>currently, only
            the values 1 and 2 are actually supported</em></span>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              Setting
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a> to 1
              means that there is only a single copy of all Cluster
              data; in this case, the loss of a single data node causes
              the cluster to fail because there are no additional copies
              of the data stored by that node.
</p>
</div>
<p>
            The value for this parameter must divide evenly into the
            number of data nodes in the cluster. For example, if there
            are two data nodes, then
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a> must be
            equal to either 1 or 2, since 2/3 and 2/4 both yield
            fractional values; if there are four data nodes, then
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a> must be
            equal to 1, 2, or 4.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-datadir"></a>
            <a class="indexterm" name="idp108692240"></a>

            <code class="literal">DataDir</code>
</p>
<div class="informaltable">
<a name="datadir-ndbd-table"></a><table summary="This table provides type and value information for the
DataDir data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>path</td><td>.</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IN</td></tr></tbody></table>
</div>
<p>
            This parameter specifies the directory where trace files,
            log files, pid files and error logs are placed.
          </p><p>
            The default is the data node process working directory.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-filesystempath"></a>
            <a class="indexterm" name="idp108707984"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempath"><code class="literal">FileSystemPath</code></a>
</p>
<div class="informaltable">
<a name="filesystempath-ndbd-table"></a><table summary="This table provides type and value information for the
FileSystemPath data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>path</td><td>DataDir</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IN</td></tr></tbody></table>
</div>
<p>
            This parameter specifies the directory where all files
            created for metadata, REDO logs, UNDO logs (for Disk Data
            tables), and data files are placed. The default is the
            directory specified by <code class="literal">DataDir</code>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              This directory must exist before the
              <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process is initiated.
</p>
</div>
<p>
            The recommended directory hierarchy for MySQL Cluster
            includes <code class="filename">/var/lib/mysql-cluster</code>, under
            which a directory for the node's file system is created. The
            name of this subdirectory contains the node ID. For example,
            if the node ID is 2, this subdirectory is named
            <code class="filename">ndb_2_fs</code>.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-backupdatadir"></a>
            <a class="indexterm" name="idp108728144"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupdatadir"><code class="literal">BackupDataDir</code></a>
</p>
<div class="informaltable">
<a name="backupdatadir-ndbd-table"></a><table summary="This table provides type and value information for the
BackupDataDir data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>path</td><td>[see text]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IN</td></tr></tbody></table>
</div>
<p>
            This parameter specifies the directory in which backups are
            placed.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              The string '<code class="literal">/BACKUP</code>' is always appended
              to this value. For example, if you set the value of
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupdatadir"><code class="literal">BackupDataDir</code></a> to
              <code class="filename">/var/lib/cluster-data</code>, then all
              backups are stored under
              <code class="filename">/var/lib/cluster-data/BACKUP</code>. This
              also means that the <span class="emphasis"><em>effective</em></span> default
              backup location is the directory named
              <code class="filename">BACKUP</code> under the location specified
              by the
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempath"><code class="literal">FileSystemPath</code></a>
              parameter.
</p>
</div>
</li></ul>
</div>
<h5><a name="mysql-cluster-data-memory-index-memory-string-memory"></a>
        Data Memory, Index Memory, and String Memory
</h5>
<p>
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> and
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a> are
        <code class="literal">[ndbd]</code> parameters specifying the size of
        memory segments used to store the actual records and their
        indexes. In setting values for these, it is important to
        understand how
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> and
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a> are used, as
        they usually need to be updated to reflect actual usage by the
        cluster:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-datamemory"></a>
            <a class="indexterm" name="idp108755728"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a>
</p>
<div class="informaltable">
<a name="datamemory-ndbd-table"></a><table summary="This table provides type and value information for the
DataMemory data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>80M</td><td>1M - 1024G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter defines the amount of space (in bytes)
            available for storing database records. The entire amount
            specified by this value is allocated in memory, so it is
            extremely important that the machine has sufficient physical
            memory to accommodate it.
          </p><p>
            The memory allocated by
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> is used
            to store both the actual records and indexes. There is a
            16-byte overhead on each record; an additional amount for
            each record is incurred because it is stored in a 32KB page
            with 128 byte page overhead (see below). There is also a
            small amount wasted per page due to the fact that each
            record is stored in only one page.
          </p><p>
            For variable-size table attributes, the data is stored on
            separate datapages, allocated from
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a>.
            Variable-length records use a fixed-size part with an extra
            overhead of 4 bytes to reference the variable-size part. The
            variable-size part has 2 bytes overhead plus 2 bytes per
            attribute.
          </p><p>
            The maximum record size is 14000 bytes.
          </p><p>
            The memory space defined by
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> is also
            used to store ordered indexes, which use about 10 bytes per
            record. Each table row is represented in the ordered index.
            A common error among users is to assume that all indexes are
            stored in the memory allocated by
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a>, but
            this is not the case: Only primary key and unique hash
            indexes use this memory; ordered indexes use the memory
            allocated by
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a>. However,
            creating a primary key or unique hash index also creates an
            ordered index on the same keys, unless you specify
            <code class="literal">USING HASH</code> in the index creation
            statement. This can be verified by running <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc
            -d <em class="replaceable"><code>db_name</code></em>
            <em class="replaceable"><code>table_name</code></em></strong></span></a> in the
            management client.
          </p><a class="indexterm" name="idp108781104"></a><a class="indexterm" name="idp108782608"></a><a class="indexterm" name="idp108783696"></a><p>
            Currently, MySQL Cluster can use a maximum of 512 MB for
            hash indexes per partition, which means in some cases it is
            possible to get <span class="errortext">Table is full</span> errors
            in MySQL client applications even when <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm -e
            "ALL REPORT MEMORYUSAGE"</strong></span></a> shows significant free
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a>. This can
            also pose a problem with data node restarts on nodes that
            are heavily loaded with data. You can force
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> to create extra partitions
            for MySQL Cluster tables and thus have more memory available
            for hash indexes by using the <code class="literal">MAX_ROWS</code>
            option for <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a>. In
            general, setting <code class="literal">MAX_ROWS</code> to twice the
            number of rows that you expect to store in the table should
            be sufficient. You can also use the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-minfreepct"><code class="literal">MinFreePct</code></a>
            configuration parameter to help avoid problems with node
            restarts. (Bug #13436216)
          </p><p>
            The memory space allocated by
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> consists
            of 32KB pages, which are allocated to table fragments. Each
            table is normally partitioned into the same number of
            fragments as there are data nodes in the cluster. Thus, for
            each node, there are the same number of fragments as are set
            in <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas"><code class="literal">NoOfReplicas</code></a>.
          </p><p>
            Once a page has been allocated, it is currently not possible
            to return it to the pool of free pages, except by deleting
            the table. (This also means that
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> pages,
            once allocated to a given table, cannot be used by other
            tables.) Performing a data node recovery also compresses the
            partition because all records are inserted into empty
            partitions from other live nodes.
          </p><p>
            <a class="indexterm" name="idp108796544"></a>

            The <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a>
            memory space also contains UNDO information: For each
            update, a copy of the unaltered record is allocated in the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a>. There is
            also a reference to each copy in the ordered table indexes.
            Unique hash indexes are updated only when the unique index
            columns are updated, in which case a new entry in the index
            table is inserted and the old entry is deleted upon commit.
            For this reason, it is also necessary to allocate enough
            memory to handle the largest transactions performed by
            applications using the cluster. In any case, performing a
            few large transactions holds no advantage over using many
            smaller ones, for the following reasons:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                Large transactions are not any faster than smaller ones
              </p></li><li class="listitem"><p>
                Large transactions increase the number of operations
                that are lost and must be repeated in event of
                transaction failure
              </p></li><li class="listitem"><p>
                Large transactions use more memory
</p></li></ul>
</div>
<p>
            The default value for
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> is 80MB;
            the minimum is 1MB. There is no maximum size, but in reality
            the maximum size has to be adapted so that the process does
            not start swapping when the limit is reached. This limit is
            determined by the amount of physical RAM available on the
            machine and by the amount of memory that the operating
            system may commit to any one process. 32-bit operating
            systems are generally limited to 2–4GB per process;
            64-bit operating systems can use more. For large databases,
            it may be preferable to use a 64-bit operating system for
            this reason.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-indexmemory"></a>
            <a class="indexterm" name="idp108807296"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a>
</p>
<div class="informaltable">
<a name="indexmemory-ndbd-table"></a><table summary="This table provides type and value information for the
IndexMemory data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>18M</td><td>1M - 1T</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter controls the amount of storage used for hash
            indexes in MySQL Cluster. Hash indexes are always used for
            primary key indexes, unique indexes, and unique constraints.
            Note that when defining a primary key and a unique index,
            two indexes will be created, one of which is a hash index
            used for all tuple accesses as well as lock handling. It is
            also used to enforce unique constraints.
          </p><p>
            The size of the hash index is 25 bytes per record, plus the
            size of the primary key. For primary keys larger than 32
            bytes another 8 bytes is added.
          </p><p>
            The default value for
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a> is 18MB.
            The minimum is 1MB.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-stringmemory"></a>
            <a class="indexterm" name="idp108825536"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-stringmemory"><code class="literal">StringMemory</code></a>
</p>
<div class="informaltable">
<a name="stringmemory-ndbd-table"></a><table summary="This table provides type and value information for the
StringMemory data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>% or bytes</td><td>25</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            This parameter determines how much memory is allocated for
            strings such as table names, and is specified in an
            <code class="literal">[ndbd]</code> or <code class="literal">[ndbd
            default]</code> section of the
            <code class="filename">config.ini</code> file. A value between
            <code class="literal">0</code> and <code class="literal">100</code> inclusive is
            interpreted as a percent of the maximum default value, which
            is calculated based on a number of factors including the
            number of tables, maximum table name size, maximum size of
            <code class="filename">.FRM</code> files,
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftriggers"><code class="literal">MaxNoOfTriggers</code></a>,
            maximum column name size, and maximum default column value.
          </p><p>
            A value greater than <code class="literal">100</code> is interpreted
            as a number of bytes.
          </p><p>
            The default value is 25—that is, 25 percent of the
            default maximum.
          </p><p>
            Under most circumstances, the default value should be
            sufficient, but when you have a great many Cluster tables
            (1000 or more), it is possible to get Error 773
            <span class="errortext">Out of string memory, please modify StringMemory
            config parameter: Permanent error: Schema error</span>,
            in which case you should increase this value.
            <code class="literal">25</code> (25 percent) is not excessive, and
            should prevent this error from recurring in all but the most
            extreme conditions.
</p></li></ul>
</div>
<p>
        The following example illustrates how memory is used for a
        table. Consider this table definition:
      </p><pre class="programlisting">CREATE TABLE example (
  a INT NOT NULL,
  b INT NOT NULL,
  c INT NOT NULL,
  PRIMARY KEY(a),
  UNIQUE(b)
) ENGINE=NDBCLUSTER;</pre><p>
        For each record, there are 12 bytes of data plus 12 bytes
        overhead. Having no nullable columns saves 4 bytes of overhead.
        In addition, we have two ordered indexes on columns
        <code class="literal">a</code> and <code class="literal">b</code> consuming roughly
        10 bytes each per record. There is a primary key hash index on
        the base table using roughly 29 bytes per record. The unique
        constraint is implemented by a separate table with
        <code class="literal">b</code> as primary key and <code class="literal">a</code> as
        a column. This other table consumes an additional 29 bytes of
        index memory per record in the <code class="literal">example</code> table
        as well 8 bytes of record data plus 12 bytes of overhead.
      </p><p>
        Thus, for one million records, we need 58MB for index memory to
        handle the hash indexes for the primary key and the unique
        constraint. We also need 64MB for the records of the base table
        and the unique index table, plus the two ordered index tables.
      </p><p>
        You can see that hash indexes takes up a fair amount of memory
        space; however, they provide very fast access to the data in
        return. They are also used in MySQL Cluster to handle uniqueness
        constraints.
      </p><p>
        Currently, the only partitioning algorithm is hashing and
        ordered indexes are local to each node. Thus, ordered indexes
        cannot be used to handle uniqueness constraints in the general
        case.
      </p><p>
        An important point for both
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a> and
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> is that the
        total database size is the sum of all data memory and all index
        memory for each node group. Each node group is used to store
        replicated information, so if there are four nodes with two
        replicas, there will be two node groups. Thus, the total data
        memory available is 2 ×
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> for each data
        node.
      </p><p>
        It is highly recommended that
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> and
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a> be set to
        the same values for all nodes. Data distribution is even over
        all nodes in the cluster, so the maximum amount of space
        available for any node can be no greater than that of the
        smallest node in the cluster.
      </p><p>
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> and
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a> can be
        changed, but decreasing either of these can be risky; doing so
        can easily lead to a node or even an entire MySQL Cluster that
        is unable to restart due to there being insufficient memory
        space. Increasing these values should be acceptable, but it is
        recommended that such upgrades are performed in the same manner
        as a software upgrade, beginning with an update of the
        configuration file, and then restarting the management server
        followed by restarting each data node in turn.
      </p><p><a name="ndbparam-ndbd-minfreepct"></a>
        <a class="indexterm" name="idp108866640"></a>

        A proportion (5% by default) of data node resources including
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> and
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a> is kept in
        reserve to insure that the data node does not exhaust its memory
        when performing a restart. This can be adjusted using the
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-minfreepct"><code class="literal">MinFreePct</code></a> data node
        configuration parameter (default 5).
</p>
<div class="informaltable">
<a name="minfreepct-ndbd-table"></a><table summary="This table provides type and value information for the
MinFreePct data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>5</td><td>0 - 100</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
        Updates do not increase the amount of index memory used. Inserts
        take effect immediately; however, rows are not actually deleted
        until the transaction is committed.
      </p><p><b>Transaction parameters. </b>
          The next few <code class="literal">[ndbd]</code> parameters that we
          discuss are important because they affect the number of
          parallel transactions and the sizes of transactions that can
          be handled by the system.
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrenttransactions"><code class="literal">MaxNoOfConcurrentTransactions</code></a>
          sets the number of parallel transactions possible in a node.
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentoperations"><code class="literal">MaxNoOfConcurrentOperations</code></a>
          sets the number of records that can be in update phase or
          locked simultaneously.
        </p><p>
        Both of these parameters (especially
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentoperations"><code class="literal">MaxNoOfConcurrentOperations</code></a>)
        are likely targets for users setting specific values and not
        using the default value. The default value is set for systems
        using small transactions, to ensure that these do not use
        excessive memory.
      </p><p>
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxdmloperationspertransaction"><code class="literal">MaxDMLOperationsPerTransaction</code></a>
        sets the maximum number of DML operations that can be performed
        in a given transaction.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofconcurrenttransactions"></a>
            <a class="indexterm" name="idp108891664"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrenttransactions"><code class="literal">MaxNoOfConcurrentTransactions</code></a>
</p>
<div class="informaltable">
<a name="maxnoofconcurrenttransactions-ndbd-table"></a><table summary="This table provides type and value information for the
      MaxNoOfConcurrentTransactions data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>4096</td><td>32 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            Each cluster data node requires a transaction record for
            each active transaction in the cluster. The task of
            coordinating transactions is distributed among all of the
            data nodes. The total number of transaction records in the
            cluster is the number of transactions in any given node
            times the number of nodes in the cluster.
          </p><p>
            Transaction records are allocated to individual MySQL
            servers. Each connection to a MySQL server requires at least
            one transaction record, plus an additional transaction
            object per table accessed by that connection. This means
            that a reasonable minimum for the total number of
            transactions in the cluster can be expressed as
          </p><pre class="programlisting">TotalNoOfConcurrentTransactions =
    (maximum number of tables accessed in any single transaction + 1)
    * number of cluster SQL nodes</pre><p>
            Suppose that there are 10 SQL nodes using the cluster. A
            single join involving 10 tables requires 11 transaction
            records; if there are 10 such joins in a transaction, then
            10 * 11 = 110 transaction records are required for this
            transaction, per MySQL server, or 110 * 10 = 1100
            transaction records total. Each data node can be expected to
            handle TotalNoOfConcurrentTransactions / number of data
            nodes. For a MySQL Cluster having 4 data nodes, this would
            mean setting
            <code class="literal">MaxNoOfConcurrentTransactions</code> on each
            data node to 1100 / 4 = 275. In addition, you should provide
            for failure recovery by insuring that a single node group
            can accommodate all concurrent transactions; in other words,
            that each data node's MaxNoOfConcurrentTransactions is
            sufficient to cover a number of transaction equal to
            TotalNoOfConcurrentTransactions / number of node groups. If
            this cluster has a single node group, then
            <code class="literal">MaxNoOfConcurrentTransactions</code> should be
            set to 1100 (the same as the total number of concurrent
            transactions for the entire cluster).
          </p><p>
            In addition, each transaction involves at least one
            operation; for this reason, the value set for
            <code class="literal">MaxNoOfConcurrentTransactions</code> should
            always be no more than the value of
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentoperations"><code class="literal">MaxNoOfConcurrentOperations</code></a>.
          </p><p>
            This parameter must be set to the same value for all cluster
            data nodes. This is due to the fact that, when a data node
            fails, the oldest surviving node re-creates the transaction
            state of all transactions that were ongoing in the failed
            node.
          </p><p>
            Changing the value of
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrenttransactions"><code class="literal">MaxNoOfConcurrentTransactions</code></a>
            requires a complete shutdown and restart of the cluster.
          </p><p>
            The default value is 4096.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofconcurrentoperations"></a>
            <a class="indexterm" name="idp108917008"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentoperations"><code class="literal">MaxNoOfConcurrentOperations</code></a>
</p>
<div class="informaltable">
<a name="maxnoofconcurrentoperations-ndbd-table"></a><table summary="This table provides type and value information for the
      MaxNoOfConcurrentOperations data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>32K</td><td>32 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            It is a good idea to adjust the value of this parameter
            according to the size and number of transactions. When
            performing transactions of only a few operations each and
            not involving a great many records, there is no need to set
            this parameter very high. When performing large transactions
            involving many records need to set this parameter higher.
          </p><p>
            Records are kept for each transaction updating cluster data,
            both in the transaction coordinator and in the nodes where
            the actual updates are performed. These records contain
            state information needed to find UNDO records for rollback,
            lock queues, and other purposes.
          </p><p>
            This parameter should be set at a minimum to the number of
            records to be updated simultaneously in transactions,
            divided by the number of cluster data nodes. For example, in
            a cluster which has four data nodes and which is expected to
            handle one million concurrent updates using transactions,
            you should set this value to 1000000 / 4 = 250000. To help
            provide resiliency against failures, it is suggested that
            you set this parameter to a value that is high enough to
            permit an individual data node to handle the load for its
            node group. In other words, you should set the value equal
            to <code class="literal">total number of concurrent operations / number
            of node groups</code>. (In the case where there is a
            single node group, this is the same as the total number of
            concurrent operations for the entire cluster.)
          </p><p>
            Because each transaction always involves at least one
            operation, the value of
            <code class="literal">MaxNoOfConcurrentOperations</code> should always
            be greater than or equal to the value of
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrenttransactions"><code class="literal">MaxNoOfConcurrentTransactions</code></a>.
          </p><p>
            Read queries which set locks also cause operation records to
            be created. Some extra space is allocated within individual
            nodes to accommodate cases where the distribution is not
            perfect over the nodes.
          </p><p>
            When queries make use of the unique hash index, there are
            actually two operation records used per record in the
            transaction. The first record represents the read in the
            index table and the second handles the operation on the base
            table.
          </p><p>
            The default value is 32768.
          </p><p>
            This parameter actually handles two values that can be
            configured separately. The first of these specifies how many
            operation records are to be placed with the transaction
            coordinator. The second part specifies how many operation
            records are to be local to the database.
          </p><p>
            A very large transaction performed on an eight-node cluster
            requires as many operation records in the transaction
            coordinator as there are reads, updates, and deletes
            involved in the transaction. However, the operation records
            of the are spread over all eight nodes. Thus, if it is
            necessary to configure the system for one very large
            transaction, it is a good idea to configure the two parts
            separately.
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentoperations"><code class="literal">MaxNoOfConcurrentOperations</code></a>
            will always be used to calculate the number of operation
            records in the transaction coordinator portion of the node.
          </p><p>
            It is also important to have an idea of the memory
            requirements for operation records. These consume about 1KB
            per record.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnooflocaloperations"></a>
            <a class="indexterm" name="idp108942912"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooflocaloperations"><code class="literal">MaxNoOfLocalOperations</code></a>
</p>
<div class="informaltable">
<a name="maxnooflocaloperations-ndbd-table"></a><table summary="This table provides type and value information for the
MaxNoOfLocalOperations data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>UNDEFINED</td><td>32 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            By default, this parameter is calculated as 1.1 ×
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentoperations"><code class="literal">MaxNoOfConcurrentOperations</code></a>.
            This fits systems with many simultaneous transactions, none
            of them being very large. If there is a need to handle one
            very large transaction at a time and there are many nodes,
            it is a good idea to override the default value by
            explicitly specifying this parameter.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxdmloperationspertransaction"></a>
            <a class="indexterm" name="idp108959664"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxdmloperationspertransaction"><code class="literal">MaxDMLOperationsPerTransaction</code></a>
</p>
<div class="informaltable">
<a name="maxdmloperationspertransaction-ndbd-table"></a><table summary="This table provides type and value information for the
      MaxDMLOperationsPerTransaction data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>operations (DML)</td><td>4294967295</td><td>32 - 4294967295</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter limits the size of a transaction. The
            transaction is aborted if it requires more than this many
            DML operations. The minimum number of operations per
            transaction is 32; however, you can set
            <code class="literal">MaxDMLOperationsPerTransaction</code> to 0 to
            disable any limitation on the number of DML operations per
            transaction. The maximum (and default) is 4294967295.
</p></li></ul>
</div>
<p><b>Transaction temporary storage. </b>
          The next set of <code class="literal">[ndbd]</code> parameters is used
          to determine temporary storage when executing a statement that
          is part of a Cluster transaction. All records are released
          when the statement is completed and the cluster is waiting for
          the commit or rollback.
        </p><p>
        The default values for these parameters are adequate for most
        situations. However, users with a need to support transactions
        involving large numbers of rows or operations may need to
        increase these values to enable better parallelism in the
        system, whereas users whose applications require relatively
        small transactions can decrease the values to save memory.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofconcurrentindexoperations"></a>
            <a class="indexterm" name="idp108980000"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentindexoperations"><code class="literal">MaxNoOfConcurrentIndexOperations</code></a>
</p>
<div class="informaltable">
<a name="maxnoofconcurrentindexoperations-ndbd-table"></a><table summary="This table provides type and value information for the
      MaxNoOfConcurrentIndexOperations data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>8K</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            For queries using a unique hash index, another temporary set
            of operation records is used during a query's execution
            phase. This parameter sets the size of that pool of records.
            Thus, this record is allocated only while executing a part
            of a query. As soon as this part has been executed, the
            record is released. The state needed to handle aborts and
            commits is handled by the normal operation records, where
            the pool size is set by the parameter
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentoperations"><code class="literal">MaxNoOfConcurrentOperations</code></a>.
          </p><p>
            The default value of this parameter is 8192. Only in rare
            cases of extremely high parallelism using unique hash
            indexes should it be necessary to increase this value. Using
            a smaller value is possible and can save memory if the DBA
            is certain that a high degree of parallelism is not required
            for the cluster.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnooffiredtriggers"></a>
            <a class="indexterm" name="idp108997664"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooffiredtriggers"><code class="literal">MaxNoOfFiredTriggers</code></a>
</p>
<div class="informaltable">
<a name="maxnooffiredtriggers-ndbd-table"></a><table summary="This table provides type and value information for the
MaxNoOfFiredTriggers data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>4000</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The default value of
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooffiredtriggers"><code class="literal">MaxNoOfFiredTriggers</code></a>
            is 4000, which is sufficient for most situations. In some
            cases it can even be decreased if the DBA feels certain the
            need for parallelism in the cluster is not high.
          </p><p>
            A record is created when an operation is performed that
            affects a unique hash index. Inserting or deleting a record
            in a table with unique hash indexes or updating a column
            that is part of a unique hash index fires an insert or a
            delete in the index table. The resulting record is used to
            represent this index table operation while waiting for the
            original operation that fired it to complete. This operation
            is short-lived but can still require a large number of
            records in its pool for situations with many parallel write
            operations on a base table containing a set of unique hash
            indexes.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-transactionbuffermemory"></a>
            <a class="indexterm" name="idp109015264"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-transactionbuffermemory"><code class="literal">TransactionBufferMemory</code></a>
</p>
<div class="informaltable">
<a name="transactionbuffermemory-ndbd-table"></a><table summary="This table provides type and value information for the
TransactionBufferMemory data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>1M</td><td>1K - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The memory affected by this parameter is used for tracking
            operations fired when updating index tables and reading
            unique indexes. This memory is used to store the key and
            column information for these operations. It is only very
            rarely that the value for this parameter needs to be altered
            from the default.
          </p><p>
            The default value for
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-transactionbuffermemory"><code class="literal">TransactionBufferMemory</code></a>
            is 1MB.
          </p><p>
            Normal read and write operations use a similar buffer, whose
            usage is even more short-lived. The compile-time parameter
            <code class="literal">ZATTRBUF_FILESIZE</code> (found in
            <code class="filename">ndb/src/kernel/blocks/Dbtc/Dbtc.hpp</code>)
            set to 4000 × 128 bytes (500KB). A similar buffer for
            key information, <code class="literal">ZDATABUF_FILESIZE</code> (also
            in <code class="filename">Dbtc.hpp</code>) contains 4000 × 16 =
            62.5KB of buffer space. <code class="literal">Dbtc</code> is the
            module that handles transaction coordination.
</p></li></ul>
</div>
<p><b>Scans and buffering. </b>
          There are additional <code class="literal">[ndbd]</code> parameters in
          the <code class="literal">Dblqh</code> module (in
          <code class="filename">ndb/src/kernel/blocks/Dblqh/Dblqh.hpp</code>)
          that affect reads and updates. These include
          <code class="literal">ZATTRINBUF_FILESIZE</code>, set by default to
          10000 × 128 bytes (1250KB) and
          <code class="literal">ZDATABUF_FILE_SIZE</code>, set by default to
          10000*16 bytes (roughly 156KB) of buffer space. To date, there
          have been neither any reports from users nor any results from
          our own extensive tests suggesting that either of these
          compile-time limits should be increased.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofconcurrentscans"></a>
            <a class="indexterm" name="idp109042816"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentscans"><code class="literal">MaxNoOfConcurrentScans</code></a>
</p>
<div class="informaltable">
<a name="maxnoofconcurrentscans-ndbd-table"></a><table summary="This table provides type and value information for the
MaxNoOfConcurrentScans data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>256</td><td>2 - 500</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is used to control the number of parallel
            scans that can be performed in the cluster. Each transaction
            coordinator can handle the number of parallel scans defined
            for this parameter. Each scan query is performed by scanning
            all partitions in parallel. Each partition scan uses a scan
            record in the node where the partition is located, the
            number of records being the value of this parameter times
            the number of nodes. The cluster should be able to sustain
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentscans"><code class="literal">MaxNoOfConcurrentScans</code></a>
            scans concurrently from all nodes in the cluster.
          </p><p>
            Scans are actually performed in two cases. The first of
            these cases occurs when no hash or ordered indexes exists to
            handle the query, in which case the query is executed by
            performing a full table scan. The second case is encountered
            when there is no hash index to support the query but there
            is an ordered index. Using the ordered index means executing
            a parallel range scan. The order is kept on the local
            partitions only, so it is necessary to perform the index
            scan on all partitions.
          </p><p>
            The default value of
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentscans"><code class="literal">MaxNoOfConcurrentScans</code></a>
            is 256. The maximum value is 500.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnooflocalscans"></a>
            <a class="indexterm" name="idp109062016"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooflocalscans"><code class="literal">MaxNoOfLocalScans</code></a>
</p>
<div class="informaltable">
<a name="maxnooflocalscans-ndbd-table"></a><table summary="This table provides type and value information for the
MaxNoOfLocalScans data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>UNDEFINED</td><td>32 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Specifies the number of local scan records if many scans are
            not fully parallelized. When the number of local scan
            records is not provided, it is calculated as 4 times the
            product of
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentscans"><code class="literal">MaxNoOfConcurrentScans</code></a>
            and the number of data nodes in the system. (Previously, it
            was calculated as the product of
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentscans"><code class="literal">MaxNoOfConcurrentScans</code></a>
            and the number of data nodes.) The minimum value is 32.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-batchsizeperlocalscan"></a>
            <a class="indexterm" name="idp109079520"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-batchsizeperlocalscan"><code class="literal">BatchSizePerLocalScan</code></a>
</p>
<div class="informaltable">
<a name="batchsizeperlocalscan-ndbd-table"></a><table summary="This table provides type and value information for the
BatchSizePerLocalScan data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>256</td><td>1 - 992</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is used to calculate the number of lock
            records used to handle concurrent scan operations.
          </p><p>
            <code class="literal">BatchSizePerLocalScan</code> has a strong
            connection to the
            <a class="link" href="mysql-cluster.html#ndbparam-api-batchsize"><code class="literal">BatchSize</code></a> defined in
            the SQL nodes.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-longmessagebuffer"></a>
            <a class="indexterm" name="idp109097024"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-longmessagebuffer"><code class="literal">LongMessageBuffer</code></a>
</p>
<div class="informaltable">
<a name="longmessagebuffer-ndbd-table"></a><table summary="This table provides type and value information for the
LongMessageBuffer data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>4M</td><td>512K - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This is an internal buffer used for passing messages within
            individual nodes and between nodes. The default is 4MB.
          </p><p>
            This parameter seldom needs to be changed from the default.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxparallelscansperfragment"></a>
            <a class="indexterm" name="idp109112992"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxparallelscansperfragment"><code class="literal">MaxParallelScansPerFragment</code></a>
</p>
<div class="informaltable">
<a name="maxparallelscansperfragment-ndbd-table"></a><table summary="This table provides type and value information for the
      MaxParallelScansPerFragment data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>256</td><td>1 - 1G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            It is possible to configure the maximum number of parallel
            scans (<code class="literal">TUP</code> scans and
            <code class="literal">TUX</code> scans) allowed before they begin
            queuing for serial handling. You can increase this to take
            advantage of any unused CPU when performing large number of
            scans in parallel and improve their performance.
          </p><p>
            The default value for this parameter in MySQL Cluster NDB
            7.3 is 256.
</p></li></ul>
</div>
<h5><a name="mysql-cluster-memory-allocation"></a>
        Memory Allocation
</h5>
<p><a name="ndbparam-ndbd-maxallocate"></a>
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxallocate"><code class="literal">MaxAllocate</code></a>
</p>
<div class="informaltable">
<a name="maxallocate-ndbd-table"></a><table summary="This table provides type and value information for the
MaxAllocate data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>32M</td><td>1M - 1G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
        This is the maximum size of the memory unit to use when
        allocating memory for tables. In cases where
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> gives <span class="errortext">Out of
        memory</span> errors, but it is evident by examining the
        cluster logs or the output of <code class="literal">DUMP 1000</code> (see
        <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-dump-command-1000.html" target="_top"><code class="literal">DUMP 1000</code></a>) that all
        available memory has not yet been used, you can increase the
        value of this parameter (or
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables"><code class="literal">MaxNoOfTables</code></a>, or both)
        to cause <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> to make sufficient
        memory available.
</p>
<h5><a name="mysql-cluster-hash-map-size"></a>
        Hash Map Size
</h5>
<p><a name="ndbparam-ndbd-defaulthashmapsize"></a>
        <a class="indexterm" name="idp109150688"></a>

        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-defaulthashmapsize"><code class="literal">DefaultHashMapSize</code></a>
</p>
<div class="informaltable">
<a name="defaulthashmapsize-ndbd-table"></a><table summary="This table provides type and value information for the
DefaultHashMapSize data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>LDM threads</td><td>3840</td><td>0 - 3840</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
        MySQL Cluster NDB 7.2.7 and later use a larger default table
        hash map size (3840) than in previous releases (240). Beginning
        with MySQL Cluster NDB 7.2.11, the size of the table hash maps
        used by <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> is configurable using
        this parameter; previously this value was hard-coded.
        <code class="literal">DefaultHashMapSize</code> can take any of three
        possible values (0, 240, 3840). These values and their effects
        are described in the following table:
</p>
<div class="informaltable">
<a name="mysql-cluster-defaulthashmapsize-table"></a><table summary="DefaultHashMapSize parameter values and their
          effects" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Value</th><th scope="col">Description / Effect</th></tr></thead><tbody><tr><td scope="row"><code class="literal">0</code></td><td>Use the lowest value set, if any, for this parameter among all data
                nodes and API nodes in the cluster; if it is not set on
                any data or API node, use the default value.</td></tr><tr><td scope="row"><code class="literal">240</code></td><td>Original hash map size, used by default in all MySQL Cluster releases
                prior to MySQL Cluster NDB 7.2.7.</td></tr><tr><td scope="row"><code class="literal">3840</code></td><td>Larger hash map size as used by default in MySQL Cluster NDB 7.2.7 and
later</td></tr></tbody></table>
</div>
<p>
        The primary intended use for this parameter is to facilitate
        upgrades and especially downgrades between MySQL Cluster NDB
        7.2.7 and later MySQL Cluster versions, in which the larger hash
        map size (3840) is the default, and earlier releases (in which
        the default was 240), due to the fact that this change is not
        otherwise backward compatible (Bug #14800539). By setting this
        parameter to 240 prior to performing an upgrade from an older
        version where this value is in use, you can cause the cluster to
        continue using the smaller size for table hash maps, in which
        case the tables remain compatible with earlier versions
        following the upgrade. <code class="literal">DefaultHashMapSize</code> can
        be set for individual data nodes, API nodes, or both, but
        setting it once only, in the <code class="literal">[ndbd default]</code>
        section of the <code class="filename">config.ini</code> file, is the
        recommended practice.
      </p><p>
        After increasing this parameter, to have existing tables to take
        advantage of the new size, you can run
        <a class="link" href="sql-syntax.html#alter-table-partition-operations" title="13.1.7.1. ALTER TABLE Partition Operations"><code class="literal">ALTER
        TABLE ... REORGANIZE PARTITION</code></a> on them, after which
        they can use the larger hash map size. This is in addition to
        performing a rolling restart, which makes the larger hash maps
        available to new tables, but does not enable existing tables to
        use them.
      </p><p>
        Decreasing this parameter online after any tables have been
        created or modified with <code class="literal">DefaultHashMapSize</code>
        equal to 3840 is not currently supported.
      </p><p><a name="mysql-cluster-logging-and-checkpointing"></a><b>Logging and checkpointing. </b>
          The following <code class="literal">[ndbd]</code> parameters control log
          and checkpoint behavior.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-nooffragmentlogfiles"></a>
            <a class="indexterm" name="idp109188112"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-nooffragmentlogfiles"><code class="literal">NoOfFragmentLogFiles</code></a>
</p>
<div class="informaltable">
<a name="nooffragmentlogfiles-ndbd-table"></a><table summary="This table provides type and value information for the
NoOfFragmentLogFiles data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>16</td><td>3 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IN</td></tr></tbody></table>
</div>
<p>
            This parameter sets the number of REDO log files for the
            node, and thus the amount of space allocated to REDO
            logging. Because the REDO log files are organized in a ring,
            it is extremely important that the first and last log files
            in the set (sometimes referred to as the <span class="quote">“<span class="quote">head</span>”</span>
            and <span class="quote">“<span class="quote">tail</span>”</span> log files, respectively) do not
            meet. When these approach one another too closely, the node
            begins aborting all transactions encompassing updates due to
            a lack of room for new log records.
          </p><p>
            A <code class="literal">REDO</code> log record is not removed until
            the required number of local checkpoints has been completed
            since that log record was inserted. (In MySQL Cluster NDB
            7.3, only 2 local checkpoints are necessary). Checkpointing
            frequency is determined by its own set of configuration
            parameters discussed elsewhere in this chapter.
          </p><p>
            The default parameter value is 16, which by default means 16
            sets of 4 16MB files for a total of 1024MB. The size of the
            individual log files is configurable using the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-fragmentlogfilesize"><code class="literal">FragmentLogFileSize</code></a>
            parameter. In scenarios requiring a great many updates, the
            value for
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-nooffragmentlogfiles"><code class="literal">NoOfFragmentLogFiles</code></a>
            may need to be set as high as 300 or even higher to provide
            sufficient space for REDO logs.
          </p><p>
            If the checkpointing is slow and there are so many writes to
            the database that the log files are full and the log tail
            cannot be cut without jeopardizing recovery, all updating
            transactions are aborted with internal error code 410
            (<code class="literal">Out of log file space temporarily</code>). This
            condition prevails until a checkpoint has completed and the
            log tail can be moved forward.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              This parameter cannot be changed <span class="quote">“<span class="quote">on the
              fly</span>”</span>; you must restart the node using
              <code class="option">--initial</code>. If you wish to change this
              value for all data nodes in a running cluster, you can do
              so using a rolling node restart (using
              <code class="option">--initial</code> when starting each data node).
</p>
</div>
</li><li class="listitem"><p><a name="ndbparam-ndbd-fragmentlogfilesize"></a>
            <a class="indexterm" name="idp109212912"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-fragmentlogfilesize"><code class="literal">FragmentLogFileSize</code></a>
</p>
<div class="informaltable">
<a name="fragmentlogfilesize-ndbd-table"></a><table summary="This table provides type and value information for the
FragmentLogFileSize data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>16M</td><td>4M - 1G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IN</td></tr></tbody></table>
</div>
<p>
            Setting this parameter enables you to control directly the
            size of redo log files. This can be useful in situations
            when MySQL Cluster is operating under a high load and it is
            unable to close fragment log files quickly enough before
            attempting to open new ones (only 2 fragment log files can
            be open at one time); increasing the size of the fragment
            log files gives the cluster more time before having to open
            each new fragment log file. The default value for this
            parameter is 16M.
          </p><p>
            For more information about fragment log files, see the
            description for
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-nooffragmentlogfiles"><code class="literal">NoOfFragmentLogFiles</code></a>.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-initfragmentlogfiles"></a>
            <a class="indexterm" name="idp109230224"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-initfragmentlogfiles"><code class="literal">InitFragmentLogFiles</code></a>
</p>
<div class="informaltable">
<a name="initfragmentlogfiles-ndbd-table"></a><table summary="This table provides type and value information for the
InitFragmentLogFiles data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>[see values]</td><td>SPARSE</td><td>SPARSE, FULL</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IN</td></tr></tbody></table>
</div>
<p>
            By default, fragment log files are created sparsely when
            performing an initial start of a data node—that is,
            depending on the operating system and file system in use,
            not all bytes are necessarily written to disk. However, it
            is possible to override this behavior and force all bytes to
            be written, regardless of the platform and file system type
            being used, by means of this parameter.
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-initfragmentlogfiles"><code class="literal">InitFragmentLogFiles</code></a>
            takes either of two values:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">SPARSE</code>. Fragment log files are
                created sparsely. This is the default value.
              </p></li><li class="listitem"><p>
                <code class="literal">FULL</code>. Force all bytes of the fragment
                log file to be written to disk.
</p></li></ul>
</div>
<p>
            Depending on your operating system and file system, setting
            <code class="literal">InitFragmentLogFiles=FULL</code> may help
            eliminate I/O errors on writes to the REDO log.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofopenfiles"></a>
            <a class="indexterm" name="idp109252128"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofopenfiles"><code class="literal">MaxNoOfOpenFiles</code></a>
</p>
<div class="informaltable">
<a name="maxnoofopenfiles-ndbd-table"></a><table summary="This table provides type and value information for the
MaxNoOfOpenFiles data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>0</td><td>20 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter sets a ceiling on how many internal threads
            to allocate for open files. <span class="emphasis"><em>Any situation
            requiring a change in this parameter should be reported as a
            bug</em></span>.
          </p><p>
            The default value is 0. However, the minimum value to which
            this parameter can be set is 20.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-initialnoofopenfiles"></a>
            <a class="indexterm" name="idp109268624"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-initialnoofopenfiles"><code class="literal">InitialNoOfOpenFiles</code></a>
</p>
<div class="informaltable">
<a name="initialnoofopenfiles-ndbd-table"></a><table summary="This table provides type and value information for the
InitialNoOfOpenFiles data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>files</td><td>27</td><td>20 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter sets the initial number of internal threads
            to allocate for open files.
          </p><p>
            The default value is 27.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofsavedmessages"></a>
            <a class="indexterm" name="idp109284528"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofsavedmessages"><code class="literal">MaxNoOfSavedMessages</code></a>
</p>
<div class="informaltable">
<a name="maxnoofsavedmessages-ndbd-table"></a><table summary="This table provides type and value information for the
MaxNoOfSavedMessages data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>25</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter sets the maximum number of trace files that
            are kept before overwriting old ones. Trace files are
            generated when, for whatever reason, the node crashes.
          </p><p>
            The default is 25 trace files.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxlcpstartdelay"></a>
            <a class="indexterm" name="idp109300512"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxlcpstartdelay"><code class="literal">MaxLCPStartDelay</code></a>
</p>
<div class="informaltable">
<a name="maxlcpstartdelay-ndbd-table"></a><table summary="This table provides type and value information for the
MaxLCPStartDelay data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>seconds</td><td>0</td><td>0 - 600</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            In parallel data node recovery, only table data is actually
            copied and synchronized in parallel; synchronization of
            metadata such as dictionary and checkpoint information is
            done in a serial fashion. In addition, recovery of
            dictionary and checkpoint information cannot be executed in
            parallel with performing of local checkpoints. This means
            that, when starting or restarting many data nodes
            concurrently, data nodes may be forced to wait while a local
            checkpoint is performed, which can result in longer node
            recovery times.
          </p><p>
            It is possible to force a delay in the local checkpoint to
            permit more (and possibly all) data nodes to complete
            metadata synchronization; once each data node's
            metadata synchronization is complete, all of the data nodes
            can recover table data in parallel, even while the local
            checkpoint is being executed. To force such a delay, set
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxlcpstartdelay"><code class="literal">MaxLCPStartDelay</code></a>,
            which determines the number of seconds the cluster can wait
            to begin a local checkpoint while data nodes continue to
            synchronize metadata. This parameter should be set in the
            <code class="literal">[ndbd default]</code> section of the
            <code class="filename">config.ini</code> file, so that it is the same
            for all data nodes. The maximum value is 600; the default is
            0.
</p></li></ul>
</div>
<p><b>Metadata objects. </b>
          The next set of <code class="literal">[ndbd]</code> parameters defines
          pool sizes for metadata objects, used to define the maximum
          number of attributes, tables, indexes, and trigger objects
          used by indexes, events, and replication between clusters.
          Note that these act merely as <span class="quote">“<span class="quote">suggestions</span>”</span> to
          the cluster, and any that are not specified revert to the
          default values shown.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofattributes"></a>
            <a class="indexterm" name="idp109323376"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofattributes"><code class="literal">MaxNoOfAttributes</code></a>
</p>
<div class="informaltable">
<a name="maxnoofattributes-ndbd-table"></a><table summary="This table provides type and value information for the
MaxNoOfAttributes data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>1000</td><td>32 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter sets a suggested maximum number of attributes
            that can be defined in the cluster; like
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables"><code class="literal">MaxNoOfTables</code></a>, it is
            not intended to function as a hard upper limit.
          </p><p>
            (In older MySQL Cluster releases, this parameter was
            sometimes treated as a hard limit for certain operations.
            This caused problems with MySQL Cluster Replication, when it
            was possible to create more tables than could be replicated,
            and sometimes led to confusion when it was possible [or not
            possible, depending on the circumstances] to create more
            than <code class="literal">MaxNoOfAttributes</code> attributes.)
          </p><p>
            The default value is 1000, with the minimum possible value
            being 32. The maximum is 4294967039. Each attribute consumes
            around 200 bytes of storage per node due to the fact that
            all metadata is fully replicated on the servers.
          </p><p>
            When setting
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofattributes"><code class="literal">MaxNoOfAttributes</code></a>,
            it is important to prepare in advance for any
            <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statements that
            you might want to perform in the future. This is due to the
            fact, during the execution of <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER
            TABLE</code></a> on a Cluster table, 3 times the number of
            attributes as in the original table are used, and a good
            practice is to permit double this amount. For example, if
            the MySQL Cluster table having the greatest number of
            attributes
            (<em class="replaceable"><code>greatest_number_of_attributes</code></em>)
            has 100 attributes, a good starting point for the value of
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofattributes"><code class="literal">MaxNoOfAttributes</code></a>
            would be <code class="literal">6 *
            <em class="replaceable"><code>greatest_number_of_attributes</code></em> =
            600</code>.
          </p><p>
            You should also estimate the average number of attributes
            per table and multiply this by
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables"><code class="literal">MaxNoOfTables</code></a>. If
            this value is larger than the value obtained in the previous
            paragraph, you should use the larger value instead.
          </p><p>
            Assuming that you can create all desired tables without any
            problems, you should also verify that this number is
            sufficient by trying an actual <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER
            TABLE</code></a> after configuring the parameter. If this is
            not successful, increase
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofattributes"><code class="literal">MaxNoOfAttributes</code></a> by
            another multiple of
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables"><code class="literal">MaxNoOfTables</code></a> and
            test it again.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnooftables"></a>
            <a class="indexterm" name="idp109352928"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables"><code class="literal">MaxNoOfTables</code></a>
</p>
<div class="informaltable">
<a name="maxnooftables-ndbd-table"></a><table summary="This table provides type and value information for the
MaxNoOfTables data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>128</td><td>8 - 20320</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            A table object is allocated for each table and for each
            unique hash index in the cluster. This parameter sets a
            suggested maximum number of table objects for the cluster as
            a whole; like
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofattributes"><code class="literal">MaxNoOfAttributes</code></a>,
            it is not intended to function as a hard upper limit.
          </p><p>
            (In older MySQL Cluster releases, this parameter was
            sometimes treated as a hard limit for certain operations.
            This caused problems with MySQL Cluster Replication, when it
            was possible to create more tables than could be replicated,
            and sometimes led to confusion when it was possible [or not
            possible, depending on the circumstances] to create more
            than <code class="literal">MaxNoOfTables</code> tables.)
          </p><p>
            For each attribute that has a
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> data type an extra table
            is used to store most of the
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> data. These tables also
            must be taken into account when defining the total number of
            tables.
          </p><p>
            The default value of this parameter is 128. The minimum is 8
            and the maximum is 20320. Each table object consumes
            approximately 20KB per node.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              The sum of
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables"><code class="literal">MaxNoOfTables</code></a>,
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooforderedindexes"><code class="literal">MaxNoOfOrderedIndexes</code></a>,
              and
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofuniquehashindexes"><code class="literal">MaxNoOfUniqueHashIndexes</code></a>
              must not exceed <code class="literal">2<sup>32</sup>
              – 2</code> (4294967294).
</p>
</div>
</li><li class="listitem"><p><a name="ndbparam-ndbd-maxnooforderedindexes"></a>
            <a class="indexterm" name="idp109378544"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooforderedindexes"><code class="literal">MaxNoOfOrderedIndexes</code></a>
</p>
<div class="informaltable">
<a name="maxnooforderedindexes-ndbd-table"></a><table summary="This table provides type and value information for the
MaxNoOfOrderedIndexes data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>128</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            For each ordered index in the cluster, an object is
            allocated describing what is being indexed and its storage
            segments. By default, each index so defined also defines an
            ordered index. Each unique index and primary key has both an
            ordered index and a hash index.
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooforderedindexes"><code class="literal">MaxNoOfOrderedIndexes</code></a>
            sets the total number of ordered indexes that can be in use
            in the system at any one time.
          </p><p>
            The default value of this parameter is 128. Each index
            object consumes approximately 10KB of data per node.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              The sum of
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables"><code class="literal">MaxNoOfTables</code></a>,
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooforderedindexes"><code class="literal">MaxNoOfOrderedIndexes</code></a>,
              and
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofuniquehashindexes"><code class="literal">MaxNoOfUniqueHashIndexes</code></a>
              must not exceed <code class="literal">2<sup>32</sup>
              – 2</code> (4294967294).
</p>
</div>
</li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofuniquehashindexes"></a>
            <a class="indexterm" name="idp109400352"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofuniquehashindexes"><code class="literal">MaxNoOfUniqueHashIndexes</code></a>
</p>
<div class="informaltable">
<a name="maxnoofuniquehashindexes-ndbd-table"></a><table summary="This table provides type and value information for the
      MaxNoOfUniqueHashIndexes data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>64</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            For each unique index that is not a primary key, a special
            table is allocated that maps the unique key to the primary
            key of the indexed table. By default, an ordered index is
            also defined for each unique index. To prevent this, you
            must specify the <code class="literal">USING HASH</code> option when
            defining the unique index.
          </p><p>
            The default value is 64. Each index consumes approximately
            15KB per node.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              The sum of
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables"><code class="literal">MaxNoOfTables</code></a>,
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooforderedindexes"><code class="literal">MaxNoOfOrderedIndexes</code></a>,
              and
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofuniquehashindexes"><code class="literal">MaxNoOfUniqueHashIndexes</code></a>
              must not exceed <code class="literal">2<sup>32</sup>
              – 2</code> (4294967294).
</p>
</div>
</li><li class="listitem"><p><a name="ndbparam-ndbd-maxnooftriggers"></a>
            <a class="indexterm" name="idp109421936"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftriggers"><code class="literal">MaxNoOfTriggers</code></a>
</p>
<div class="informaltable">
<a name="maxnooftriggers-ndbd-table"></a><table summary="This table provides type and value information for the
MaxNoOfTriggers data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>768</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Internal update, insert, and delete triggers are allocated
            for each unique hash index. (This means that three triggers
            are created for each unique hash index.) However, an
            <span class="emphasis"><em>ordered</em></span> index requires only a single
            trigger object. Backups also use three trigger objects for
            each normal table in the cluster.
          </p><p>
            Replication between clusters also makes use of internal
            triggers.
          </p><p>
            This parameter sets the maximum number of trigger objects in
            the cluster.
          </p><p>
            The default value is 768.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofindexes"></a>
            <a class="indexterm" name="idp109439536"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofindexes"><code class="literal">MaxNoOfIndexes</code></a>
          </p><p>
            This parameter is deprecated and subject to removal in a
            future version of MySQL Cluster. You should use
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooforderedindexes"><code class="literal">MaxNoOfOrderedIndexes</code></a>
            and
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofuniquehashindexes"><code class="literal">MaxNoOfUniqueHashIndexes</code></a>
            instead.
          </p><p>
            This parameter is used only by unique hash indexes. There
            needs to be one record in this pool for each unique hash
            index defined in the cluster.
          </p><p>
            The default value of this parameter is 128.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofsubscriptions"></a>
            <a class="indexterm" name="idp109446592"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofsubscriptions"><code class="literal">MaxNoOfSubscriptions</code></a>
</p>
<div class="informaltable">
<a name="maxnoofsubscriptions-ndbd-table"></a><table summary="This table provides type and value information for the
MaxNoOfSubscriptions data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>0</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Each <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table in a MySQL
            Cluster requires a subscription in the NDB kernel. For some
            NDB API applications, it may be necessary or desirable to
            change this parameter. However, for normal usage with MySQL
            servers acting as SQL nodes, there is not any need to do so.
          </p><p>
            The default value for
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofsubscriptions"><code class="literal">MaxNoOfSubscriptions</code></a>
            is 0, which is treated as equal to
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables"><code class="literal">MaxNoOfTables</code></a>. Each
            subscription consumes 108 bytes.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofsubscribers"></a>
            <a class="indexterm" name="idp109465328"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofsubscribers"><code class="literal">MaxNoOfSubscribers</code></a>
</p>
<div class="informaltable">
<a name="maxnoofsubscribers-ndbd-table"></a><table summary="This table provides type and value information for the
MaxNoOfSubscribers data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>0</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is of interest only when using MySQL Cluster
            Replication. The default value is 0, which is treated as
            <code class="literal">2 * MaxNoOfTables</code>; that is, there is one
            subscription per <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table for
            each of two MySQL servers (one acting as the replication
            master and the other as the slave). Each subscriber uses 16
            bytes of memory.
          </p><p>
            When using circular replication, multi-master replication,
            and other replication setups involving more than 2 MySQL
            servers, you should increase this parameter to the number of
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> processes included in replication
            (this is often, but not always, the same as the number of
            clusters). For example, if you have a circular replication
            setup using three MySQL Clusters, with one
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> attached to each cluster, and each
            of these <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> processes acts as a
            master and as a slave, you should set
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofsubscribers"><code class="literal">MaxNoOfSubscribers</code></a>
            equal to <code class="literal">3 * MaxNoOfTables</code>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication" title="17.6. MySQL Cluster Replication">Section 17.6, “MySQL Cluster Replication”</a>.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxnoofconcurrentsuboperations"></a>
            <a class="indexterm" name="idp109488688"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentsuboperations"><code class="literal">MaxNoOfConcurrentSubOperations</code></a>
</p>
<div class="informaltable">
<a name="maxnoofconcurrentsuboperations-ndbd-table"></a><table summary="This table provides type and value information for the
      MaxNoOfConcurrentSubOperations data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>256</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter sets a ceiling on the number of operations
            that can be performed by all API nodes in the cluster at one
            time. The default value (256) is sufficient for normal
            operations, and might need to be adjusted only in scenarios
            where there are a great many API nodes each performing a
            high volume of operations concurrently.
</p></li></ul>
</div>
<p><b>Boolean parameters. </b>
          The behavior of data nodes is also affected by a set of
          <code class="literal">[ndbd]</code> parameters taking on boolean values.
          These parameters can each be specified as
          <code class="literal">TRUE</code> by setting them equal to
          <code class="literal">1</code> or <code class="literal">Y</code>, and as
          <code class="literal">FALSE</code> by setting them equal to
          <code class="literal">0</code> or <code class="literal">N</code>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-lockpagesinmainmemory"></a>
            <a class="indexterm" name="idp109511488"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockpagesinmainmemory"><code class="literal">LockPagesInMainMemory</code></a>
</p>
<div class="informaltable">
<a name="lockpagesinmainmemory-ndbd-table"></a><table summary="This table provides type and value information for the
LockPagesInMainMemory data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>numeric</td><td>0</td><td>0 - 2</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            For a number of operating systems, including Solaris and
            Linux, it is possible to lock a process into memory and so
            avoid any swapping to disk. This can be used to help
            guarantee the cluster's real-time characteristics.
          </p><p>
            This parameter takes one of the integer values
            <code class="literal">0</code>, <code class="literal">1</code>, or
            <code class="literal">2</code>, which act as shown in the following
            list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">0</code>: Disables locking. This is the
                default value.
              </p></li><li class="listitem"><p>
                <code class="literal">1</code>: Performs the lock after allocating
                memory for the process.
              </p></li><li class="listitem"><p>
                <code class="literal">2</code>: Performs the lock before memory
                for the process is allocated.
</p></li></ul>
</div>
<p>
            If the operating system is not configured to permit
            unprivileged users to lock pages, then the data node process
            making use of this parameter may have to be run as system
            root.
            (<a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockpagesinmainmemory"><code class="literal">LockPagesInMainMemory</code></a>
            uses the <code class="literal">mlockall</code> function. From Linux
            kernel 2.6.9, unprivileged users can lock memory as limited
            by <code class="literal">max locked memory</code>. For more
            information, see <span class="command"><strong>ulimit -l</strong></span> and
            <a class="ulink" href="http://linux.die.net/man/2/mlock" target="_top">http://linux.die.net/man/2/mlock</a>).
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              In older MySQL Cluster releases, this parameter was a
              Boolean. <code class="literal">0</code> or <code class="literal">false</code>
              was the default setting, and disabled locking.
              <code class="literal">1</code> or <code class="literal">true</code> enabled
              locking of the process after its memory was allocated. In
              MySQL Cluster NDB 7.3, using <code class="literal">true</code> or
              <code class="literal">false</code> as the value of this parameter
              causes an error.
</p>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Important
</div>
<p xmlns="">
              Beginning with <code class="literal">glibc</code> 2.10,
              <code class="literal">glibc</code> uses per-thread arenas to reduce
              lock contention on a shared pool, which consumes real
              memory. In general, a data node process does not need
              per-thread arenas, since it does not perform any memory
              allocation after startup. (This difference in allocators
              does not appear to affect performance significantly.)
            </p><p xmlns="">
              The <code class="literal">glibc</code> behavior is intended to be
              configurable via the <code class="literal">MALLOC_ARENA_MAX</code>
              environment variable, but a bug in this this mechanism
              prior to <code class="literal">glibc</code> 2.16 meant that this
              variable could not be set to less than 8, so that the
              wasted memory could not be reclaimed. (Bug #15907219; see
              also
              <a class="ulink" href="http://sourceware.org/bugzilla/show_bug.cgi?id=13137" target="_top">http://sourceware.org/bugzilla/show_bug.cgi?id=13137</a>
              for more information concerning this issue.)
            </p><p xmlns="">
              One possible workaround for this problem is to use the
              <code class="literal">LD_PRELOAD</code> environment variable to
              preload a <code class="literal">jemalloc</code> memory allocation
              library to take the place of that supplied with
              <code class="literal">glibc</code>.
</p>
</div>
</li><li class="listitem"><p><a name="ndbparam-ndbd-stoponerror"></a>
            <a class="indexterm" name="idp109553280"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-stoponerror"><code class="literal">StopOnError</code></a>
</p>
<div class="informaltable">
<a name="stoponerror-ndbd-table"></a><table summary="This table provides type and value information for the
StopOnError data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>true</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter specifies whether a data node process should
            exit or perform an automatic restart when an error condition
            is encountered.
          </p><p>
            This feature is enabled by default.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-crashoncorruptedtuple"></a>
            <a class="indexterm" name="idp109569280"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-crashoncorruptedtuple"><code class="literal">CrashOnCorruptedTuple</code></a>
</p>
<div class="informaltable">
<a name="crashoncorruptedtuple-ndbd-table"></a><table summary="This table provides type and value information for the
CrashOnCorruptedTuple data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>true</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            When this parameter is enabled, it forces a data node to
            shut down whenever it encounters a corrupted tuple. In MySQL
            Cluster NDB 7.3, it is enabled by default.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-diskless"></a>
            <a class="indexterm" name="idp109584832"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskless"><code class="literal">Diskless</code></a>
</p>
<div class="informaltable">
<a name="diskless-ndbd-table"></a><table summary="This table provides type and value information for the
Diskless data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>true|false (1|0)</td><td>false</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IS</td></tr></tbody></table>
</div>
<p>
            It is possible to specify MySQL Cluster tables as
            <em class="firstterm">diskless</em>, meaning that tables are not
            checkpointed to disk and that no logging occurs. Such tables
            exist only in main memory. A consequence of using diskless
            tables is that neither the tables nor the records in those
            tables survive a crash. However, when operating in diskless
            mode, it is possible to run <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> on a
            diskless computer.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              This feature causes the <span class="emphasis"><em>entire</em></span>
              cluster to operate in diskless mode.
</p>
</div>
<p>
            When this feature is enabled, Cluster online backup is
            disabled. In addition, a partial start of the cluster is not
            possible.
          </p><p>
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskless"><code class="literal">Diskless</code></a> is disabled
            by default.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-odirect"></a>
            <a class="indexterm" name="idp109605040"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-odirect"><code class="literal">ODirect</code></a>
</p>
<div class="informaltable">
<a name="odirect-ndbd-table"></a><table summary="This table provides type and value information for the
ODirect data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>false</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Enabling this parameter causes
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> to attempt using
            <code class="literal">O_DIRECT</code> writes for LCP, backups, and
            redo logs, often lowering <span class="command"><strong>kswapd</strong></span> and CPU
            usage. When using MySQL Cluster on Linux, enable
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-odirect"><code class="literal">ODirect</code></a> if you are
            using a 2.6 or later kernel.
          </p><p>
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-odirect"><code class="literal">ODirect</code></a> is disabled
            by default.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-restartonerrorinsert"></a>
            <a class="indexterm" name="idp109624960"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-restartonerrorinsert"><code class="literal">RestartOnErrorInsert</code></a>
</p>
<div class="informaltable">
<a name="restartonerrorinsert-ndbd-table"></a><table summary="This table provides type and value information for the
RestartOnErrorInsert data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>error code</td><td>2</td><td>0 - 4</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This feature is accessible only when building the debug
            version where it is possible to insert errors in the
            execution of individual blocks of code as part of testing.
          </p><p>
            This feature is disabled by default.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-compressedbackup"></a>
            <a class="indexterm" name="idp109640960"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-compressedbackup"><code class="literal">CompressedBackup</code></a>
</p>
<div class="informaltable">
<a name="compressedbackup-ndbd-table"></a><table summary="This table provides type and value information for the
CompressedBackup data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>false</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Setting this parameter to <code class="literal">1</code> causes backup
            files to be compressed. The compression used is equivalent
            to <span class="command"><strong>gzip --fast</strong></span>, and can save 50% or more
            of the space required on the data node to store uncompressed
            backup files. Compressed backups can be enabled for
            individual data nodes, or for all data nodes (by setting
            this parameter in the <code class="literal">[ndbd default]</code>
            section of the <code class="filename">config.ini</code> file).
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              You cannot restore a compressed backup to a cluster
              running a MySQL version that does not support this
              feature.
</p>
</div>
<p>
            The default value is <code class="literal">0</code> (disabled).
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-compressedlcp"></a>
            <a class="indexterm" name="idp109661616"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-compressedlcp"><code class="literal">CompressedLCP</code></a>
</p>
<div class="informaltable">
<a name="compressedlcp-ndbd-table"></a><table summary="This table provides type and value information for the
CompressedLCP data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>false</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Setting this parameter to <code class="literal">1</code> causes local
            checkpoint files to be compressed. The compression used is
            equivalent to <span class="command"><strong>gzip --fast</strong></span>, and can save
            50% or more of the space required on the data node to store
            uncompressed checkpoint files. Compressed LCPs can be
            enabled for individual data nodes, or for all data nodes (by
            setting this parameter in the <code class="literal">[ndbd
            default]</code> section of the
            <code class="filename">config.ini</code> file).
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              You cannot restore a compressed local checkpoint to a
              cluster running a MySQL version that does not support this
              feature.
</p>
</div>
<p>
            The default value is <code class="literal">0</code> (disabled).
</p></li></ul>
</div>
<h5><a name="mysql-cluster-timeouts-intervals-disk-paging"></a>
        Controlling Timeouts, Intervals, and Disk Paging
</h5>
<p>
        There are a number of <code class="literal">[ndbd]</code> parameters
        specifying timeouts and intervals between various actions in
        Cluster data nodes. Most of the timeout values are specified in
        milliseconds. Any exceptions to this are mentioned where
        applicable.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-timebetweenwatchdogcheck"></a>
            <a class="indexterm" name="idp109684848"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenwatchdogcheck"><code class="literal">TimeBetweenWatchDogCheck</code></a>
</p>
<div class="informaltable">
<a name="timebetweenwatchdogcheck-ndbd-table"></a><table summary="This table provides type and value information for the
      TimeBetweenWatchDogCheck data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>6000</td><td>70 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            To prevent the main thread from getting stuck in an endless
            loop at some point, a <span class="quote">“<span class="quote">watchdog</span>”</span> thread checks
            the main thread. This parameter specifies the number of
            milliseconds between checks. If the process remains in the
            same state after three checks, the watchdog thread
            terminates it.
          </p><p>
            This parameter can easily be changed for purposes of
            experimentation or to adapt to local conditions. It can be
            specified on a per-node basis although there seems to be
            little reason for doing so.
          </p><p>
            The default timeout is 6000 milliseconds (6 seconds).
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-timebetweenwatchdogcheckinitial"></a>
            <a class="indexterm" name="idp109702208"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenwatchdogcheckinitial"><code class="literal">TimeBetweenWatchDogCheckInitial</code></a>
</p>
<div class="informaltable">
<a name="timebetweenwatchdogcheckinitial-ndbd-table"></a><table summary="This table provides type and value information for the
      TimeBetweenWatchDogCheckInitial data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>6000</td><td>70 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This is similar to the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenwatchdogcheck"><code class="literal">TimeBetweenWatchDogCheck</code></a>
            parameter, except that
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenwatchdogcheckinitial"><code class="literal">TimeBetweenWatchDogCheckInitial</code></a>
            controls the amount of time that passes between execution
            checks inside a database node in the early start phases
            during which memory is allocated.
          </p><p>
            The default timeout is 6000 milliseconds (6 seconds).
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-startpartialtimeout"></a>
            <a class="indexterm" name="idp109720160"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startpartialtimeout"><code class="literal">StartPartialTimeout</code></a>
</p>
<div class="informaltable">
<a name="startpartialtimeout-ndbd-table"></a><table summary="This table provides type and value information for the
StartPartialTimeout data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>30000</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter specifies how long the Cluster waits for all
            data nodes to come up before the cluster initialization
            routine is invoked. This timeout is used to avoid a partial
            Cluster startup whenever possible.
          </p><p>
            This parameter is overridden when performing an initial
            start or initial restart of the cluster.
          </p><p>
            The default value is 30000 milliseconds (30 seconds). 0
            disables the timeout, in which case the cluster may start
            only if all nodes are available.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-startpartitionedtimeout"></a>
            <a class="indexterm" name="idp109736912"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startpartitionedtimeout"><code class="literal">StartPartitionedTimeout</code></a>
</p>
<div class="informaltable">
<a name="startpartitionedtimeout-ndbd-table"></a><table summary="This table provides type and value information for the
StartPartitionedTimeout data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>60000</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            If the cluster is ready to start after waiting for
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startpartialtimeout"><code class="literal">StartPartialTimeout</code></a>
            milliseconds but is still possibly in a partitioned state,
            the cluster waits until this timeout has also passed. If
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startpartitionedtimeout"><code class="literal">StartPartitionedTimeout</code></a>
            is set to 0, the cluster waits indefinitely.
          </p><p>
            This parameter is overridden when performing an initial
            start or initial restart of the cluster.
          </p><p>
            The default timeout is 60000 milliseconds (60 seconds).
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-startfailuretimeout"></a>
            <a class="indexterm" name="idp109755280"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startfailuretimeout"><code class="literal">StartFailureTimeout</code></a>
</p>
<div class="informaltable">
<a name="startfailuretimeout-ndbd-table"></a><table summary="This table provides type and value information for the
StartFailureTimeout data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>0</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            If a data node has not completed its startup sequence within
            the time specified by this parameter, the node startup
            fails. Setting this parameter to 0 (the default value) means
            that no data node timeout is applied.
          </p><p>
            For nonzero values, this parameter is measured in
            milliseconds. For data nodes containing extremely large
            amounts of data, this parameter should be increased. For
            example, in the case of a data node containing several
            gigabytes of data, a period as long as 10–15 minutes
            (that is, 600000 to 1000000 milliseconds) might be required
            to perform a node restart.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-startnonodegrouptimeout"></a>
            <a class="indexterm" name="idp109772192"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startnonodegrouptimeout"><code class="literal">StartNoNodeGroupTimeout</code></a>
</p>
<div class="informaltable">
<a name="startnonodegrouptimeout-ndbd-table"></a><table summary="This table provides type and value information for the
StartNoNodeGroupTimeout data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>15000</td><td>0 - 4294967039</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            When a data node is configured with
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-nodegroup"><code class="literal">Nodegroup = 65536</code></a>,
            is regarded as not being assigned to any node group. When
            that is done, the cluster waits
            <code class="literal">StartNoNodegroupTimeout</code> milliseconds,
            then treats such nodes as though they had been added to the
            list passed to the
            <a class="link" href="mysql-cluster.html#option_ndbd_nowait-nodes"><code class="option">--nowait-nodes</code></a> option, and
            starts. The default value is <code class="literal">15000</code> (that
            is, the management server waits 15 seconds). Setting this
            parameter equal to <code class="literal">0</code> means that the
            cluster waits indefinitely.
          </p><p>
            <code class="literal">StartNoNodegroupTimeout</code> must be the same
            for all data nodes in the cluster; for this reason, you
            should always set it in the <code class="literal">[ndbd
            default]</code> section of the
            <code class="filename">config.ini</code> file, rather than for
            individual data nodes.
          </p><p>
            See <a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="17.5.13. Adding MySQL Cluster Data Nodes Online">Section 17.5.13, “Adding MySQL Cluster Data Nodes Online”</a>, for
            more information.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-heartbeatintervaldbdb"></a>
            <a class="indexterm" name="idp109795616"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatintervaldbdb"><code class="literal">HeartbeatIntervalDbDb</code></a>
</p>
<div class="informaltable">
<a name="heartbeatintervaldbdb-ndbd-table"></a><table summary="This table provides type and value information for the
HeartbeatIntervalDbDb data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>5000</td><td>10 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            One of the primary methods of discovering failed nodes is by
            the use of heartbeats. This parameter states how often
            heartbeat signals are sent and how often to expect to
            receive them. After missing three heartbeat intervals in a
            row, the node is declared dead. Thus, the maximum time for
            discovering a failure through the heartbeat mechanism is
            four times the heartbeat interval.
          </p><p>
            In MySQL Cluster NDB 7.3, the default heartbeat interval is
            5000 milliseconds (5 seconds). This parameter must not be
            changed drastically and should not vary widely between
            nodes. If one node uses 5000 milliseconds and the node
            watching it uses 1000 milliseconds, obviously the node will
            be declared dead very quickly. This parameter can be changed
            during an online software upgrade, but only in small
            increments.
          </p><p>
            See also
            <a class="xref" href="mysql-cluster.html#mysql-cluster-network-latency-issues" title="Network communication and latency">Network communication and latency</a>.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-heartbeatintervaldbapi"></a>
            <a class="indexterm" name="idp109813856"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatintervaldbapi"><code class="literal">HeartbeatIntervalDbApi</code></a>
</p>
<div class="informaltable">
<a name="heartbeatintervaldbapi-ndbd-table"></a><table summary="This table provides type and value information for the
HeartbeatIntervalDbApi data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>1500</td><td>100 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Each data node sends heartbeat signals to each MySQL server
            (SQL node) to ensure that it remains in contact. If a MySQL
            server fails to send a heartbeat in time it is declared
            <span class="quote">“<span class="quote">dead,</span>”</span> in which case all ongoing transactions
            are completed and all resources released. The SQL node
            cannot reconnect until all activities initiated by the
            previous MySQL instance have been completed. The
            three-heartbeat criteria for this determination are the same
            as described for
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatintervaldbdb"><code class="literal">HeartbeatIntervalDbDb</code></a>.
          </p><p>
            The default interval is 1500 milliseconds (1.5 seconds).
            This interval can vary between individual data nodes because
            each data node watches the MySQL servers connected to it,
            independently of all other data nodes.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-network-latency-issues" title="Network communication and latency">Network communication and latency</a>.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-heartbeatorder"></a>
            <a class="indexterm" name="idp109832784"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatorder"><code class="literal">HeartbeatOrder</code></a>
</p>
<div class="informaltable">
<a name="heartbeatorder-ndbd-table"></a><table summary="This table provides type and value information for the
HeartbeatOrder data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>numeric</td><td>0</td><td>0 - 65535</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            Data nodes send heartbeats to one another in a circular
            fashion whereby each data node monitors the previous one. If
            a heartbeat is not detected by a given data node, this node
            declares the previous data node in the circle
            <span class="quote">“<span class="quote">dead</span>”</span> (that is, no longer accessible by the
            cluster). The determination that a data node is dead is done
            globally; in other words; once a data node is declared dead,
            it is regarded as such by all nodes in the cluster.
          </p><p>
            It is possible for heartbeats between data nodes residing on
            different hosts to be too slow compared to heartbeats
            between other pairs of nodes (for example, due to a very low
            heartbeat interval or temporary connection problem), such
            that a data node is declared dead, even though the node can
            still function as part of the cluster. .
          </p><p>
            In this type of situation, it may be that the order in which
            heartbeats are transmitted between data nodes makes a
            difference as to whether or not a particular data node is
            declared dead. If this declaration occurs unnecessarily,
            this can in turn lead to the unnecessary loss of a node
            group and as thus to a failure of the cluster.
          </p><p>
            Consider a setup where there are 4 data nodes A, B, C, and D
            running on 2 host computers <code class="literal">host1</code> and
            <code class="literal">host2</code>, and that these data nodes make up
            2 node groups, as shown in the following table:
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td scope="row"> </td><td><code class="literal">host1</code></td><td><code class="literal">host2</code></td></tr><tr><td scope="row"><span class="emphasis"><em>Node Group 0</em></span>:</td><td>Node A</td><td>Node B</td></tr><tr><td scope="row"><span class="emphasis"><em>Node Group 1</em></span>:</td><td>Node C</td><td>Node D</td></tr></tbody></table>
</div>
<p>
            Suppose the heartbeats are transmitted in the order
            A-&gt;B-&gt;C-&gt;D-&gt;A. In this case, the loss of the
            heartbeat between the hosts causes node B to declare node A
            dead and node C to declare node B dead. This results in loss
            of Node Group 0, and so the cluster fails. On the other
            hand, if the order of transmission is
            A-&gt;B-&gt;D-&gt;C-&gt;A (and all other conditions remain
            as previously stated), the loss of the heartbeat causes
            nodes A and D to be declared dead; in this case, each node
            group has one surviving node, and the cluster survives.
          </p><p>
            The <a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatorder"><code class="literal">HeartbeatOrder</code></a>
            configuration parameter makes the order of heartbeat
            transmission user-configurable. The default value for
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatorder"><code class="literal">HeartbeatOrder</code></a> is
            zero; allowing the default value to be used on all data
            nodes causes the order of heartbeat transmission to be
            determined by <code class="literal">NDB</code>. If this parameter is
            used, it must be set to a nonzero value (maximum 65535) for
            every data node in the cluster, and this value must be
            unique for each data node; this causes the heartbeat
            transmission to proceed from data node to data node in the
            order of their
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatorder"><code class="literal">HeartbeatOrder</code></a>
            values from lowest to highest (and then directly from the
            data node having the highest
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatorder"><code class="literal">HeartbeatOrder</code></a> to
            the data node having the lowest value, to complete the
            circle). The values need not be consecutive; for example, to
            force the heartbeat transmission order
            A-&gt;B-&gt;D-&gt;C-&gt;A in the scenario outlined
            previously, you could set the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatorder"><code class="literal">HeartbeatOrder</code></a>
            values as shown here:
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Node</th><th scope="col"><code class="literal">HeartbeatOrder</code></th></tr></thead><tbody><tr><td scope="row">A</td><td>10</td></tr><tr><td scope="row">B</td><td>20</td></tr><tr><td scope="row">C</td><td>30</td></tr><tr><td scope="row">D</td><td>25</td></tr></tbody></table>
</div>
<p>
            To use this parameter to change the heartbeat transmission
            order in a running MySQL Cluster, you must first set
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatorder"><code class="literal">HeartbeatOrder</code></a> for
            each data node in the cluster in the global configuration
            (<code class="filename">config.ini</code>) file (or files). To cause
            the change to take effect, you must perform either of the
            following:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                A complete shutdown and restart of the entire cluster.
              </p></li><li class="listitem"><p>
                2 rolling restarts of the cluster in succession.
                <span class="emphasis"><em>All nodes must be restarted in the same order
                in both rolling restarts</em></span>.
</p></li></ul>
</div>
<p>
            You can use <code class="literal">DUMP 908</code> to observe the
            effect of this parameter in the data node logs.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-connectcheckintervaldelay"></a>
            <a class="indexterm" name="idp109884752"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-connectcheckintervaldelay"><code class="literal">ConnectCheckIntervalDelay</code></a>
</p>
<div class="informaltable">
<a name="connectcheckintervaldelay-ndbd-table"></a><table summary="This table provides type and value information for the
      ConnectCheckIntervalDelay data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>string</td><td>0</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter enables connection checking between data
            nodes. A data node that fails to respond within an interval
            of <code class="literal">ConnectCheckIntervalDelay</code> seconds is
            considered suspect, and is considered dead after two such
            intervals.
          </p><p>
            The default value for this parameter is 0; this is a change
            from MySQL Cluster NDB 7.1.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-timebetweenlocalcheckpoints"></a>
            <a class="indexterm" name="idp109901664"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenlocalcheckpoints"><code class="literal">TimeBetweenLocalCheckpoints</code></a>
</p>
<div class="informaltable">
<a name="timebetweenlocalcheckpoints-ndbd-table"></a><table summary="This table provides type and value information for the
      TimeBetweenLocalCheckpoints data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>number of 4-byte words, as a base-2 logarithm</td><td>20</td><td>0 - 31</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is an exception in that it does not specify a
            time to wait before starting a new local checkpoint; rather,
            it is used to ensure that local checkpoints are not
            performed in a cluster where relatively few updates are
            taking place. In most clusters with high update rates, it is
            likely that a new local checkpoint is started immediately
            after the previous one has been completed.
          </p><p>
            The size of all write operations executed since the start of
            the previous local checkpoints is added. This parameter is
            also exceptional in that it is specified as the base-2
            logarithm of the number of 4-byte words, so that the default
            value 20 means 4MB (4 ×
            2<sup>20</sup>) of write operations, 21
            would mean 8MB, and so on up to a maximum value of 31, which
            equates to 8GB of write operations.
          </p><p>
            All the write operations in the cluster are added together.
            Setting
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenlocalcheckpoints"><code class="literal">TimeBetweenLocalCheckpoints</code></a>
            to 6 or less means that local checkpoints will be executed
            continuously without pause, independent of the cluster's
            workload.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-timebetweenglobalcheckpoints"></a>
            <a class="indexterm" name="idp109920784"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenglobalcheckpoints"><code class="literal">TimeBetweenGlobalCheckpoints</code></a>
</p>
<div class="informaltable">
<a name="timebetweenglobalcheckpoints-ndbd-table"></a><table summary="This table provides type and value information for the
      TimeBetweenGlobalCheckpoints data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>2000</td><td>20 - 32000</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            When a transaction is committed, it is committed in main
            memory in all nodes on which the data is mirrored. However,
            transaction log records are not flushed to disk as part of
            the commit. The reasoning behind this behavior is that
            having the transaction safely committed on at least two
            autonomous host machines should meet reasonable standards
            for durability.
          </p><p>
            It is also important to ensure that even the worst of
            cases—a complete crash of the cluster—is handled
            properly. To guarantee that this happens, all transactions
            taking place within a given interval are put into a global
            checkpoint, which can be thought of as a set of committed
            transactions that has been flushed to disk. In other words,
            as part of the commit process, a transaction is placed in a
            global checkpoint group. Later, this group's log records are
            flushed to disk, and then the entire group of transactions
            is safely committed to disk on all computers in the cluster.
          </p><p>
            This parameter defines the interval between global
            checkpoints. The default is 2000 milliseconds.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-timebetweenepochs"></a>
            <a class="indexterm" name="idp109938368"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochs"><code class="literal">TimeBetweenEpochs</code></a>
</p>
<div class="informaltable">
<a name="timebetweenepochs-ndbd-table"></a><table summary="This table provides type and value information for the
TimeBetweenEpochs data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>100</td><td>0 - 32000</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter defines the interval between synchronization
            epochs for MySQL Cluster Replication. The default value is
            100 milliseconds.
          </p><p>
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochs"><code class="literal">TimeBetweenEpochs</code></a> is
            part of the implementation of <span class="quote">“<span class="quote">micro-GCPs</span>”</span>,
            which can be used to improve the performance of MySQL
            Cluster Replication.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-timebetweenepochstimeout"></a>
            <a class="indexterm" name="idp109955712"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochstimeout"><code class="literal">TimeBetweenEpochsTimeout</code></a>
</p>
<div class="informaltable">
<a name="timebetweenepochstimeout-ndbd-table"></a><table summary="This table provides type and value information for the
      TimeBetweenEpochsTimeout data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>4000</td><td>0 - 256000</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter defines a timeout for synchronization epochs
            for MySQL Cluster Replication. If a node fails to
            participate in a global checkpoint within the time
            determined by this parameter, the node is shut down. In
            MySQL Cluster NDB 7.3, the default value is 0; in other
            words, the timeout is disabled.
          </p><p>
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochstimeout"><code class="literal">TimeBetweenEpochsTimeout</code></a>
            is part of the implementation of <span class="quote">“<span class="quote">micro-GCPs</span>”</span>,
            which can be used to improve the performance of MySQL
            Cluster Replication.
          </p><p>
            The current value of this parameter and a warning are
            written to the cluster log whenever a GCP save takes longer
            than 1 minute or a GCP save takes longer than 10 seconds.
          </p><p>
            Setting this parameter to zero has the effect of disabling
            GCP stops caused by save timeouts, commit timeouts, or both.
            The maximum possible value for this parameter is 256000
            milliseconds.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-maxbufferedepochs"></a>
            <a class="indexterm" name="idp109974624"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxbufferedepochs"><code class="literal">MaxBufferedEpochs</code></a>
</p>
<div class="informaltable">
<a name="maxbufferedepochs-ndbd-table"></a><table summary="This table provides type and value information for the
MaxBufferedEpochs data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>epochs</td><td>100</td><td>0 - 100000</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The number of unprocessed epochs by which a subscribing node
            can lag behind. Exceeding this number causes a lagging
            subscriber to be disconnected.
          </p><p>
            The default value of 100 is sufficient for most normal
            operations. If a subscribing node does lag enough to cause
            disconnections, it is usually due to network or scheduling
            issues with regard to processes or threads. (In rare
            circumstances, the problem may be due to a bug in the
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> client.) It may be
            desirable to set the value lower than the default when
            epochs are longer.
          </p><p>
            Disconnection prevents client issues from affecting the data
            node service, running out of memory to buffer data, and
            eventually shutting down. Instead, only the client is
            affected as a result of the disconnect (by, for example gap
            events in the binary log), forcing the client to reconnect
            or restart the process.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-timebetweeninactivetransactionabortcheck"></a>
            <a class="indexterm" name="idp109992640"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweeninactivetransactionabortcheck"><code class="literal">TimeBetweenInactiveTransactionAbortCheck</code></a>
</p>
<div class="informaltable">
<a name="timebetweeninactivetransactionabortcheck-ndbd-table"></a><table summary="This table provides type and value information for the
      TimeBetweenInactiveTransactionAbortCheck data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>1000</td><td>1000 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Timeout handling is performed by checking a timer on each
            transaction once for every interval specified by this
            parameter. Thus, if this parameter is set to 1000
            milliseconds, every transaction will be checked for timing
            out once per second.
          </p><p>
            The default value is 1000 milliseconds (1 second).
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-transactioninactivetimeout"></a>
            <a class="indexterm" name="idp110008944"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-transactioninactivetimeout"><code class="literal">TransactionInactiveTimeout</code></a>
</p>
<div class="informaltable">
<a name="transactioninactivetimeout-ndbd-table"></a><table summary="This table provides type and value information for the
      TransactionInactiveTimeout data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>4G</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter states the maximum time that is permitted to
            lapse between operations in the same transaction before the
            transaction is aborted.
          </p><p>
            The default for this parameter is <code class="literal">4G</code>
            (also the maximum). For a real-time database that needs to
            ensure that no transaction keeps locks for too long, this
            parameter should be set to a relatively small value. The
            unit is milliseconds.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-transactiondeadlockdetectiontimeout"></a>
            <a class="indexterm" name="idp110025920"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-transactiondeadlockdetectiontimeout"><code class="literal">TransactionDeadlockDetectionTimeout</code></a>
</p>
<div class="informaltable">
<a name="transactiondeadlockdetectiontimeout-ndbd-table"></a><table summary="This table provides type and value information for the
      TransactionDeadlockDetectionTimeout data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>1200</td><td>50 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            When a node executes a query involving a transaction, the
            node waits for the other nodes in the cluster to respond
            before continuing. A failure to respond can occur for any of
            the following reasons:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                The node is <span class="quote">“<span class="quote">dead</span>”</span>
              </p></li><li class="listitem"><p>
                The operation has entered a lock queue
              </p></li><li class="listitem"><p>
                The node requested to perform the action could be
                heavily overloaded.
</p></li></ul>
</div>
<p>
            This timeout parameter states how long the transaction
            coordinator waits for query execution by another node before
            aborting the transaction, and is important for both node
            failure handling and deadlock detection.
          </p><p>
            The default timeout value is 1200 milliseconds (1.2
            seconds).
          </p><p>
            The minimum for this parameter is 50 milliseconds.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-disksyncsize"></a>
            <a class="indexterm" name="idp110046640"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-disksyncsize"><code class="literal">DiskSyncSize</code></a>
</p>
<div class="informaltable">
<a name="disksyncsize-ndbd-table"></a><table summary="This table provides type and value information for the
DiskSyncSize data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>4M</td><td>32K - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This is the maximum number of bytes to store before flushing
            data to a local checkpoint file. This is done to prevent
            write buffering, which can impede performance significantly.
            This parameter is <span class="emphasis"><em>not</em></span> intended to take
            the place of
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenlocalcheckpoints"><code class="literal">TimeBetweenLocalCheckpoints</code></a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              When <a class="link" href="mysql-cluster.html#ndbparam-ndbd-odirect"><code class="literal">ODirect</code></a> is
              enabled, it is not necessary to set
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-disksyncsize"><code class="literal">DiskSyncSize</code></a>; in
              fact, in such cases its value is simply ignored.
</p>
</div>
<p>
            The default value is 4M (4 megabytes).
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-diskcheckpointspeed"></a>
            <a class="indexterm" name="idp110066624"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskcheckpointspeed"><code class="literal">DiskCheckpointSpeed</code></a>
</p>
<div class="informaltable">
<a name="diskcheckpointspeed-ndbd-table"></a><table summary="This table provides type and value information for the
DiskCheckpointSpeed data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>10M</td><td>1M - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The amount of data,in bytes per second, that is sent to disk
            during a local checkpoint. This allocation is shared by DML
            operations and backups (but not backup logging), which means
            that backups started during times of intensive DML may be
            impaired by flooding of the redo log buffer and may fail
            altogether if the contention is sufficiently severe.
          </p><p>
            The default value is 10M (10 megabytes per second).
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-diskcheckpointspeedinrestart"></a>
            <a class="indexterm" name="idp110082880"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskcheckpointspeedinrestart"><code class="literal">DiskCheckpointSpeedInRestart</code></a>
</p>
<div class="informaltable">
<a name="diskcheckpointspeedinrestart-ndbd-table"></a><table summary="This table provides type and value information for the
      DiskCheckpointSpeedInRestart data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>100M</td><td>1M - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The amount of data,in bytes per second, that is sent to disk
            during a local checkpoint as part of a restart operation.
          </p><p>
            The default value is 100M (100 megabytes per second).
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-noofdiskpagestodiskafterrestarttup"></a>
            <a class="indexterm" name="idp110098960"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofdiskpagestodiskafterrestarttup"><code class="literal">NoOfDiskPagesToDiskAfterRestartTUP</code></a>
          </p><p>
            This parameter is deprecated and subject to removal in a
            future version of MySQL Cluster. Use
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskcheckpointspeedinrestart"><code class="literal">DiskCheckpointSpeedInRestart</code></a>
            and <a class="link" href="mysql-cluster.html#ndbparam-ndbd-disksyncsize"><code class="literal">DiskSyncSize</code></a>
            instead.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-noofdiskpagestodiskafterrestartacc"></a>
            <a class="indexterm" name="idp110105024"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofdiskpagestodiskafterrestartacc"><code class="literal">NoOfDiskPagesToDiskAfterRestartACC</code></a>
          </p><p>
            This parameter is deprecated and subject to removal in a
            future version of MySQL Cluster. Use
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskcheckpointspeedinrestart"><code class="literal">DiskCheckpointSpeedInRestart</code></a>
            and <a class="link" href="mysql-cluster.html#ndbparam-ndbd-disksyncsize"><code class="literal">DiskSyncSize</code></a>
            instead.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-noofdiskpagestodiskduringrestarttup"></a>
            <a class="indexterm" name="idp110111088"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofdiskpagestodiskduringrestarttup"><code class="literal">NoOfDiskPagesToDiskDuringRestartTUP</code></a>
            (DEPRECATED)
          </p><p>
            This parameter is deprecated and subject to removal in a
            future version of MySQL Cluster. Use
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskcheckpointspeedinrestart"><code class="literal">DiskCheckpointSpeedInRestart</code></a>
            and <a class="link" href="mysql-cluster.html#ndbparam-ndbd-disksyncsize"><code class="literal">DiskSyncSize</code></a>
            instead.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-noofdiskpagestodiskduringrestartacc"></a>
            <a class="indexterm" name="idp110117184"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofdiskpagestodiskduringrestartacc"><code class="literal">NoOfDiskPagesToDiskDuringRestartACC</code></a>
            (DEPRECATED)
          </p><p>
            This parameter is deprecated and subject to removal in a
            future version of MySQL Cluster. Use
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskcheckpointspeedinrestart"><code class="literal">DiskCheckpointSpeedInRestart</code></a>
            and <a class="link" href="mysql-cluster.html#ndbparam-ndbd-disksyncsize"><code class="literal">DiskSyncSize</code></a>
            instead.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-arbitrationtimeout"></a>
            <a class="indexterm" name="idp110123264"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitrationtimeout"><code class="literal">ArbitrationTimeout</code></a>
</p>
<div class="informaltable">
<a name="arbitrationtimeout-ndbd-table"></a><table summary="This table provides type and value information for the
ArbitrationTimeout data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>7500</td><td>10 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter specifies how long data nodes wait for a
            response from the arbitrator to an arbitration message. If
            this is exceeded, the network is assumed to have split.
          </p><p>
            In MySQL Cluster NDB 7.3, the default value is 7500
            milliseconds (7.5 seconds).
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-arbitration"></a>
            <a class="indexterm" name="idp110139360"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitration"><code class="literal">Arbitration</code></a>
</p>
<div class="informaltable">
<a name="arbitration-ndbd-table"></a><table summary="This table provides type and value information for the
Arbitration data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>enumeration</td><td>Default</td><td>Default, Disabled, WaitExternal</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The <a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitration"><code class="literal">Arbitration</code></a>
            parameter enables a choice of arbitration schemes,
            corresponding to one of 3 possible values for this
            parameter:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b><code class="literal">Default</code>. </b>
                  This enables arbitration to proceed normally, as
                  determined by the <code class="literal">ArbitrationRank</code>
                  settings for the management and API nodes. This is the
                  default value.
                </p></li><li class="listitem"><p><b><code class="literal">Disabled</code>. </b>
                  Setting <code class="literal">Arbitration = Disabled</code> in
                  the <code class="literal">[ndbd default]</code> section of the
                  <code class="filename">config.ini</code> file to accomplishes
                  the same task as setting
                  <code class="literal">ArbitrationRank</code> to 0 on all
                  management and API nodes. When
                  <code class="literal">Arbitration</code> is set in this way, any
                  <code class="literal">ArbitrationRank</code> settings are
                  ignored.
                </p></li><li class="listitem"><p><b><code class="literal">WaitExternal</code>. </b>
                  The
                  <a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitration"><code class="literal">Arbitration</code></a>
                  parameter also makes it possible to configure
                  arbitration in such a way that the cluster waits until
                  after the time determined by
                  <a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitrationtimeout"><code class="literal">ArbitrationTimeout</code></a>
                  has passed for an external cluster manager application
                  to perform arbitration instead of handling arbitration
                  internally. This can be done by setting
                  <code class="literal">Arbitration = WaitExternal</code> in the
                  <code class="literal">[ndbd default]</code> section of the
                  <code class="filename">config.ini</code> file. For best results
                  with the <code class="literal">WaitExternal</code> setting, it
                  is recommended that
                  <a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitrationtimeout"><code class="literal">ArbitrationTimeout</code></a>
                  be 2 times as long as the interval required by the
                  external cluster manager to perform arbitration.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Important
</div>
<p xmlns="">
              This parameter should be used only in the <code class="literal">[ndbd
              default]</code> section of the cluster configuration
              file. The behavior of the cluster is unspecified when
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitration"><code class="literal">Arbitration</code></a> is set
              to different values for individual data nodes.
</p>
</div>
</li></ul>
</div>
<p><b>Buffering and logging. </b>
          Several <code class="literal">[ndbd]</code> configuration parameters
          enable the advanced user to have more control over the
          resources used by node processes and to adjust various buffer
          sizes at need.
        </p><p>
        These buffers are used as front ends to the file system when
        writing log records to disk. If the node is running in diskless
        mode, these parameters can be set to their minimum values
        without penalty due to the fact that disk writes are
        <span class="quote">“<span class="quote">faked</span>”</span> by the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
        storage engine's file system abstraction layer.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-undoindexbuffer"></a>
            <a class="indexterm" name="idp110181200"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-undoindexbuffer"><code class="literal">UndoIndexBuffer</code></a>
</p>
<div class="informaltable">
<a name="undoindexbuffer-ndbd-table"></a><table summary="This table provides type and value information for the
UndoIndexBuffer data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>2M</td><td>1M - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The UNDO index buffer, whose size is set by this parameter,
            is used during local checkpoints. The
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine uses a
            recovery scheme based on checkpoint consistency in
            conjunction with an operational REDO log. To produce a
            consistent checkpoint without blocking the entire system for
            writes, UNDO logging is done while performing the local
            checkpoint. UNDO logging is activated on a single table
            fragment at a time. This optimization is possible because
            tables are stored entirely in main memory.
          </p><p>
            The UNDO index buffer is used for the updates on the primary
            key hash index. Inserts and deletes rearrange the hash
            index; the NDB storage engine writes UNDO log records that
            map all physical changes to an index page so that they can
            be undone at system restart. It also logs all active insert
            operations for each fragment at the start of a local
            checkpoint.
          </p><p>
            Reads and updates set lock bits and update a header in the
            hash index entry. These changes are handled by the
            page-writing algorithm to ensure that these operations need
            no UNDO logging.
          </p><p>
            This buffer is 2MB by default. The minimum value is 1MB,
            which is sufficient for most applications. For applications
            doing extremely large or numerous inserts and deletes
            together with large transactions and large primary keys, it
            may be necessary to increase the size of this buffer. If
            this buffer is too small, the NDB storage engine issues
            internal error code 677 (<code class="literal">Index UNDO buffers
            overloaded</code>).
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              It is not safe to decrease the value of this parameter
              during a rolling restart.
</p>
</div>
</li><li class="listitem"><p><a name="ndbparam-ndbd-undodatabuffer"></a>
            <a class="indexterm" name="idp110201952"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-undodatabuffer"><code class="literal">UndoDataBuffer</code></a>
</p>
<div class="informaltable">
<a name="undodatabuffer-ndbd-table"></a><table summary="This table provides type and value information for the
UndoDataBuffer data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>16M</td><td>1M - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter sets the size of the UNDO data buffer, which
            performs a function similar to that of the UNDO index
            buffer, except the UNDO data buffer is used with regard to
            data memory rather than index memory. This buffer is used
            during the local checkpoint phase of a fragment for inserts,
            deletes, and updates.
          </p><p>
            Because UNDO log entries tend to grow larger as more
            operations are logged, this buffer is also larger than its
            index memory counterpart, with a default value of 16MB.
          </p><p>
            This amount of memory may be unnecessarily large for some
            applications. In such cases, it is possible to decrease this
            size to a minimum of 1MB.
          </p><p>
            It is rarely necessary to increase the size of this buffer.
            If there is such a need, it is a good idea to check whether
            the disks can actually handle the load caused by database
            update activity. A lack of sufficient disk space cannot be
            overcome by increasing the size of this buffer.
          </p><p>
            If this buffer is too small and gets congested, the NDB
            storage engine issues internal error code 891
            (<span class="errortext">Data UNDO buffers overloaded</span>).
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              It is not safe to decrease the value of this parameter
              during a rolling restart.
</p>
</div>
</li><li class="listitem"><p><a name="ndbparam-ndbd-redobuffer"></a>
            <a class="indexterm" name="idp110221552"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-redobuffer"><code class="literal">RedoBuffer</code></a>
</p>
<div class="informaltable">
<a name="redobuffer-ndbd-table"></a><table summary="This table provides type and value information for the
RedoBuffer data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>32M</td><td>1M - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            All update activities also need to be logged. The REDO log
            makes it possible to replay these updates whenever the
            system is restarted. The NDB recovery algorithm uses a
            <span class="quote">“<span class="quote">fuzzy</span>”</span> checkpoint of the data together with
            the UNDO log, and then applies the REDO log to play back all
            changes up to the restoration point.
          </p><p>
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-redobuffer"><code class="literal">RedoBuffer</code></a> sets the
            size of the buffer in which the REDO log is written. The
            default value is 32MB; the minimum value is 1MB.
          </p><p>
            If this buffer is too small, the
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine issues error
            code 1221 (<span class="errortext">REDO log buffers
            overloaded</span>). For this reason, you should
            exercise care if you attempt to decrease the value of
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-redobuffer"><code class="literal">RedoBuffer</code></a> as part
            of an online change in the cluster's configuration.
</p></li></ul>
</div>
<p><b>Controlling log messages. </b>
          In managing the cluster, it is very important to be able to
          control the number of log messages sent for various event
          types to <code class="literal">stdout</code>. For each event category,
          there are 16 possible event levels (numbered 0 through 15).
          Setting event reporting for a given event category to level 15
          means all event reports in that category are sent to
          <code class="literal">stdout</code>; setting it to 0 means that there
          will be no event reports made in that category.
        </p><p>
        By default, only the startup message is sent to
        <code class="literal">stdout</code>, with the remaining event reporting
        level defaults being set to 0. The reason for this is that these
        messages are also sent to the management server's cluster log.
      </p><p>
        An analogous set of levels can be set for the management client
        to determine which event levels to record in the cluster log.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-loglevelstartup"></a>
            <a class="indexterm" name="idp110247568"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelstartup"><code class="literal">LogLevelStartup</code></a>
</p>
<div class="informaltable">
<a name="loglevelstartup-ndbd-table"></a><table summary="This table provides type and value information for the
LogLevelStartup data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>1</td><td>0 - 15</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The reporting level for events generated during startup of
            the process.
          </p><p>
            The default level is 1.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelshutdown"></a>
            <a class="indexterm" name="idp110263456"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelshutdown"><code class="literal">LogLevelShutdown</code></a>
</p>
<div class="informaltable">
<a name="loglevelshutdown-ndbd-table"></a><table summary="This table provides type and value information for the
LogLevelShutdown data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>0</td><td>0 - 15</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The reporting level for events generated as part of graceful
            shutdown of a node.
          </p><p>
            The default level is 0.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelstatistic"></a>
            <a class="indexterm" name="idp110279344"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelstatistic"><code class="literal">LogLevelStatistic</code></a>
</p>
<div class="informaltable">
<a name="loglevelstatistic-ndbd-table"></a><table summary="This table provides type and value information for the
LogLevelStatistic data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>0</td><td>0 - 15</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The reporting level for statistical events such as number of
            primary key reads, number of updates, number of inserts,
            information relating to buffer usage, and so on.
          </p><p>
            The default level is 0.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelcheckpoint"></a>
            <a class="indexterm" name="idp110295328"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelcheckpoint"><code class="literal">LogLevelCheckpoint</code></a>
</p>
<div class="informaltable">
<a name="loglevelcheckpoint-ndbd-table"></a><table summary="This table provides type and value information for the
LogLevelCheckpoint data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>log level</td><td>0</td><td>0 - 15</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The reporting level for events generated by local and global
            checkpoints.
          </p><p>
            The default level is 0.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelnoderestart"></a>
            <a class="indexterm" name="idp110311216"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelnoderestart"><code class="literal">LogLevelNodeRestart</code></a>
</p>
<div class="informaltable">
<a name="loglevelnoderestart-ndbd-table"></a><table summary="This table provides type and value information for the
LogLevelNodeRestart data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>0</td><td>0 - 15</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The reporting level for events generated during node
            restart.
          </p><p>
            The default level is 0.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelconnection"></a>
            <a class="indexterm" name="idp110327088"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelconnection"><code class="literal">LogLevelConnection</code></a>
</p>
<div class="informaltable">
<a name="loglevelconnection-ndbd-table"></a><table summary="This table provides type and value information for the
LogLevelConnection data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>0</td><td>0 - 15</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The reporting level for events generated by connections
            between cluster nodes.
          </p><p>
            The default level is 0.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelerror"></a>
            <a class="indexterm" name="idp110342976"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelerror"><code class="literal">LogLevelError</code></a>
</p>
<div class="informaltable">
<a name="loglevelerror-ndbd-table"></a><table summary="This table provides type and value information for the
LogLevelError data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>0</td><td>0 - 15</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The reporting level for events generated by errors and
            warnings by the cluster as a whole. These errors do not
            cause any node failure but are still considered worth
            reporting.
          </p><p>
            The default level is 0.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelcongestion"></a>
            <a class="indexterm" name="idp110358992"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelcongestion"><code class="literal">LogLevelCongestion</code></a>
</p>
<div class="informaltable">
<a name="loglevelcongestion-ndbd-table"></a><table summary="This table provides type and value information for the
LogLevelCongestion data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>levelr</td><td>0</td><td>0 - 15</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The reporting level for events generated by congestion.
            These errors do not cause node failure but are still
            considered worth reporting.
          </p><p>
            The default level is 0.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-loglevelinfo"></a>
            <a class="indexterm" name="idp110374960"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelinfo"><code class="literal">LogLevelInfo</code></a>
</p>
<div class="informaltable">
<a name="loglevelinfo-ndbd-table"></a><table summary="This table provides type and value information for the
LogLevelInfo data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>0</td><td>0 - 15</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The reporting level for events generated for information
            about the general state of the cluster.
          </p><p>
            The default level is 0.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-memreportfrequency"></a>
            <a class="indexterm" name="idp110390848"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-memreportfrequency"><code class="literal">MemReportFrequency</code></a>
</p>
<div class="informaltable">
<a name="memreportfrequency-ndbd-table"></a><table summary="This table provides type and value information for the
MemReportFrequency data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>0</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter controls how often data node memory usage
            reports are recorded in the cluster log; it is an integer
            value representing the number of seconds between reports.
          </p><p>
            Each data node's data memory and index memory usage is
            logged as both a percentage and a number of 32 KB pages of
            the <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> and
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a>,
            respectively, set in the <code class="filename">config.ini</code>
            file. For example, if
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> is equal
            to 100 MB, and a given data node is using 50 MB for data
            memory storage, the corresponding line in the cluster log
            might look like this:
          </p><pre class="programlisting">2006-12-24 01:18:16 [MgmSrvr] INFO -- Node 2: Data usage is 50%(1280 32K pages of total 2560)</pre><p>
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-memreportfrequency"><code class="literal">MemReportFrequency</code></a>
            is not a required parameter. If used, it can be set for all
            cluster data nodes in the <code class="literal">[ndbd default]</code>
            section of <code class="filename">config.ini</code>, and can also be
            set or overridden for individual data nodes in the
            corresponding <code class="literal">[ndbd]</code> sections of the
            configuration file. The minimum value—which is also
            the default value—is 0, in which case memory reports
            are logged only when memory usage reaches certain
            percentages (80%, 90%, and 100%), as mentioned in the
            discussion of statistics events in
            <a class="xref" href="mysql-cluster.html#mysql-cluster-log-events" title="17.5.6.2. MySQL Cluster Log Events">Section 17.5.6.2, “MySQL Cluster Log Events”</a>.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-startupstatusreportfrequency"></a>
            <a class="indexterm" name="idp110416128"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startupstatusreportfrequency"><code class="literal">StartupStatusReportFrequency</code></a>
</p>
<div class="informaltable">
<a name="startupstatusreportfrequency-ndbd-table"></a><table summary="This table provides type and value information for the
      StartupStatusReportFrequency data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>seconds</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            When a data node is started with the
            <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a>, it initializes the
            redo log file during Start Phase 4 (see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-start-phases" title="17.5.1. Summary of MySQL Cluster Start Phases">Section 17.5.1, “Summary of MySQL Cluster Start Phases”</a>). When very
            large values are set for
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-nooffragmentlogfiles"><code class="literal">NoOfFragmentLogFiles</code></a>,
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-fragmentlogfilesize"><code class="literal">FragmentLogFileSize</code></a>,
            or both, this initialization can take a long time.You can
            force reports on the progress of this process to be logged
            periodically, by means of the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startupstatusreportfrequency"><code class="literal">StartupStatusReportFrequency</code></a>
            configuration parameter. In this case, progress is reported
            in the cluster log, in terms of both the number of files and
            the amount of space that have been initialized, as shown
            here:
          </p><pre class="programlisting">2009-06-20 16:39:23 [MgmSrvr] INFO -- Node 1: Local redo log file initialization status:
#Total files: 80, Completed: 60
#Total MBytes: 20480, Completed: 15557
2009-06-20 16:39:23 [MgmSrvr] INFO -- Node 2: Local redo log file initialization status:
#Total files: 80, Completed: 60
#Total MBytes: 20480, Completed: 15570</pre><p>
            These reports are logged each
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startupstatusreportfrequency"><code class="literal">StartupStatusReportFrequency</code></a>
            seconds during Start Phase 4. If
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startupstatusreportfrequency"><code class="literal">StartupStatusReportFrequency</code></a>
            is 0 (the default), then reports are written to the cluster
            log only when at the beginning and at the completion of the
            redo log file initialization process.
</p></li></ul>
</div>
<p><a name="ndbparam-ndbd-dicttrace"></a><b>Debugging Parameters. </b>
          In MySQL Cluster NDB 7.3, it is possible to cause logging of
          traces for events generated by creating and dropping tables
          using <a class="link" href="mysql-cluster.html#ndbparam-ndbd-dicttrace" title="Debugging Parameters"><code class="literal">DictTrace</code></a>. This
          parameter is useful only in debugging NDB kernel code.
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-dicttrace" title="Debugging Parameters"><code class="literal">DictTrace</code></a> takes an
          integer value; currently, 0 (default - no logging) and 1
          (logging enabled) are the only supported values.
        </p><p><a name="mysql-cluster-backup-parameters"></a><b>Backup parameters. </b>
          The <code class="literal">[ndbd]</code> parameters discussed in this
          section define memory buffers set aside for execution of
          online backups.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-backupdatabuffersize"></a>
            <a class="indexterm" name="idp110445856"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupdatabuffersize"><code class="literal">BackupDataBufferSize</code></a>
</p>
<div class="informaltable">
<a name="backupdatabuffersize-ndbd-table"></a><table summary="This table provides type and value information for the
BackupDataBufferSize data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>16M</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            In creating a backup, there are two buffers used for sending
            data to the disk. The backup data buffer is used to fill in
            data recorded by scanning a node's tables. Once this buffer
            has been filled to the level specified as
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupwritesize"><code class="literal">BackupWriteSize</code></a>, the
            pages are sent to disk. While flushing data to disk, the
            backup process can continue filling this buffer until it
            runs out of space. When this happens, the backup process
            pauses the scan and waits until some disk writes have
            completed freed up memory so that scanning may continue.
          </p><p>
            The default value for this parameter is 16MB.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-backuplogbuffersize"></a>
            <a class="indexterm" name="idp110463136"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backuplogbuffersize"><code class="literal">BackupLogBufferSize</code></a>
</p>
<div class="informaltable">
<a name="backuplogbuffersize-ndbd-table"></a><table summary="This table provides type and value information for the
BackupLogBufferSize data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>16M</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The backup log buffer fulfills a role similar to that played
            by the backup data buffer, except that it is used for
            generating a log of all table writes made during execution
            of the backup. The same principles apply for writing these
            pages as with the backup data buffer, except that when there
            is no more space in the backup log buffer, the backup fails.
            For that reason, the size of the backup log buffer must be
            large enough to handle the load caused by write activities
            while the backup is being made. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-backup-configuration" title="17.5.3.3. Configuration for MySQL Cluster Backups">Section 17.5.3.3, “Configuration for MySQL Cluster Backups”</a>.
          </p><p>
            The default value for this parameter should be sufficient
            for most applications. In fact, it is more likely for a
            backup failure to be caused by insufficient disk write speed
            than it is for the backup log buffer to become full. If the
            disk subsystem is not configured for the write load caused
            by applications, the cluster is unlikely to be able to
            perform the desired operations.
          </p><p>
            It is preferable to configure cluster nodes in such a manner
            that the processor becomes the bottleneck rather than the
            disks or the network connections.
          </p><p>
            The default value for this parameter is 16MB.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-backupmemory"></a>
            <a class="indexterm" name="idp110481616"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupmemory"><code class="literal">BackupMemory</code></a>
</p>
<div class="informaltable">
<a name="backupmemory-ndbd-table"></a><table summary="This table provides type and value information for the
BackupMemory data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>32M</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is simply the sum of
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupdatabuffersize"><code class="literal">BackupDataBufferSize</code></a>
            and
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backuplogbuffersize"><code class="literal">BackupLogBufferSize</code></a>.
          </p><p>
            The default value of this parameter in MySQL Cluster NDB 7.3
            is 16MB + 16MB = 32MB.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              If
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupdatabuffersize"><code class="literal">BackupDataBufferSize</code></a>
              and
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backuplogbuffersize"><code class="literal">BackupLogBufferSize</code></a>
              taken together exceed the default value for
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupmemory"><code class="literal">BackupMemory</code></a>, then
              this parameter must be set explicitly in the
              <code class="filename">config.ini</code> file to their sum.
</p>
</div>
</li><li class="listitem"><p><a name="ndbparam-ndbd-backupreportfrequency"></a>
            <a class="indexterm" name="idp110503536"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupreportfrequency"><code class="literal">BackupReportFrequency</code></a>
</p>
<div class="informaltable">
<a name="backupreportfrequency-ndbd-table"></a><table summary="This table provides type and value information for the
BackupReportFrequency data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>seconds</td><td>0</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter controls how often backup status reports are
            issued in the management client during a backup, as well as
            how often such reports are written to the cluster log
            (provided cluster event logging is configured to permit
            it—see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-logging-and-checkpointing" title="Logging and checkpointing">Logging and checkpointing</a>).
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupreportfrequency"><code class="literal">BackupReportFrequency</code></a>
            represents the time in seconds between backup status
            reports.
          </p><p>
            The default value is 0.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-backupwritesize"></a>
            <a class="indexterm" name="idp110521456"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupwritesize"><code class="literal">BackupWriteSize</code></a>
</p>
<div class="informaltable">
<a name="backupwritesize-ndbd-table"></a><table summary="This table provides type and value information for the
BackupWriteSize data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>256K</td><td>2K - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter specifies the default size of messages
            written to disk by the backup log and backup data buffers.
          </p><p>
            The default value for this parameter is 256KB.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-backupmaxwritesize"></a>
            <a class="indexterm" name="idp110537424"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupmaxwritesize"><code class="literal">BackupMaxWriteSize</code></a>
</p>
<div class="informaltable">
<a name="backupmaxwritesize-ndbd-table"></a><table summary="This table provides type and value information for the
BackupMaxWriteSize data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>1M</td><td>2K - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter specifies the maximum size of messages
            written to disk by the backup log and backup data buffers.
          </p><p>
            The default value for this parameter is 1MB.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Important
</div>
<p xmlns="">
          When specifying these parameters, the following relationships
          must hold true. Otherwise, the data node will be unable to
          start.
</p>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">BackupDataBufferSize &gt;= BackupWriteSize +
            188KB</code>
          </p></li><li class="listitem"><p>
            <code class="literal">BackupLogBufferSize &gt;= BackupWriteSize +
            16KB</code>
          </p></li><li class="listitem"><p>
            <code class="literal">BackupMaxWriteSize &gt;= BackupWriteSize</code>
</p></li></ul>
</div>
<h5><a name="mysql-cluster-realtime-performance-parameters"></a>
        MySQL Cluster Realtime Performance Parameters
</h5>
<p>
        The <code class="literal">[ndbd]</code> parameters discussed in this
        section are used in scheduling and locking of threads to
        specific CPUs on multiprocessor data node hosts.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          To make use of these parameters, the data node process must be
          run as system root.
</p>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-lockexecutethreadtocpu"></a>
            <a class="indexterm" name="idp110562704"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockexecutethreadtocpu"><code class="literal">LockExecuteThreadToCPU</code></a>
</p>
<div class="informaltable">
<a name="lockexecutethreadtocpu-ndbd-table"></a><table summary="This table provides type and value information for the
LockExecuteThreadToCPU data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>CPU ID</td><td>64K</td><td>0 - 64K</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            When used with <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>, this parameter (now
            a string) specifies the ID of the CPU assigned to handle the
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> execution thread.
            When used with <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>, the value of this
            parameter is a comma-separated list of CPU IDs assigned to
            handle execution threads. Each CPU ID in the list should be
            an integer in the range 0 to 65535 (inclusive).
          </p><p>
            The number of IDs specified should match the number of
            execution threads determined by
            <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-maxnoofexecutionthreads"><code class="literal">MaxNoOfExecutionThreads</code></a>.
            However, there is no guarantee that threads are assigned to
            CPUs in any given order when using this parameter. You can
            obtain more finely-grained control of this type using
            <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-threadconfig"><code class="literal">ThreadConfig</code></a>.
          </p><p>
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockexecutethreadtocpu"><code class="literal">LockExecuteThreadToCPU</code></a>
            has no default value.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-lockmaintthreadstocpu"></a>
            <a class="indexterm" name="idp110584784"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockmaintthreadstocpu"><code class="literal">LockMaintThreadsToCPU</code></a>
</p>
<div class="informaltable">
<a name="lockmaintthreadstocpu-ndbd-table"></a><table summary="This table provides type and value information for the
LockMaintThreadsToCPU data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>CPU ID</td><td>[none]</td><td>0 - 64K</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter specifies the ID of the CPU assigned to
            handle <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> maintenance
            threads.
          </p><p>
            The value of this parameter is an integer in the range 0 to
            65535 (inclusive). In MySQL Cluster NDB 7.3, there is no
            default value.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-realtimescheduler"></a>
            <a class="indexterm" name="idp110601680"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-realtimescheduler"><code class="literal">RealtimeScheduler</code></a>
</p>
<div class="informaltable">
<a name="realtimescheduler-ndbd-table"></a><table summary="This table provides type and value information for the
RealtimeScheduler data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>false</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Setting this parameter to 1 enables real-time scheduling of
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> threads.
          </p><p>
            This parameter is not intended or recommended for use with
            data nodes running <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>, and enabling
            it in such cases is known to have adverse effects.
          </p><p>
            The default is 0 (scheduling disabled).
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-schedulerexecutiontimer"></a>
            <a class="indexterm" name="idp110619872"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-schedulerexecutiontimer"><code class="literal">SchedulerExecutionTimer</code></a>
</p>
<div class="informaltable">
<a name="schedulerexecutiontimer-ndbd-table"></a><table summary="This table provides type and value information for the
SchedulerExecutionTimer data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>µsec</td><td>50</td><td>0 - 11000</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter specifies the time in microseconds for
            threads to be executed in the scheduler before being sent.
            Setting it to 0 minimizes the response time; to achieve
            higher throughput, you can increase the value at the expense
            of longer response times.
          </p><p>
            The default is 50 μsec, which our testing shows to
            increase throughput slightly in high-load cases without
            materially delaying requests.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-schedulerspintimer"></a>
            <a class="indexterm" name="idp110636288"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-schedulerspintimer"><code class="literal">SchedulerSpinTimer</code></a>
</p>
<div class="informaltable">
<a name="schedulerspintimer-ndbd-table"></a><table summary="This table provides type and value information for the
SchedulerSpinTimer data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>µsec</td><td>0</td><td>0 - 500</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter specifies the time in microseconds for
            threads to be executed in the scheduler before sleeping.
          </p><p>
            The default value is 0.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-buildindexthreads"></a>
            <a class="indexterm" name="idp110652208"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-buildindexthreads"><code class="literal">BuildIndexThreads</code></a>
</p>
<div class="informaltable">
<a name="buildindexthreads-ndbd-table"></a><table summary="This table provides type and value information for the
BuildIndexThreads data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>numeric</td><td>0</td><td>0 - 128</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            This parameter determines the number of threads to create
            when rebuilding indexes during a system or node start. It is
            supported only when there is more than one fragment for the
            table per data node (for example, when the
            <code class="literal">MAX_ROWS</code> option has been used with
            <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a>).
          </p><p>
            Setting this parameter to 0 (which is also the default
            value) disables multi-threaded building of ordered indexes.
            The maximum allowed value is 128.
          </p><p>
            This parameter is supported when using
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>.
          </p><p>
            You can enable multi-threaded builds during data node
            initial restarts by setting the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-twopassinitialnoderestartcopy"><code class="literal">TwoPassInitialNodeRestartCopy</code></a>
            data node configuration parameter to
            <code class="literal">TRUE</code>.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-twopassinitialnoderestartcopy"></a>
            <a class="indexterm" name="idp110674400"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-twopassinitialnoderestartcopy"><code class="literal">TwoPassInitialNodeRestartCopy</code></a>
</p>
<div class="informaltable">
<a name="twopassinitialnoderestartcopy-ndbd-table"></a><table summary="This table provides type and value information for the
      TwoPassInitialNodeRestartCopy data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>false</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Multi-threaded building of ordered indexes can be enabled
            for initial restarts of data nodes by setting this
            configuration parameter to <code class="literal">TRUE</code>, which
            enables two-pass copying of data during initial node
            restarts.
          </p><p>
            You must also set
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-buildindexthreads"><code class="literal">BuildIndexThreads</code></a> to
            a nonzero value.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-numa"></a>
            <a class="indexterm" name="idp110692160"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-numa"><code class="literal">Numa</code></a>
</p>
<div class="informaltable">
<a name="numa-ndbd-table"></a><table summary="This table provides type and value information for the
Numa data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>1</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> is extremely sensitive to
            Non-Uniform Memory Access settings and multi-CPU systems due
            to timeouts that it can cause. Due to this fact, and because
            most MySQL Cluster users do not employ
            <span class="command"><strong>numactl</strong></span>, support for NUMA is ignored by
            default by <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> when running on a Linux
            system. If your Linux system provides NUMA support and you
            wish for data node memory to be subject to NUMA control, you
            can set this parameter equal to 0.
          </p><p>
            The <a class="link" href="mysql-cluster.html#ndbparam-ndbd-numa"><code class="literal">Numa</code></a>
            configuration parameter is supported only on Linux systems
            where <code class="filename">libnuma.so</code> is installed.
</p></li></ul>
</div>
<p><a name="mysql-cluster-ndbd-definition-ndbmtd-parameters"></a><b>Multi-Threading Configuration Parameters (<span class="command"><strong>ndbmtd</strong></span>). </b>
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> runs by default as a single-threaded
          process and must be configured to use multiple threads, using
          either of two methods, both of which require setting
          configuration parameters in the
          <code class="filename">config.ini</code> file. The first method is
          simply to set an appropriate value for the
          <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-maxnoofexecutionthreads"><code class="literal">MaxNoOfExecutionThreads</code></a>
          configuration parameter. MySQL Cluster NDB 7.3 also supports a
          second method, whereby it is possible to set up more complex
          rules for <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> multi-threading using
          <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-threadconfig"><code class="literal">ThreadConfig</code></a>. The
          next few paragraphs provide information about these parameters
          and their use with multi-threaded data nodes.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbmtd-maxnoofexecutionthreads"></a>
            <a class="indexterm" name="idp110719696"></a>

            <a class="indexterm" name="idp110720784"></a>

            <a class="indexterm" name="idp110722272"></a>

            <a class="indexterm" name="idp110723760"></a>

            <code class="literal">MaxNoOfExecutionThreads</code>
</p>
<div class="informaltable">
<a name="maxnoofexecutionthreads-ndbmtd-table"></a><table summary="This table provides type and value information for the
      MaxNoOfExecutionThreads multi-threaded data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>integer</td><td>2</td><td>2 - 36</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter directly controls the number of execution
            threads used by <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>, up to a maximum
            of 36. Although this parameter is set in
            <code class="literal">[ndbd]</code> or <code class="literal">[ndbd
            default]</code> sections of the
            <code class="filename">config.ini</code> file, it is exclusive to
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> and does not apply to
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>.
          </p><p>
            Setting <code class="literal">MaxNoOfExecutionThreads</code> sets the
            number of threads by type as determined in the following
            table:
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col><col><col></colgroup><thead><tr><th scope="col"><code class="literal">MaxNoOfExecutionThreads</code> Value</th><th scope="col">LQH Threads</th><th scope="col">TC Threads</th><th scope="col">Send Threads</th><th scope="col">Receive Threads</th></tr></thead><tbody><tr><td scope="row">0 .. 3</td><td>1</td><td>1</td><td>0</td><td>1</td></tr><tr><td scope="row">4 .. 6</td><td>2</td><td>1</td><td>0</td><td>1</td></tr><tr><td scope="row">7 .. 8</td><td>4</td><td>1</td><td>0</td><td>1</td></tr><tr><td scope="row">9</td><td>4</td><td>2</td><td>0</td><td>1</td></tr><tr><td scope="row">10</td><td>4</td><td>2</td><td>1</td><td>1</td></tr><tr><td scope="row">11</td><td>4</td><td>3</td><td>1</td><td>1</td></tr><tr><td scope="row">12</td><td>4</td><td>3</td><td>1</td><td>2</td></tr><tr><td scope="row">13</td><td>4</td><td>3</td><td>2</td><td>2</td></tr><tr><td scope="row">14</td><td>4</td><td>4</td><td>2</td><td>2</td></tr><tr><td scope="row">15</td><td>4</td><td>5</td><td>2</td><td>2</td></tr><tr><td scope="row">16</td><td>8</td><td>3</td><td>1</td><td>2</td></tr><tr><td scope="row">17</td><td>8</td><td>4</td><td>1</td><td>2</td></tr><tr><td scope="row">18</td><td>8</td><td>4</td><td>2</td><td>2</td></tr><tr><td scope="row">19</td><td>8</td><td>5</td><td>2</td><td>2</td></tr><tr><td scope="row">20</td><td>8</td><td>5</td><td>2</td><td>3</td></tr><tr><td scope="row">21</td><td>8</td><td>5</td><td>3</td><td>3</td></tr><tr><td scope="row">22</td><td>8</td><td>6</td><td>3</td><td>3</td></tr><tr><td scope="row">23</td><td>8</td><td>7</td><td>3</td><td>3</td></tr><tr><td scope="row">24</td><td>12</td><td>5</td><td>2</td><td>3</td></tr><tr><td scope="row">25</td><td>12</td><td>6</td><td>2</td><td>3</td></tr><tr><td scope="row">26</td><td>12</td><td>6</td><td>3</td><td>3</td></tr><tr><td scope="row">27</td><td>12</td><td>7</td><td>3</td><td>3</td></tr><tr><td scope="row">28</td><td>12</td><td>7</td><td>3</td><td>4</td></tr><tr><td scope="row">29</td><td>12</td><td>8</td><td>3</td><td>4</td></tr><tr><td scope="row">30</td><td>12</td><td>8</td><td>4</td><td>4</td></tr><tr><td scope="row">31</td><td>12</td><td>9</td><td>4</td><td>4</td></tr><tr><td scope="row">32</td><td>16</td><td>8</td><td>3</td><td>3</td></tr><tr><td scope="row">33</td><td>16</td><td>8</td><td>3</td><td>4</td></tr><tr><td scope="row">34</td><td>16</td><td>8</td><td>4</td><td>4</td></tr><tr><td scope="row">35</td><td>16</td><td>9</td><td>4</td><td>4</td></tr><tr><td scope="row">36</td><td>16</td><td>10</td><td>4</td><td>4</td></tr></tbody></table>
</div>
<p>
            In MySQL Cluster NDB 7.3 and later, there is always one SUMA
            (replication) thread.
          </p><p>
            Note that the number of LQH threads must not exceed
            <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-nooffragmentlogparts"><code class="literal">NoOfFragmentLogParts</code></a>.
            If this parameter's value is the default (4), this
            means that you must increase it as well, when setting
            <code class="literal">MaxNoOfExecutionThreads</code> to 16 or greater;
            that is, you should set
            <code class="literal">NoOfFragmentLogParts</code> to the corresponding
            number of LQH threads value shown for that value of
            <code class="literal">MaxNoOfExecutionThreads</code> in the preceding
            table.
          </p><p>
            The thread types are described later in this section (see
            <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-threadconfig"><code class="literal">ThreadConfig</code></a>).
          </p><p>
            Setting this parameter outside the permitted range of values
            causes the management server to abort on startup with the
            error <span class="errortext">Error line
            <em class="replaceable"><code>number</code></em>: Illegal value
            <em class="replaceable"><code>value</code></em> for parameter
            MaxNoOfExecutionThreads</span>.
          </p><p>
            For <code class="literal">MaxNoOfExecutionThreads</code>, a value of 0
            or 1 is rounded up internally by
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> to 2, so that 2 is
            considered this parameter's default and minimum value.
          </p><p>
            <code class="literal">MaxNoOfExecutionThreads</code> is generally
            intended to be set equal to the number of CPU threads
            available, and to allocate a number of threads of each type
            suitable to typical workloads. It does not assign particular
            threads to specified CPUs. For cases where it is desirable
            to vary from the settings provided, or to bind threads to
            CPUs, you should use
            <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-threadconfig"><code class="literal">ThreadConfig</code></a>
            instead, which allows you to allocate each thread directly
            to a desired type, CPU, or both.
          </p><p>
            The multi-threaded data node process always spawns at least
            5 threads, listed here:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                1 local query handler (LQH) thread
              </p></li><li class="listitem"><p>
                1 transaction coordinator (TC) thread
              </p></li><li class="listitem"><p>
                1 send thread
              </p><p>
                (It is possible to keep any separate send threads from
                being employed, as explained elsewhere in this section.)
              </p></li><li class="listitem"><p>
                1 receive thread
              </p></li><li class="listitem"><p>
                1 subscription manager (SUMA or replication) thread
</p></li></ul>
</div>
</li><li class="listitem"><p><a name="ndbparam-ndbmtd-nooffragmentlogparts"></a>
            <a class="indexterm" name="idp110843360"></a>

            <a class="indexterm" name="idp110844432"></a>

            <code class="literal">NoOfFragmentLogParts</code>
</p>
<div class="informaltable">
<a name="nooffragmentlogparts-ndbmtd-table"></a><table summary="This table provides type and value information for the
      NoOfFragmentLogParts multi-threaded data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>numeric</td><td>4</td><td>4, 8, 12, 16</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IN</td></tr></tbody></table>
</div>
<p>
            Set the number of log file groups for redo logs belonging to
            this <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>. The value must be an even
            multiple of 4 between 4 and 16, inclusive.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbmtd-threadconfig"></a>
            <a class="indexterm" name="idp110861104"></a>

            <a class="indexterm" name="idp110862176"></a>

            <code class="literal">ThreadConfig</code>
</p>
<div class="informaltable">
<a name="threadconfig-ndbmtd-table"></a><table summary="This table provides type and value information for the
      ThreadConfig multi-threaded data node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>string</td><td>''</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is used with <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> to
            assign threads of different types to different CPUs. Its
            value is a string whose format has the following syntax:
          </p><pre class="programlisting">ThreadConfig := <em class="replaceable"><code>entry</code></em>[,<em class="replaceable"><code>entry</code></em>[,...]]

<em class="replaceable"><code>entry</code></em> := <em class="replaceable"><code>type</code></em>={<em class="replaceable"><code>param</code></em>[,<em class="replaceable"><code>param</code></em>[,...]]}

<em class="replaceable"><code>type</code></em> := ldm | main | recv | send | rep | io

<em class="replaceable"><code>param</code></em> := count=<em class="replaceable"><code>number</code></em> | cpubind=<em class="replaceable"><code>cpu_list</code></em>
</pre><p>
            The curly braces
            (<code class="literal">{</code>...<code class="literal">}</code>) surrounding
            the list of parameters is required, even if there is only
            one parameter in the list.
          </p><p>
            A <em class="replaceable"><code>param</code></em> (parameter) specifies the
            number of threads of the given type
            (<code class="literal">count</code>), the CPUs to which the threads of
            the given type are to be bound (<code class="literal">cpubind</code>),
            or both.
          </p><p>
            The <em class="replaceable"><code>type</code></em> attribute represents an
            NDB thread type. The thread types supported in MySQL Cluster
            NDB 7.3 and the range of permitted <code class="literal">count</code>
            values for each are provided in the following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">ldm</code>: Local query handler
                (<code class="literal">DBLQH</code> kernel block) that handles
                data. The more LDM threads that are used, the more
                highly partitioned the data becomes. Each LDM thread
                maintains its own sets of data and index partitions, as
                well as its own redo log. In MySQL Cluster NDB 7.3, the
                maximum is 16 such threads (in MySQL Cluster NDB 7.1,
                the maximum was 4).
              </p><p>
                Range: 1 - 16.
              </p></li><li class="listitem"><p>
                <code class="literal">tc</code>: Transaction coordinator thread
                (<code class="literal">DBTC</code> kernel block) containing the
                state of an ongoing transaction. In MySQL Cluster NDB
                7.3, the number of TC threads is configurable, with a
                total of 16 possible.
              </p><p>
                Optimally, every new transaction can be assigned to a
                new TC thread. In most cases 1 TC thread per 2 LDM
                threads is sufficient to guarantee that this can happen.
                In cases where the number of writes is relatively small
                when compared to the number of reads, it is possible
                that only 1 TC thread per 4 LQH threads is required to
                maintain transaction states. Conversely, in applications
                that perform a great many updates, it may be necessary
                for the ratio of TC threads to LDM threads to approach 1
                (for example, 3 TC threads to 4 LDM threads).
              </p><p>
                Range: 1 - 16.
              </p></li><li class="listitem"><p>
                <code class="literal">main</code>: Data dictionary and transaction
                coordinator (<code class="literal">DBDIH</code> and
                <code class="literal">DBTC</code> kernel blocks), providing schema
                management. This is always handled by a single dedicated
                thread.
              </p><p>
                Range: 1 only.
              </p></li><li class="listitem"><p>
                <code class="literal">recv</code>: Receive thread
                (<code class="literal">CMVMI</code> kernel block). Each receive
                thread handles one or more sockets for communicating
                with other nodes in a MySQL Cluster, with one socket per
                node. MySQL Cluster 7.3 implements multiple receive
                threads (up to 8).
              </p><p>
                Range: 1 - 8.
              </p></li><li class="listitem"><p>
                <code class="literal">send</code>: Send thread
                (<code class="literal">CMVMI</code> kernel block). To increase
                throughput, it is possible to perform sends from one or
                more separate, dedicated threads (maximum 8).
              </p><p>
                Previously, all threads handled their own sending
                directly; this can still be made to happen by setting
                the number of send threads to 0 (this also happens when
                <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-maxnoofexecutionthreads"><code class="literal">MaxNoOfExecutionThreads</code></a>
                is set equal to 9). While doing so can have an adeverse
                impact on throughput, it can also in some cases provide
                decreased latency.
              </p><p>
                Range: 0 - 8.
              </p></li><li class="listitem"><p>
                <code class="literal">rep</code>: Replication thread
                (<code class="literal">SUMA</code> kernel block). Asynchronous
                replication operations are always handled by a
                single.dedicated thread.
              </p><p>
                Range: 1 only.
              </p></li><li class="listitem"><p>
                <code class="literal">io</code>: File system and other
                miscellaneous operations. These are not demanding tasks,
                and are always handled as a group by a single, dedicated
                I/O thread.
              </p><p>
                Range: 1 only.
</p></li></ul>
</div>
</li></ul>
</div>
<p>
        Simple examples:
      </p><pre class="programlisting"># Example 1.

ThreadConfig=ldm={count=2,cpubind=1,2},main={cpubind=12},rep={cpubind=11}

# Example 2.

Threadconfig=main={cpubind=0},ldm={count=4,cpubind=1,2,5,6},io={cpubind=3}</pre><p>
        It is usually desirable when configuring thread usage for a data
        node host to reserve one or more number of CPUs for operating
        system and other tasks. Thus, for a host machine with 24 CPUs,
        you might want to use 20 CPU threads (leaving 4 for other uses),
        with 8 LDM threads, 4 TC threads (half the number of LDM
        threads), 3 send threads, 3 receive threads, and 1 thread each
        for schema management, asynchronous replication, and I/O
        operations. (This is almost the same distribution of threads
        used when
        <code class="literal">MaxNoOfExecutionThreads</code> is set
        equal to 20.) The following <code class="literal">ThreadConfig</code>
        setting performs these assignments, additionally binding all of
        these threads to specific CPUs:
      </p><pre class="programlisting">ThreadConfig=ldm{count=8,cpubind=1,2,3,4,5,6,7,8},main={cpubind=9},io={cpubind=9}, \
rep={cpubind=10},tc{count=4,cpubind=11,12,13,14},recv={count=3,cpubind=15,16,17}, \
send{count=3,cpubind=18,19,20}</pre><p>
        It should be possible in most cases to bind the main (schema
        management) thread and the I/O thread to the same CPU, as we
        have done in the example just shown.
      </p><p>
        In order to take advantage of the enhanced stability that the
        use of <code class="literal">ThreadConfig</code> offers, it is necessary
        to insure that CPUs are isolated, and that they not subject to
        interrupts, or to being scheduled for other tasks by the
        operating system. On many Linux systems, you can do this by
        setting <code class="literal">IRQBALANCE_BANNED_CPUS</code> in
        <code class="filename">/etc/sysconfig/irqbalance</code> to
        <code class="literal">0xFFFFF0</code>, and by using the
        <code class="literal">isolcpus</code> boot option in
        <code class="filename">grub.conf</code>. For specific information, see
        your operating system or platform documentation.
      </p><p><a name="mysql-cluster-ndbd-definition-disk-data-parameters"></a><b>Disk Data Configuration Parameters. </b>
          Configuration parameters affecting Disk Data behavior include
          the following:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-diskpagebuffermemory"></a>
            <a class="indexterm" name="idp110927408"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskpagebuffermemory"><code class="literal">DiskPageBufferMemory</code></a>
</p>
<div class="informaltable">
<a name="diskpagebuffermemory-ndbd-table"></a><table summary="This table provides type and value information for the
DiskPageBufferMemory data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>64M</td><td>4M - 1T</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This determines the amount of space used for caching pages
            on disk, and is set in the <code class="literal">[ndbd]</code> or
            <code class="literal">[ndbd default]</code> section of the
            <code class="filename">config.ini</code> file. It is measured in
            bytes. Each page takes up 32 KB. This means that Cluster
            Disk Data storage always uses <em class="replaceable"><code>N</code></em> *
            32 KB memory where <em class="replaceable"><code>N</code></em> is some
            nonnegative integer.
          </p><p>
            The default value for this parameter is
            <code class="literal">64M</code> (2000 pages of 32 KB each).
          </p><p>
            You can query the
            <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-diskpagebuffer" title="17.5.10.8. The ndbinfo diskpagebuffer Table"><code class="literal">ndbinfo.diskpagebuffer</code></a>
            table to help determine whether the value for this parameter
            should be increased to minimize unnecessary disk seeks. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo-diskpagebuffer" title="17.5.10.8. The ndbinfo diskpagebuffer Table">Section 17.5.10.8, “The <code class="literal">ndbinfo diskpagebuffer</code> Table”</a>, for
            more information.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-sharedglobalmemory"></a>
            <a class="indexterm" name="idp110949264"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-sharedglobalmemory"><code class="literal">SharedGlobalMemory</code></a>
</p>
<div class="informaltable">
<a name="sharedglobalmemory-ndbd-table"></a><table summary="This table provides type and value information for the
SharedGlobalMemory data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>128M</td><td>0 - 64T</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter determines the amount of memory that is used
            for log buffers, disk operations (such as page requests and
            wait queues), and metadata for tablespaces, log file groups,
            <code class="literal">UNDO</code> files, and data files. The shared
            global memory pool also provides memory used for satisfying
            the memory requirements of the
            <code class="literal">INITIAL_SIZE</code> and
            <code class="literal">UNDO_BUFFER_SIZE</code> options used with
            <a class="link" href="sql-syntax.html#create-logfile-group" title="13.1.14. CREATE LOGFILE GROUP Syntax"><code class="literal">CREATE LOGFILE GROUP</code></a> and
            <a class="link" href="sql-syntax.html#alter-logfile-group" title="13.1.3. ALTER LOGFILE GROUP Syntax"><code class="literal">ALTER LOGFILE GROUP</code></a>
            statements, including any default value implied for these
            options by the setting of the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-initiallogfilegroup"><code class="literal">InitialLogFileGroup</code></a>
            data node configuration parameter.
            <code class="literal">SharedGlobalMemory</code> can be set in the
            <code class="literal">[ndbd]</code> or <code class="literal">[ndbd
            default]</code> section of the
            <code class="filename">config.ini</code> configuration file, and is
            measured in bytes.
          </p><p>
            The default value is <code class="literal">128M</code>.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-diskiothreadpool"></a>
            <a class="indexterm" name="idp110974016"></a>

            <a class="indexterm" name="idp110975088"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskiothreadpool"><code class="literal">DiskIOThreadPool</code></a>
</p>
<div class="informaltable">
<a name="diskiothreadpool-ndbd-table"></a><table summary="This table provides type and value information for the
DiskIOThreadPool data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>threads</td><td>2</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter determines the number of unbound threads used
            for Disk Data file access. Before
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskiothreadpool"><code class="literal">DiskIOThreadPool</code></a> was
            introduced, exactly one thread was spawned for each Disk
            Data file, which could lead to performance issues,
            particularly when using very large data files. With
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskiothreadpool"><code class="literal">DiskIOThreadPool</code></a>,
            you can—for example—access a single large data
            file using several threads working in parallel.
          </p><p>
            Currently, this parameter applies to Disk Data I/O threads
            only, but we plan in the future to make the number of such
            threads configurable for in-memory data as well.
          </p><p>
            The optimum value for this parameter depends on your
            hardware and configuration, and includes these factors:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b>Physical distribution of Disk Data files. </b>
                  You can obtain better performance by placing data
                  files, undo log files, and the data node file system
                  on separate physical disks. If you do this with some
                  or all of these sets of files, then you can set
                  <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskiothreadpool"><code class="literal">DiskIOThreadPool</code></a>
                  higher to enable separate threads to handle the files
                  on each disk.
                </p></li><li class="listitem"><p><b>Disk performance and types. </b>
                  The number of threads that can be accommodated for
                  Disk Data file handling is also dependent on the speed
                  and throughput of the disks. Faster disks and higher
                  throughput allow for more disk I/O threads. Our test
                  results indicate that solid-state disk drives can
                  handle many more disk I/O threads than conventional
                  disks, and thus higher values for
                  <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskiothreadpool"><code class="literal">DiskIOThreadPool</code></a>.
</p></li></ul>
</div>
<p>
            The default value for this parameter is 2.
          </p></li><li class="listitem"><p><a name="mysql-cluster-ndbd-disk-data-filesystem-parameters"></a><b>Disk Data file system parameters. </b>
              The parameters in the following list make it possible to
              place MySQL Cluster Disk Data files in specific
              directories without the need for using symbolic links.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><a name="ndbparam-ndbd-filesystempathdd"></a>
                <a class="indexterm" name="idp111003216"></a>

                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd"><code class="literal">FileSystemPathDD</code></a>
</p>
<div class="informaltable">
<a name="filesystempathdd-ndbd-table"></a><table summary="This table provides type and value information for the
FileSystemPathDD data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>filename</td><td>[see text]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IN</td></tr></tbody></table>
</div>
<p>
                If this parameter is specified, then MySQL Cluster Disk
                Data data files and undo log files are placed in the
                indicated directory. This can be overridden for data
                files, undo log files, or both, by specifying values for
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdatafiles"><code class="literal">FileSystemPathDataFiles</code></a>,
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathundofiles"><code class="literal">FileSystemPathUndoFiles</code></a>,
                or both, as explained for these parameters. It can also
                be overridden for data files by specifying a path in the
                <code class="literal">ADD DATAFILE</code> clause of a
                <a class="link" href="sql-syntax.html#create-tablespace" title="13.1.18. CREATE TABLESPACE Syntax"><code class="literal">CREATE TABLESPACE</code></a> or
                <a class="link" href="sql-syntax.html#alter-tablespace" title="13.1.8. ALTER TABLESPACE Syntax"><code class="literal">ALTER TABLESPACE</code></a>
                statement, and for undo log files by specifying a path
                in the <code class="literal">ADD UNDOFILE</code> clause of a
                <a class="link" href="sql-syntax.html#create-logfile-group" title="13.1.14. CREATE LOGFILE GROUP Syntax"><code class="literal">CREATE LOGFILE GROUP</code></a> or
                <a class="link" href="sql-syntax.html#alter-logfile-group" title="13.1.3. ALTER LOGFILE GROUP Syntax"><code class="literal">ALTER LOGFILE GROUP</code></a>
                statement. If
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd"><code class="literal">FileSystemPathDD</code></a>
                is not specified, then
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempath"><code class="literal">FileSystemPath</code></a>
                is used.
              </p><p>
                If a
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd"><code class="literal">FileSystemPathDD</code></a>
                directory is specified for a given data node (including
                the case where the parameter is specified in the
                <code class="literal">[ndbd default]</code> section of the
                <code class="filename">config.ini</code> file), then starting
                that data node with <code class="option">--initial</code> causes
                all files in the directory to be deleted.
              </p></li><li class="listitem"><p><a name="ndbparam-ndbd-filesystempathdatafiles"></a>
                <a class="indexterm" name="idp111030960"></a>

                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdatafiles"><code class="literal">FileSystemPathDataFiles</code></a>
</p>
<div class="informaltable">
<a name="filesystempathdatafiles-ndbd-table"></a><table summary="This table provides type and value information for the
FileSystemPathDataFiles data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>filename</td><td>[see text]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IN</td></tr></tbody></table>
</div>
<p>
                If this parameter is specified, then MySQL Cluster Disk
                Data data files are placed in the indicated directory.
                This overrides any value set for
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd"><code class="literal">FileSystemPathDD</code></a>.
                This parameter can be overridden for a given data file
                by specifying a path in the <code class="literal">ADD
                DATAFILE</code> clause of a
                <a class="link" href="sql-syntax.html#create-tablespace" title="13.1.18. CREATE TABLESPACE Syntax"><code class="literal">CREATE TABLESPACE</code></a> or
                <a class="link" href="sql-syntax.html#alter-tablespace" title="13.1.8. ALTER TABLESPACE Syntax"><code class="literal">ALTER TABLESPACE</code></a>
                statement used to create that data file. If
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdatafiles"><code class="literal">FileSystemPathDataFiles</code></a>
                is not specified, then
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd"><code class="literal">FileSystemPathDD</code></a>
                is used (or
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempath"><code class="literal">FileSystemPath</code></a>,
                if
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd"><code class="literal">FileSystemPathDD</code></a>
                has also not been set).
              </p><p>
                If a
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdatafiles"><code class="literal">FileSystemPathDataFiles</code></a>
                directory is specified for a given data node (including
                the case where the parameter is specified in the
                <code class="literal">[ndbd default]</code> section of the
                <code class="filename">config.ini</code> file), then starting
                that data node with <code class="option">--initial</code> causes
                all files in the directory to be deleted.
              </p></li><li class="listitem"><p><a name="ndbparam-ndbd-filesystempathundofiles"></a>
                <a class="indexterm" name="idp111057008"></a>

                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathundofiles"><code class="literal">FileSystemPathUndoFiles</code></a>
</p>
<div class="informaltable">
<a name="filesystempathundofiles-ndbd-table"></a><table summary="This table provides type and value information for the
FileSystemPathUndoFiles data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>filename</td><td>[see text]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IN</td></tr></tbody></table>
</div>
<p>
                If this parameter is specified, then MySQL Cluster Disk
                Data undo log files are placed in the indicated
                directory. This overrides any value set for
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd"><code class="literal">FileSystemPathDD</code></a>.
                This parameter can be overridden for a given data file
                by specifying a path in the <code class="literal">ADD UNDO</code>
                clause of a <a class="link" href="sql-syntax.html#create-logfile-group" title="13.1.14. CREATE LOGFILE GROUP Syntax"><code class="literal">CREATE LOGFILE
                GROUP</code></a> or <a class="link" href="sql-syntax.html#create-logfile-group" title="13.1.14. CREATE LOGFILE GROUP Syntax"><code class="literal">CREATE LOGFILE
                GROUP</code></a> statement used to create that data file.
                If
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathundofiles"><code class="literal">FileSystemPathUndoFiles</code></a>
                is not specified, then
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd"><code class="literal">FileSystemPathDD</code></a>
                is used (or
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempath"><code class="literal">FileSystemPath</code></a>,
                if
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd"><code class="literal">FileSystemPathDD</code></a>
                has also not been set).
              </p><p>
                If a
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathundofiles"><code class="literal">FileSystemPathUndoFiles</code></a>
                directory is specified for a given data node (including
                the case where the parameter is specified in the
                <code class="literal">[ndbd default]</code> section of the
                <code class="filename">config.ini</code> file), then starting
                that data node with <code class="option">--initial</code> causes
                all files in the directory to be deleted.
</p></li></ul>
</div>
<p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data-objects" title="17.5.12.1. MySQL Cluster Disk Data Objects">Section 17.5.12.1, “MySQL Cluster Disk Data Objects”</a>.
          </p></li><li class="listitem"><p><a name="mysql-cluster-ndbd-disk-data-object-creation-parameters"></a><b>Disk Data object creation parameters. </b>
              The next two parameters enable you—when starting the
              cluster for the first time—to cause a Disk Data log
              file group, tablespace, or both, to be created without the
              use of SQL statements.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><a name="ndbparam-ndbd-initiallogfilegroup"></a>
                <a class="indexterm" name="idp111086912"></a>

                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-initiallogfilegroup"><code class="literal">InitialLogFileGroup</code></a>
</p>
<div class="informaltable">
<a name="initiallogfilegroup-ndbd-table"></a><table summary="This table provides type and value information for the
InitialLogFileGroup data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>string</td><td>[see text]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
                This parameter can be used to specify a log file group
                that is created when performing an initial start of the
                cluster.
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-initiallogfilegroup"><code class="literal">InitialLogFileGroup</code></a>
                is specified as shown here:
              </p><pre class="programlisting">InitialLogFileGroup = [name=<em class="replaceable"><code>name</code></em>;] [undo_buffer_size=<em class="replaceable"><code>size</code></em>;] <em class="replaceable"><code>file-specification-list</code></em>

<em class="replaceable"><code>file-specification-list</code></em>:
    <em class="replaceable"><code>file-specification</code></em>[; <em class="replaceable"><code>file-specification</code></em>[; ...]]

<em class="replaceable"><code>file-specification</code></em>:
    <em class="replaceable"><code>filename</code></em>:<em class="replaceable"><code>size</code></em>
</pre><p>
                The <code class="literal">name</code> of the log file group is
                optional and defaults to <code class="literal">DEFAULT-LG</code>.
                The <code class="literal">undo_buffer_size</code> is also
                optional; if omitted, it defaults to
                <code class="literal">64M</code>. Each
                <em class="replaceable"><code>file-specification</code></em>
                corresponds to an undo log file, and at least one must
                be specified in the
                <em class="replaceable"><code>file-specification-list</code></em>. Undo
                log files are placed according to any values that have
                been set for
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempath"><code class="literal">FileSystemPath</code></a>,
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd"><code class="literal">FileSystemPathDD</code></a>,
                and
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathundofiles"><code class="literal">FileSystemPathUndoFiles</code></a>,
                just as if they had been created as the result of a
                <a class="link" href="sql-syntax.html#create-logfile-group" title="13.1.14. CREATE LOGFILE GROUP Syntax"><code class="literal">CREATE LOGFILE GROUP</code></a> or
                <a class="link" href="sql-syntax.html#alter-logfile-group" title="13.1.3. ALTER LOGFILE GROUP Syntax"><code class="literal">ALTER LOGFILE GROUP</code></a>
                statement.
              </p><p>
                Consider the following:
              </p><pre class="programlisting">InitialLogFileGroup = name=LG1; undo_buffer_size=128M; undo1.log:250M; undo2.log:150M</pre><p>
                This is equivalent to the following SQL statements:
              </p><pre class="programlisting">CREATE LOGFILE GROUP LG1
    ADD UNDOFILE 'undo1.log'
    INITIAL_SIZE 250M
    UNDO_BUFFER_SIZE 128M
    ENGINE NDBCLUSTER;

ALTER LOGFILE GROUP LG1
    ADD UNDOFILE 'undo2.log'
    INITIAL_SIZE 150M
    ENGINE NDBCLUSTER;</pre><p>
                This logfile group is created when the data nodes are
                started with <code class="option">--initial</code>.
              </p><p>
                Resources for the initial log file group are taken from
                the global memory pool whose size is determined by the
                value of the
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-sharedglobalmemory"><code class="literal">SharedGlobalMemory</code></a>
                data node configuration parameter; if this parameter is
                set too low and the values set in
                <code class="literal">InitialLogFileGroup</code> for the logfile
                group's initial size or undo buffer size are too
                high, the cluster may fail to create the default log
                file group when starting, or fail to start altogether.
              </p><p>
                This parameter, if used, should always be set in the
                <code class="literal">[ndbd default]</code> section of the
                <code class="filename">config.ini</code> file. The behavior of a
                MySQL Cluster when different values are set on different
                data nodes is not defined.
              </p></li><li class="listitem"><p><a name="ndbparam-ndbd-initialtablespace"></a>
                <a class="indexterm" name="idp111124992"></a>

                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-initialtablespace"><code class="literal">InitialTablespace</code></a>
</p>
<div class="informaltable">
<a name="initialtablespace-ndbd-table"></a><table summary="This table provides type and value information for the
InitialTablespace data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>string</td><td>[see text]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
                This parameter can be used to specify a MySQL Cluster
                Disk Data tablespace that is created when performing an
                initial start of the cluster.
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-initialtablespace"><code class="literal">InitialTablespace</code></a>
                is specified as shown here:
              </p><pre class="programlisting">InitialTablespace = [name=<em class="replaceable"><code>name</code></em>;] [extent_size=<em class="replaceable"><code>size</code></em>;] <em class="replaceable"><code>file-specification-list</code></em>
</pre><p>
                The <code class="literal">name</code> of the tablespace is
                optional and defaults to <code class="literal">DEFAULT-TS</code>.
                The <code class="literal">extent_size</code> is also optional; it
                defaults to <code class="literal">1M</code>. The
                <em class="replaceable"><code>file-specification-list</code></em> uses
                the same syntax as shown with the
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-initiallogfilegroup"><code class="literal">InitialLogfileGroup</code></a>
                parameter, the only difference being that each
                <em class="replaceable"><code>file-specification</code></em> used with
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-initialtablespace"><code class="literal">InitialTablespace</code></a>
                corresponds to a data file. At least one must be
                specified in the
                <em class="replaceable"><code>file-specification-list</code></em>. Data
                files are placed according to any values that have been
                set for
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempath"><code class="literal">FileSystemPath</code></a>,
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd"><code class="literal">FileSystemPathDD</code></a>,
                and
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdatafiles"><code class="literal">FileSystemPathDataFiles</code></a>,
                just as if they had been created as the result of a
                <a class="link" href="sql-syntax.html#create-tablespace" title="13.1.18. CREATE TABLESPACE Syntax"><code class="literal">CREATE TABLESPACE</code></a> or
                <a class="link" href="sql-syntax.html#alter-tablespace" title="13.1.8. ALTER TABLESPACE Syntax"><code class="literal">ALTER TABLESPACE</code></a>
                statement.
              </p><p>
                For example, consider the following line specifying
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-initialtablespace"><code class="literal">InitialTablespace</code></a>
                in the <code class="literal">[ndbd default]</code> section of the
                <code class="filename">config.ini</code> file (as with
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-initiallogfilegroup"><code class="literal">InitialLogfileGroup</code></a>,
                this parameter should always be set in the
                <code class="literal">[ndbd default]</code> section, as the
                behavior of a MySQL Cluster when different values are
                set on different data nodes is not defined):
              </p><pre class="programlisting">InitialTablespace = name=TS1; extent_size=8M; data1.dat:2G; data2.dat:4G</pre><p>
                This is equivalent to the following SQL statements:
              </p><pre class="programlisting">CREATE TABLESPACE TS1
    ADD DATAFILE 'data1.dat'
    EXTENT_SIZE 8M
    INITIAL_SIZE 2G
    ENGINE NDBCLUSTER;

ALTER TABLESPACE TS1
    ADD UNDOFILE 'data2.dat'
    INITIAL_SIZE 4G
    ENGINE NDBCLUSTER;</pre><p>
                This tablespace is created when the data nodes are
                started with <code class="option">--initial</code>, and can be used
                whenever creating MySQL Cluster Disk Data tables
                thereafter.
</p></li></ul>
</div>
</li></ul>
</div>
<p><a name="mysql-cluster-ndbd-definition-gcp-stop-errors"></a><b>Disk Data and <span class="errortext">GCP Stop</span> errors. </b>
          <a class="indexterm" name="idp111163632"></a>

          <a class="indexterm" name="idp111165120"></a>

          Errors encountered when using Disk Data tables such as
          <span class="errortext">Node <em class="replaceable"><code>nodeid</code></em> killed this
          node because GCP stop was detected</span> (error 2303)
          are often referred to as <span class="quote">“<span class="quote">GCP stop errors</span>”</span>. Such
          errors occur when the redo log is not flushed to disk quickly
          enough; this is usually due to slow disks and insufficient
          disk throughput.
        </p><p>
        You can help prevent these errors from occurring by using faster
        disks, and by placing Disk Data files on a separate disk from
        the data node file system. Reducing the value of
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenglobalcheckpoints"><code class="literal">TimeBetweenGlobalCheckpoints</code></a>
        tends to decrease the amount of data to be written for each
        global checkpoint, and so may provide some protection against
        redo log buffer overflows when trying to write a global
        checkpoint; however, reducing this value also permits less time
        in which to write the GCP, so this must be done with caution.
      </p><a class="indexterm" name="idp111169984"></a><a class="indexterm" name="idp111171056"></a><a class="indexterm" name="idp111172128"></a><p>
        In addition to the considerations given for
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskpagebuffermemory"><code class="literal">DiskPageBufferMemory</code></a> as
        explained previously, it is also very important that the
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskiothreadpool"><code class="literal">DiskIOThreadPool</code></a>
        configuration parameter be set correctly; having
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskiothreadpool"><code class="literal">DiskIOThreadPool</code></a> set too
        high is very likely to cause GCP stop errors (Bug #37227).
      </p><p>
        GCP stops can be caused by save or commit timeouts; the
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochstimeout"><code class="literal">TimeBetweenEpochsTimeout</code></a>
        data node configuration parameter determines the timeout for
        commits. However, it is possible to disable both types of
        timeouts by setting this parameter to 0.
      </p><p><b>Parameters for configuring send buffer memory allocation. </b>
          Send buffer memory is allocated dynamically from a memory pool
          shared between all transporters, which means that the size of
          the send buffer can be adjusted as necessary. (Previously, the
          NDB kernel used a fixed-size send buffer for every node in the
          cluster, which was allocated when the node started and could
          not be changed while the node was running.) The
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-totalsendbuffermemory"><code class="literal">TotalSendBufferMemory</code></a>
          and <a class="link" href="mysql-cluster.html#ndbparam-tcp-overloadlimit"><code class="literal">OverLoadLimit</code></a> data
          node configuration parameters permit the setting of limits on
          this memory allocation. For more information about the use of
          these parameters (as well as
          <a class="link" href="mysql-cluster.html#ndbparam-tcp-sendbuffermemory"><code class="literal">SendBufferMemory</code></a>), see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="17.3.2.12. Configuring MySQL Cluster Send Buffer Parameters">Section 17.3.2.12, “Configuring MySQL Cluster Send Buffer Parameters”</a>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-extrasendbuffermemory"></a>
            <a class="indexterm" name="idp111184064"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-extrasendbuffermemory"><code class="literal">ExtraSendBufferMemory</code></a>
          </p><p>
            This parameter specifies the amount of transporter send
            buffer memory to allocate in addition to any set using
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-totalsendbuffermemory"><code class="literal">TotalSendBufferMemory</code></a>,
            <a class="link" href="mysql-cluster.html#ndbparam-tcp-sendbuffermemory"><code class="literal">SendBufferMemory</code></a>, or
            both.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-totalsendbuffermemory"></a>
            <a class="indexterm" name="idp111189728"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-totalsendbuffermemory"><code class="literal">TotalSendBufferMemory</code></a>
          </p><p>
            This parameter is available beginning with MySQL Cluster NDB
            6.4.0. It is used to determine the total amount of memory to
            allocate on this node for shared send buffer memory among
            all configured transporters.
          </p><p>
            If this parameter is set, its minimum permitted value is
            256KB; the maxmimum is 4294967039.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-reservedsendbuffermemory"></a>
            <a class="indexterm" name="idp111194304"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-reservedsendbuffermemory"><code class="literal">ReservedSendBufferMemory</code></a>
          </p><p>
            This parameter is present in
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> source code
            beginning with MySQL Cluster NDB 6.4.0. However, it is not
            currently enabled.
          </p><p>
            This parameter was deprecated in MySQL Cluster NDB 7.2, and
            is subject to removal in a future release of MySQL Cluster
            (Bug #11760629, Bug #53053).
</p></li></ul>
</div>
<p>
        For more detailed information about the behavior and use of
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-totalsendbuffermemory"><code class="literal">TotalSendBufferMemory</code></a>



        and about configuring send buffer memory parameters in MySQL
        Cluster, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="17.3.2.12. Configuring MySQL Cluster Send Buffer Parameters">Section 17.3.2.12, “Configuring MySQL Cluster Send Buffer Parameters”</a>.
      </p><p>
        See also <a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="17.5.13. Adding MySQL Cluster Data Nodes Online">Section 17.5.13, “Adding MySQL Cluster Data Nodes Online”</a>.
      </p><p><a name="mysql-cluster-redo-over-commit-handling"></a><b>Redo log over-commit handling. </b>
          It is possible to control a data node's handling of
          operations when too much time is taken flushing redo logs to
          disk. This occurs when a given redo log flush takes longer
          than
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitlimit"><code class="literal">RedoOverCommitLimit</code></a>
          seconds, more than
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitcounter"><code class="literal">RedoOverCommitCounter</code></a>
          times, causing any pending transactions to be aborted. When
          this happens, the API node that sent the transaction can
          handle the operations that should have been committed either
          by queuing the operations and re-trying them, or by aborting
          them, as determined by
          <a class="link" href="mysql-cluster.html#ndbparam-api-defaultoperationredoproblemaction"><code class="literal">DefaultOperationRedoProblemAction</code></a>.
          The data node configuration parameters for setting the timeout
          and number of times it may be exceeded before the API node
          takes this action are described in the following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-ndbd-redoovercommitcounter"></a>
            <a class="indexterm" name="idp111207568"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitcounter"><code class="literal">RedoOverCommitCounter</code></a>
</p>
<div class="informaltable">
<a name="redoovercommitcounter-ndbd-table"></a><table summary="This table provides type and value information for the
RedoOverCommitCounter data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>numeric</td><td>3</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            When
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitlimit"><code class="literal">RedoOverCommitLimit</code></a>
            is exceeded when trying to write a given redo log to disk
            this many times or more, any transactions that were not
            committed as a result are aborted, and an API node where any
            of these transactions originated handles the operations
            making up those transactions according to its value for
            <a class="link" href="mysql-cluster.html#ndbparam-api-defaultoperationredoproblemaction"><code class="literal">DefaultOperationRedoProblemAction</code></a>
            (by either queuing the operations to be re-tried, or
            aborting them).
          </p><p>
            <code class="literal">RedoOverCommitCounter</code> defaults to 3. Set
            it to 0 to disable the limit.
          </p></li><li class="listitem"><p><a name="ndbparam-ndbd-redoovercommitlimit"></a>
            <a class="indexterm" name="idp111226720"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitlimit"><code class="literal">RedoOverCommitLimit</code></a>
</p>
<div class="informaltable">
<a name="redoovercommitlimit-ndbd-table"></a><table summary="This table provides type and value information for the
RedoOverCommitLimit data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>seconds</td><td>20</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter sets an upper limit in seconds for trying to
            write a given redo log to disk before timing out. The number
            of times the data node tries to flush this redo log, but
            takes longer than <code class="literal">RedoOverCommitLimit</code>, is
            kept and compared with
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitcounter"><code class="literal">RedoOverCommitCounter</code></a>,
            and when flushing takes too long more times than the value
            of that parameter, any transactions that were not committed
            as a result of the flush timeout are aborted. When this
            occurs, the API node where any of these transactions
            originated handles the operations making up those
            transactions according to its
            <a class="link" href="mysql-cluster.html#ndbparam-api-defaultoperationredoproblemaction"><code class="literal">DefaultOperationRedoProblemAction</code></a>
            setting (it either queues the operations to be re-tried, or
            aborts them).
          </p><p>
            By default, <code class="literal">RedoOverCommitLimit</code> is 20
            seconds. Set to 0 to disable checking for redo log flush
            timeouts. This parameter was added in MySQL Cluster NDB
            7.1.10.
</p></li></ul>
</div>
<p><b>Controlling restart attempts. </b>
          It is possible to exercise finely-grained control over restart
          attempts by data nodes when they fail to start using the
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxstartfailretries"><code class="literal">MaxStartFailRetries</code></a>
          and
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startfailretrydelay"><code class="literal">StartFailRetryDelay</code></a>
          data node configuration parameters.
        </p><p>
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxstartfailretries"><code class="literal">MaxStartFailRetries</code></a>
        limits the total number of retries made before giving up on
        starting the data node,
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startfailretrydelay"><code class="literal">StartFailRetryDelay</code></a> sets
        the number of seconds between retry attempts. These parameters
        are described in more detail in the next few paragraphs.
      </p><p><a name="ndbparam-ndbd-startfailretrydelay"></a>
        <a class="indexterm" name="idp111252352"></a>

        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startfailretrydelay"><code class="literal">StartFailRetryDelay</code></a>
</p>
<div class="informaltable">
<a name="startfailretrydelay-ndbd-table"></a><table summary="This table provides type and value information for the
StartFailRetryDelay data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>0</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
        Use this parameter to set the number of seconds between restart
        attempts by the data node in the event on failure on startup.
        The default is 0 (no delay).
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          This parameter is ignored unless
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-stoponerror"><code class="literal">StopOnError</code></a> is equal
          to 0.
</p>
</div>
<p><a name="ndbparam-ndbd-maxstartfailretries"></a>
        <a class="indexterm" name="idp111269200"></a>

        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxstartfailretries"><code class="literal">MaxStartFailRetries</code></a>
</p>
<div class="informaltable">
<a name="maxstartfailretries-ndbd-table"></a><table summary="This table provides type and value information for the
MaxStartFailRetries data node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>3</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
        Use this parameter to limit the number restart attempts made by
        the data node in the event that it fails on startup. The default
        is 3 attempts.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          This parameter is ignored unless
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-stoponerror"><code class="literal">StopOnError</code></a> is equal
          to 0.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-api-definition"></a>17.3.2.7. Defining SQL and Other API Nodes in a MySQL Cluster</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp111286608"></a><a class="indexterm" name="idp111288096"></a><a class="indexterm" name="idp111289584"></a><p>
        The <code class="literal">[mysqld]</code> and <code class="literal">[api]</code>
        sections in the <code class="filename">config.ini</code> file define the
        behavior of the MySQL servers (SQL nodes) and other applications
        (API nodes) used to access cluster data. None of the parameters
        shown is required. If no computer or host name is provided, any
        host can use this SQL or API node.
      </p><p>
        Generally speaking, a <code class="literal">[mysqld]</code> section is
        used to indicate a MySQL server providing an SQL interface to
        the cluster, and an <code class="literal">[api]</code> section is used for
        applications other than <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> processes
        accessing cluster data, but the two designations are actually
        synonymous; you can, for instance, list parameters for a MySQL
        server acting as an SQL node in an <code class="literal">[api]</code>
        section.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          For a discussion of MySQL server options for MySQL Cluster,
          see <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-mysqld" title="17.3.4.2. MySQL Server Options for MySQL Cluster">Section 17.3.4.2, “MySQL Server Options for MySQL Cluster”</a>;
          for information about MySQL server system variables relating
          to MySQL Cluster, see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-system-variables" title="17.3.4.3. MySQL Cluster System Variables">Section 17.3.4.3, “MySQL Cluster System Variables”</a>.
</p>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-api-id"></a>
            <a class="indexterm" name="idp111300848"></a>

            <code class="literal">Id</code>
</p>
<div class="informaltable">
<a name="id-api-table"></a><table summary="This table provides type and value information for the Id
API node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>[none]</td><td>1 - 255</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IS</td></tr></tbody></table>
</div>
<p>
            The <code class="literal">Id</code> is an integer value used to
            identify the node in all cluster internal messages. The
            permitted range of values is 1 to 255 inclusive. This value
            must be unique for each node in the cluster, regardless of
            the type of node.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              Data node IDs must be less than 49, regardless of the
              MySQL Cluster version used. If you plan to deploy a large
              number of data nodes, it is a good idea to limit the node
              IDs for API nodes (and management nodes) to values greater
              than 48.
</p>
</div>
<p>
            <a class="link" href="mysql-cluster.html#ndbparam-api-nodeid"><code class="literal">NodeId</code></a> is the
            preferred parameter name to use when identifying API nodes.
            (<code class="literal">Id</code> continues to be supported for
            backward compatibility, but is now deprecated and generates
            a warning when used. It is also subject to future removal.)
          </p></li><li class="listitem"><p><a name="ndbparam-api-nodeid"></a>
            <a class="indexterm" name="idp111320208"></a>

            <code class="literal">NodeId</code>
</p>
<div class="informaltable">
<a name="nodeid-api-table"></a><table summary="This table provides type and value information for the
NodeId API node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>[none]</td><td>1 - 255</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> IS</td></tr></tbody></table>
</div>
<p>
            The <code class="literal">NodeId</code> is an integer value used to
            identify the node in all cluster internal messages. The
            permitted range of values is 1 to 255 inclusive. This value
            must be unique for each node in the cluster, regardless of
            the type of node.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              Data node IDs must be less than 49, regardless of the
              MySQL Cluster version used. If you plan to deploy a large
              number of data nodes, it is a good idea to limit the node
              IDs for API nodes (and management nodes) to values greater
              than 48.
</p>
</div>
<p>
            <a class="link" href="mysql-cluster.html#ndbparam-api-nodeid"><code class="literal">NodeId</code></a> is the
            preferred parameter name to use when identifying management
            nodes. An alias, <code class="literal">Id</code>, was used for this
            purpose in very old versions of MySQL Cluster, and continues
            to be supported for backward compatibility; it is now
            deprecated and generates a warning when used, and is subject
            to removal in a future release of MySQL Cluster.
          </p></li><li class="listitem"><p><a name="ndbparam-api-executeoncomputer"></a>
            <a class="indexterm" name="idp111339808"></a>

            <code class="literal">ExecuteOnComputer</code>
</p>
<div class="informaltable">
<a name="executeoncomputer-api-table"></a><table summary="This table provides type and value information for the
ExecuteOnComputer API node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            This refers to the <code class="literal">Id</code> set for one of the
            computers (hosts) defined in a <code class="literal">[computer]</code>
            section of the configuration file.
          </p></li><li class="listitem"><p><a name="ndbparam-api-hostname"></a>
            <a class="indexterm" name="idp111356512"></a>

            <code class="literal">HostName</code>
</p>
<div class="informaltable">
<a name="hostname-api-table"></a><table summary="This table provides type and value information for the
HostName API node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name or IP address</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            Specifying this parameter defines the hostname of the
            computer on which the SQL node (API node) is to reside. To
            specify a hostname, either this parameter or
            <code class="literal">ExecuteOnComputer</code> is required.
          </p><p>
            If no <code class="literal">HostName</code> or
            <code class="literal">ExecuteOnComputer</code> is specified in a given
            <code class="literal">[mysql]</code> or <code class="literal">[api]</code>
            section of the <code class="filename">config.ini</code> file, then an
            SQL or API node may connect using the corresponding
            <span class="quote">“<span class="quote">slot</span>”</span> from any host which can establish a
            network connection to the management server host machine.
            <span class="emphasis"><em>This differs from the default behavior for data
            nodes, where <code class="literal">localhost</code> is assumed for
            <code class="literal">HostName</code> unless otherwise
            specified</em></span>.
          </p></li><li class="listitem"><p><a name="ndbparam-api-arbitrationrank"></a>
            <a class="indexterm" name="idp111379264"></a>

            <code class="literal">ArbitrationRank</code>
</p>
<div class="informaltable">
<a name="arbitrationrank-api-table"></a><table summary="This table provides type and value information for the
ArbitrationRank API node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>0-2</td><td>0</td><td>0 - 2</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter defines which nodes can act as arbitrators.
            Both management nodes and SQL nodes can be arbitrators. A
            value of 0 means that the given node is never used as an
            arbitrator, a value of 1 gives the node high priority as an
            arbitrator, and a value of 2 gives it low priority. A normal
            configuration uses the management server as arbitrator,
            setting its <code class="literal">ArbitrationRank</code> to 1 (the
            default for management nodes) and those for all SQL nodes to
            0 (the default for SQL nodes).
          </p><p>
            By setting <code class="literal">ArbitrationRank</code> to 0 on all
            management and SQL nodes, you can disable arbitration
            completely. You can also control arbitration by overriding
            this parameter; to do so, set the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitration"><code class="literal">Arbitration</code></a>
            parameter in the <code class="literal">[ndbd default]</code> section
            of the <code class="filename">config.ini</code> global configuration
            file.
          </p></li><li class="listitem"><p><a name="ndbparam-api-arbitrationdelay"></a>
            <a class="indexterm" name="idp111399424"></a>

            <code class="literal">ArbitrationDelay</code>
</p>
<div class="informaltable">
<a name="arbitrationdelay-api-table"></a><table summary="This table provides type and value information for the
ArbitrationDelay API node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>milliseconds</td><td>0</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Setting this parameter to any other value than 0 (the
            default) means that responses by the arbitrator to
            arbitration requests will be delayed by the stated number of
            milliseconds. It is usually not necessary to change this
            value.
          </p></li><li class="listitem"><p><a name="ndbparam-api-batchbytesize"></a>
            <a class="indexterm" name="idp111414912"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-api-batchbytesize"><code class="literal">BatchByteSize</code></a>
</p>
<div class="informaltable">
<a name="batchbytesize-api-table"></a><table summary="This table provides type and value information for the
BatchByteSize API node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>16K</td><td>1024 - 1M</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            For queries that are translated into full table scans or
            range scans on indexes, it is important for best performance
            to fetch records in properly sized batches. It is possible
            to set the proper size both in terms of number of records
            (<a class="link" href="mysql-cluster.html#ndbparam-api-batchsize"><code class="literal">BatchSize</code></a>) and in
            terms of bytes (<code class="literal">BatchByteSize</code>). The
            actual batch size is limited by both parameters.
          </p><p>
            The speed at which queries are performed can vary by more
            than 40% depending upon how this parameter is set.
          </p><p>
            This parameter is measured in bytes; the default value is
            32K.
          </p></li><li class="listitem"><p><a name="ndbparam-api-batchsize"></a>
            <a class="indexterm" name="idp111433200"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-api-batchsize"><code class="literal">BatchSize</code></a>
</p>
<div class="informaltable">
<a name="batchsize-api-table"></a><table summary="This table provides type and value information for the
BatchSize API node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>records</td><td>256</td><td>1 - 992</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is measured in number of records and is by
            default set to 256. The maximum size is 992.
          </p></li><li class="listitem"><p><a name="ndbparam-api-heartbeatthreadpriority"></a>
            <a class="indexterm" name="idp111448624"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-api-heartbeatthreadpriority"><code class="literal">HeartbeatThreadPriority</code></a>
</p>
<div class="informaltable">
<a name="heartbeatthreadpriority-api-table"></a><table summary="This table provides type and value information for the
HeartbeatThreadPriority API node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>string</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            Use this parameter to set the scheduling policy and priority
            of heartbeat threads for management and API nodes. The
            syntax for setting this parameter is shown here:
          </p><pre class="programlisting">HeartbeatThreadPriority = <em class="replaceable"><code>policy</code></em>[, <em class="replaceable"><code>priority</code></em>]

<em class="replaceable"><code>policy</code></em>:
  {FIFO | RR}
</pre><p>
            When setting this parameter, you must specify a policy. This
            is one of <code class="literal">FIFO</code> (first in, first in) or
            <code class="literal">RR</code> (round robin). This followed
            optionally by the priority (an integer).
          </p></li><li class="listitem"><p><a name="ndbparam-api-maxscanbatchsize"></a>
            <a class="indexterm" name="idp111468144"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-api-maxscanbatchsize"><code class="literal">MaxScanBatchSize</code></a>
</p>
<div class="informaltable">
<a name="maxscanbatchsize-api-table"></a><table summary="This table provides type and value information for the
MaxScanBatchSize API node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>256K</td><td>32K - 16M</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The batch size is the size of each batch sent from each data
            node. Most scans are performed in parallel to protect the
            MySQL Server from receiving too much data from many nodes in
            parallel; this parameter sets a limit to the total batch
            size over all nodes.
          </p><p>
            The default value of this parameter is set to 256KB. Its
            maximum size is 16MB.
          </p></li><li class="listitem"><p><a name="ndbparam-api-totalsendbuffermemory"></a>
            <a class="indexterm" name="idp111484352"></a>

            <code class="literal">TotalSendBufferMemory</code>
</p>
<div class="informaltable">
<a name="totalsendbuffermemory-api-table"></a><table summary="This table provides type and value information for the
TotalSendBufferMemory API node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>256K</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is available beginning with MySQL Cluster NDB
            6.4.0. It is used to determine the total amount of memory to
            allocate on this node for shared send buffer memory among
            all configured transporters.
          </p><p>
            If this parameter is set, its minimum permitted value is
            256KB; the maxmimum is 4294967039. For more detailed
            information about the behavior and use of
            <code class="literal">TotalSendBufferMemory</code> and configuring
            send buffer memory parameters in MySQL Cluster, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="17.3.2.12. Configuring MySQL Cluster Send Buffer Parameters">Section 17.3.2.12, “Configuring MySQL Cluster Send Buffer Parameters”</a>.
          </p></li><li class="listitem"><p><a name="ndbparam-api-autoreconnect"></a>
            <a class="indexterm" name="idp111502240"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-api-autoreconnect"><code class="literal">AutoReconnect</code></a>
</p>
<div class="informaltable">
<a name="autoreconnect-api-table"></a><table summary="This table provides type and value information for the
AutoReconnect API node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>false</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is <code class="literal">false</code> by default. This
            forces disconnected API nodes (including MySQL Servers
            acting as SQL nodes) to use a new connection to the cluster
            rather than attempting to re-use an existing one, as re-use
            of connections can cause problems when using
            dynamically-allocated node IDs. (Bug #45921)
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              This parameter can be overridden using the NDB API. For
              more information, see
              <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb-cluster-connection-methods.html#ndb-ndb-cluster-connection-set-auto-reconnect" target="_top"><code class="literal">Ndb_cluster_connection::set_auto_reconnect()</code></a>,
              and
              <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb-cluster-connection-methods.html#ndb-ndb-cluster-connection-get-auto-reconnect" target="_top"><code class="literal">Ndb_cluster_connection::get_auto_reconnect()</code></a>.
</p>
</div>
</li><li class="listitem"><p><a name="ndbparam-api-defaultoperationredoproblemaction"></a>
            <a class="indexterm" name="idp111522016"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-api-defaultoperationredoproblemaction"><code class="literal">DefaultOperationRedoProblemAction</code></a>
</p>
<div class="informaltable">
<a name="defaultoperationredoproblemaction-api-table"></a><table summary="This table provides type and value information for the
      DefaultOperationRedoProblemAction API node configuration
parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>enumeration</td><td>QUEUE</td><td>ABORT, QUEUE</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> S</td></tr></tbody></table>
</div>
<p>
            This parameter (along with
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitlimit"><code class="literal">RedoOverCommitLimit</code></a>
            and
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitcounter"><code class="literal">RedoOverCommitCounter</code></a>)
            controls the data node's handling of operations when
            too much time is taken flushing redo logs to disk. This
            occurs when a given redo log flush takes longer than
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitlimit"><code class="literal">RedoOverCommitLimit</code></a>
            seconds, more than
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitcounter"><code class="literal">RedoOverCommitCounter</code></a>
            times, causing any pending transactions to be aborted.
          </p><p>
            When this happens, the node can respond in either of two
            ways, according to the value of
            <code class="literal">DefaultOperationRedoProblemAction</code>, listed
            here:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">ABORT</code>: Any pending operations from
                aborted transactions are also aborted.
              </p></li><li class="listitem"><p>
                <code class="literal">QUEUE</code>: Pending operations from
                transactions that were aborted are queued up to be
                re-tried.
</p></li></ul>
</div>
</li><li class="listitem"><p><a name="ndbparam-api-defaulthashmapsize"></a>
            <a class="indexterm" name="idp111546512"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-api-defaulthashmapsize"><code class="literal">DefaultHashMapSize</code></a>
</p>
<div class="informaltable">
<a name="defaulthashmapsize-api-table"></a><table summary="This table provides type and value information for the
DefaultHashMapSize API node configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>LDM threads</td><td>3840</td><td>0 - 3840</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            MySQL Cluster NDB 7.2.7 and later use a larger default table
            hash map size (3840) than in previous releases (240).
            Beginning with MySQL Cluster NDB 7.2.11, the size of the
            table hash maps used by <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> is
            configurable using this parameter; previously this value was
            hard-coded. <code class="literal">DefaultHashMapSize</code> can take
            any of three possible values (0, 240, 3840). These values
            and their effects are described in the following table.
</p>
<div class="informaltable">
<table summary="DefaultHashMapSize parameter values and their
              effects" border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Value</th><th scope="col">Description / Effect</th></tr></thead><tbody><tr><td scope="row"><code class="literal">0</code></td><td>Use the lowest value set, if any, for this parameter among all data
                    nodes and API nodes in the cluster; if it is not set
                    on any data or API node, use the default value.</td></tr><tr><td scope="row"><code class="literal">240</code></td><td>Original hash map size, used by default in all MySQL Cluster releases
                    prior to MySQL Cluster NDB 7.2.7.</td></tr><tr><td scope="row"><code class="literal">3840</code></td><td>Larger hash map size as used by default in MySQL Cluster NDB 7.2.7 and
later</td></tr></tbody></table>
</div>
<p>
            The primary intended use for this parameter is to facilitate
            upgrades and especially downgrades between MySQL Cluster NDB
            7.2.7 and later MySQL Cluster versions, in which the larger
            hash map size (3840) is the default, and earlier releases
            (in which the default was 240), due to the fact that this
            change is not otherwise backward compatible (Bug #14800539).
            By setting this parameter to 240 prior to performing an
            upgrade from an older version where this value is in use,
            you can cause the cluster to continue using the smaller size
            for table hash maps, in which case the tables remain
            compatible with earlier versions following the upgrade.
            <code class="literal">DefaultHashMapSize</code> can be set for
            individual data nodes, API nodes, or both, but setting it
            once only, in the <code class="literal">[ndbd default]</code> section
            of the <code class="filename">config.ini</code> file, is the
            recommended practice.
          </p><p>
            After increasing this parameter, to have existing tables to
            take advantage of the new size, you can run
            <a class="link" href="sql-syntax.html#alter-table-partition-operations" title="13.1.7.1. ALTER TABLE Partition Operations"><code class="literal">ALTER
            TABLE ... REORGANIZE PARTITION</code></a> on them, after
            which they can use the larger hash map size. This is in
            addition to performing a rolling restart, which makes the
            larger hash maps available to new tables, but does not
            enable existing tables to use them.
          </p><p>
            Decreasing this parameter online after any tables have been
            created or modified with
            <code class="literal">DefaultHashMapSize</code> equal to 3840 is not
            currently supported.
</p></li></ul>
</div>
<p>
        You can obtain some information from a MySQL server running as a
        Cluster SQL node using <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW
        STATUS</code></a> in the <code class="literal">mysql</code> client, as
        shown here:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb%';</code></strong>
+-----------------------------+---------------+
| Variable_name               | Value         |
+-----------------------------+---------------+
| Ndb_cluster_node_id         | 5             |
| Ndb_config_from_host        | 192.168.0.112 |
| Ndb_config_from_port        | 1186          |
| Ndb_number_of_storage_nodes | 4             |
+-----------------------------+---------------+
4 rows in set (0.02 sec)
</pre><p>
        For information about these Cluster system status variables, see
        <a class="xref" href="server-administration.html#server-status-variables" title="5.1.6. Server Status Variables">Section 5.1.6, “Server Status Variables”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          To add new SQL or API nodes to the configuration of a running
          MySQL Cluster, it is necessary to perform a rolling restart of
          all cluster nodes after adding new <code class="literal">[mysqld]</code>
          or <code class="literal">[api]</code> sections to the
          <code class="filename">config.ini</code> file (or files, if you are
          using more than one management server). This must be done
          before the new SQL or API nodes can connect to the cluster.
        </p><p xmlns="">
          It is <span class="emphasis"><em>not</em></span> necessary to perform any
          restart of the cluster if new SQL or API nodes can employ
          previously unused API slots in the cluster configuration to
          connect to the cluster.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-tcp-definition"></a>17.3.2.8. MySQL Cluster TCP/IP Connections</h4>

</div>

</div>

</div>
<p>
        TCP/IP is the default transport mechanism for all connections
        between nodes in a MySQL Cluster. Normally it is not necessary
        to define TCP/IP connections; MySQL Cluster automatically sets
        up such connections for all data nodes, management nodes, and
        SQL or API nodes.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          For an exception to this rule, see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition-direct" title="17.3.2.9. MySQL Cluster TCP/IP Connections Using Direct Connections">Section 17.3.2.9, “MySQL Cluster TCP/IP Connections Using Direct Connections”</a>.
</p>
</div>
<p>
        To override the default connection parameters, it is necessary
        to define a connection using one or more
        <code class="literal">[tcp]</code> sections in the
        <code class="filename">config.ini</code> file. Each
        <code class="literal">[tcp]</code> section explicitly defines a TCP/IP
        connection between two MySQL Cluster nodes, and must contain at
        a minimum the parameters
        <a class="link" href="mysql-cluster.html#ndbparam-tcp-nodeid1"><code class="literal">NodeId1</code></a> and
        <a class="link" href="mysql-cluster.html#ndbparam-tcp-nodeid2"><code class="literal">NodeId2</code></a>, as well as any
        connection parameters to override.
      </p><p>
        It is also possible to change the default values for these
        parameters by setting them in the <code class="literal">[tcp
        default]</code> section.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          Any <code class="literal">[tcp]</code> sections in the
          <code class="filename">config.ini</code> file should be listed
          <span class="emphasis"><em>last</em></span>, following all other sections in the
          file. However, this is not required for a <code class="literal">[tcp
          default]</code> section. This requirement is a known issue
          with the way in which the <code class="filename">config.ini</code> file
          is read by the MySQL Cluster management server.
</p>
</div>
<p>
        Connection parameters which can be set in
        <code class="literal">[tcp]</code> and <code class="literal">[tcp default]</code>
        sections of the <code class="filename">config.ini</code> file are listed
        here:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="indexterm" name="idp111606384"></a><p><a name="ndbparam-tcp-nodeid1"></a>
            <code class="literal">NodeId1</code>
</p>
<div class="informaltable">
<a name="nodeid1-tcp-table"></a><table summary="This table provides type and value information for the
NodeId1 TCP configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>numeric</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<a class="indexterm" name="idp111620736"></a><p><a name="ndbparam-tcp-nodeid2"></a>
            <code class="literal">NodeId2</code>
</p>
<div class="informaltable">
<a name="nodeid2-tcp-table"></a><table summary="This table provides type and value information for the
NodeId2 TCP configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>numeric</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            To identify a connection between two nodes it is necessary
            to provide their node IDs in the <code class="literal">[tcp]</code>
            section of the configuration file. These are the same unique
            <code class="literal">NodeId</code> (or <code class="literal">Id</code>) values
            for each of these nodes as described in
            <a class="xref" href="mysql-cluster.html#mysql-cluster-api-definition" title="17.3.2.7. Defining SQL and Other API Nodes in a MySQL Cluster">Section 17.3.2.7, “Defining SQL and Other API Nodes in a MySQL Cluster”</a>.
          </p></li><li class="listitem"><a class="indexterm" name="idp111638816"></a><p><a name="ndbparam-tcp-hostname1"></a>
            <code class="literal">HostName1</code>
</p>
<div class="informaltable">
<a name="hostname1-tcp-table"></a><table summary="This table provides type and value information for the
HostName1 TCP configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name or IP address</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<a class="indexterm" name="idp111653168"></a><p><a name="ndbparam-tcp-hostname2"></a>
            <code class="literal">HostName2</code>
</p>
<div class="informaltable">
<a name="hostname2-tcp-table"></a><table summary="This table provides type and value information for the
HostName1 TCP configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name or IP address</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The <code class="literal">HostName1</code> and
            <code class="literal">HostName2</code> parameters can be used to
            specify specific network interfaces to be used for a given
            TCP connection between two nodes. The values used for these
            parameters can be hostnames or IP addresses.
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-overloadlimit"></a>
            <a class="indexterm" name="idp111670528"></a>

            <code class="literal">OverloadLimit</code>
</p>
<div class="informaltable">
<a name="overloadlimit-tcp-table"></a><table summary="This table provides type and value information for the
OverloadLimit TCP configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>0</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            When more than this many unsent bytes are in the send
            buffer, the connection is considered overloaded.
          </p><p>
            This parameter can be used to determine the amount of unsent
            data that must be present in the send buffer before the
            connection is considered overloaded. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="17.3.2.12. Configuring MySQL Cluster Send Buffer Parameters">Section 17.3.2.12, “Configuring MySQL Cluster Send Buffer Parameters”</a>, for
            more information.
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-sendbuffermemory"></a>
            <a class="indexterm" name="idp111687040"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-tcp-sendbuffermemory"><code class="literal">SendBufferMemory</code></a>
</p>
<div class="informaltable">
<a name="sendbuffermemory-tcp-table"></a><table summary="This table provides type and value information for the
SendBufferMemory TCP configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>2M</td><td>256K - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            TCP transporters use a buffer to store all messages before
            performing the send call to the operating system. When this
            buffer reaches 64KB its contents are sent; these are also
            sent when a round of messages have been executed. To handle
            temporary overload situations it is also possible to define
            a bigger send buffer.
          </p><p>
            If this parameter is set explicitly, then the memory is not
            dedicated to each transporter; instead, the value used
            denotes the hard limit for how much memory (out of the total
            available memory—that is,
            <code class="literal">TotalSendBufferMemory</code>) that may be used
            by a single transporter. For more information about
            configuring dynamic transporter send buffer memory
            allocation in MySQL Cluster, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="17.3.2.12. Configuring MySQL Cluster Send Buffer Parameters">Section 17.3.2.12, “Configuring MySQL Cluster Send Buffer Parameters”</a>.
          </p><p>
            The default size of the send buffer is 2MB, which is the
            size recommended in most situations. The minimum size is 64
            KB; the theoretical maximum is 4 GB.
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-sendsignalid"></a>
            <a class="indexterm" name="idp111705792"></a>

            <code class="literal">SendSignalId</code>
</p>
<div class="informaltable">
<a name="sendsignalid-tcp-table"></a><table summary="This table provides type and value information for the
SendSignalId TCP configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>[see text]</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            To be able to retrace a distributed message datagram, it is
            necessary to identify each message. When this parameter is
            set to <code class="literal">Y</code>, message IDs are transported
            over the network. This feature is disabled by default in
            production builds, and enabled in <code class="literal">-debug</code>
            builds.
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-checksum"></a>
            <a class="indexterm" name="idp111722672"></a>

            <code class="literal">Checksum</code>
</p>
<div class="informaltable">
<a name="checksum-tcp-table"></a><table summary="This table provides type and value information for the
Checksum TCP configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>false</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is a boolean parameter (enabled by setting it
            to <code class="literal">Y</code> or <code class="literal">1</code>, disabled by
            setting it to <code class="literal">N</code> or <code class="literal">0</code>).
            It is disabled by default. When it is enabled, checksums for
            all messages are calculated before they placed in the send
            buffer. This feature ensures that messages are not corrupted
            while waiting in the send buffer, or by the transport
            mechanism.
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-portnumber"></a>
            <a class="indexterm" name="idp111741024"></a>

            <code class="literal">PortNumber</code>
            (<span class="emphasis"><em>OBSOLETE</em></span>)
          </p><p>
            This formerly specified the port number to be used for
            listening for connections from other nodes. This parameter
            should no longer be used; use the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-serverport"><code class="literal">ServerPort</code></a> data node
            configuration parameter for this purpose instead.
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-receivebuffermemory"></a>
            <a class="indexterm" name="idp111745840"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-tcp-receivebuffermemory"><code class="literal">ReceiveBufferMemory</code></a>
</p>
<div class="informaltable">
<a name="receivebuffermemory-tcp-table"></a><table summary="This table provides type and value information for the
ReceiveBufferMemory TCP configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>2M</td><td>16K - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Specifies the size of the buffer used when receiving data
            from the TCP/IP socket.
          </p><p>
            The default value of this parameter is 2MB. The minimum
            possible value is 16KB; the theoretical maximum is 4GB.
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-tcp_rcv_buf_size"></a>
            <a class="indexterm" name="idp111761824"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-tcp-tcp_rcv_buf_size"><code class="literal">TCP_RCV_BUF_SIZE</code></a>
</p>
<div class="informaltable">
<a name="tcp_rcv_buf_size-tcp-table"></a><table summary="This table provides type and value information for the
TCP_RCV_BUF_SIZE TCP configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>70080</td><td>1 - 2G</td></tr><tr><td scope="row">NDB 7.3.1</td><td>unsigned</td><td>0</td><td>0 - 2G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Determines the size of the receive buffer set during TCP
            transporter initialization. Prior to MySQL Cluster NDB
            7.3.1, the default was 70080 and the minimum was 1. In MySQL
            Cluster NDB 7.3.1 and later, the default and minimum value
            is 0, which allows the operating system or platform to set
            this value. The default is recommended for most common usage
            cases.
          </p></li><li class="listitem"><p><a name="ndbparam-tcp-tcp_snd_buf_size"></a>
            <a class="indexterm" name="idp111779648"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-tcp-tcp_snd_buf_size"><code class="literal">TCP_SND_BUF_SIZE</code></a>
</p>
<div class="informaltable">
<a name="tcp_snd_buf_size-tcp-table"></a><table summary="This table provides type and value information for the
TCP_SND_BUF_SIZE TCP configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>71540</td><td>1 - 2G</td></tr><tr><td scope="row">NDB 7.3.1</td><td>unsigned</td><td>0</td><td>0 - 2G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Determines the size of the send buffer set during TCP
            transporter initialization. Prior to MySQL Cluster NDB
            7.3.1, the default was 71540 and the minimum was 1. In MySQL
            Cluster NDB 7.3.1 and later, the default and minimum value
            is 0, which allows the operating system or platform to set
            this value. The default is recommended for most common usage
            cases.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-tcp-definition-direct"></a>17.3.2.9. MySQL Cluster TCP/IP Connections Using Direct Connections</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp111797936"></a><a class="indexterm" name="idp111799424"></a><a class="indexterm" name="idp111801328"></a><p>
        Setting up a cluster using direct connections between data nodes
        requires specifying explicitly the crossover IP addresses of the
        data nodes so connected in the <code class="literal">[tcp]</code> section
        of the cluster <code class="filename">config.ini</code> file.
      </p><p>
        In the following example, we envision a cluster with at least
        four hosts, one each for a management server, an SQL node, and
        two data nodes. The cluster as a whole resides on the
        <code class="literal">172.23.72.*</code> subnet of a LAN. In addition to
        the usual network connections, the two data nodes are connected
        directly using a standard crossover cable, and communicate with
        one another directly using IP addresses in the
        <code class="literal">1.1.0.*</code> address range as shown:
      </p><pre class="programlisting"># Management Server
[ndb_mgmd]
Id=1
HostName=172.23.72.20

# SQL Node
[mysqld]
Id=2
HostName=172.23.72.21

# Data Nodes
[ndbd]
Id=3
HostName=172.23.72.22

[ndbd]
Id=4
HostName=172.23.72.23

# TCP/IP Connections
[tcp]
NodeId1=3
NodeId2=4
HostName1=1.1.0.1
HostName2=1.1.0.2</pre><p>
        The <a class="link" href="mysql-cluster.html#ndbparam-tcp-hostname1"><code class="literal">HostName1</code></a> and
        <a class="link" href="mysql-cluster.html#ndbparam-tcp-hostname2"><code class="literal">HostName2</code></a> parameters are
        used only when specifying direct connections.
      </p><p>
        The use of direct TCP connections between data nodes can improve
        the cluster's overall efficiency by enabling the data nodes to
        bypass an Ethernet device such as a switch, hub, or router, thus
        cutting down on the cluster's latency. It is important to note
        that to take the best advantage of direct connections in this
        fashion with more than two data nodes, you must have a direct
        connection between each data node and every other data node in
        the same node group.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-shm-definition"></a>17.3.2.10. MySQL Cluster Shared-Memory Connections</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp111812320"></a><a class="indexterm" name="idp111813808"></a><a class="indexterm" name="idp111815312"></a><a class="indexterm" name="idp111816800"></a><p>
        MySQL Cluster attempts to use the shared memory transporter and
        configure it automatically where possible.
        <code class="literal">[shm]</code> sections in the
        <code class="filename">config.ini</code> file explicitly define
        shared-memory connections between nodes in the cluster. When
        explicitly defining shared memory as the connection method, it
        is necessary to define at least
        <a class="link" href="mysql-cluster.html#ndbparam-shm-nodeid1"><code class="literal">NodeId1</code></a>,
        <a class="link" href="mysql-cluster.html#ndbparam-shm-nodeid2"><code class="literal">NodeId2</code></a>, and
        <a class="link" href="mysql-cluster.html#ndbparam-shm-shmkey"><code class="literal">ShmKey</code></a>. All other
        parameters have default values that should work well in most
        cases.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          <span class="emphasis"><em>SHM functionality is considered experimental
          only</em></span>. It is not officially supported in any current
          MySQL Cluster release, and testing results indicate that SHM
          performance is not appreciably greater than when using TCP/IP
          for the transporter.
        </p><p xmlns="">
          For these reasons, you must determine for yourself or by using
          our free resources (forums, mailing lists) whether SHM can be
          made to work correctly in your specific case.
</p>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-shm-nodeid1"></a>
            <a class="indexterm" name="idp111826624"></a>

            <a class="indexterm" name="idp111827696"></a>

            <code class="literal">NodeId1</code>
</p>
<div class="informaltable">
<a name="nodeid1-shm-table"></a><table summary="This table provides type and value information for the
NodeId1 shared memory configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>numeric</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p><a name="ndbparam-shm-nodeid2"></a>
            <a class="indexterm" name="idp111842480"></a>

            <a class="indexterm" name="idp111843552"></a>

            <code class="literal">NodeId2</code>
</p>
<div class="informaltable">
<a name="nodeid2-shm-table"></a><table summary="This table provides type and value information for the
NodeId2 shared memory configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>numeric</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            To identify a connection between two nodes it is necessary
            to provide node identifiers for each of them, as
            <code class="literal">NodeId1</code> and <code class="literal">NodeId2</code>.
          </p></li><li class="listitem"><p><a name="ndbparam-shm-hostname1"></a>
            <a class="indexterm" name="idp111860704"></a>

            <code class="literal">HostName1</code>
</p>
<div class="informaltable">
<a name="hostname1-shm-table"></a><table summary="This table provides type and value information for the
HostName1 shared memory configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name or IP address</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<a class="indexterm" name="idp111874544"></a><p><a name="ndbparam-shm-hostname2"></a>
            <code class="literal">HostName2</code>
</p>
<div class="informaltable">
<a name="hostname2-shm-table"></a><table summary="This table provides type and value information for the
HostName1 shared memory configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name or IP address</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The <code class="literal">HostName1</code> and
            <code class="literal">HostName2</code> parameters can be used to
            specify specific network interfaces to be used for a given
            SHM connection between two nodes. The values used for these
            parameters can be hostnames or IP addresses.
          </p></li><li class="listitem"><p><a name="ndbparam-shm-shmkey"></a>
            <a class="indexterm" name="idp111891904"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-shm-shmkey"><code class="literal">ShmKey</code></a>
</p>
<div class="informaltable">
<a name="shmkey-shm-table"></a><table summary="This table provides type and value information for the
ShmKey shared memory configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>[none]</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            When setting up shared memory segments, a node ID, expressed
            as an integer, is used to identify uniquely the shared
            memory segment to use for the communication. There is no
            default value.
          </p></li><li class="listitem"><p><a name="ndbparam-shm-shmsize"></a>
            <a class="indexterm" name="idp111907456"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-shm-shmsize"><code class="literal">ShmSize</code></a>
</p>
<div class="informaltable">
<a name="shmsize-shm-table"></a><table summary="This table provides type and value information for the
ShmSize shared memory configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>1M</td><td>64K - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Each SHM connection has a shared memory segment where
            messages between nodes are placed by the sender and read by
            the reader. The size of this segment is defined by
            <a class="link" href="mysql-cluster.html#ndbparam-shm-shmsize"><code class="literal">ShmSize</code></a>. The default
            value is 1MB.
          </p></li><li class="listitem"><p><a name="ndbparam-shm-sendsignalid"></a>
            <a class="indexterm" name="idp111923840"></a>

            <code class="literal">SendSignalId</code>
</p>
<div class="informaltable">
<a name="sendsignalid-shm-table"></a><table summary="This table provides type and value information for the
SendSignalId shared memory configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>false</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            To retrace the path of a distributed message, it is
            necessary to provide each message with a unique identifier.
            Setting this parameter to <code class="literal">Y</code> causes these
            message IDs to be transported over the network as well. This
            feature is disabled by default in production builds, and
            enabled in <code class="literal">-debug</code> builds.
          </p></li><li class="listitem"><p><a name="ndbparam-shm-checksum"></a>
            <a class="indexterm" name="idp111940768"></a>

            <code class="literal">Checksum</code>
</p>
<div class="informaltable">
<a name="checksum-shm-table"></a><table summary="This table provides type and value information for the
Checksum shared memory configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>true</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is a boolean
            (<code class="literal">Y</code>/<code class="literal">N</code>) parameter which
            is disabled by default. When it is enabled, checksums for
            all messages are calculated before being placed in the send
            buffer.
          </p><p>
            This feature prevents messages from being corrupted while
            waiting in the send buffer. It also serves as a check
            against data being corrupted during transport.
          </p></li><li class="listitem"><p><a name="ndbparam-shm-signum"></a>
            <a class="indexterm" name="idp111958144"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-shm-signum"><code class="literal">SigNum</code></a>
</p>
<div class="informaltable">
<a name="signum-shm-table"></a><table summary="This table provides type and value information for the
Signum shared memory configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>[none]</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            When using the shared memory transporter, a process sends an
            operating system signal to the other process when there is
            new data available in the shared memory. Should that signal
            conflict with with an existing signal, this parameter can be
            used to change it. This is a possibility when using SHM due
            to the fact that different operating systems use different
            signal numbers.
          </p><p>
            The default value of
            <a class="link" href="mysql-cluster.html#ndbparam-shm-signum"><code class="literal">SigNum</code></a> is 0;
            therefore, it must be set to avoid errors in the cluster log
            when using the shared memory transporter. Typically, this
            parameter is set to 10 in the <code class="literal">[shm
            default]</code> section of the
            <code class="filename">config.ini</code> file.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-sci-definition"></a>17.3.2.11. SCI Transport Connections in MySQL Cluster</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp111977328"></a><a class="indexterm" name="idp111978816"></a><a class="indexterm" name="idp111980320"></a><a class="indexterm" name="idp111981824"></a><p>
        <code class="literal">[sci]</code> sections in the
        <code class="filename">config.ini</code> file explicitly define SCI
        (Scalable Coherent Interface) connections between cluster nodes.
        Using SCI transporters in MySQL Cluster is supported only when
        the MySQL binaries are built using
        <code class="option">--with-ndb-sci=<em class="replaceable"><code>/your/path/to/SCI</code></em></code>.
        The <em class="replaceable"><code>path</code></em> should point to a directory
        that contains at a minimum <code class="filename">lib</code> and
        <code class="filename">include</code> directories containing SISCI
        libraries and header files. (See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-interconnects" title="17.3.5. Using High-Speed Interconnects with MySQL Cluster">Section 17.3.5, “Using High-Speed Interconnects with MySQL Cluster”</a> for more
        information about SCI.)
      </p><p>
        In addition, SCI requires specialized hardware.
      </p><p>
        It is strongly recommended to use SCI Transporters only for
        communication between <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> processes. Note
        also that using SCI Transporters means that the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> processes never sleep. For this reason,
        SCI Transporters should be used only on machines having at least
        two CPUs dedicated for use by <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> processes.
        There should be at least one CPU per <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>
        process, with at least one CPU left in reserve to handle
        operating system activities.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="ndbparam-sci-nodeid1"></a>
            <a class="indexterm" name="idp111994912"></a>

            <a class="indexterm" name="idp111995984"></a>

            <code class="literal">NodeId1</code>
</p>
<div class="informaltable">
<a name="nodeid1-sci-table"></a><table summary="This table provides type and value information for the
NodeId1 SCI configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>numeric</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p><a name="ndbparam-sci-nodeid2"></a>
            <a class="indexterm" name="idp112010752"></a>

            <a class="indexterm" name="idp112011824"></a>

            <code class="literal">NodeId2</code>
</p>
<div class="informaltable">
<a name="nodeid2-sci-table"></a><table summary="This table provides type and value information for the
NodeId2 SCI configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>numeric</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            To identify a connection between two nodes it is necessary
            to provide node identifiers for each of them, as
            <code class="literal">NodeId1</code> and <code class="literal">NodeId2</code>.
          </p></li><li class="listitem"><p><a name="ndbparam-sci-host1sciid0"></a>
            <a class="indexterm" name="idp112028976"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-sci-host1sciid0"><code class="literal">Host1SciId0</code></a>
</p>
<div class="informaltable">
<a name="host1sciid0-sci-table"></a><table summary="This table provides type and value information for the
Host1SciId0 SCI configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>[none]</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This identifies the SCI node ID on the first Cluster node
            (identified by
            <a class="link" href="mysql-cluster.html#ndbparam-sci-nodeid1"><code class="literal">NodeId1</code></a>).
          </p></li><li class="listitem"><p><a name="ndbparam-sci-host1sciid1"></a>
            <a class="link" href="mysql-cluster.html#ndbparam-sci-host1sciid1"><code class="literal">Host1SciId1</code></a>
</p>
<div class="informaltable">
<a name="host1sciid1-sci-table"></a><table summary="This table provides type and value information for the
Host1SciId1 SCI configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>0</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            It is possible to set up SCI Transporters for failover
            between two SCI cards which then should use separate
            networks between the nodes. This identifies the node ID and
            the second SCI card to be used on the first node.
          </p></li><li class="listitem"><p><a name="ndbparam-sci-host2sciid0"></a>
            <a class="link" href="mysql-cluster.html#ndbparam-sci-host2sciid0"><code class="literal">Host2SciId0</code></a>
</p>
<div class="informaltable">
<a name="host2sciid0-sci-table"></a><table summary="This table provides type and value information for the
Host2SciId0 SCI configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>[none]</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This identifies the SCI node ID on the second Cluster node
            (identified by
            <a class="link" href="mysql-cluster.html#ndbparam-sci-nodeid2"><code class="literal">NodeId2</code></a>).
          </p></li><li class="listitem"><p><a name="ndbparam-sci-host2sciid1"></a>
            <a class="link" href="mysql-cluster.html#ndbparam-sci-host2sciid1"><code class="literal">Host2SciId1</code></a>
</p>
<div class="informaltable">
<a name="host2sciid1-sci-table"></a><table summary="This table provides type and value information for the
Host2SciId1 SCI configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>0</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            When using two SCI cards to provide failover, this parameter
            identifies the second SCI card to be used on the second
            node.
          </p></li><li class="listitem"><p><a name="ndbparam-sci-hostname1"></a>
            <a class="indexterm" name="idp112089360"></a>

            <code class="literal">HostName1</code>
</p>
<div class="informaltable">
<a name="hostname1-sci-table"></a><table summary="This table provides type and value information for the
HostName1 SCI configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name or IP address</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p><a name="ndbparam-sci-hostname2"></a>
            <a class="indexterm" name="idp112103712"></a>

            <code class="literal">HostName2</code>
</p>
<div class="informaltable">
<a name="hostname2-sci-table"></a><table summary="This table provides type and value information for the
HostName1 SCI configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>name or IP address</td><td>[none]</td><td>...</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            The <code class="literal">HostName1</code> and
            <code class="literal">HostName2</code> parameters can be used to
            specify specific network interfaces to be used for a given
            SCI connection between two nodes. The values used for these
            parameters can be hostnames or IP addresses.
          </p></li><li class="listitem"><p><a name="ndbparam-sci-sharedbuffersize"></a>
            <a class="indexterm" name="idp112120544"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-sci-sharedbuffersize"><code class="literal">SharedBufferSize</code></a>
</p>
<div class="informaltable">
<a name="sharedbuffersize-sci-table"></a><table summary="This table provides type and value information for the
SharedBufferSize SCI configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>10M</td><td>64K - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            Each SCI transporter has a shared memory segment used for
            communication between the two nodes. Setting the size of
            this segment to the default value of 1MB should be
            sufficient for most applications. Using a smaller value can
            lead to problems when performing many parallel inserts; if
            the shared buffer is too small, this can also result in a
            crash of the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process.
          </p></li><li class="listitem"><p><a name="ndbparam-sci-sendlimit"></a>
            <a class="link" href="mysql-cluster.html#ndbparam-sci-sendlimit"><code class="literal">SendLimit</code></a>

            <a class="indexterm" name="idp112137984"></a>
</p>
<div class="informaltable">
<a name="sendlimit-sci-table"></a><table summary="This table provides type and value information for the
SendLimit SCI configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>unsigned</td><td>8K</td><td>128 - 32K</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            A small buffer in front of the SCI media stores messages
            before transmitting them over the SCI network. By default,
            this is set to 8KB. Our benchmarks show that performance is
            best at 64KB but 16KB reaches within a few percent of this,
            and there was little if any advantage to increasing it
            beyond 8KB.
          </p></li><li class="listitem"><p><a name="ndbparam-sci-sendsignalid"></a>
            <a class="indexterm" name="idp112153216"></a>

            <code class="literal">SendSignalId</code>
</p>
<div class="informaltable">
<a name="sendsignalid-sci-table"></a><table summary="This table provides type and value information for the
SendSignalId SCI configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>true</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            To trace a distributed message it is necessary to identify
            each message uniquely. When this parameter is set to
            <code class="literal">Y</code>, message IDs are transported over the
            network. This feature is disabled by default in production
            builds, and enabled in <code class="literal">-debug</code> builds.
          </p></li><li class="listitem"><p><a name="ndbparam-sci-checksum"></a>
            <a class="indexterm" name="idp112170064"></a>

            <code class="literal">Checksum</code>
</p>
<div class="informaltable">
<a name="checksum-sci-table"></a><table summary="This table provides type and value information for the
Checksum SCI configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>boolean</td><td>false</td><td>true, false</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            This parameter is a boolean value, and is disabled by
            default. When <code class="literal">Checksum</code> is enabled,
            checksums are calculated for all messages before they are
            placed in the send buffer. This feature prevents messages
            from being corrupted while waiting in the send buffer. It
            also serves as a check against data being corrupted during
            transport.
          </p></li><li class="listitem"><p><a name="ndbparam-sci-overloadlimit"></a>
            <a class="indexterm" name="idp112186368"></a>

            <code class="literal">OverloadLimit</code>
</p>
<div class="informaltable">
<a name="overloadlimit-sci-table"></a><table summary="This table provides type and value information for the
OverloadLimit SCI configuration parameter" border="1"><colgroup><col class="asof"><col class="typeunits"><col class="default"><col class="values"></colgroup><thead><tr><th scope="col">Effective Version</th><th scope="col">Type/Units</th><th scope="col">Default</th><th scope="col">Range/Values</th></tr></thead><tbody><tr><td scope="row">NDB 7.3.0</td><td>bytes</td><td>0</td><td>0 - 4G</td></tr><tr><td scope="row" colspan="4"><span class="bold"><strong>Restart Type:</strong></span> N</td></tr></tbody></table>
</div>
<p>
            When more than this many unsent bytes are in the send
            buffer, the connection is considered overloaded. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-config-send-buffers" title="17.3.2.12. Configuring MySQL Cluster Send Buffer Parameters">Section 17.3.2.12, “Configuring MySQL Cluster Send Buffer Parameters”</a>, for
            more information.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-config-send-buffers"></a>17.3.2.12. Configuring MySQL Cluster Send Buffer Parameters</h4>

</div>

</div>

</div>
<p>
        Formerly, the NDB kernel employed a send buffer whose size was
        fixed at 2MB for each node in the cluster, this buffer being
        allocated when the node started. Because the size of this buffer
        could not be changed after the cluster was started, it was
        necessary to make it large enough in advance to accommodate the
        maximum possible load on any transporter socket. However, this
        was an inefficient use of memory, since much of it often went
        unused, and could result in large amounts of resources being
        wasted when scaling up to many API nodes.
      </p><p>
        This problem was eventually solved (in MySQL Cluster NDB 7.0) by
        employing a unified send buffer whose memory is allocated
        dynamically from a pool shared by all transporters. This means
        that the size of the send buffer can be adjusted as necessary.
        Configuration of the unified send buffer can accomplished by
        setting the following parameters:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b><code class="literal">TotalSendBufferMemory</code>. </b>
              This parameter can be set for all types of MySQL Cluster
              nodes—that is, it can be set in the
              <code class="literal">[ndbd]</code>, <code class="literal">[mgm]</code>, and
              <code class="literal">[api]</code> (or <code class="literal">[mysql]</code>)
              sections of the <code class="filename">config.ini</code> file. It
              represents the total amount of memory (in bytes) to be
              allocated by each node for which it is set for use among
              all configured transporters. If set, its minimum is 256KB;
              the maximum is 4294967039.
            </p><p>
            To be backward-compatible with existing configurations, this
            parameter takes as its default value the sum of the maximum
            send buffer sizes of all configured transporters, plus an
            additional 32KB (one page) per transporter. The maximum
            depends on the type of transporter, as shown in the
            following table:
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Transporter</th><th scope="col">Maxmimum Send Buffer Size (bytes)</th></tr></thead><tbody><tr><td scope="row">TCP</td><td><a class="link" href="mysql-cluster.html#ndbparam-tcp-sendbuffermemory"><code class="literal">SendBufferMemory</code></a> (default = 2M)</td></tr><tr><td scope="row">SCI</td><td><a class="link" href="mysql-cluster.html#ndbparam-sci-sendlimit"><code class="literal">SendLimit</code></a> (default = 8K) plus 16K</td></tr><tr><td scope="row">SHM</td><td>20K</td></tr></tbody></table>
</div>
<p>
            This enables existing configurations to function in close to
            the same way as they did with MySQL Cluster NDB 6.3 and
            earlier, with the same amount of memory and send buffer
            space available to each transporter. However, memory that is
            unused by one transporter is not available to other
            transporters.
          </p></li><li class="listitem"><p><b><code class="literal">OverloadLimit</code>. </b>
              This parameter is used in the
              <code class="literal">config.ini</code> file
              <code class="literal">[tcp]</code> section, and denotes the amount
              of unsent data (in bytes) that must be present in the send
              buffer before the connection is considered overloaded.
              When such an overload condition occurs, transactions that
              affect the overloaded connection fail with NDB API Error
              1218 (<span class="errortext">Send Buffers overloaded in NDB
              kernel</span>) until the overload status passes. The
              default value is 0, in which case the effective overload
              limit is calculated as <code class="literal">SendBufferMemory *
              0.8</code> for a given connection. The maximum value
              for this parameter is 4G.
            </p></li><li class="listitem"><p><b><code class="literal">SendBufferMemory</code>. </b>
              This value denotes a hard limit for the amount of memory
              that may be used by a single transporter out of the entire
              pool specified by
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-totalsendbuffermemory"><code class="literal">TotalSendBufferMemory</code></a>.
              However, the sum of <code class="literal">SendBufferMemory</code>
              for all configured transporters may be greater than the
              <a class="link" href="mysql-cluster.html#ndbparam-ndbd-totalsendbuffermemory"><code class="literal">TotalSendBufferMemory</code></a>
              that is set for a given node. This is a way to save memory
              when many nodes are in use, as long as the maximum amount
              of memory is never required by all transporters at the
              same time.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-params-overview"></a>17.3.3. Overview of MySQL Cluster Configuration Parameters</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-params-ndbd">17.3.3.1. MySQL Cluster Data Node Configuration Parameters</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-params-mgmd">17.3.3.2. MySQL Cluster Management Node Configuration Parameters</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-params-api">17.3.3.3. MySQL Cluster SQL Node and API Node Configuration Parameters</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-params-other">17.3.3.4. Other MySQL Cluster Configuration Parameters</a></span></dt></dl>
</div>
<a class="indexterm" name="idp112233728"></a><a class="indexterm" name="idp112235232"></a><p>
      The next four sections provide summary tables of MySQL Cluster
      configuration parameters used in the
      <code class="filename">config.ini</code> file to govern the cluster's
      functioning. Each table lists the parameters for one of the
      Cluster node process types (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>,
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>, and <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>), and
      includes the parameter's type as well as its default, minimum, and
      maximum values as applicable.
    </p><p>
      These tables also indicate what type of restart is required (node
      restart or system restart)—and whether the restart must be
      done with <code class="option">--initial</code>—to change the value of
      a given configuration parameter.
    </p><p>
      When performing a node restart or an initial node restart, all of
      the cluster's data nodes must be restarted in turn (also referred
      to as a <em class="firstterm">rolling restart</em>). It is possible to
      update cluster configuration parameters marked as
      <code class="literal">node</code> online—that is, without shutting
      down the cluster—in this fashion. An initial node restart
      requires restarting each <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process with the
      <code class="option">--initial</code> option.
    </p><p>
      A system restart requires a complete shutdown and restart of the
      entire cluster. An initial system restart requires taking a backup
      of the cluster, wiping the cluster file system after shutdown, and
      then restoring from the backup following the restart.
    </p><p>
      In any cluster restart, all of the cluster's management servers
      must be restarted for them to read the updated configuration
      parameter values.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        Values for numeric cluster parameters can generally be increased
        without any problems, although it is advisable to do so
        progressively, making such adjustments in relatively small
        increments. Many of these can be increased online, using a
        rolling restart.
      </p><p xmlns="">
        However, decreasing the values of such parameters—whether
        this is done using a node restart, node initial restart, or even
        a complete system restart of the cluster—is not to be
        undertaken lightly; it is recommended that you do so only after
        careful planning and testing. This is especially true with
        regard to those parameters that relate to memory usage and disk
        space, such as
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables"><code class="literal">MaxNoOfTables</code></a>,
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooforderedindexes"><code class="literal">MaxNoOfOrderedIndexes</code></a>,
        and
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofuniquehashindexes"><code class="literal">MaxNoOfUniqueHashIndexes</code></a>.
        In addition, it is the generally the case that configuration
        parameters relating to memory and disk usage can be raised using
        a simple node restart, but they require an initial node restart
        to be lowered.
</p>
</div>
<p>
      Because some of these parameters can be used for configuring more
      than one type of cluster node, they may appear in more than one of
      the tables.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        <code class="literal">4294967039</code> often appears as a maximum value
        in these tables. This value is defined in the
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> sources as
        <code class="literal">MAX_INT_RNIL</code> and is equal to
        <code class="literal">0xFFFFFEFF</code>, or
        <code class="literal">2<sup>32</sup> –
        2<sup>8</sup> – 1</code>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-params-ndbd"></a>17.3.3.1. MySQL Cluster Data Node Configuration Parameters</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp112259424"></a><a class="indexterm" name="idp112260928"></a><a class="indexterm" name="idp112262000"></a><p>
        The summary table in this section provides information about
        parameters used in the <code class="literal">[ndbd]</code> or
        <code class="literal">[ndbd default]</code> sections of a
        <code class="filename">config.ini</code> file for configuring MySQL
        Cluster data nodes. For detailed descriptions and other
        additional information about each of these parameters, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition" title="17.3.2.6. Defining MySQL Cluster Data Nodes">Section 17.3.2.6, “Defining MySQL Cluster Data Nodes”</a>.
      </p><p>
        These parameters also apply to <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>, the
        multi-threaded version of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>. For more
        information, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)">Section 17.4.3, “<span class="command"><strong>ndbmtd</strong></span> — The MySQL Cluster Data Node Daemon (Multi-Threaded)”</a>.
      </p><p><b>Restart types. </b>
          Changes in MySQL Cluster configuration parameters do not take
          effect until the cluster is restarted. The type of restart
          required to change a given parameter is indicated in the
          summary table as follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">N</code>—Node restart: The parameter can
            be updated using a rolling restart (see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="17.5.5. Performing a Rolling Restart of a MySQL Cluster">Section 17.5.5, “Performing a Rolling Restart of a MySQL Cluster”</a>).
          </p></li><li class="listitem"><p>
            <code class="literal">S</code>—System restart: The cluster must
            be shut down completely, then restarted, to effect a change
            in this parameter.
          </p></li><li class="listitem"><p>
            <code class="literal">I</code>—Initial restart: Data nodes must
            be restarted using the
            <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> option.
</p></li></ul>
</div>
<p>
        For more information about restart types, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-params-overview" title="17.3.3. Overview of MySQL Cluster Configuration Parameters">Section 17.3.3, “Overview of MySQL Cluster Configuration Parameters”</a>.
      </p><p>
        MySQL Cluster NDB 7.3 supports the addition of new data node
        groups online, to a running cluster. For more information, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="17.5.13. Adding MySQL Cluster Data Nodes Online">Section 17.5.13, “Adding MySQL Cluster Data Nodes Online”</a>.
</p>
<div class="table">
<a name="ndbparam-summary-table-ndbd"></a><p class="title"><b>Table 17.1. Data Node Configuration Parameters</b></p>
<div class="table-contents">
<table summary="This table describes MySQL Cluster Data Node configuration
      parameters" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">Parameter Name</th><th scope="col">Type or Units</th><th scope="col" rowspan="3" align="center" valign="middle">Restart Type</th><th scope="col" rowspan="3" align="center" valign="middle">In Version ... (and later)</th></tr><tr><th scope="col">Default Value</th></tr><tr><th scope="col">Minimum/Maximum or Permitted Values</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitration">Arbitration</a></code>
            </p></td><td>enumeration</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">Default</td></tr><tr><td scope="row">Default, Disabled, WaitExternal</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-arbitrationtimeout">ArbitrationTimeout</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">7500</td></tr><tr><td scope="row">10 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupdatabuffersize">BackupDataBufferSize</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">16M</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupdatadir">BackupDataDir</a></code>
            </p></td><td>path</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">FileSystemPath</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backuplogbuffersize">BackupLogBufferSize</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">16M</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupmaxwritesize">BackupMaxWriteSize</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1M</td></tr><tr><td scope="row">2K / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupmemory">BackupMemory</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">32M</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupreportfrequency">BackupReportFrequency</a></code>
            </p></td><td>seconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupwritesize">BackupWriteSize</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256K</td></tr><tr><td scope="row">2K / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-batchsizeperlocalscan">BatchSizePerLocalScan</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256</td></tr><tr><td scope="row">1 / 992</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-buildindexthreads">BuildIndexThreads</a></code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 128</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-compressedbackup">CompressedBackup</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-compressedlcp">CompressedLCP</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-connectcheckintervaldelay">ConnectCheckIntervalDelay</a></code>
            </p></td><td>string</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-crashoncorruptedtuple">CrashOnCorruptedTuple</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">true</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir">DataDir</a></code>
            </p></td><td>path</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">.</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory">DataMemory</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">80M</td></tr><tr><td scope="row">1M / 1024G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-defaulthashmapsize">DefaultHashMapSize</a></code>
            </p></td><td>LDM threads</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">3840</td></tr><tr><td scope="row">0 / 3840</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-dicttrace" title="Debugging Parameters">DictTrace</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">undefined</td></tr><tr><td scope="row">0 / 100</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskcheckpointspeed">DiskCheckpointSpeed</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">10M</td></tr><tr><td scope="row">1M / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskcheckpointspeedinrestart">DiskCheckpointSpeedInRestart</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">100M</td></tr><tr><td scope="row">1M / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskiothreadpool">DiskIOThreadPool</a></code>
            </p></td><td>threads</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskless">Diskless</a></code>
            </p></td><td>true|false (1|0)</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskpagebuffermemory">DiskPageBufferMemory</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">64M</td></tr><tr><td scope="row">4M / 1T</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-disksyncsize">DiskSyncSize</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">4M</td></tr><tr><td scope="row">32K / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-executeoncomputer">ExecuteOnComputer</a></code>
            </p></td><td>name</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-extrasendbuffermemory">ExtraSendBufferMemory</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 32G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempath">FileSystemPath</a></code>
            </p></td><td>path</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">DataDir</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdatafiles">FileSystemPathDataFiles</a></code>
            </p></td><td>filename</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[see text]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd">FileSystemPathDD</a></code>
            </p></td><td>filename</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">FileSystemPath</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathundofiles">FileSystemPathUndoFiles</a></code>
            </p></td><td>filename</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[see text]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-fragmentlogfilesize">FragmentLogFileSize</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">16M</td></tr><tr><td scope="row">4M / 1G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatintervaldbapi">HeartbeatIntervalDbApi</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1500</td></tr><tr><td scope="row">100 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatintervaldbdb">HeartbeatIntervalDbDb</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">5000</td></tr><tr><td scope="row">10 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-heartbeatorder">HeartbeatOrder</a></code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 65535</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-hostname">HostName</a></code>
            </p></td><td>name or IP address</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">localhost</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-id">Id</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 48</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory">IndexMemory</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">18M</td></tr><tr><td scope="row">1M / 1T</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-initfragmentlogfiles">InitFragmentLogFiles</a></code>
            </p></td><td>[see values]</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">SPARSE</td></tr><tr><td scope="row">SPARSE, FULL</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-initiallogfilegroup">InitialLogFileGroup</a></code>
            </p></td><td>string</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[see text]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-initialnoofopenfiles">InitialNoOfOpenFiles</a></code>
            </p></td><td>files</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">27</td></tr><tr><td scope="row">20 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-initialtablespace">InitialTablespace</a></code>
            </p></td><td>string</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[see text]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskiothreadpool">IOThreadPool</a></code>
            </p></td><td>threads</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">8</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockexecutethreadtocpu">LockExecuteThreadToCPU</a></code>
            </p></td><td>CPU ID</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">64K</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockmaintthreadstocpu">LockMaintThreadsToCPU</a></code>
            </p></td><td>CPU ID</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-lockpagesinmainmemory">LockPagesInMainMemory</a></code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 2</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelcheckpoint">LogLevelCheckpoint</a></code>
            </p></td><td>log level</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelcongestion">LogLevelCongestion</a></code>
            </p></td><td>levelr</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelconnection">LogLevelConnection</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelerror">LogLevelError</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelinfo">LogLevelInfo</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelnoderestart">LogLevelNodeRestart</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelshutdown">LogLevelShutdown</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelstartup">LogLevelStartup</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-loglevelstatistic">LogLevelStatistic</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 15</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-longmessagebuffer">LongMessageBuffer</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">4M</td></tr><tr><td scope="row">512K / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxallocate">MaxAllocate</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">32M</td></tr><tr><td scope="row">1M / 1G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxbufferedepochs">MaxBufferedEpochs</a></code>
            </p></td><td>epochs</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">100</td></tr><tr><td scope="row">0 / 100000</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxdmloperationspertransaction">MaxDMLOperationsPerTransaction</a></code>
            </p></td><td>operations (DML)</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">4294967295</td></tr><tr><td scope="row">32 / 4294967295</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxlcpstartdelay">MaxLCPStartDelay</a></code>
            </p></td><td>seconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 600</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofattributes">MaxNoOfAttributes</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1000</td></tr><tr><td scope="row">32 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentindexoperations">MaxNoOfConcurrentIndexOperations</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">8K</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentoperations">MaxNoOfConcurrentOperations</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">32K</td></tr><tr><td scope="row">32 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentscans">MaxNoOfConcurrentScans</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256</td></tr><tr><td scope="row">2 / 500</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrentsuboperations">MaxNoOfConcurrentSubOperations</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofconcurrenttransactions">MaxNoOfConcurrentTransactions</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">4096</td></tr><tr><td scope="row">32 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooffiredtriggers">MaxNoOfFiredTriggers</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">4000</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooflocaloperations">MaxNoOfLocalOperations</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">UNDEFINED</td></tr><tr><td scope="row">32 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooflocalscans">MaxNoOfLocalScans</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">UNDEFINED</td></tr><tr><td scope="row">32 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofopenfiles">MaxNoOfOpenFiles</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">20 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooforderedindexes">MaxNoOfOrderedIndexes</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">128</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofsavedmessages">MaxNoOfSavedMessages</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">25</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofsubscribers">MaxNoOfSubscribers</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofsubscriptions">MaxNoOfSubscriptions</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables">MaxNoOfTables</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">128</td></tr><tr><td scope="row">8 / 20320</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftriggers">MaxNoOfTriggers</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">768</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofuniquehashindexes">MaxNoOfUniqueHashIndexes</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">64</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxparallelscansperfragment">MaxParallelScansPerFragment</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256</td></tr><tr><td scope="row">1 / 1G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxstartfailretries">MaxStartFailRetries</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">3</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-memreportfrequency">MemReportFrequency</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-minfreepct">MinFreePct</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">5</td></tr><tr><td scope="row">0 / 100</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-nodegroup">NodeGroup</a></code>
            </p></td><td> </td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 65536</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-nodeid">NodeId</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 48</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-nooffragmentlogfiles">NoOfFragmentLogFiles</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">16</td></tr><tr><td scope="row">3 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-noofreplicas">NoOfReplicas</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2</td></tr><tr><td scope="row">1 / 4</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-numa">Numa</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-odirect">ODirect</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-realtimescheduler">RealtimeScheduler</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-redobuffer">RedoBuffer</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">32M</td></tr><tr><td scope="row">1M / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitcounter">RedoOverCommitCounter</a></code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">3</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-redoovercommitlimit">RedoOverCommitLimit</a></code>
            </p></td><td>seconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">20</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-reservedsendbuffermemory">ReservedSendBufferMemory</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256K</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-restartonerrorinsert">RestartOnErrorInsert</a></code>
            </p></td><td>error code</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2</td></tr><tr><td scope="row">0 / 4</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-schedulerexecutiontimer">SchedulerExecutionTimer</a></code>
            </p></td><td>µsec</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">50</td></tr><tr><td scope="row">0 / 11000</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-schedulerspintimer">SchedulerSpinTimer</a></code>
            </p></td><td>µsec</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 500</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-serverport">ServerPort</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-sharedglobalmemory">SharedGlobalMemory</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">128M</td></tr><tr><td scope="row">0 / 64T</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-startfailretrydelay">StartFailRetryDelay</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-startfailuretimeout">StartFailureTimeout</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-startnonodegrouptimeout">StartNoNodeGroupTimeout</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">15000</td></tr><tr><td scope="row">0 / 4294967039</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-startpartialtimeout">StartPartialTimeout</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">30000</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-startpartitionedtimeout">StartPartitionedTimeout</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">60000</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-startupstatusreportfrequency">StartupStatusReportFrequency</a></code>
            </p></td><td>seconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-stoponerror">StopOnError</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">true</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-stringmemory">StringMemory</a></code>
            </p></td><td>% or bytes</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">25</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-tcpbind_inaddr_any">TcpBind_INADDR_ANY</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochs">TimeBetweenEpochs</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">100</td></tr><tr><td scope="row">0 / 32000</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochstimeout">TimeBetweenEpochsTimeout</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">4000</td></tr><tr><td scope="row">0 / 256000</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenglobalcheckpoints">TimeBetweenGlobalCheckpoints</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2000</td></tr><tr><td scope="row">20 / 32000</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweeninactivetransactionabortcheck">TimeBetweenInactiveTransactionAbortCheck</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1000</td></tr><tr><td scope="row">1000 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenlocalcheckpoints">TimeBetweenLocalCheckpoints</a></code>
            </p></td><td>number of 4-byte words, as a base-2 logarithm</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">20</td></tr><tr><td scope="row">0 / 31</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenwatchdogcheck">TimeBetweenWatchDogCheck</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">6000</td></tr><tr><td scope="row">70 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenwatchdogcheckinitial">TimeBetweenWatchDogCheckInitial</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">6000</td></tr><tr><td scope="row">70 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-totalsendbuffermemory">TotalSendBufferMemory</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256K</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-transactionbuffermemory">TransactionBufferMemory</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1M</td></tr><tr><td scope="row">1K / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-transactiondeadlockdetectiontimeout">TransactionDeadlockDetectionTimeout</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1200</td></tr><tr><td scope="row">50 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-transactioninactivetimeout">TransactionInactiveTimeout</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">4G</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-twopassinitialnoderestartcopy">TwoPassInitialNodeRestartCopy</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-undodatabuffer">UndoDataBuffer</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">16M</td></tr><tr><td scope="row">1M / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbd-undoindexbuffer">UndoIndexBuffer</a></code>
</p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2M</td></tr><tr><td scope="row">1M / 4G</td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="table">
<a name="ndbparam-summary-table-ndbmtd"></a><p class="title"><b>Table 17.2. Multi-Threaded Data Node Configuration Parameters</b></p>
<div class="table-contents">
<table summary="This table describes MySQL Cluster Multi-Threaded Data
      Node configuration parameters" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">Parameter Name</th><th scope="col">Type or Units</th><th scope="col" rowspan="3" align="center" valign="middle">Restart Type</th><th scope="col" rowspan="3" align="center" valign="middle">In Version ... (and later)</th></tr><tr><th scope="col">Default Value</th></tr><tr><th scope="col">Minimum/Maximum or Permitted Values</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-maxnoofexecutionthreads">MaxNoOfExecutionThreads</a></code>
            </p></td><td>integer</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2</td></tr><tr><td scope="row">2 / 36</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-nooffragmentlogparts">NoOfFragmentLogParts</a></code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">IN</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">4</td></tr><tr><td scope="row">4, 8, 12, 16</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-threadconfig">ThreadConfig</a></code>
</p></td><td>string</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">''</td></tr><tr><td scope="row">...</td></tr></tbody></table>
</div>

</div>
<br class="table-break">
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-params-mgmd"></a>17.3.3.2. MySQL Cluster Management Node Configuration Parameters</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp113150944"></a><a class="indexterm" name="idp113152448"></a><a class="indexterm" name="idp113153536"></a><p>
        The summary table in this section provides information about
        parameters used in the <code class="literal">[ndb_mgmd]</code> or
        <code class="literal">[mgm]</code> sections of a
        <code class="filename">config.ini</code> file for configuring MySQL
        Cluster management nodes. For detailed descriptions and other
        additional information about each of these parameters, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-definition" title="17.3.2.5. Defining a MySQL Cluster Management Server">Section 17.3.2.5, “Defining a MySQL Cluster Management Server”</a>.
      </p><p><b>Restart types. </b>
          Changes in MySQL Cluster configuration parameters do not take
          effect until the cluster is restarted. The type of restart
          required to change a given parameter is indicated in the
          summary table as follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">N</code>—Node restart: The parameter can
            be updated using a rolling restart (see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="17.5.5. Performing a Rolling Restart of a MySQL Cluster">Section 17.5.5, “Performing a Rolling Restart of a MySQL Cluster”</a>).
          </p></li><li class="listitem"><p>
            <code class="literal">S</code>—System restart: The cluster must
            be shut down completely, then restarted, to effect a change
            in this parameter.
          </p></li><li class="listitem"><p>
            <code class="literal">I</code>—Initial restart: Data nodes must
            be restarted using the
            <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> option.
</p></li></ul>
</div>
<p>
        For more information about restart types, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-params-overview" title="17.3.3. Overview of MySQL Cluster Configuration Parameters">Section 17.3.3, “Overview of MySQL Cluster Configuration Parameters”</a>.
</p>
<div class="table">
<a name="ndbparam-summary-table-mgmd"></a><p class="title"><b>Table 17.3. Management Node Configuration Parameters</b></p>
<div class="table-contents">
<table summary="This table describes MySQL Cluster Management Node
      configuration parameters" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">Parameter Name</th><th scope="col">Type or Units</th><th scope="col" rowspan="3" align="center" valign="middle">Restart Type</th><th scope="col" rowspan="3" align="center" valign="middle">In Version ... (and later)</th></tr><tr><th scope="col">Default Value</th></tr><tr><th scope="col">Minimum/Maximum or Permitted Values</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-arbitrationdelay">ArbitrationDelay</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-arbitrationrank">ArbitrationRank</a></code>
            </p></td><td>0-2</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1</td></tr><tr><td scope="row">0 / 2</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-datadir">DataDir</a></code>
            </p></td><td>path</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">.</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-executeoncomputer">ExecuteOnComputer</a></code>
            </p></td><td>name</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-heartbeatthreadpriority">HeartbeatThreadPriority</a></code>
            </p></td><td>string</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-hostname">HostName</a></code>
            </p></td><td>name or IP address</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-id">Id</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 255</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-logdestination">LogDestination</a></code>
            </p></td><td>{CONSOLE|SYSLOG|FILE}</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[see text]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">MaxNoOfSavedEvents</code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">100</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-nodeid">NodeId</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 255</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-portnumber">PortNumber</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1186</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">PortNumberStats</code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-mgmd-totalsendbuffermemory">TotalSendBufferMemory</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256K</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">wan</code>
</p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          After making changes in a management node's
          configuration, it is necessary to perform a rolling restart of
          the cluster for the new configuration to take effect. See
          <a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-definition" title="17.3.2.5. Defining a MySQL Cluster Management Server">Section 17.3.2.5, “Defining a MySQL Cluster Management Server”</a>, for more
          information.
        </p><p xmlns="">
          To add new management servers to a running MySQL Cluster, it
          is also necessary perform a rolling restart of all cluster
          nodes after modifying any existing
          <code class="filename">config.ini</code> files. For more information
          about issues arising when using multiple management nodes, see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-multiple-nodes" title="17.1.6.10. Limitations Relating to Multiple MySQL Cluster Nodes">Section 17.1.6.10, “Limitations Relating to Multiple MySQL Cluster Nodes”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-params-api"></a>17.3.3.3. MySQL Cluster SQL Node and API Node Configuration Parameters</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp113278880"></a><a class="indexterm" name="idp113280384"></a><a class="indexterm" name="idp113281472"></a><p>
        The summary table in this section provides information about
        parameters used in the <code class="literal">[mysqld]</code> and
        <code class="literal">[api]</code> sections of a
        <code class="filename">config.ini</code> file for configuring MySQL
        Cluster SQL nodes and API nodes. For detailed descriptions and
        other additional information about each of these parameters, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-api-definition" title="17.3.2.7. Defining SQL and Other API Nodes in a MySQL Cluster">Section 17.3.2.7, “Defining SQL and Other API Nodes in a MySQL Cluster”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          For a discussion of MySQL server options for MySQL Cluster,
          see <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-mysqld" title="17.3.4.2. MySQL Server Options for MySQL Cluster">Section 17.3.4.2, “MySQL Server Options for MySQL Cluster”</a>;
          for information about MySQL server system variables relating
          to MySQL Cluster, see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-system-variables" title="17.3.4.3. MySQL Cluster System Variables">Section 17.3.4.3, “MySQL Cluster System Variables”</a>.
</p>
</div>
<p><b>Restart types. </b>
          Changes in MySQL Cluster configuration parameters do not take
          effect until the cluster is restarted. The type of restart
          required to change a given parameter is indicated in the
          summary table as follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">N</code>—Node restart: The parameter can
            be updated using a rolling restart (see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="17.5.5. Performing a Rolling Restart of a MySQL Cluster">Section 17.5.5, “Performing a Rolling Restart of a MySQL Cluster”</a>).
          </p></li><li class="listitem"><p>
            <code class="literal">S</code>—System restart: The cluster must
            be shut down completely, then restarted, to effect a change
            in this parameter.
          </p></li><li class="listitem"><p>
            <code class="literal">I</code>—Initial restart: Data nodes must
            be restarted using the
            <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> option.
</p></li></ul>
</div>
<p>
        For more information about restart types, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-params-overview" title="17.3.3. Overview of MySQL Cluster Configuration Parameters">Section 17.3.3, “Overview of MySQL Cluster Configuration Parameters”</a>.
</p>
<div class="table">
<a name="ndbparam-summary-table-api"></a><p class="title"><b>Table 17.4. SQL Node / API Node Configuration Parameters</b></p>
<div class="table-contents">
<table summary="This table describes MySQL Cluster SQL Node / API Node
      configuration parameters" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">Parameter Name</th><th scope="col">Type or Units</th><th scope="col" rowspan="3" align="center" valign="middle">Restart Type</th><th scope="col" rowspan="3" align="center" valign="middle">In Version ... (and later)</th></tr><tr><th scope="col">Default Value</th></tr><tr><th scope="col">Minimum/Maximum or Permitted Values</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-arbitrationdelay">ArbitrationDelay</a></code>
            </p></td><td>milliseconds</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-arbitrationrank">ArbitrationRank</a></code>
            </p></td><td>0-2</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 2</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-autoreconnect">AutoReconnect</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-batchbytesize">BatchByteSize</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">16K</td></tr><tr><td scope="row">1024 / 1M</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-batchsize">BatchSize</a></code>
            </p></td><td>records</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256</td></tr><tr><td scope="row">1 / 992</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">ConnectionMap</code>
            </p></td><td>string</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-defaulthashmapsize">DefaultHashMapSize</a></code>
            </p></td><td>LDM threads</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">3840</td></tr><tr><td scope="row">0 / 3840</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-defaultoperationredoproblemaction">DefaultOperationRedoProblemAction</a></code>
            </p></td><td>enumeration</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">QUEUE</td></tr><tr><td scope="row">ABORT, QUEUE</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-executeoncomputer">ExecuteOnComputer</a></code>
            </p></td><td>name</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-heartbeatthreadpriority">HeartbeatThreadPriority</a></code>
            </p></td><td>string</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-hostname">HostName</a></code>
            </p></td><td>name or IP address</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-id">Id</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 255</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-maxscanbatchsize">MaxScanBatchSize</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256K</td></tr><tr><td scope="row">32K / 16M</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-nodeid">NodeId</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">1 / 255</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-api-totalsendbuffermemory">TotalSendBufferMemory</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">256K</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">wan</code>
</p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          To add new SQL or API nodes to the configuration of a running
          MySQL Cluster, it is necessary to perform a rolling restart of
          all cluster nodes after adding new <code class="literal">[mysqld]</code>
          or <code class="literal">[api]</code> sections to the
          <code class="filename">config.ini</code> file (or files, if you are
          using more than one management server). This must be done
          before the new SQL or API nodes can connect to the cluster.
        </p><p xmlns="">
          It is <span class="emphasis"><em>not</em></span> necessary to perform any
          restart of the cluster if new SQL or API nodes can employ
          previously unused API slots in the cluster configuration to
          connect to the cluster.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-params-other"></a>17.3.3.4. Other MySQL Cluster Configuration Parameters</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp113423920"></a><a class="indexterm" name="idp113425424"></a><a class="indexterm" name="idp113426512"></a><a class="indexterm" name="idp113427584"></a><a class="indexterm" name="idp113428656"></a><p>
        The summary tables in this section provide information about
        parameters used in the <code class="literal">[computer]</code>,
        <code class="literal">[tcp]</code>, <code class="literal">[shm]</code>, and
        <code class="literal">[sci]</code> sections of a
        <code class="filename">config.ini</code> file for configuring MySQL
        Cluster management nodes. For detailed descriptions and other
        additional information about individual parameters, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition" title="17.3.2.8. MySQL Cluster TCP/IP Connections">Section 17.3.2.8, “MySQL Cluster TCP/IP Connections”</a>,
        <a class="xref" href="mysql-cluster.html#mysql-cluster-shm-definition" title="17.3.2.10. MySQL Cluster Shared-Memory Connections">Section 17.3.2.10, “MySQL Cluster Shared-Memory Connections”</a>, or
        <a class="xref" href="mysql-cluster.html#mysql-cluster-sci-definition" title="17.3.2.11. SCI Transport Connections in MySQL Cluster">Section 17.3.2.11, “SCI Transport Connections in MySQL Cluster”</a>, as appropriate.
      </p><p><b>Restart types. </b>
          Changes in MySQL Cluster configuration parameters do not take
          effect until the cluster is restarted. The type of restart
          required to change a given parameter is indicated in the
          summary tables as follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">N</code>—Node restart: The parameter can
            be updated using a rolling restart (see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="17.5.5. Performing a Rolling Restart of a MySQL Cluster">Section 17.5.5, “Performing a Rolling Restart of a MySQL Cluster”</a>).
          </p></li><li class="listitem"><p>
            <code class="literal">S</code>—System restart: The cluster must
            be shut down completely, then restarted, to effect a change
            in this parameter.
          </p></li><li class="listitem"><p>
            <code class="literal">I</code>—Initial restart: Data nodes must
            be restarted using the
            <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> option.
</p></li></ul>
</div>
<p>
        For more information about restart types, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-params-overview" title="17.3.3. Overview of MySQL Cluster Configuration Parameters">Section 17.3.3, “Overview of MySQL Cluster Configuration Parameters”</a>.
</p>
<div class="table">
<a name="ndbparam-summary-table-computer"></a><p class="title"><b>Table 17.5. Computer Configuration Parameters</b></p>
<div class="table-contents">
<table summary="This table describes MySQL Cluster Computer configuration
      parameters" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">Parameter Name</th><th scope="col">Type or Units</th><th scope="col" rowspan="3" align="center" valign="middle">Restart Type</th><th scope="col" rowspan="3" align="center" valign="middle">In Version ... (and later)</th></tr><tr><th scope="col">Default Value</th></tr><tr><th scope="col">Minimum/Maximum or Permitted Values</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-computer-hostname">HostName</a></code>
            </p></td><td>name or IP address</td><td rowspan="3" align="center" valign="middle">S</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-computer-id">Id</a></code>
</p></td><td>string</td><td rowspan="3" align="center" valign="middle">IS</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="table">
<a name="ndbparam-summary-table-tcp"></a><p class="title"><b>Table 17.6. TCP Configuration Parameters</b></p>
<div class="table-contents">
<table summary="This table describes MySQL Cluster TCP configuration
      parameters" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">Parameter Name</th><th scope="col">Type or Units</th><th scope="col" rowspan="3" align="center" valign="middle">Restart Type</th><th scope="col" rowspan="3" align="center" valign="middle">In Version ... (and later)</th></tr><tr><th scope="col">Default Value</th></tr><tr><th scope="col">Minimum/Maximum or Permitted Values</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-checksum">Checksum</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">Group</code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">55</td></tr><tr><td scope="row">0 / 200</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-nodeid1">NodeId1</a></code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-nodeid2">NodeId2</a></code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">NodeIdServer</code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-overloadlimit">OverloadLimit</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-portnumber">PortNumber</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">Proxy</code>
            </p></td><td>string</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-receivebuffermemory">ReceiveBufferMemory</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2M</td></tr><tr><td scope="row">16K / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-sendbuffermemory">SendBufferMemory</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">2M</td></tr><tr><td scope="row">256K / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-sendsignalid">SendSignalId</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[see text]</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">TCP_MAXSEG_SIZE</code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 2G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-tcp_rcv_buf_size">TCP_RCV_BUF_SIZE</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.1</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 2G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-tcp-tcp_snd_buf_size">TCP_SND_BUF_SIZE</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.1</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 2G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">TcpBind_INADDR_ANY</code>
</p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="table">
<a name="ndbparam-summary-table-shm"></a><p class="title"><b>Table 17.7. Shared Memory Configuration Parameters</b></p>
<div class="table-contents">
<table summary="This table describes MySQL Cluster Shared Memory
      configuration parameters" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">Parameter Name</th><th scope="col">Type or Units</th><th scope="col" rowspan="3" align="center" valign="middle">Restart Type</th><th scope="col" rowspan="3" align="center" valign="middle">In Version ... (and later)</th></tr><tr><th scope="col">Default Value</th></tr><tr><th scope="col">Minimum/Maximum or Permitted Values</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-checksum">Checksum</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">true</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">Group</code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">35</td></tr><tr><td scope="row">0 / 200</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-nodeid1">NodeId1</a></code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-nodeid2">NodeId2</a></code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">NodeIdServer</code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">OverloadLimit</code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">PortNumber</code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-sendsignalid">SendSignalId</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-shmkey">ShmKey</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-shmsize">ShmSize</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">1M</td></tr><tr><td scope="row">64K / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-shm-signum">Signum</a></code>
</p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 4G</td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="table">
<a name="ndbparam-summary-table-sci"></a><p class="title"><b>Table 17.8. SCI Configuration Parameters</b></p>
<div class="table-contents">
<table summary="This table describes MySQL Cluster SCI configuration
      parameters" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="3" align="left" valign="middle">Parameter Name</th><th scope="col">Type or Units</th><th scope="col" rowspan="3" align="center" valign="middle">Restart Type</th><th scope="col" rowspan="3" align="center" valign="middle">In Version ... (and later)</th></tr><tr><th scope="col">Default Value</th></tr><tr><th scope="col">Minimum/Maximum or Permitted Values</th></tr></thead><tbody><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-checksum">Checksum</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">false</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">Group</code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">15</td></tr><tr><td scope="row">0 / 200</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-host1sciid0">Host1SciId0</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-host1sciid1">Host1SciId1</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-host2sciid0">Host2SciId0</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-host2sciid1">Host2SciId1</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-nodeid1">NodeId1</a></code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-nodeid2">NodeId2</a></code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">NodeIdServer</code>
            </p></td><td>numeric</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">...</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-overloadlimit">OverloadLimit</a></code>
            </p></td><td>bytes</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">0</td></tr><tr><td scope="row">0 / 4G</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal">PortNumber</code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">[none]</td></tr><tr><td scope="row">0 / 64K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-sendlimit">SendLimit</a></code>
            </p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">8K</td></tr><tr><td scope="row">128 / 32K</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-sendsignalid">SendSignalId</a></code>
            </p></td><td>boolean</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">true</td></tr><tr><td scope="row">true, false</td></tr><tr><td scope="row" rowspan="3" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#ndbparam-sci-sharedbuffersize">SharedBufferSize</a></code>
</p></td><td>unsigned</td><td rowspan="3" align="center" valign="middle">N</td><td rowspan="3" align="center" valign="middle">NDB 7.3.0</td></tr><tr><td scope="row">10M</td></tr><tr><td scope="row">64K / 4G</td></tr></tbody></table>
</div>

</div>
<br class="table-break">
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-options-variables"></a>17.3.4. MySQL Server Options and Variables for MySQL Cluster</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-option-tables">17.3.4.1. MySQL Cluster <span class="command"><strong>mysqld</strong></span> Option and Variable Reference</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-program-options-mysqld">17.3.4.2. MySQL Server Options for MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-system-variables">17.3.4.3. MySQL Cluster System Variables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-status-variables">17.3.4.4. MySQL Cluster Status Variables</a></span></dt></dl>
</div>
<a class="indexterm" name="idp113778672"></a><a class="indexterm" name="idp113780176"></a><p>
      This section provides information about MySQL server options,
      server and status variables that are specific to MySQL Cluster.
      For general information on using these, and for other options and
      variables not specific to MySQL Cluster, see
      <a class="xref" href="server-administration.html#mysqld-server" title="5.1. The MySQL Server">Section 5.1, “The MySQL Server”</a>.
    </p><p>
      For MySQL Cluster configuration parameters used in the cluster
      configuration file (usually named
      <code class="filename">config.ini</code>), see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-configuration" title="17.3. Configuration of MySQL Cluster NDB 7.3">Section 17.3, “Configuration of MySQL Cluster NDB 7.3”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-option-tables"></a>17.3.4.1. MySQL Cluster <span class="command"><strong>mysqld</strong></span> Option and Variable Reference</h4>
</div>
</div>
</div>
<p>
        The following table provides a list of the command-line options,
        server and status variables applicable within
        <code class="literal">mysqld</code> when it is running as an SQL node in a
        MySQL Cluster. For a table showing <span class="emphasis"><em>all</em></span>
        command-line options, server and status variables available for
        use with <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, see
        <a class="xref" href="server-administration.html#mysqld-option-tables" title="5.1.1. Server Option and Variable Reference">Section 5.1.1, “Server Option and Variable Reference”</a>.
</p>
<div class="table">
<a name="mysql-cluster-mysqld-optvars-table"></a><p class="title"><b>Table 17.9. MySQL Cluster <span class="command">mysqld</span> Options and Variables: MySQL
Cluster NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes MySQL Server options and variables
      relating to MySQL Cluster" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"></colgroup><thead><tr><th scope="col" rowspan="2" align="left" valign="middle">Option or Variable Name</th><th scope="col">Command Line</th><th scope="col">System Variable</th><th scope="col">Scope</th></tr><tr><th scope="col">Option File</th><th scope="col">Status Variable</th><th scope="col">Dynamic</th></tr><tr><th scope="col" colspan="4">Notes</th></tr></thead><tbody><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Handler_discover">Handler_discover</a></code>
            </p></td><td>N</td><td>N</td><td>Both</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              The number of times that tables have been discovered
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_exec_complete_count_session">Ndb_api_wait_exec_complete_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of times thread has been blocked while waiting for
              execution of an operation to complete in this client
              session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_exec_complete_count_slave">Ndb_api_wait_exec_complete_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of times thread has been blocked while waiting for
              execution of an operation to complete by this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_exec_complete_count">Ndb_api_wait_exec_complete_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of times thread has been blocked while waiting for
              execution of an operation to complete by this MySQL Server
              (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_scan_result_count_session">Ndb_api_wait_scan_result_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of times thread has been blocked while waiting for
              a scan-based signal in this client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_scan_result_count_slave">Ndb_api_wait_scan_result_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of times thread has been blocked while waiting for
              a scan-based signal by this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_scan_result_count">Ndb_api_wait_scan_result_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of times thread has been blocked while waiting for
              a scan-based signal by this MySQL Server (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_meta_request_count_session">Ndb_api_wait_meta_request_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of times thread has been blocked waiting for a
              metadata-based signal in this client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_meta_request_count_slave">Ndb_api_wait_meta_request_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of times thread has been blocked waiting for a
              metadata-based signal by this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_meta_request_count">Ndb_api_wait_meta_request_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of times thread has been blocked waiting for a
              metadata-based signal by this MySQL Server (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count_session">Ndb_api_wait_nanos_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Total time (in nanoseconds) spent waiting for some type of
              signal from the data nodes in this client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count_slave">Ndb_api_wait_nanos_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Total time (in nanoseconds) spent waiting for some type of
              signal from the data nodes by this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count">Ndb_api_wait_nanos_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Total time (in nanoseconds) spent waiting for some type of
              signal from the data nodes by this MySQL Server (SQL
              node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_sent_count_session">Ndb_api_bytes_sent_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Amount of data (in bytes) sent to the data nodes in this
              client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_sent_count_slave">Ndb_api_bytes_sent_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Amount of data (in bytes) sent to the data nodes by this
              slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_sent_count">Ndb_api_bytes_sent_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Amount of data (in bytes) sent to the data nodes by this
              MySQL Server (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_received_count_session">Ndb_api_bytes_received_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Amount of data (in bytes) received from the data nodes in
              this client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_received_count_slave">Ndb_api_bytes_received_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Amount of data (in bytes) received from the data nodes by
              this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_received_count">Ndb_api_bytes_received_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Amount of data (in bytes) received from the data nodes by
              this MySQL Server (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_start_count_session">Ndb_api_trans_start_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of transactions started in this client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_start_count_slave">Ndb_api_trans_start_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of transactions started by this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_start_count">Ndb_api_trans_start_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of transactions started by this MySQL Server (SQL
              node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count_session">Ndb_api_trans_commit_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of transactions committed in this client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count_slave">Ndb_api_trans_commit_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of transactions committed by this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count">Ndb_api_trans_commit_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of transactions committed by this MySQL Server (SQL
              node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count_session">Ndb_api_trans_abort_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of transactions aborted in this client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count_slave">Ndb_api_trans_abort_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of transactions aborted by this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count">Ndb_api_trans_abort_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of transactions aborted by this MySQL Server (SQL
              node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_close_count_session">Ndb_api_trans_close_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of transactions aborted (may be greater than the
              sum of TransCommitCount and TransAbortCount) in this
              client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_close_count_slave">Ndb_api_trans_close_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of transactions aborted (may be greater than the
              sum of TransCommitCount and TransAbortCount) by this
              slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_close_count">Ndb_api_trans_close_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of transactions aborted (may be greater than the
              sum of TransCommitCount and TransAbortCount) by this MySQL
              Server (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_pk_op_count_session">Ndb_api_pk_op_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of operations based on or using primary keys in
              this client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_pk_op_count_slave">Ndb_api_pk_op_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of operations based on or using primary keys by
              this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_pk_op_count">Ndb_api_pk_op_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of operations based on or using primary keys by
              this MySQL Server (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_uk_op_count_session">Ndb_api_uk_op_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of operations based on or using unique keys in this
              client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_uk_op_count_slave">Ndb_api_uk_op_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of operations based on or using unique keys by this
              slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_uk_op_count">Ndb_api_uk_op_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of operations based on or using unique keys by this
              MySQL Server (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_table_scan_count_session">Ndb_api_table_scan_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of table scans that have been started, including
              scans of internal tables, in this client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_table_scan_count_slave">Ndb_api_table_scan_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of table scans that have been started, including
              scans of internal tables, by this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_table_scan_count">Ndb_api_table_scan_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of table scans that have been started, including
              scans of internal tables, by this MySQL Server (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_range_scan_count_session">Ndb_api_range_scan_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of range scans that have been started in this
              client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_range_scan_count_slave">Ndb_api_range_scan_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of range scans that have been started by this
              slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_range_scan_count">Ndb_api_range_scan_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of range scans that have been started by this MySQL
              Server (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_pruned_scan_count_session">Ndb_api_pruned_scan_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of scans that have been pruned to a single
              partition in this client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_pruned_scan_count_slave">Ndb_api_pruned_scan_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of scans that have been pruned to a single
              partition by this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_pruned_scan_count">Ndb_api_pruned_scan_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of scans that have been pruned to a single
              partition by this MySQL Server (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_scan_batch_count_session">Ndb_api_scan_batch_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of batches of rows received in this client session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_scan_batch_count_slave">Ndb_api_scan_batch_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of batches of rows received by this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_scan_batch_count">Ndb_api_scan_batch_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of batches of rows received by this MySQL Server
              (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_read_row_count_session">Ndb_api_read_row_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Total number of rows that have been read in this client
              session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_read_row_count_slave">Ndb_api_read_row_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Total number of rows that have been read by this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_read_row_count">Ndb_api_read_row_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Total number of rows that have been read by this MySQL
              Server (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_local_read_row_count_session">Ndb_api_trans_local_read_row_count_session</a></code>
            </p></td><td>N</td><td>N</td><td>Session</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Total number of rows that have been read in this client
              session.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_local_read_row_count_slave">Ndb_api_trans_local_read_row_count_slave</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Total number of rows that have been read by this slave.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_local_read_row_count">Ndb_api_trans_local_read_row_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Total number of rows that have been read by this MySQL
              Server (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_data_count_injector">Ndb_api_event_data_count_injector</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of row change events received by the NDB binlog
              injector thread.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_data_count">Ndb_api_event_data_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of row change events received by this MySQL Server
              (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_nondata_count_injector">Ndb_api_event_nondata_count_injector</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of events received, other than row change events,
              by the NDB binlog injector thread.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_nondata_count">Ndb_api_event_nondata_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of events received, other than row change events,
              by this MySQL Server (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_bytes_count_injector">Ndb_api_event_bytes_count_injector</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of bytes of events received by the NDB binlog
              injector thread.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_bytes_count">Ndb_api_event_bytes_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of bytes of events received by this MySQL Server
              (SQL node).
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_number_of_data_nodes">Ndb_number_of_data_nodes</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              If the server is part of a MySQL Cluster, the value of
              this variable is the number of data nodes in the cluster
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_max">Ndb_conflict_fn_max</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              If the server is part of a MySQL Cluster involved in
              cluster replication, the value of this variable indicates
              the number of times that conflict resolution based on
              "greater timestamp wins" has been applied
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_old">Ndb_conflict_fn_old</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              If the server is part of a MySQL Cluster involved in
              cluster replication, the value of this variable indicates
              the number of times that "same timestamp wins" conflict
              resolution has been applied
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_epoch">Ndb_conflict_fn_epoch</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of rows that have been found in conflict by the
              NDB$EPOCH() conflict detection function
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_epoch_trans">Ndb_conflict_fn_epoch_trans</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of rows that have been found in conflict by the
              NDB$EPOCH_TRANS() conflict detection function
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_trans_row_conflict_count">Ndb_conflict_trans_row_conflict_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of rows found to be in conflict by a transactional
              conflict function
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_trans_row_reject_count">Ndb_conflict_trans_row_reject_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Total number of rows realigned after being found in
              conflict by a transactional conflict function. Includes
              Ndb_conflict_trans_row_conflict_count and any rows
              included in or dependent on conflicting transactions.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_trans_reject_count">Ndb_conflict_trans_reject_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of transactions rejected after being found in
              conflict by a transactional conflict function.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_trans_detect_iter_count">Ndb_conflict_trans_detect_iter_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              The number of internal iterations required to commit an
              epoch transaction. Should be (slightly) greater than or
              equal to Ndb_conflict_trans_conflict_commit_count.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_trans_conflict_commit_count">Ndb_conflict_trans_conflict_commit_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              The number of epoch transactions committed after requiring
              transactional conflict handling.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb_optimization_delay">ndb_optimization_delay</a></code>
            </p></td><td>N</td><td>Y</td><td>Global</td></tr><tr><td scope="row">N</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Sets the number of milliseconds to wait between processing
              sets of rows by OPTIMIZE TABLE on NDB tables.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_table_temporary">ndb_table_temporary</a></code>
            </p></td><td>N</td><td>Y</td><td>Session</td></tr><tr><td scope="row">N</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              NDB tables are not persistent on disk: no schema files are
              created and the tables are not logged
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_table_no_logging">ndb_table_no_logging</a></code>
            </p></td><td>N</td><td>Y</td><td>Session</td></tr><tr><td scope="row">N</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              NDB tables created when this setting is enabled are not
              checkpointed to disk (although table schema files are
              created). The setting in effect when the table is created
              with or altered to use NDBCLUSTER persists for the
              lifetime of the table.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_autoincrement_prefetch_sz">ndb_autoincrement_prefetch_sz</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              NDB auto-increment prefetch size
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-batch-size">ndb-batch-size</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              The size (in bytes) to use for NDB transaction batches
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-blob-read-batch-bytes">ndb-blob-read-batch-bytes</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Specifies the size in bytes that large BLOB reads should
              be batched into. 0 = no limit.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-blob-write-batch-bytes">ndb-blob-write-batch-bytes</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Specifies the size in bytes that large BLOB writes should
              be batched into. 0 = no limit.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_cache_check_time">ndb_cache_check_time</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              The number of milliseconds between checks of cluster SQL
              nodes made by the MySQL query cache
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-cluster-connection-pool">ndb-cluster-connection-pool</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              The number of connections to the cluster used by MySQL
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_join_pushdown">ndb_join_pushdown</a></code>
            </p></td><td>N</td><td>Y</td><td>Global</td></tr><tr><td scope="row">N</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Enables pushing down of joins to data nodes
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_execute_count">Ndb_execute_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Provides the number of round trips to the NDB kernel made
              by operations
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_scan_count">Ndb_scan_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              The total number of scans executed by NDB since the
              cluster was last started
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_pruned_scan_count">Ndb_pruned_scan_count</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              The number of scans executed by NDB since the cluster was
              last started where partition pruning could be used
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-connectstring">ndb-connectstring</a></code>
            </p></td><td>Y</td><td>N</td><td> </td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              The management server that distributes the cluster
              configuration
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_extra_logging">ndb_extra_logging</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Controls logging of MySQL Cluster schema, connection, and
              data distribution events in the MySQL error log
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_force_send">ndb_force_send</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Forces sending of buffers to NDB immediately, without
              waiting for other threads
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_use_exact_count">ndb_use_exact_count</a></code>
            </p></td><td>N</td><td>Y</td><td>Both</td></tr><tr><td scope="row">N</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Use exact row count when planning queries
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-apply-status">ndb-log-apply-status</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Cause a MySQL server acting as a slave to log
              mysql.ndb_apply_status updates received from its immediate
              master in its own binary log, using its own server ID.
              Effective only if the server is started with the
              --ndbcluster option.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_bin">ndb_log_bin</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">N</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Write updates to NDB tables in the binary log. Effective
              only if binary logging is enabled with --log-bin.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_binlog_index">ndb_log_binlog_index</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">N</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Insert mapping between epochs and binary log positions
              into the ndb_binlog_index table. Defaults to ON. Effective
              only if binary logging is enabled on the server.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/mysql-cluster-program-options-mysqld.html#option_mysqld_ndb-log-orig" target="_top">ndb-log-orig</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Log originating server id and epoch in
              mysql.ndb_binlog_index table.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-transaction-id">ndb-log-transaction-id</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Write NDB transaction IDs in the binary log. Requires
              --log-bin-v1-events=OFF.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_transaction_id">ndb_log_transaction_id</a></code>
            </p></td><td>N</td><td>Y</td><td>Global</td></tr><tr><td scope="row">N</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Whether NDB transaction IDs are written into the binary
              log. (Read-only.)
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-updated-only">ndb_log_updated_only</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Log complete rows (ON) or updates only (OFF)
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-update-as-write">ndb-log-update-as-write</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Toggles logging of updates on the master between updates
              (OFF) and writes (ON)
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-empty-epochs">ndb-log-empty-epochs</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              When enabled, causes epochs in which there were no changes
              to be written to the ndb_apply_status and ndb_binlog_index
              tables, even when --log-slave-updates is enabled.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_empty_epochs">ndb_log_empty_epochs</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              When enabled, epochs in which there were no changes are
              written to the ndb_apply_status and ndb_binlog_index
              tables, even when log_slave_updates is enabled.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-transid-mysql-connection-map">ndb-transid-mysql-connection-map</a></code>
            </p></td><td>Y</td><td>N</td><td> </td></tr><tr><td scope="row">N</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Enable or disable the ndb_transid_mysql_connection_map
              plugin; that is, enable or disable the INFORMATION_SCHEMA
              table having that name.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_reads">Ndb_pushed_reads</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of reads executed on the data nodes by pushed-down
              joins
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_queries_defined">Ndb_pushed_queries_defined</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of joins that API nodes have attempted to push down
              to the data nodes
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_queries_dropped">Ndb_pushed_queries_dropped</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of joins that API nodes have tried to push down,
              but failed
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_queries_executed">Ndb_pushed_queries_executed</a></code>
            </p></td><td>N</td><td>N</td><td>Global</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Number of joins successfully pushed down and executed on
              the data nodes
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-nodeid">ndb-nodeid</a></code>
            </p></td><td>Y</td><td>N</td><td>Global</td></tr><tr><td scope="row">Y</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              MySQL Cluster node ID for this MySQL server
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-mgmd-host">ndb-mgmd-host</a></code>
            </p></td><td>Y</td><td>N</td><td> </td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Set the host (and port, if desired) for connecting to the
              management server
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-recv-thread-activation-threshold">ndb-recv-thread-activation-threshold</a></code>
            </p></td><td>Y</td><td>N</td><td> </td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Activation threshold when receive thread takes over the
              polling of the cluster connection (measured in
              concurrently active threads)
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_recv_thread_activation_threshold">ndb_recv_thread_activation_threshold</a></code>
            </p></td><td>N</td><td>N</td><td> </td></tr><tr><td scope="row">N</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Activation threshold when receive thread takes over the
              polling of the cluster connection (measured in
              concurrently active threads)
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-recv-thread-cpu-mask">ndb-recv-thread-cpu-mask</a></code>
            </p></td><td>Y</td><td>N</td><td> </td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              CPU mask for locking receiver threads to specific CPUs;
              specified as hexadecimal. See documentation for details.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_recv_thread_cpu_mask">ndb_recv_thread_cpu_mask</a></code>
            </p></td><td>N</td><td>Y</td><td>Global</td></tr><tr><td scope="row">N</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              CPU mask for locking receiver threads to specific CPUs;
              specified as hexadecimal. See documentation for details.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-wait-connected">ndb-wait-connected</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Time (in seconds) for the MySQL server to wait for
              connection to cluster management and data nodes before
              accepting MySQL client connections.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-wait-setup">ndb-wait-setup</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Time (in seconds) for the MySQL server to wait for NDB
              engine setup to complete.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster">ndbcluster</a></code>
            </p></td><td>Y</td><td>N</td><td> </td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Enable NDB Cluster (if this version of MySQL supports it)
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_database">ndbinfo_database</a></code>
            </p></td><td>N</td><td>Y</td><td>Global</td></tr><tr><td scope="row">N</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              The name used for the NDB information database; read only.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_max_bytes">ndbinfo_max_bytes</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">N</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Used for debugging only.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_max_rows">ndbinfo_max_rows</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">N</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Used for debugging only.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_show_hidden">ndbinfo_show_hidden</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">N</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Whether to show ndbinfo internal base tables in the mysql
              client. The default is OFF.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_table_prefix">ndbinfo_table_prefix</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">N</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              The prefix to use for naming ndbinfo internal base tables.
              Defaults to 'ndb$'.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_version">ndbinfo_version</a></code>
            </p></td><td>N</td><td>Y</td><td>Global</td></tr><tr><td scope="row">N</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              The version of the ndbinfo engine; read only.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_server-id-bits">server-id-bits</a></code>
            </p></td><td>Y</td><td>Y</td><td>Global</td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Sets the number of least significant bits in the server_id
              actually used for identifying the server, permitting NDB
              API applications to store application data in the most
              significant bits. server_id must be less than 2 to the
              power of this value.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_transaction_allow_batching">transaction_allow_batching</a></code>
            </p></td><td>N</td><td>Y</td><td>Session</td></tr><tr><td scope="row">N</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Allows batching of statements within a transaction.
              Disable AUTOCOMMIT to use.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_have_ndbcluster">have_ndbcluster</a></code>
            </p></td><td>N</td><td>Y</td><td>Global</td></tr><tr><td scope="row">N</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Whether mysqld supports NDB Cluster tables (set by
              --ndbcluster option)
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-deferred-constraints">ndb-deferred-constraints</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Specifies that constraint checks on unique indexes (where
              these are supported) should be deferred until commit time.
              Not normally needed or used; for testing purposes only.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_deferred_constraints">ndb_deferred_constraints</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Specifies that constraint checks should be deferred (where
              these are supported). Not normally needed or used; for
              testing purposes only.
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_mysqld_ndb-distribution">ndb-distribution</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Default distribution for new tables in NDBCLUSTER (KEYHASH
              or LINHASH, default is KEYHASH)
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_distribution">ndb_distribution</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Default distribution for new tables in NDBCLUSTER (KEYHASH
              or LINHASH, default is KEYHASH)
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_optimized_node_selection">ndb_optimized_node_selection</a></code>
            </p></td><td>Y</td><td>N</td><td> </td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Determines how an SQL node chooses a cluster data node to
              use as transaction coordinator
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_report_thresh_binlog_epoch_slip">ndb_report_thresh_binlog_epoch_slip</a></code>
            </p></td><td>Y</td><td>N</td><td> </td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              This is a threshold on the number of epochs to be behind
              before reporting binlog status
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_report_thresh_binlog_mem_usage">ndb_report_thresh_binlog_mem_usage</a></code>
            </p></td><td>Y</td><td>N</td><td> </td></tr><tr><td scope="row">Y</td><td>N</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              This is a threshold on the percentage of free memory
              remaining before reporting binlog status
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_use_transactions">ndb_use_transactions</a></code>
            </p></td><td>Y</td><td>Y</td><td>Both</td></tr><tr><td scope="row">Y</td><td>N</td><td>Y</td></tr><tr><td scope="row" colspan="4"><p>
              Forces NDB to use a count of records during SELECT
              COUNT(*) query planning to speed up this type of query
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_cluster_node_id">Ndb_cluster_node_id</a></code>
            </p></td><td>N</td><td>N</td><td>Both</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              If the server is acting as a MySQL Cluster node, then the
              value of this variable its node ID in the cluster
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_config_from_host">Ndb_config_from_host</a></code>
            </p></td><td>N</td><td>N</td><td>Both</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              The host name or IP address of the Cluster management
              server. Formerly Ndb_connected_host
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_config_from_port">Ndb_config_from_port</a></code>
            </p></td><td>N</td><td>N</td><td>Both</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              The port for connecting to the Cluster management server.
              Formerly Ndb_connected_port
            </p></td></tr><tr><td scope="row" rowspan="2" valign="middle"><p>
              <code class="literal"><a class="link" href="server-administration.html#statvar_Com_xxx">Com_show_ndb_status</a></code>
            </p></td><td>N</td><td>N</td><td>Both</td></tr><tr><td scope="row">N</td><td>Y</td><td>N</td></tr><tr><td scope="row" colspan="4"><p>
              Count of SHOW NDB STATUS statements
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-program-options-mysqld"></a>17.3.4.2. MySQL Server Options for MySQL Cluster</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp114703456"></a><a class="indexterm" name="idp114704944"></a><a class="indexterm" name="idp114706432"></a><a class="indexterm" name="idp114707936"></a><a class="indexterm" name="idp114709424"></a><p>
        This section provides descriptions of <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
        server options relating to MySQL Cluster. For information about
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> options not specific to MySQL Cluster,
        and for general information about the use of options with
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, see <a class="xref" href="server-administration.html#server-options" title="5.1.3. Server Command Options">Section 5.1.3, “Server Command Options”</a>.
      </p><p>
        For information about command-line options used with other MySQL
        Cluster processes (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>,
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>, and <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>),
        see <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>. For
        information about command-line options used with
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> utility programs (such as
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a>, <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-size-pl" title="17.4.24. ndb_size.pl — NDBCLUSTER Size Requirement Estimator"><span class="command"><strong>ndb_size.pl</strong></span></a>, and
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-show-tables" title="17.4.23. ndb_show_tables — Display List of NDB Tables"><span class="command"><strong>ndb_show_tables</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-programs" title="17.4. MySQL Cluster Programs">Section 17.4, “MySQL Cluster Programs”</a>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqld_ndb-batch-size"></a>
            <a class="indexterm" name="idp114723360"></a>

            <a class="indexterm" name="idp114724848"></a>

            <code class="option">--ndb-batch-size=<em class="replaceable"><code>#</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for ndb-batch-size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-batch-size</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-batch-size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal">ndb_batch_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">32768</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 31536000</code></td></tr></tbody></table>
</div>
<p>
            This sets the size in bytes that is used for NDB transaction
            batches.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-cluster-connection-pool"></a>
            <a class="indexterm" name="idp114751376"></a>

            <a class="indexterm" name="idp114752880"></a>

            <code class="option">--ndb-cluster-connection-pool=<em class="replaceable"><code>#</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for ndb-cluster-connection-pool" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-cluster-connection-pool</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-cluster-connection-pool</code></td></tr><tr><td scope="row"><span class="bold"><strong>Status Variable Name</strong></span></td><td colspan="3"><code class="literal">Ndb_cluster_connection_pool</code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal">ndb_cluster_connection_pool</code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 63</code></td></tr></tbody></table>
</div>
<p>
            By setting this option to a value greater than 1 (the
            default), a <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process can use
            multiple connections to the cluster, effectively mimicking
            several SQL nodes. Each connection requires its own
            <code class="literal">[api]</code> or <code class="literal">[mysqld]</code>
            section in the cluster configuration
            (<code class="filename">config.ini</code>) file, and counts against
            the maximum number of API connections supported by the
            cluster.
          </p><p>
            Suppose that you have 2 cluster host computers, each running
            an SQL node whose <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process was
            started with
            <code class="option">--ndb-cluster-connection-pool=4</code>; this means
            that the cluster must have 8 API slots available for these
            connections (instead of 2). All of these connections are set
            up when the SQL node connects to the cluster, and are
            allocated to threads in a round-robin fashion.
          </p><p>
            This option is useful only when running
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> on host machines having multiple
            CPUs, multiple cores, or both. For best results, the value
            should be smaller than the total number of cores available
            on the host machine. Setting it to a value greater than this
            is likely to degrade performance severely.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              Because each SQL node using connection pooling occupies
              multiple API node slots—each slot having its own
              node ID in the cluster—you must
              <span class="emphasis"><em>not</em></span> use a node ID as part of the
              cluster connection string when starting any
              <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process that employs connection
              pooling.
            </p><p xmlns="">
              Setting a node ID in the connection string when using the
              <code class="option">--ndb-cluster-connection-pool</code> option
              causes node ID allocation errors when the SQL node
              attempts to connect to the cluster.
</p>
</div>
</li><li class="listitem"><p><a name="option_mysqld_ndb-blob-read-batch-bytes"></a>
            <a class="indexterm" name="idp114796016"></a>

            <a class="indexterm" name="idp114797520"></a>

            <code class="option">--ndb-blob-read-batch-bytes=<em class="replaceable"><code>bytes</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for ndb-blob-read-batch-bytes" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-blob-read-batch-bytes</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-blob-read-batch-bytes</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal">ndb_blob_read_batch_bytes</code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">65535</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 4294967295</code></td></tr></tbody></table>
</div>
<p>
            This option can be used to set the size (in bytes) for
            batching of <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> data reads
            in MySQL Cluster applications. When this batch size is
            exceeded by the amount of
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> data to be read within
            the current transaction, any pending
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> read operations are
            immediately executed.
          </p><p>
            The maximum value for this option is 4294967295; the default
            is 65535. Setting it to 0 has the effect of disabling
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> read batching.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              In NDB API applications, you can control
              <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> write batching with
              the
              <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndbtransaction-methods.html#ndb-ndbtransaction-setmaxpendingblobreadbytes" target="_top"><code class="literal">setMaxPendingBlobReadBytes()</code></a>
              and
              <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndbtransaction-methods.html#ndb-ndbtransaction-getmaxpendingblobreadbytes" target="_top"><code class="literal">getMaxPendingBlobReadBytes()</code></a>
              methods.
</p>
</div>
</li><li class="listitem"><p><a name="option_mysqld_ndb-blob-write-batch-bytes"></a>
            <a class="indexterm" name="idp114832016"></a>

            <a class="indexterm" name="idp114833520"></a>

            <code class="option">--ndb-blob-write-batch-bytes=<em class="replaceable"><code>bytes</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for ndb-blob-write-batch-bytes" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-blob-write-batch-bytes</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-blob-write-batch-bytes</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal">ndb_blob_write_batch_bytes</code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">65535</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 4294967295</code></td></tr></tbody></table>
</div>
<p>
            This option can be used to set the size (in bytes) for
            batching of <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> data writes
            in MySQL Cluster applications. When this batch size is
            exceeded by the amount of
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> data to be written
            within the current transaction, any pending
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> write operations are
            immediately executed.
          </p><p>
            The maximum value for this option is 4294967295; the default
            is 65535. Setting it to 0 has the effect of disabling
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> write batching.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              In NDB API applications, you can control
              <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> write batching with
              the
              <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndbtransaction-methods.html#ndb-ndbtransaction-setmaxpendingblobwritebytes" target="_top"><code class="literal">setMaxPendingBlobWriteBytes()</code></a>
              and
              <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndbtransaction-methods.html#ndb-ndbtransaction-getmaxpendingblobwritebytes" target="_top"><code class="literal">getMaxPendingBlobWriteBytes()</code></a>
              methods.
</p>
</div>
</li><li class="listitem"><p><a name="option_mysqld_ndb-connectstring"></a>
            <a class="indexterm" name="idp114868016"></a>

            <a class="indexterm" name="idp114869520"></a>

            <code class="option">--ndb-connectstring=<em class="replaceable"><code>connect_string</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for ndb-connectstring" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-connectstring</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-connectstring</code></td></tr><tr><td scope="row" rowspan="2"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr></tbody></table>
</div>
<p>
            When using the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>
            storage engine, this option specifies the management server
            that distributes cluster configuration data. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="17.3.2.3. MySQL Cluster Connection Strings">Section 17.3.2.3, “MySQL Cluster Connection Strings”</a>, for
            syntax.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-deferred-constraints"></a>
            <a class="indexterm" name="idp114887200"></a>

            <code class="option">--ndb-deferred-constraints=[TRUE|FALSE]</code>
</p>
<div class="informaltable">
<table summary="Options for ndb-deferred-constraints" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-deferred-constraints</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-deferred-constraints</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_deferred_constraints">ndb_deferred_constraints</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr></tbody></table>
</div>
<p>
            Controls whether or not constraint checks on unique indexes
            are deferred until commit time, where such checks are
            supported. <code class="literal">OFF</code> is the default.
          </p><p>
            This option is not normally needed for operation of MySQL
            Cluster or MySQL Cluster Replication, and is intended
            primarily for use in testing.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-distribution"></a>
            <a class="indexterm" name="idp114912656"></a>

            <code class="option">--ndb-distribution=[KEYHASH|LINHASH]</code>
</p>
<div class="informaltable">
<table summary="Options for ndb-distribution" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-distribution={KEYHASH|LINHASH}</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-distribution</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_distribution">ndb_distribution</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="5"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">KEYHASH</code></td></tr><tr><td scope="row" rowspan="2" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">LINHASH</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">KEYHASH</code></td></tr></tbody></table>
</div>
<p>
            Controls the default distribution method for
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables. Can be set to
            either of <code class="literal">KEYHASH</code> (key hashing) or
            <code class="literal">LINHASH</code> (linear hashing).
            <code class="literal">KEYHASH</code> is the default.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-mgmd-host"></a>
            <a class="indexterm" name="idp114943856"></a>

            <code class="option">--ndb-mgmd-host=<em class="replaceable"><code>host</code></em>[:<em class="replaceable"><code>port</code></em>]</code>
</p>
<div class="informaltable">
<table summary="Options for ndb-mgmd-host" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-mgmd-host=host[:port]</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-mgmd-host</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">localhost:1186</code></td></tr></tbody></table>
</div>
<p>
            Can be used to set the host and port number of a single
            management server for the program to connect to. If the
            program requires node IDs or references to multiple
            management servers (or both) in its connection information,
            use the <a class="link" href="mysql-cluster.html#option_mysqld_ndb-connectstring"><code class="option">--ndb-connectstring</code></a>
            option instead.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndbcluster"></a>
            <a class="indexterm" name="idp114963488"></a>

            <a class="indexterm" name="idp114964976"></a>

            <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndbcluster" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndbcluster</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndbcluster</code></td></tr><tr><td scope="row"><span class="bold"><strong>Disabled by</strong></span></td><td colspan="3"><code class="literal">skip-ndbcluster</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            The <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine
            is necessary for using MySQL Cluster. If a
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> binary includes support for the
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine, the
            engine is disabled by default. Use the
            <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a> option to enable
            it. Use <code class="option">--skip-ndbcluster</code> to explicitly
            disable the engine.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-log-apply-status"></a>
            <a class="indexterm" name="idp114989728"></a>

            <a class="indexterm" name="idp114991216"></a>

            <code class="option">--ndb-log-apply-status</code>
</p>
<div class="informaltable">
<table summary="Options for ndb-log-apply-status" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-log-apply-status</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-log-apply-status</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_apply_status">ndb_log_apply_status</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>
<p>
            Causes a slave <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> to log any updates
            received from its immediate master to the
            <code class="literal">mysql.ndb_apply_status</code> table in its own
            binary log using its own server ID rather than the server ID
            of the master. In a circular or chain replication setting,
            this allows such updates to propagate to the
            <code class="literal">mysql.ndb_apply_status</code> tables of any
            MySQL servers configured as slaves of the current
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            In a chain replication setup, using this option allows
            downstream (slave) clusters to be aware of their positions
            relative to all of their upstream contributors (masters).
          </p><p>
            In a circular replication setup, this option causes changes
            to <code class="literal">ndb_apply_status</code> tables to complete
            the entire circuit, eventually propagating back to the
            originating MySQL Cluster. This also allows a cluster acting
            as a master to see when its changes (epochs) have been
            applied to the other clusters in the circle.
          </p><p>
            This option has no effect unless the MySQL server is started
            with the <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a> option.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-log-transaction-id"></a>
            <a class="indexterm" name="idp115022512"></a>

            <a class="indexterm" name="idp115024000"></a>

            <code class="option">--ndb-log-transaction-id</code>
</p>
<div class="informaltable">
<table summary="Options for ndb-log-transaction-id" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-log-transaction-id[={0|1}]</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-log-transaction-id</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_transaction_id">ndb_log_transaction_id</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>
<p>
            Causes a slave <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> to write the NDB
            transaction ID in each row of the binary log. Such logging
            requires the use of the Version 2 event format for the
            binary log; thus,
            <a class="link" href="replication.html#option_mysqld_log-bin-use-v1-row-events"><code class="option">--log-bin-use-v1-row-events</code></a>
            must be set to <code class="literal">FALSE</code> in order to use this
            option.
          </p><p>
            This option is not supported in mainline MySQL Server
            5.6. It is required to enable MySQL Cluster
            Replication conflict detection and resolution using the
            <code class="literal">NDB$EPOCH_TRANS()</code> function (see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-epoch-trans" title="NDB$EPOCH_TRANS()"><code class="literal">NDB$EPOCH_TRANS()</code></a>).
          </p><p>
            The default value is <code class="literal">FALSE</code>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="17.6.11. MySQL Cluster Replication Conflict Resolution">Section 17.6.11, “MySQL Cluster Replication Conflict Resolution”</a>.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-nodeid"></a>
            <a class="indexterm" name="idp115055168"></a>

            <a class="indexterm" name="idp115056656"></a>

            <code class="option">--ndb-nodeid=#</code>
</p>
<div class="informaltable">
<table summary="Options for ndb-nodeid" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-nodeid=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-nodeid</code></td></tr><tr><td scope="row"><span class="bold"><strong>Status Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#statvar_Ndb_cluster_node_id">Ndb_cluster_node_id</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 255</code></td></tr></tbody></table>
</div>
<p>
            Set this MySQL server's node ID in a MySQL Cluster.
          </p><p>
            The <code class="option">--ndb-nodeid</code> option overrides any node
            ID set with
            <a class="link" href="mysql-cluster.html#option_mysqld_ndb-connectstring"><code class="option">--ndb-connectstring</code></a>,
            regardless of the order in which the two options are used.
          </p><p>
            In addition, if <code class="option">--ndb-nodeid</code> is used, then
            either a matching node ID must be found in a
            <code class="literal">[mysqld]</code> or <code class="literal">[api]</code>
            section of <code class="filename">config.ini</code>, or there must be
            an <span class="quote">“<span class="quote">open</span>”</span> <code class="literal">[mysqld]</code> or
            <code class="literal">[api]</code> section in the file (that is, a
            section without a <code class="literal">NodeId</code> or
            <code class="literal">Id</code> parameter specified). This is also
            true if the node ID is specified as part of the connection
            string.
          </p><p>
            Regardless of how the node ID is determined, its is shown as
            the value of the global status variable
            <code class="literal">Ndb_cluster_node_id</code> in the output of
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a>, and as
            <code class="literal">cluster_node_id</code> in the
            <code class="literal">connection</code> row of the output of
            <a class="link" href="sql-syntax.html#show-engine" title="13.7.5.16. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE
            NDBCLUSTER STATUS</code></a>.
          </p><p>
            For more information about node IDs for MySQL Cluster SQL
            nodes, see <a class="xref" href="mysql-cluster.html#mysql-cluster-api-definition" title="17.3.2.7. Defining SQL and Other API Nodes in a MySQL Cluster">Section 17.3.2.7, “Defining SQL and Other API Nodes in a MySQL Cluster”</a>.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-log-empty-epochs"></a>
            <a class="indexterm" name="idp115094992"></a>

            <a class="indexterm" name="idp115096480"></a>

            <code class="option">--ndb-log-empty-epochs=[0|1]</code>
</p>
<div class="informaltable">
<table summary="Options for ndb-log-empty-epochs" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-log-empty-epochs</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-log-empty-epochs</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_empty_epochs">ndb_log_empty_epochs</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>
<p>
            Causes epochs during which there were no changes to be
            written to the <code class="literal">ndb_apply_status</code> and
            <code class="literal">ndb_binlog_index</code> tables, even when
            <code class="literal">--log-slave-updates</code> is
            enabled.
          </p><p>
            By default this option is disabled. Disabling
            <code class="option">--ndb-log-empty-epochs</code> causes epoch
            transactions with no changes not to be written to the binary
            log, although a row is still written even for an empty epoch
            in <code class="literal">ndb_binlog_index</code>.
          </p><p>
            Because <code class="option">--ndb-log-empty-epochs=1</code> causes the
            size of <code class="literal">ndb_binlog_index</code> table to
            increase independently of the size of the binary log, users
            should be prepared to manage the growth of this table, even
            if they expect the cluster to be idle a large part of the
            time.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-recv-thread-activation-threshold"></a>
            <a class="link" href="mysql-cluster.html#option_mysqld_ndb-recv-thread-activation-threshold"><code class="option">--ndb-recv-thread-activation-threshold=<em class="replaceable"><code>threshold</code></em></code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb-recv-thread-activation-threshold" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.10-ndb-7.3.1</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-recv-thread-activation-threshold=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-recv-thread-activation-threshold</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">8</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 (MIN_ACTIVATION_THRESHOLD) .. 16 (MAX_ACTIVATION_THRESHOLD)</code></td></tr></tbody></table>
</div>
<p>
            When this number of concurrently active threads is reached,
            the receive thread takes over polling of the cluster
            connection.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-recv-thread-cpu-mask"></a>
            <a class="link" href="mysql-cluster.html#option_mysqld_ndb-recv-thread-cpu-mask"><code class="option">--ndb-recv-thread-cpu-mask=<em class="replaceable"><code>bitmask</code></em></code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb-recv-thread-cpu-mask" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.10-ndb-7.3.1</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-recv-thread-cpu-mask=mask</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-recv-thread-cpu-mask</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">Bitmap</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">[empty]</code></td></tr></tbody></table>
</div>
<p>
            Set a CPU mask for locking receiver threads to specific
            CPUs. This is specified as a hexadecimal bitmask; for
            example, <code class="literal">0x33</code> means that one CPU is used
            per receiver thread. An empty string (no locking of receiver
            threads) is the default.
          </p></li><li class="listitem"><p><a name="option_mysqld_server-id-bits"></a>
            <a class="indexterm" name="idp115168752"></a>

            <a class="indexterm" name="idp115170240"></a>

            <code class="option">--server-id-bits=#</code>
</p>
<div class="informaltable">
<table summary="Options for server-id-bits" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--server-id-bits=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">server-id-bits</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_server_id_bits">server_id_bits</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">32</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">7 .. 32</code></td></tr></tbody></table>
</div>
<p>
            This option indicates the number of least significant bits
            within the 32-bit <a class="link" href="server-administration.html#sysvar_server_id"><code class="literal">server_id</code></a>
            which actually identify the server. Indicating that the
            server is actually identified by fewer than 32 bits makes it
            possible for some of the remaining bits to be used for other
            purposes, such as storing user data generated by
            applications using the NDB API's Event API within the
            <code class="literal">AnyValue</code> of an
            <code class="literal">OperationOptions</code> structure
            (MySQL Cluster uses the <code class="literal">AnyValue</code> to store
            the server ID).
          </p><p>
            When extracting the effective server ID from
            <a class="link" href="server-administration.html#sysvar_server_id"><code class="literal">server_id</code></a> for purposes such
            as detection of replication loops, the server ignores the
            remaining bits. The <code class="option">--server-id-bits</code> option
            is used to mask out any irrelevant bits of
            <a class="link" href="server-administration.html#sysvar_server_id"><code class="literal">server_id</code></a> in the IO and SQL
            threads when deciding whether an event should be ignored
            based on the server ID.
          </p><p>
            This data can be read from the binary log by
            <a class="link" href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span class="command"><strong>mysqlbinlog</strong></span></a>, provided that it is run with
            its own <a class="link" href="programs.html#option_mysqlbinlog_server-id-bits"><code class="option">--server-id-bits</code></a>
            option set to 32 (the default).
          </p><p>
            The value of <a class="link" href="server-administration.html#sysvar_server_id"><code class="literal">server_id</code></a> must
            be less than 2 ^
            <a class="link" href="mysql-cluster.html#sysvar_server_id_bits"><code class="literal">server_id_bits</code></a>; otherwise,
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> refuses to start.
          </p><p>
            This system variable is supported only by MySQL Cluster. It
            is not supported in the standard MySQL 5.6
            Server.
          </p></li><li class="listitem"><p><a name="option_mysqld_skip-ndbcluster"></a>
            <a class="indexterm" name="idp115209264"></a>

            <a class="indexterm" name="idp115210752"></a>

            <code class="option">--skip-ndbcluster</code>
</p>
<div class="informaltable">
<table summary="Options for skip-ndbcluster" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--skip-ndbcluster</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">skip-ndbcluster</code></td></tr></tbody></table>
</div>
<p>
            Disable the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage
            engine. This is the default for binaries that were built
            with <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine
            support; the server allocates memory and other resources for
            this storage engine only if the
            <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a> option is given
            explicitly. See <a class="xref" href="mysql-cluster.html#mysql-cluster-quick" title="17.3.1. Quick Test Setup of MySQL Cluster">Section 17.3.1, “Quick Test Setup of MySQL Cluster”</a>, for
            an example.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-transid-mysql-connection-map"></a>
            <code class="option">ndb-transid-mysql-connection-map=<em class="replaceable"><code>state</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for ndb-transid-mysql-connection-map" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-transid-mysql-connection-map[=state]</code></td></tr><tr><td scope="row" rowspan="5"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr><tr><td scope="row" rowspan="2" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">FORCE</code></td></tr></tbody></table>
</div>
<p>
            Enables or disables the plugin that handles the
            <a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/ndb-transid-mysql-connection-map-table.html" target="_top"><code class="literal">ndb_transid_mysql_connection_map</code></a>
            table in the <code class="literal">INFORMATION_SCHEMA</code> database.
            Takes one of the values <code class="literal">ON</code>,
            <code class="literal">OFF</code>, or <code class="literal">FORCE</code>.
            <code class="literal">ON</code> (the default) enables the plugin.
            <code class="literal">OFF</code> disables the plugin, which makes
            <code class="literal">ndb_transid_mysql_connection_map</code>
            inaccessible. <code class="literal">FORCE</code> keeps the MySQL
            Server from starting if the plugin fails to load and start.
          </p><p>
            You can see whether the
            <a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/ndb-transid-mysql-connection-map-table.html" target="_top"><code class="literal">ndb_transid_mysql_connection_map</code></a>
            table plugin is running by checking the output of
            <a class="link" href="sql-syntax.html#show-plugins" title="13.7.5.26. SHOW PLUGINS Syntax"><code class="literal">SHOW PLUGINS</code></a>.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-wait-connected"></a>
            <code class="option">--ndb-wait-connected=<em class="replaceable"><code>seconds</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for ndb-wait-connected" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-wait-connected=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-wait-connected</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal">ndb_wait_connected</code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 31536000</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 31536000</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">30</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 31536000</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">30</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 31536000</code></td></tr></tbody></table>
</div>
<p>
            This option sets the period of time that the MySQL server
            waits for connections to MySQL Cluster management and data
            nodes to be established before accepting MySQL client
            connections. The time is specified in seconds. The default
            value is <code class="literal">30</code>.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb-wait-setup"></a>
            <code class="option">--ndb-wait-setup=<em class="replaceable"><code>seconds</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for ndb-wait-setup" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-wait-setup=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-wait-setup</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal">ndb_wait_setup</code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">15</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 31536000</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">15</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 31536000</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">30</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 31536000</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">30</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 31536000</code></td></tr></tbody></table>
</div>
<p>
            This variable shows the period of time that the MySQL server
            waits for the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage
            engine to complete setup before timing out and treating
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> as unavailable. The time is
            specified in seconds. The default value is
            <code class="literal">30</code>.
          </p></li><li class="listitem"><p><a name="option_mysqld_ndb_optimization_delay"></a>
            <code class="option">--ndb_optimization_delay=<em class="replaceable"><code>milliseconds</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for ndb_optimization_delay" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal">ndb_optimization_delay</code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">10</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 100000</code></td></tr></tbody></table>
</div>
<p>
            Set the number of milliseconds to wait between sets of rows
            by <a class="link" href="sql-syntax.html#optimize-table" title="13.7.2.4. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> statements
            on <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables. The default is
            15.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-system-variables"></a>17.3.4.3. MySQL Cluster System Variables</h4>

</div>

</div>

</div>
<p>
        This section provides detailed information about MySQL server
        system variables that are specific to MySQL Cluster and the
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine. For system
        variables not specific to MySQL Cluster, see
        <a class="xref" href="server-administration.html#server-system-variables" title="5.1.4. Server System Variables">Section 5.1.4, “Server System Variables”</a>. For general
        information on using system variables, see
        <a class="xref" href="server-administration.html#using-system-variables" title="5.1.5. Using System Variables">Section 5.1.5, “Using System Variables”</a>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="sysvar_have_ndbcluster"></a>
            <a class="link" href="mysql-cluster.html#sysvar_have_ndbcluster"><code class="literal">have_ndbcluster</code></a>
</p>
<div class="informaltable">
<table summary="Options for have_ndbcluster" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Removed</strong></span></td><td colspan="3">5.6.1</td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_have_ndbcluster">have_ndbcluster</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="2"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr></tbody></table>
</div>
<p>
            <code class="literal">YES</code> if <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> supports
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> tables.
            <code class="literal">DISABLED</code> if
            <code class="option">--skip-ndbcluster</code> is used.
          </p><p>
            This variable is deprecated and is removed in MySQL 5.6. Use
            <a class="link" href="sql-syntax.html#show-engines" title="13.7.5.17. SHOW ENGINES Syntax"><code class="literal">SHOW ENGINES</code></a> instead.
          </p></li><li class="listitem"><p><a name="sysvar_multi_range_count"></a>
            <code class="literal">multi_range_count</code>
</p>
<div class="informaltable">
<table summary="Options for multi_range_count" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--multi_range_count=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">multi_range_count</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_multi_range_count">multi_range_count</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">256</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 4294967295</code></td></tr></tbody></table>
</div>
<p>
            The maximum number of ranges to send to a table handler at
            once during range selects. The default value is 256. Sending
            multiple ranges to a handler at once can improve the
            performance of certain selects dramatically. This is
            especially true for the
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> table handler, which
            needs to send the range requests to all nodes. Sending a
            batch of those requests at once reduces communication costs
            significantly.
          </p><p>
            This variable was removed in MySQL 5.6.7.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_autoincrement_prefetch_sz"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_autoincrement_prefetch_sz"><code class="literal">ndb_autoincrement_prefetch_sz</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_autoincrement_prefetch_sz" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb_autoincrement_prefetch_sz</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb_autoincrement_prefetch_sz</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option Sets Variable</strong></span></td><td colspan="3">Yes,
<a class="link" href="mysql-cluster.html#sysvar_ndb_autoincrement_prefetch_sz"><code class="literal">ndb_autoincrement_prefetch_sz</code></a></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Name</strong></span></td><td colspan="3"><code class="literal">ndb_autoincrement_prefetch_sz</code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values </strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 65536</code></td></tr></tbody></table>
</div>
<p>
            Determines the probability of gaps in an autoincremented
            column. Set it to <code class="literal">1</code> to minimize this.
            Setting it to a high value for optimization makes inserts
            faster, but decreases the likelihood that consecutive
            autoincrement numbers will be used in a batch of inserts.
            The mininum and default value is 1. The maximum value for
            <code class="literal">ndb_autoincrement_prefetch_sz</code> is 65536.
          </p><p>
            This variable affects only the number of
            <code class="literal">AUTO_INCREMENT</code> IDs that are fetched
            between statements; within a given statement, at least 32
            IDs are obtained at a time. The default value for
            <a class="link" href="mysql-cluster.html#sysvar_ndb_autoincrement_prefetch_sz"><code class="literal">ndb_autoincrement_prefetch_sz</code></a>
            is <code class="literal">1</code>, to increase the speed of statements
            inserting single rows.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              This variable does not affect inserts performed using
              <a class="link" href="sql-syntax.html#insert-select" title="13.2.5.1. INSERT ... SELECT Syntax"><code class="literal">INSERT ...
              SELECT</code></a>.
</p>
</div>
</li><li class="listitem"><p><a name="sysvar_ndb_cache_check_time"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_cache_check_time"><code class="literal">ndb_cache_check_time</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_cache_check_time" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb_cache_check_time</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb_cache_check_time</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_cache_check_time">ndb_cache_check_time</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr></tbody></table>
</div>
<p>
            The number of milliseconds that elapse between checks of
            MySQL Cluster SQL nodes by the MySQL query cache. Setting
            this to 0 (the default and minimum value) means that the
            query cache checks for validation on every query.
          </p><p>
            The recommended maximum value for this variable is 1000,
            which means that the check is performed once per second. A
            larger value means that the check is performed and possibly
            invalidated due to updates on different SQL nodes less
            often. It is generally not desirable to set this to a value
            greater than 2000.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_deferred_constraints"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_deferred_constraints"><code class="literal">ndb_deferred_constraints</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_deferred_constraints" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-deferred-constraints</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb_deferred_constraints</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_deferred_constraints">ndb_deferred_constraints</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">false .. true</code></td></tr></tbody></table>
</div>
<p>
            Controls whether or not constraint checks are deferred,
            where these are supported. <code class="literal">OFF</code> is the
            default.
          </p><p>
            This variable is not normally needed for operation of MySQL
            Cluster or MySQL Cluster Replication, and is intended
            primarily for use in testing.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_distribution"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_distribution"><code class="literal">ndb_distribution</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_distribution" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-distribution={KEYHASH|LINHASH}</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb_distribution</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal">ndb_distribution={KEYHASH|LINHASH}</code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="5"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">KEYHASH</code></td></tr><tr><td scope="row" rowspan="2" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">LINHASH</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">KEYHASH</code></td></tr></tbody></table>
</div>
<p>
            Controls the default distribution method for
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables. Can be set to
            either of <code class="literal">KEYHASH</code> (key hashing) or
            <code class="literal">LINHASH</code> (linear hashing).
            <code class="literal">KEYHASH</code> is the default.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_extra_logging"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_extra_logging"><code class="literal">ndb_extra_logging</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_extra_logging" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">ndb_extra_logging=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb_extra_logging</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_extra_logging">ndb_extra_logging</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr></tbody></table>
</div>
<p>
            This variable can be used to enable recording in the MySQL
            error log of information specific to the
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine. It is
            normally of interest only when debugging
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine code.
          </p><p>
            The default value is 0, which means that the only
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>-specific information
            written to the MySQL error log relates to transaction
            handling. If the value is greater than 0 but less than 10,
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table schema and connection
            events are also logged, as well as whether or not conflict
            resolution is in use, and other
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> errors and information. If
            the value is set to 10 or more, information about
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> internals, such as the
            progress of data distribution among cluster nodes, is also
            written to the MySQL error log.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_force_send"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_force_send"><code class="literal">ndb_force_send</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_force_send" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-force-send</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb_force_send</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_force_send">ndb_force_send</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table>
</div>
<p>
            Forces sending of buffers to
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> immediately, without
            waiting for other threads. Defaults to
            <code class="literal">ON</code>.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_join_pushdown"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_join_pushdown"><code class="literal">ndb_join_pushdown</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_join_pushdown" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_join_pushdown">ndb_join_pushdown</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table>
</div>
<p>
            This variable controls whether joins on
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables are pushed down to
            the NDB kernel (data nodes). Previously, a join was handled
            using multiple accesses of <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
            by the SQL node; however, when
            <a class="link" href="mysql-cluster.html#sysvar_ndb_join_pushdown"><code class="literal">ndb_join_pushdown</code></a> is
            enabled, a pushable join is sent in its entirety to the data
            nodes, where it can be distributed among the data nodes and
            executed in parallel on multiple copies of the data, with a
            single, merged result being returned to
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. This can reduce greatly the
            number of round trips between an SQL node and the data nodes
            required to handle such a join.
          </p><p>
            By default,
            <a class="link" href="mysql-cluster.html#sysvar_ndb_join_pushdown"><code class="literal">ndb_join_pushdown</code></a> is
            enabled.
          </p><p>
            In order for a join to be pushable, it must meet the
            following conditions:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                Only columns can be compared, and all columns to be
                joined must use <span class="emphasis"><em>exactly</em></span> the same
                data type.
              </p><p>
                This means that expressions such as <code class="literal">t1.a = t2.a
                + <em class="replaceable"><code>constant</code></em></code> cannot
                be pushed down, and that (for example) a join on an
                <a class="link" href="data-types.html#integer-types" title="11.2.1. Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INT</code></a> column and a
                <a class="link" href="data-types.html#integer-types" title="11.2.1. Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a> column also cannot
                be pushed down.
              </p></li><li class="listitem"><p>
                Queries referencing <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a>
                or <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns are not
                supported.
              </p></li><li class="listitem"><p>
                Explicit locking is not supported; however, the
                <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine's
                characteristic implicit row-based locking is enforced.
              </p><p>
                This means that a join using <code class="literal">FOR
                UPDATE</code> cannot be pushed down.
              </p></li><li class="listitem"><p>
                In order for a join to be pushed down, child tables in
                the join must be accessed using one of the
                <a class="link" href="optimization.html#jointype_ref"><code class="literal">ref</code></a>,
                <a class="link" href="optimization.html#jointype_eq_ref"><code class="literal">eq_ref</code></a>, or 
                <a class="link" href="optimization.html#jointype_const"><code class="literal">const</code></a> access methods,
                or some combination of these methods.
              </p><p>
                Outer joined child tables can only be pushed using
                <a class="link" href="optimization.html#jointype_eq_ref"><code class="literal">eq_ref</code></a>.
              </p><p>
                If the root of the pushed join is an
                <a class="link" href="optimization.html#jointype_eq_ref"><code class="literal">eq_ref</code></a> or
                <a class="link" href="optimization.html#jointype_const"><code class="literal">const</code></a>, only child
                tables joined by
                <a class="link" href="optimization.html#jointype_eq_ref"><code class="literal">eq_ref</code></a> can be
                appended. (A table joined by
                <a class="link" href="optimization.html#jointype_ref"><code class="literal">ref</code></a> is likely to
                become the root of another pushed join.)
              </p><p>
                If the query optimizer decides on <code class="literal">Using join
                cache</code> for a candidate child table, that table
                cannot be pushed as a child. However, it may be the root
                of another set of pushed tables.
              </p></li><li class="listitem"><p>
                Joins referencing tables explicitly partitioned by
                <code class="literal">[LINEAR] HASH</code>,
                <code class="literal">LIST</code>, or <code class="literal">RANGE</code>
                currently cannot be pushed down.
</p></li></ol>
</div>
<p>
            You can see whether a given join can be pushed down by
            checking it with <a class="link" href="sql-syntax.html#explain" title="13.8.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a>;
            when the join can be pushed down, you can see references to
            the <code class="literal">pushed join</code> in the
            <code class="literal">Extra</code> column of the output, as shown in
            this example:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>EXPLAIN</code></strong>
    -&gt;     <strong class="userinput"><code>SELECT e.first_name, e.last_name, t.title, d.dept_name</code></strong>
    -&gt;         <strong class="userinput"><code>FROM employees e</code></strong>
    -&gt;         <strong class="userinput"><code>JOIN dept_emp de ON e.emp_no=de.emp_no</code></strong>
    -&gt;         <strong class="userinput"><code>JOIN departments d ON d.dept_no=de.dept_no</code></strong>
    -&gt;         <strong class="userinput"><code>JOIN titles t ON e.emp_no=t.emp_no\G</code></strong>
*************************** 1. row ***************************
           id: 1
  select_type: SIMPLE
        table: d
         type: ALL
possible_keys: PRIMARY
          key: NULL
      key_len: NULL
          ref: NULL
         rows: 9
        Extra: Parent of 4 pushed join@1
*************************** 2. row ***************************
           id: 1
  select_type: SIMPLE
        table: de
         type: ref
possible_keys: PRIMARY,emp_no,dept_no
          key: dept_no
      key_len: 4
          ref: employees.d.dept_no
         rows: 5305
        Extra: Child of 'd' in pushed join@1
*************************** 3. row ***************************
           id: 1
  select_type: SIMPLE
        table: e
         type: eq_ref
possible_keys: PRIMARY
          key: PRIMARY
      key_len: 4
          ref: employees.de.emp_no
         rows: 1
        Extra: Child of 'de' in pushed join@1
*************************** 4. row ***************************
           id: 1
  select_type: SIMPLE
        table: t
         type: ref
possible_keys: PRIMARY,emp_no
          key: emp_no
      key_len: 4
          ref: employees.de.emp_no
         rows: 19
        Extra: Child of 'e' in pushed join@1
4 rows in set (0.00 sec)
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              If inner joined child tables are joined by
              <a class="link" href="optimization.html#jointype_ref"><code class="literal">ref</code></a>,
              <span class="emphasis"><em>and</em></span> the result is ordered or grouped
              by a sorted index, this index cannot provide sorted rows,
              which forces writing to a sorted tempfile.
</p>
</div>
<p>
            Two additional sources of information about pushed join
            performance are available:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                The status variables
                <a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_queries_defined"><code class="literal">Ndb_pushed_queries_defined</code></a>,
                <a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_queries_dropped"><code class="literal">Ndb_pushed_queries_dropped</code></a>,
                <a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_queries_executed"><code class="literal">Ndb_pushed_queries_executed</code></a>,
                and <a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_reads"><code class="literal">Ndb_pushed_reads</code></a>.
              </p></li><li class="listitem"><p>
                The counters in the
                <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-counters" title="17.5.10.7. The ndbinfo counters Table"><code class="literal">ndbinfo.counters</code></a> table
                that belong to the <code class="literal">DBSPJ</code> kernel
                block. See
                <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo-counters" title="17.5.10.7. The ndbinfo counters Table">Section 17.5.10.7, “The <code class="literal">ndbinfo counters</code> Table”</a>, for
                information about these counters. See also
                <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks-dbspj.html" target="_top">The <code class="literal">DBSPJ</code> Block</a>, in
                the <em class="citetitle">MySQL Cluster API Developer
                Guide</em>.
</p></li></ol>
</div>
</li><li class="listitem"><p><a name="sysvar_ndb_log_apply_status"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_log_apply_status"><code class="literal">ndb_log_apply_status</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb-log-apply-status" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-log-apply-status</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-log-apply-status</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_apply_status">ndb_log_apply_status</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>
<p>
            A read-only variable which shows whether the server was
            started with the
            <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-apply-status"><code class="option">--ndb-log-apply-status</code></a>
            option.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_log_bin"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_log_bin"><code class="literal">ndb_log_bin</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_log_bin" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-log-bin={1|0}</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_bin">ndb_log_bin</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>
<p>
            Causes updates to <code class="literal">NDB</code> tables to be
            written to the binary log. Setting this variable has no
            effect if binary logging is not already enabled for the
            server using <a class="link" href="replication.html#sysvar_log_bin"><code class="literal">log_bin</code></a>.
            <code class="literal">ndb_log_bin</code> defaults to 1 (ON); normally,
            there is never any need to change this value in a production
            environment.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_log_binlog_index"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_log_binlog_index"><code class="literal">ndb_log_binlog_index</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_log_binlog_index" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-log-binlog-index={1|0}</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_binlog_index">ndb_log_binlog_index</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>
<p>
            Causes a mapping of epochs to positions in the binary log to
            be inserted into the <code class="literal">ndb_binlog_index</code>
            table. Setting this variable has no effect if binary logging
            is not already enabled for the server using
            <a class="link" href="replication.html#sysvar_log_bin"><code class="literal">log_bin</code></a>. (In addition,
            <a class="link" href="mysql-cluster.html#sysvar_ndb_log_bin"><code class="literal">ndb_log_bin</code></a> must not be
            disabled.) <code class="literal">ndb_log_binlog_index</code> defaults
            to <code class="literal">1</code> (<code class="literal">ON</code>); normally,
            there is never any need to change this value in a production
            environment.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_log_transaction_id"></a>
            <a class="indexterm" name="idp115754864"></a>

            <a class="indexterm" name="idp115755952"></a>

            <a class="link" href="mysql-cluster.html#sysvar_ndb_log_transaction_id"><code class="literal">ndb_log_transaction_id</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_log_transaction_id" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_transaction_id">ndb_log_transaction_id</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>
<p>
            This read-only, Boolean system variable shows whether a
            slave <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> writes NDB transaction IDs
            in the binary log (required to use
            <span class="quote">“<span class="quote">active-active</span>”</span> MySQL Cluster Replication with
            <code class="literal">NDB$EPOCH_TRANS()</code> conflict detection). To
            change the setting, use the
            <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-transaction-id"><code class="option">--ndb-log-transaction-id</code></a>
            option.
          </p><p>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_log_transaction_id"><code class="literal">ndb_log_transaction_id</code></a> is
            not supported in mainline MySQL Server 5.6.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="17.6.11. MySQL Cluster Replication Conflict Resolution">Section 17.6.11, “MySQL Cluster Replication Conflict Resolution”</a>.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_optimized_node_selection"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_optimized_node_selection"><code class="literal">ndb_optimized_node_selection</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_optimized_node_selection" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-optimized-node-selection=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb_optimized_node_selection</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">3</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 3</code></td></tr></tbody></table>
</div>
<p>
            There are two forms of optimized node selection, described
            here:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                The SQL node uses <em class="firstterm">promixity</em> to
                determine the transaction coordinator; that is, the
                <span class="quote">“<span class="quote">closest</span>”</span> data node to the SQL node is
                chosen as the transaction coordinator. For this purpose,
                a data node having a shared memory connection with the
                SQL node is considered to be <span class="quote">“<span class="quote">closest</span>”</span> to
                the SQL node; the next closest (in order of decreasing
                proximity) are: TCP connection to
                <code class="literal">localhost</code>; SCI connection; TCP
                connection from a host other than
                <code class="literal">localhost</code>.
              </p></li><li class="listitem"><p>
                The SQL thread uses <em class="firstterm">distribution
                awareness</em> to select the data node. That is,
                the data node housing the cluster partition accessed by
                the first statement of a given transaction is used as
                the transaction coordinator for the entire transaction.
                (This is effective only if the first statement of the
                transaction accesses no more than one cluster
                partition.)
</p></li></ol>
</div>
<p>
            This option takes one of the integer values
            <code class="literal">0</code>, <code class="literal">1</code>,
            <code class="literal">2</code>, or <code class="literal">3</code>.
            <code class="literal">3</code> is the default. These values affect
            node selection as follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">0</code>: Node selection is not optimized.
                Each data node is employed as the transaction
                coordinator 8 times before the SQL thread proceeds to
                the next data node.
              </p></li><li class="listitem"><p>
                <code class="literal">1</code>: Proximity to the SQL node is used
                to determine the transaction coordinator.
              </p></li><li class="listitem"><p>
                <code class="literal">2</code>: Distribution awareness is used to
                select the transaction coordinator. However, if the
                first statement of the transaction accesses more than
                one cluster partition, the SQL node reverts to the
                round-robin behavior seen when this option is set to
                <code class="literal">0</code>.
              </p></li><li class="listitem"><p>
                <code class="literal">3</code>: If distribution awareness can be
                employed to determine the transaction coordinator, then
                it is used; otherwise proximity is used to select the
                transaction coordinator. (This is the default behavior.)
</p></li></ul>
</div>
</li><li class="listitem"><p><a name="sysvar_ndb_recv_thread_activation_threshold"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_recv_thread_activation_threshold"><code class="literal">ndb_recv_thread_activation_threshold</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_recv_thread_activation_threshold" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.10-ndb-7.3.1</td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">8</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 (MIN_ACTIVATION_THRESHOLD) .. 16 (MAX_ACTIVATION_THRESHOLD)</code></td></tr></tbody></table>
</div>
<p>
            When this number of concurrently active threads is reached,
            the receive thread takes over polling of the cluster
            connection.
          </p><p>
            This variable is global in scope. It can also be set on
            startup using the
            <a class="link" href="mysql-cluster.html#option_mysqld_ndb-recv-thread-activation-threshold"><code class="option">--ndb-recv-thread-activation-threshold</code></a>
            option.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_recv_thread_cpu_mask"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_recv_thread_cpu_mask"><code class="literal">ndb_recv_thread_cpu_mask</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_recv_thread_cpu_mask" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.10-ndb-7.3.1</td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_recv_thread_cpu_mask">ndb_recv_thread_cpu_mask</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">Bitmap</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">[empty]</code></td></tr></tbody></table>
</div>
<p>
            CPU mask for locking receiver threads to specific CPUs. This
            is specified as a hexadecimal bitmask; for example,
            <code class="literal">0x33</code> means that one CPU is used per
            receiver thread. An empty string is the default; setting
            <code class="literal">ndb_recv_thread_cpu_mask</code> to this value
            removes any receiver thread locks previously set.
          </p><p>
            This variable is global in scope. It can also be set on
            startup using the
            <a class="link" href="mysql-cluster.html#option_mysqld_ndb-recv-thread-cpu-mask"><code class="option">--ndb-recv-thread-cpu-mask</code></a>
            option.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_report_thresh_binlog_epoch_slip"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_report_thresh_binlog_epoch_slip"><code class="literal">ndb_report_thresh_binlog_epoch_slip</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_report_thresh_binlog_epoch_slip" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb_report_thresh_binlog_epoch_slip</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb_report_thresh_binlog_epoch_slip</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">3</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 256</code></td></tr></tbody></table>
</div>
<p>
            This is a threshold on the number of epochs to be behind
            before reporting binary log status. For example, a value of
            <code class="literal">3</code> (the default) means that if the
            difference between which epoch has been received from the
            storage nodes and which epoch has been applied to the binary
            log is 3 or more, a status message will be sent to the
            cluster log.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_report_thresh_binlog_mem_usage"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_report_thresh_binlog_mem_usage"><code class="literal">ndb_report_thresh_binlog_mem_usage</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_report_thresh_binlog_mem_usage" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb_report_thresh_binlog_mem_usage</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb_report_thresh_binlog_mem_usage</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">10</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 10</code></td></tr></tbody></table>
</div>
<p>
            This is a threshold on the percentage of free memory
            remaining before reporting binary log status. For example, a
            value of <code class="literal">10</code> (the default) means that if
            the amount of available memory for receiving binary log data
            from the data nodes falls below 10%, a status message will
            be sent to the cluster log.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_table_no_logging"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_table_no_logging"><code class="literal">ndb_table_no_logging</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_table_no_logging" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_table_no_logging">ndb_table_no_logging</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            When this variable is set to <code class="literal">ON</code> or
            <code class="literal">1</code>, it causes
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables not to be
            checkpointed to disk. More specifically, this setting
            applies to tables which are created or altered using
            <code class="literal">ENGINE NDB</code> when
            <a class="link" href="mysql-cluster.html#sysvar_ndb_table_no_logging"><code class="literal">ndb_table_no_logging</code></a> is
            enabled, and continues to apply for the lifetime of the
            table, even if
            <a class="link" href="mysql-cluster.html#sysvar_ndb_table_no_logging"><code class="literal">ndb_table_no_logging</code></a> is
            later changed. Suppose that <code class="literal">A</code>,
            <code class="literal">B</code>, <code class="literal">C</code>, and
            <code class="literal">D</code> are tables that we create (and perhaps
            also alter), and that we also change the setting for
            <a class="link" href="mysql-cluster.html#sysvar_ndb_table_no_logging"><code class="literal">ndb_table_no_logging</code></a> as
            shown here:
          </p><pre class="programlisting">SET @@ndb_table_no_logging = 1;

CREATE TABLE A ... ENGINE NDB;

CREATE TABLE B ... ENGINE MYISAM;
CREATE TABLE C ... ENGINE MYISAM;

ALTER TABLE B ENGINE NDB;

SET @@ndb_table_no_logging = 0;

CREATE TABLE D ... ENGINE NDB;
ALTER TABLE C ENGINE NDB;

SET @@ndb_table_no_logging = 1;</pre><p>
            After the previous sequence of events, tables
            <code class="literal">A</code> and <code class="literal">B</code> are not
            checkpointed; <code class="literal">A</code> was created with
            <code class="literal">ENGINE NDB</code> and B was altered to use
            <code class="literal">NDB</code>, both while
            <code class="literal">ndb_table_no_logging</code> was enabled.
            However, tables <code class="literal">C</code> and
            <code class="literal">D</code> are logged; <code class="literal">C</code> was
            altered to use <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> and
            <code class="literal">D</code> was created using <code class="literal">ENGINE
            NDB</code>, both while
            <a class="link" href="mysql-cluster.html#sysvar_ndb_table_no_logging"><code class="literal">ndb_table_no_logging</code></a> was
            disabled. Setting
            <a class="link" href="mysql-cluster.html#sysvar_ndb_table_no_logging"><code class="literal">ndb_table_no_logging</code></a> back
            to <code class="literal">1</code> or <code class="literal">ON</code> does
            <span class="emphasis"><em>not</em></span> cause table <code class="literal">C</code> or
            <code class="literal">D</code> to be checkpointed.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              <a class="link" href="mysql-cluster.html#sysvar_ndb_table_no_logging"><code class="literal">ndb_table_no_logging</code></a> has
              no effect on the creation of
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table schema files; to
              suppress these, use
              <a class="link" href="mysql-cluster.html#sysvar_ndb_table_temporary"><code class="literal">ndb_table_temporary</code></a>
              instead.
</p>
</div>
</li><li class="listitem"><p><a name="sysvar_ndb_table_temporary"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_table_temporary"><code class="literal">ndb_table_temporary</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_table_temporary" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_table_temporary">ndb_table_temporary</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            When set to <code class="literal">ON</code> or <code class="literal">1</code>,
            this variable causes <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables
            not to be written to disk: This means that no table schema
            files are created, and that the tables are not logged.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              Setting this variable currently has no effect in MySQL
              Cluster NDB 7.0 and later. This is a known issue; see Bug
              #34036.
</p>
</div>
</li><li class="listitem"><p><a name="sysvar_ndb_use_copying_alter_table"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_use_copying_alter_table"><code class="literal">ndb_use_copying_alter_table</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_use_copying_alter_table" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_use_copying_alter_table">ndb_use_copying_alter_table</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr></tbody></table>
</div>
<p>
            Forces <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> to use copying of
            tables in the event of problems with online
            <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> operations. The
            default value is <code class="literal">OFF</code>.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_use_exact_count"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_use_exact_count"><code class="literal">ndb_use_exact_count</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_use_exact_count" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_use_exact_count">ndb_use_exact_count</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>
<p>
            Forces <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> to use a count of
            records during <code class="literal">SELECT COUNT(*)</code> query
            planning to speed up this type of query. The default value
            is <code class="literal">ON</code>. For faster queries overall,
            disable this feature by setting the value of
            <a class="link" href="mysql-cluster.html#sysvar_ndb_use_exact_count"><code class="literal">ndb_use_exact_count</code></a> to
            <code class="literal">OFF</code>.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_use_transactions"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndb_use_transactions"><code class="literal">ndb_use_transactions</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_use_transactions" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb_use_transactions</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb_use_transactions</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_use_transactions">ndb_use_transactions</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>
<p>
            You can disable <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> transaction
            support by setting this variable's values to
            <code class="literal">OFF</code> (not recommended). The default is
            <code class="literal">ON</code>.
          </p></li><li class="listitem"><p><a name="sysvar_transaction_allow_batching"></a>
            <a class="indexterm" name="idp116039520"></a>

            <a class="indexterm" name="idp116040640"></a>

            <a class="link" href="mysql-cluster.html#sysvar_transaction_allow_batching"><code class="literal">transaction_allow_batching</code></a>
</p>
<div class="informaltable">
<table summary="Options for transaction_allow_batching" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_transaction_allow_batching">transaction_allow_batching</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            When set to <code class="literal">1</code> or <code class="literal">ON</code>,
            this variable enables batching of statements within the same
            transaction. To use this variable,
            <a class="link" href="server-administration.html#sysvar_autocommit"><code class="literal">autocommit</code></a> must first be
            disabled by setting it to <code class="literal">0</code> or
            <code class="literal">OFF</code>; otherwise, setting
            <a class="link" href="mysql-cluster.html#sysvar_transaction_allow_batching"><code class="literal">transaction_allow_batching</code></a>
            has no effect.
          </p><p>
            It is safe to use this variable with transactions that
            performs writes only, as having it enabled can lead to reads
            from the <span class="quote">“<span class="quote">before</span>”</span> image. You should ensure that
            any pending transactions are committed (using an explicit
            <a class="link" href="sql-syntax.html#commit" title="13.3.1. START TRANSACTION, COMMIT, and ROLLBACK Syntax"><code class="literal">COMMIT</code></a> if desired) before
            issuing a <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              <a class="link" href="mysql-cluster.html#sysvar_transaction_allow_batching"><code class="literal">transaction_allow_batching</code></a>
              should not be used whenever there is the possibility that
              the effects of a given statement depend on the outcome of
              a previous statement within the same transaction.
</p>
</div>
<p>
            This variable is currently supported for MySQL Cluster only.
</p></li></ul>
</div>
<p>
        The system variables in the following list all relate to the
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo" title="17.5.10. The ndbinfo MySQL Cluster Information Database"><code class="literal">ndbinfo</code></a> information database.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="sysvar_ndbinfo_database"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndbinfo_database"><code class="literal">ndbinfo_database</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndbinfo_database" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_database">ndbinfo_database</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ndbinfo</code></td></tr></tbody></table>
</div>
<p>
            Shows the name used for the <code class="literal">NDB</code>
            information database; the default is
            <code class="literal">ndbinfo</code>. This is a read-only variable
            whose value is determined at compile time; you can set it by
            starting the server using
            <code class="option">--ndbinfo-database=<em class="replaceable"><code>name</code></em></code>,
            which sets the value shown for this variable but does not
            actually change the name used for the NDB information
            database.
          </p></li><li class="listitem"><p><a name="sysvar_ndbinfo_max_bytes"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndbinfo_max_bytes"><code class="literal">ndbinfo_max_bytes</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndbinfo_max_bytes" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndbinfo-max-bytes=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_max_bytes">ndbinfo_max_bytes</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr></tbody></table>
</div>
<p>
            Used in testing and debugging only.
          </p></li><li class="listitem"><p><a name="sysvar_ndbinfo_max_rows"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndbinfo_max_rows"><code class="literal">ndbinfo_max_rows</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndbinfo_max_rows" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndbinfo-max-rows=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_max_rows">ndbinfo_max_rows</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">10</code></td></tr></tbody></table>
</div>
<p>
            Used in testing and debugging only.
          </p></li><li class="listitem"><p><a name="sysvar_ndbinfo_show_hidden"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndbinfo_show_hidden"><code class="literal">ndbinfo_show_hidden</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndbinfo_show_hidden" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndbinfo-show-hidden={0|1}</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_show_hidden">ndbinfo_show_hidden</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>
<p>
            Whether or not the <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo" title="17.5.10. The ndbinfo MySQL Cluster Information Database"><code class="literal">ndbinfo</code></a>
            database's underlying internal tables are shown in the
            <code class="literal">mysql</code> client. The default is
            <code class="literal">OFF</code>.
          </p></li><li class="listitem"><p><a name="sysvar_ndbinfo_table_prefix"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndbinfo_table_prefix"><code class="literal">ndbinfo_table_prefix</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndbinfo_table_prefix" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndbinfo-table-prefix=name</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_table_prefix">ndbinfo_table_prefix</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ndb$</code></td></tr></tbody></table>
</div>
<p>
            The prefix used in naming the ndbinfo database's base
            tables (normally hidden, unless exposed by setting
            <a class="link" href="mysql-cluster.html#sysvar_ndbinfo_show_hidden"><code class="literal">ndbinfo_show_hidden</code></a>). This
            is a read-only variable whose default value is
            <span class="quote">“<span class="quote"><code class="literal">ndb$</code></span>”</span>. You can start the
            server with the <code class="option">--ndbinfo-table-prefix</code>
            option, but this merely sets the variable and does not
            change the actual prefix used to name the hidden base
            tables; the prefix itself is determined at compile time.
          </p></li><li class="listitem"><p><a name="sysvar_ndbinfo_version"></a>
            <a class="link" href="mysql-cluster.html#sysvar_ndbinfo_version"><code class="literal">ndbinfo_version</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndbinfo_version" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndbinfo_version">ndbinfo_version</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p>
            Shows the version of the
            <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo" title="17.5.10. The ndbinfo MySQL Cluster Information Database"><code class="literal">ndbinfo</code></a> engine in use;
            read-only.
          </p></li><li class="listitem"><p><a name="sysvar_ndb_log_empty_epochs"></a>
            <a class="indexterm" name="idp116202288"></a>

            <a class="indexterm" name="idp116203376"></a>

            <a class="link" href="mysql-cluster.html#sysvar_ndb_log_empty_epochs"><code class="literal">ndb_log_empty_epochs</code></a>
</p>
<div class="informaltable">
<table summary="Options for ndb_log_empty_epochs" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-log-empty-epochs</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb_log_empty_epochs</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_ndb_log_empty_epochs">ndb_log_empty_epochs</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>
<p>
            When this variable is set to 0, epoch transactions with no
            changes are not written to the binary log, although a row is
            still written even for an empty epoch in
            <code class="literal">ndb_binlog_index</code>.
          </p></li><li class="listitem"><p><a name="sysvar_server_id_bits"></a>
            <a class="indexterm" name="idp116228992"></a>

            <a class="indexterm" name="idp116230080"></a>

            <a class="link" href="mysql-cluster.html#sysvar_server_id_bits"><code class="literal">server_id_bits</code></a>
</p>
<div class="informaltable">
<table summary="Options for server-id-bits" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--server-id-bits=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">server-id-bits</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="mysql-cluster.html#sysvar_server_id_bits">server_id_bits</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">32</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">7 .. 32</code></td></tr></tbody></table>
</div>
<p>
            The effective value of
            <code class="literal">server_id</code> if the server was
            started with the
            <a class="link" href="mysql-cluster.html#option_mysqld_server-id-bits"><code class="option">--server-id-bits</code></a> option set
            to a nondefault value.
          </p><p>
            If the value of <a class="link" href="server-administration.html#sysvar_server_id"><code class="literal">server_id</code></a>
            greater than or equal to 2 to the power of
            <a class="link" href="mysql-cluster.html#sysvar_server_id_bits"><code class="literal">server_id_bits</code></a>,
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> refuses to start.
          </p><p>
            This system variable is supported only by MySQL Cluster.
            <a class="link" href="mysql-cluster.html#sysvar_server_id_bits"><code class="literal">server_id_bits</code></a> is not
            supported by the standard MySQL Server.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-status-variables"></a>17.3.4.4. MySQL Cluster Status Variables</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp116263840"></a><a class="indexterm" name="idp116265328"></a><p>
        This section provides detailed information about MySQL server
        status variables that relate to MySQL Cluster and the
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine. For status
        variables not specific to MySQL Cluster, and for general
        information on using status variables, see
        <a class="xref" href="server-administration.html#server-status-variables" title="5.1.6. Server Status Variables">Section 5.1.6, “Server Status Variables”</a>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="statvar_Handler_discover"></a>
            <a class="link" href="mysql-cluster.html#statvar_Handler_discover"><code class="literal">Handler_discover</code></a>
          </p><p>
            The MySQL server can ask the
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine if it
            knows about a table with a given name. This is called
            discovery.
            <a class="link" href="mysql-cluster.html#statvar_Handler_discover"><code class="literal">Handler_discover</code></a> indicates
            the number of times that tables have been discovered using
            this mechanism.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_exec_complete_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_exec_complete_count_session"><code class="literal">Ndb_api_wait_exec_complete_count_session</code></a>
          </p><p>
            The number of times a thread has been blocked in this client
            session while waiting for execution of an operation to
            complete. This includes all
            <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndbtransaction-methods.html#ndb-ndbtransaction-execute" target="_top"><code class="literal">execute()</code></a>
            calls as well as implicit implicit executes for blob and
            auto-increment operations not visible to clients.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_exec_complete_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_exec_complete_count_slave"><code class="literal">Ndb_api_wait_exec_complete_count_slave</code></a>
          </p><p>
            The number of times a thread has been blocked by this slave
            while waiting for execution of an operation to complete.
            This includes all
            <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndbtransaction-methods.html#ndb-ndbtransaction-execute" target="_top"><code class="literal">execute()</code></a>
            calls as well as implicit implicit executes for blob and
            auto-increment operations not visible to clients.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_exec_complete_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_exec_complete_count"><code class="literal">Ndb_api_wait_exec_complete_count</code></a>
          </p><p>
            The number of times a thread has been blocked by this MySQL
            Server (SQL node) while waiting for execution of an
            operation to complete. This includes all
            <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndbtransaction-methods.html#ndb-ndbtransaction-execute" target="_top"><code class="literal">execute()</code></a>
            calls as well as implicit implicit executes for blob and
            auto-increment operations not visible to clients.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_scan_result_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_scan_result_count_session"><code class="literal">Ndb_api_wait_scan_result_count_session</code></a>
          </p><p>
            The number of times a thread has been blocked in this client
            session while waiting for a scan-based signal, such as when
            waiting for more results from a scan, or when waiting for a
            scan to close.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_scan_result_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_scan_result_count_slave"><code class="literal">Ndb_api_wait_scan_result_count_slave</code></a>
          </p><p>
            The number of times a thread has been blocked by this slave
            while waiting for a scan-based signal, such as when waiting
            for more results from a scan, or when waiting for a scan to
            close.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_scan_result_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_scan_result_count"><code class="literal">Ndb_api_wait_scan_result_count</code></a>
          </p><p>
            The number of times a thread has been blocked by this MySQL
            Server (SQL node) while waiting for a scan-based signal,
            such as when waiting for more results from a scan, or when
            waiting for a scan to close.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_meta_request_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_meta_request_count_session"><code class="literal">Ndb_api_wait_meta_request_count_session</code></a>
          </p><p>
            The number of times a thread has been blocked in this client
            session waiting for a metadata-based signal, such as is
            expected for DDL requests, new epochs, and seizure of
            transaction records.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_meta_request_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_meta_request_count_slave"><code class="literal">Ndb_api_wait_meta_request_count_slave</code></a>
          </p><p>
            The number of times a thread has been blocked by this slave
            waiting for a metadata-based signal, such as is expected for
            DDL requests, new epochs, and seizure of transaction
            records.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_meta_request_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_meta_request_count"><code class="literal">Ndb_api_wait_meta_request_count</code></a>
          </p><p>
            The number of times a thread has been blocked by this MySQL
            Server (SQL node) waiting for a metadata-based signal, such
            as is expected for DDL requests, new epochs, and seizure of
            transaction records.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_nanos_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count_session"><code class="literal">Ndb_api_wait_nanos_count_session</code></a>
          </p><p>
            Total time (in nanoseconds) spent in this client session
            waiting for any type of signal from the data nodes.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_nanos_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count_slave"><code class="literal">Ndb_api_wait_nanos_count_slave</code></a>
          </p><p>
            Total time (in nanoseconds) spent by this slave waiting for
            any type of signal from the data nodes.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_wait_nanos_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count"><code class="literal">Ndb_api_wait_nanos_count</code></a>
          </p><p>
            Total time (in nanoseconds) spent by this MySQL Server (SQL
            node) waiting for any type of signal from the data nodes.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_bytes_sent_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_sent_count_session"><code class="literal">Ndb_api_bytes_sent_count_session</code></a>
          </p><p>
            Amount of data (in bytes) sent to the data nodes in this
            client session.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_bytes_sent_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_sent_count_slave"><code class="literal">Ndb_api_bytes_sent_count_slave</code></a>
          </p><p>
            Amount of data (in bytes) sent to the data nodes by this
            slave.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_bytes_sent_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_sent_count"><code class="literal">Ndb_api_bytes_sent_count</code></a>
          </p><p>
            Amount of data (in bytes) sent to the data nodes by this
            MySQL Server (SQL node).
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_bytes_received_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_received_count_session"><code class="literal">Ndb_api_bytes_received_count_session</code></a>
          </p><p>
            Amount of data (in bytes) received from the data nodes in
            this client session.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_bytes_received_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_received_count_slave"><code class="literal">Ndb_api_bytes_received_count_slave</code></a>
          </p><p>
            Amount of data (in bytes) received from the data nodes by
            this slave.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_bytes_received_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_received_count"><code class="literal">Ndb_api_bytes_received_count</code></a>
          </p><p>
            Amount of data (in bytes) received from the data nodes by
            this MySQL Server (SQL node).
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_start_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_start_count_session"><code class="literal">Ndb_api_trans_start_count_session</code></a>
          </p><p>
            The number of transactions started in this client session.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_start_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_start_count_slave"><code class="literal">Ndb_api_trans_start_count_slave</code></a>
          </p><p>
            The number of transactions started by this slave.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_start_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_start_count"><code class="literal">Ndb_api_trans_start_count</code></a>
          </p><p>
            The number of transactions started by this MySQL Server (SQL
            node).
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_commit_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count_session"><code class="literal">Ndb_api_trans_commit_count_session</code></a>
          </p><p>
            The number of transactions committed in this client session.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_commit_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count_slave"><code class="literal">Ndb_api_trans_commit_count_slave</code></a>
          </p><p>
            The number of transactions committed by this slave.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_commit_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count"><code class="literal">Ndb_api_trans_commit_count</code></a>
          </p><p>
            The number of transactions committed by this MySQL Server
            (SQL node).
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_abort_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count_session"><code class="literal">Ndb_api_trans_abort_count_session</code></a>
          </p><p>
            The number of transactions aborted in this client session.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_abort_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count_slave"><code class="literal">Ndb_api_trans_abort_count_slave</code></a>
          </p><p>
            The number of transactions aborted by this slave.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_abort_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count"><code class="literal">Ndb_api_trans_abort_count</code></a>
          </p><p>
            The number of transactions aborted by this MySQL Server (SQL
            node).
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_close_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_close_count_session"><code class="literal">Ndb_api_trans_close_count_session</code></a>
          </p><p>
            The number of transactions closed in this client session.
            This value may be greater than the sum of
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count_session"><code class="literal">Ndb_api_trans_commit_count_session</code></a>
            and
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count_session"><code class="literal">Ndb_api_trans_abort_count_session</code></a>,
            since some transactions may have been rolled back.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_close_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_close_count_slave"><code class="literal">Ndb_api_trans_close_count_slave</code></a>
          </p><p>
            The number of transactions closed by this slave. This value
            may be greater than the sum of
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count_slave"><code class="literal">Ndb_api_trans_commit_count_slave</code></a>
            and
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count_slave"><code class="literal">Ndb_api_trans_abort_count_slave</code></a>,
            since some transactions may have been rolled back.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_close_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_close_count"><code class="literal">Ndb_api_trans_close_count</code></a>
          </p><p>
            The number of transactions closed by this MySQL Server (SQL
            node). This value may be greater than the sum of
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count"><code class="literal">Ndb_api_trans_commit_count</code></a>
            and
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count"><code class="literal">Ndb_api_trans_abort_count</code></a>,
            since some transactions may have been rolled back.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_pk_op_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_pk_op_count_session"><code class="literal">Ndb_api_pk_op_count_session</code></a>
          </p><p>
            The number of operations in this client session based on or
            using primary keys. This includes operations on blob tables,
            implicit unlock operations, and auto-increment operations,
            as well as user-visible primary key operations.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_pk_op_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_pk_op_count_slave"><code class="literal">Ndb_api_pk_op_count_slave</code></a>
          </p><p>
            The number of operations by this slave based on or using
            primary keys. This includes operations on blob tables,
            implicit unlock operations, and auto-increment operations,
            as well as user-visible primary key operations.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_pk_op_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_pk_op_count"><code class="literal">Ndb_api_pk_op_count</code></a>
          </p><p>
            The number of operations by this MySQL Server (SQL node)
            based on or using primary keys. This includes operations on
            blob tables, implicit unlock operations, and auto-increment
            operations, as well as user-visible primary key operations.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_uk_op_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_uk_op_count_session"><code class="literal">Ndb_api_uk_op_count_session</code></a>
          </p><p>
            The number of operations in this client session based on or
            using unique keys.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_uk_op_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_uk_op_count_slave"><code class="literal">Ndb_api_uk_op_count_slave</code></a>
          </p><p>
            The number of operations by this slave based on or using
            unique keys.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_uk_op_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_uk_op_count"><code class="literal">Ndb_api_uk_op_count</code></a>
          </p><p>
            The number of operations by this MySQL Server (SQL node)
            based on or using unique keys.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_table_scan_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_table_scan_count_session"><code class="literal">Ndb_api_table_scan_count_session</code></a>
          </p><p>
            The number of table scans that have been started in this
            client session, including scans of internal tables,.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_table_scan_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_table_scan_count_slave"><code class="literal">Ndb_api_table_scan_count_slave</code></a>
          </p><p>
            The number of table scans that have been started by this
            slave, including scans of internal tables,.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_table_scan_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_table_scan_count"><code class="literal">Ndb_api_table_scan_count</code></a>
          </p><p>
            The number of table scans that have been started by this
            MySQL Server (SQL node), including scans of internal
            tables,.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_range_scan_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_range_scan_count_session"><code class="literal">Ndb_api_range_scan_count_session</code></a>
          </p><p>
            The number of range scans that have been started in this
            client session.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_range_scan_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_range_scan_count_slave"><code class="literal">Ndb_api_range_scan_count_slave</code></a>
          </p><p>
            The number of range scans that have been started by this
            slave.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_range_scan_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_range_scan_count"><code class="literal">Ndb_api_range_scan_count</code></a>
          </p><p>
            The number of range scans that have been started by this
            MySQL Server (SQL node).
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_pruned_scan_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_pruned_scan_count_session"><code class="literal">Ndb_api_pruned_scan_count_session</code></a>
          </p><p>
            The number of scans in this client session that have been
            pruned to a single partition.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_pruned_scan_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_pruned_scan_count_slave"><code class="literal">Ndb_api_pruned_scan_count_slave</code></a>
          </p><p>
            The number of scans by this slave that have been pruned to a
            single partition.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_pruned_scan_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_pruned_scan_count"><code class="literal">Ndb_api_pruned_scan_count</code></a>
          </p><p>
            The number of scans by this MySQL Server (SQL node) that
            have been pruned to a single partition.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_scan_batch_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_scan_batch_count_session"><code class="literal">Ndb_api_scan_batch_count_session</code></a>
          </p><p>
            The number of batches of rows received in this client
            session. 1 batch is defined as 1 set of scan results from a
            single fragment.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_scan_batch_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_scan_batch_count_slave"><code class="literal">Ndb_api_scan_batch_count_slave</code></a>
          </p><p>
            The number of batches of rows received by this slave. 1
            batch is defined as 1 set of scan results from a single
            fragment.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_scan_batch_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_scan_batch_count"><code class="literal">Ndb_api_scan_batch_count</code></a>
          </p><p>
            The number of batches of rows received by this MySQL Server
            (SQL node). 1 batch is defined as 1 set of scan results from
            a single fragment.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_read_row_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_read_row_count_session"><code class="literal">Ndb_api_read_row_count_session</code></a>
          </p><p>
            The total number of rows that have been read in this client
            session. This includes all rows read by any primary key,
            unique key, or scan operation made in this client session.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_read_row_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_read_row_count_slave"><code class="literal">Ndb_api_read_row_count_slave</code></a>
          </p><p>
            The total number of rows that have been read by this slave.
            This includes all rows read by any primary key, unique key,
            or scan operation made by this slave.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_read_row_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_read_row_count"><code class="literal">Ndb_api_read_row_count</code></a>
          </p><p>
            The total number of rows that have been read by this MySQL
            Server (SQL node). This includes all rows read by any
            primary key, unique key, or scan operation made by this
            MySQL Server (SQL node).
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_local_read_row_count_session"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_local_read_row_count_session"><code class="literal">Ndb_api_trans_local_read_row_count_session</code></a>
          </p><p>
            The total number of rows that have been read in this client
            session. This includes all rows read by any primary key,
            unique key, or scan operation made in this client session.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it relates to the current session only,
            and is not affected by any other clients of this
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_local_read_row_count_slave"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_local_read_row_count_slave"><code class="literal">Ndb_api_trans_local_read_row_count_slave</code></a>
          </p><p>
            The total number of rows that have been read by this slave.
            This includes all rows read by any primary key, unique key,
            or scan operation made by this slave.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope. If this
            MySQL server does not act as a replication slave, or does
            not use NDB tables, this value is always 0.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_trans_local_read_row_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_local_read_row_count"><code class="literal">Ndb_api_trans_local_read_row_count</code></a>
          </p><p>
            The total number of rows that have been read by this MySQL
            Server (SQL node). This includes all rows read by any
            primary key, unique key, or scan operation made by this
            MySQL Server (SQL node).
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_event_data_count_injector"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_data_count_injector"><code class="literal">Ndb_api_event_data_count_injector</code></a>
          </p><p>
            The number of row change events received by the NDB binlog
            injector thread.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_event_data_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_data_count"><code class="literal">Ndb_api_event_data_count</code></a>
          </p><p>
            The number of row change events received by this MySQL
            Server (SQL node).
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_event_nondata_count_injector"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_nondata_count_injector"><code class="literal">Ndb_api_event_nondata_count_injector</code></a>
          </p><p>
            The number of events received, other than row change events,
            by the NDB binlog injector thread.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_event_nondata_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_nondata_count"><code class="literal">Ndb_api_event_nondata_count</code></a>
          </p><p>
            The number of events received, other than row change events,
            by this MySQL Server (SQL node).
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_event_bytes_count_injector"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_bytes_count_injector"><code class="literal">Ndb_api_event_bytes_count_injector</code></a>
          </p><p>
            The number of bytes of events received by the NDB binlog
            injector thread.
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_api_event_bytes_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_bytes_count"><code class="literal">Ndb_api_event_bytes_count</code></a>
          </p><p>
            The number of bytes of events received by this MySQL Server
            (SQL node).
          </p><p>
            Although this variable can be read using either
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
            STATUS</code></a> or
            <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW SESSION
            STATUS</code></a>, it is effectively global in scope.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_cluster_node_id"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_cluster_node_id"><code class="literal">Ndb_cluster_node_id</code></a>
          </p><p>
            If the server is acting as a MySQL Cluster node, then the
            value of this variable its node ID in the cluster.
          </p><p>
            If the server is not part of a MySQL Cluster, then the value
            of this variable is 0.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_config_from_host"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_config_from_host"><code class="literal">Ndb_config_from_host</code></a>
          </p><p>
            If the server is part of a MySQL Cluster, the value of this
            variable is the host name or IP address of the Cluster
            management server from which it gets its configuration data.
          </p><p>
            If the server is not part of a MySQL Cluster, then the value
            of this variable is an empty string.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_config_from_port"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_config_from_port"><code class="literal">Ndb_config_from_port</code></a>
          </p><p>
            If the server is part of a MySQL Cluster, the value of this
            variable is the number of the port through which it is
            connected to the Cluster management server from which it
            gets its configuration data.
          </p><p>
            If the server is not part of a MySQL Cluster, then the value
            of this variable is 0.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_fn_max"></a>
            <code class="literal">Ndb_conflict_fn_max</code>
          </p><p>
            Used in MySQL Cluster Replication conflict resolution, this
            variable shows the number of times that a row was not
            applied on the current SQL node due to <span class="quote">“<span class="quote">greatest
            timestamp wins</span>”</span> conflict resolution since the last
            time that this <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> was started.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="17.6.11. MySQL Cluster Replication Conflict Resolution">Section 17.6.11, “MySQL Cluster Replication Conflict Resolution”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_fn_old"></a>
            <code class="literal">Ndb_conflict_fn_old</code>
          </p><p>
            Used in MySQL Cluster Replication conflict resolution, this
            variable shows the number of times that a row was not
            applied as the result of <span class="quote">“<span class="quote">same timestamp wins</span>”</span>
            conflict resolution on a given <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
            since the last time it was restarted.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="17.6.11. MySQL Cluster Replication Conflict Resolution">Section 17.6.11, “MySQL Cluster Replication Conflict Resolution”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_fn_epoch"></a>
            <code class="literal">Ndb_conflict_fn_epoch</code>
          </p><p>
            Used in MySQL Cluster Replication conflict resolution, this
            variable shows the number of rows found to be in conflict
            using <code class="literal">NDB$EPOCH()</code> conflict resolution on
            a given <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> since the last time it was
            restarted.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="17.6.11. MySQL Cluster Replication Conflict Resolution">Section 17.6.11, “MySQL Cluster Replication Conflict Resolution”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_fn_epoch_trans"></a>
            <code class="literal">Ndb_conflict_fn_epoch_trans</code>
          </p><p>
            Used in MySQL Cluster Replication conflict resolution, this
            variable shows the number of rows found to be in conflict
            using <code class="literal">NDB$EPOCH_TRANS()</code> conflict
            resolution on a given <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> since the
            last time it was restarted.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="17.6.11. MySQL Cluster Replication Conflict Resolution">Section 17.6.11, “MySQL Cluster Replication Conflict Resolution”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_trans_row_conflict_count"></a>
            <code class="literal">Ndb_conflict_trans_row_conflict_count</code>
          </p><p>
            Used in MySQL Cluster Replication conflict resolution, this
            status variable shows the number of rows found to be
            directly in-conflict by a transactional conflict function on
            a given <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> since the last time it was
            restarted.
          </p><p>
            Currently, the only transactional conflict detection
            function supported by MySQL Cluster is NDB$EPOCH_TRANS(), so
            this status variable is effectively the same as
            <a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_epoch_trans"><code class="literal">Ndb_conflict_fn_epoch_trans</code></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="17.6.11. MySQL Cluster Replication Conflict Resolution">Section 17.6.11, “MySQL Cluster Replication Conflict Resolution”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_trans_row_reject_count"></a>
            <code class="literal">Ndb_conflict_trans_row_reject_count</code>
          </p><p>
            Used in MySQL Cluster Replication conflict resolution, this
            status variable shows the total number of rows realigned due
            to being determined as conflicting by a transactional
            conflict detection function. This includes not only
            <a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_trans_row_conflict_count"><code class="literal">Ndb_conflict_trans_row_conflict_count</code></a>,
            but any rows in or dependent on conflicting transactions.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="17.6.11. MySQL Cluster Replication Conflict Resolution">Section 17.6.11, “MySQL Cluster Replication Conflict Resolution”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_trans_reject_count"></a>
            <code class="literal">Ndb_conflict_trans_reject_count</code>
          </p><p>
            Used in MySQL Cluster Replication conflict resolution, this
            status variable shows the number of transactions found to be
            in conflict by a transactional conflict detection function.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="17.6.11. MySQL Cluster Replication Conflict Resolution">Section 17.6.11, “MySQL Cluster Replication Conflict Resolution”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_trans_detect_iter_count"></a>
            <code class="literal">Ndb_conflict_trans_detect_iter_count</code>
          </p><p>
            Used in MySQL Cluster Replication conflict resolution, this
            shows the number of internal iterations required to commit
            an epoch transaction. Should be (slightly) greater than or
            equal to
            <a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_trans_conflict_commit_count"><code class="literal">Ndb_conflict_trans_conflict_commit_count</code></a>.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="17.6.11. MySQL Cluster Replication Conflict Resolution">Section 17.6.11, “MySQL Cluster Replication Conflict Resolution”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_conflict_trans_conflict_commit_count"></a>
            <code class="literal">Ndb_conflict_trans_conflict_commit_count</code>
          </p><p>
            Used in MySQL Cluster Replication conflict resolution, this
            shows the number of epoch transactions committed after they
            required transactional conflict handling.
          </p><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="17.6.11. MySQL Cluster Replication Conflict Resolution">Section 17.6.11, “MySQL Cluster Replication Conflict Resolution”</a>.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_execute_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_execute_count"><code class="literal">Ndb_execute_count</code></a>
          </p><p>
            Provides the number of round trips to the
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> kernel made by operations.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_number_of_data_nodes"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_number_of_data_nodes"><code class="literal">Ndb_number_of_data_nodes</code></a>
          </p><p>
            If the server is part of a MySQL Cluster, the value of this
            variable is the number of data nodes in the cluster.
          </p><p>
            If the server is not part of a MySQL Cluster, then the value
            of this variable is 0.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_pushed_queries_defined"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_queries_defined"><code class="literal">Ndb_pushed_queries_defined</code></a>
          </p><p>
            The total number of joins pushed down to the NDB kernel for
            distributed handling on the data nodes. Note that joins
            tested using <a class="link" href="sql-syntax.html#explain" title="13.8.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> that can
            be pushed down contribute to this number.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_pushed_queries_dropped"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_queries_dropped"><code class="literal">Ndb_pushed_queries_dropped</code></a>
          </p><p>
            The number of joins that were pushed down to the NDB kernel
            but that could not be handled there.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_pushed_queries_executed"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_queries_executed"><code class="literal">Ndb_pushed_queries_executed</code></a>
          </p><p>
            The number of joins successfully pushed down to
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> and executed there.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_pushed_reads"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_pushed_reads"><code class="literal">Ndb_pushed_reads</code></a>
          </p><p>
            The number of rows returned to <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
            from the NDB kernel by joins that were pushed down. Note
            that executing <a class="link" href="sql-syntax.html#explain" title="13.8.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> on
            joins that can be pushed down to
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> does not add to this
            number.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_pruned_scan_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_pruned_scan_count"><code class="literal">Ndb_pruned_scan_count</code></a>
          </p><p>
            This variable holds a count of the number of scans executed
            by <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> since the MySQL
            Cluster was last started where
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> was able to use
            partition pruning.
          </p><p>
            Using this variable together with
            <a class="link" href="mysql-cluster.html#statvar_Ndb_scan_count"><code class="literal">Ndb_scan_count</code></a> can be
            helpful in schema design to maximize the ability of the
            server to prune scans to a single table partition, thereby
            involving only a single data node.
          </p></li><li class="listitem"><p><a name="statvar_Ndb_scan_count"></a>
            <a class="link" href="mysql-cluster.html#statvar_Ndb_scan_count"><code class="literal">Ndb_scan_count</code></a>
          </p><p>
            This variable holds a count of the total number of scans
            executed by <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> since
            the MySQL Cluster was last started.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-interconnects"></a>17.3.5. Using High-Speed Interconnects with MySQL Cluster</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-sci-sockets">17.3.5.1. Configuring MySQL Cluster to use SCI Sockets</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-interconnects-performance">17.3.5.2. MySQL Cluster Interconnects and Performance</a></span></dt></dl>
</div>
<a class="indexterm" name="idp116725728"></a><a class="indexterm" name="idp116727216"></a><p>
      Even before design of <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>
      began in 1996, it was evident that one of the major problems to be
      encountered in building parallel databases would be communication
      between the nodes in the network. For this reason,
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> was designed from the very
      beginning to permit the use of a number of different data
      transport mechanisms. In this Manual, we use the term
      <em class="firstterm">transporter</em> for these.
    </p><p>
      The MySQL Cluster codebase provides for four different
      transporters:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="emphasis"><em>TCP/IP using 100 Mbps or gigabit
          Ethernet</em></span>, as discussed in
          <a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition" title="17.3.2.8. MySQL Cluster TCP/IP Connections">Section 17.3.2.8, “MySQL Cluster TCP/IP Connections”</a>.
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>Direct (machine-to-machine) TCP/IP</em></span>;
          although this transporter uses the same TCP/IP protocol as
          mentioned in the previous item, it requires setting up the
          hardware differently and is configured differently as well.
          For this reason, it is considered a separate transport
          mechanism for MySQL Cluster. See
          <a class="xref" href="mysql-cluster.html#mysql-cluster-tcp-definition-direct" title="17.3.2.9. MySQL Cluster TCP/IP Connections Using Direct Connections">Section 17.3.2.9, “MySQL Cluster TCP/IP Connections Using Direct Connections”</a>, for
          details.
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>Shared memory (SHM)</em></span>. For more information
          about SHM, see <a class="xref" href="mysql-cluster.html#mysql-cluster-shm-definition" title="17.3.2.10. MySQL Cluster Shared-Memory Connections">Section 17.3.2.10, “MySQL Cluster Shared-Memory Connections”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
            SHM is considered experimental only, and is not officially
            supported.
</p>
</div>
</li><li class="listitem"><p>
          <span class="emphasis"><em>Scalable Coherent Interface (SCI)</em></span>, as
          described in the next section of this chapter,
          <a class="xref" href="mysql-cluster.html#mysql-cluster-sci-definition" title="17.3.2.11. SCI Transport Connections in MySQL Cluster">Section 17.3.2.11, “SCI Transport Connections in MySQL Cluster”</a>.
</p></li></ul>
</div>
<p>
      Most users today employ TCP/IP over Ethernet because it is
      ubiquitous. TCP/IP is also by far the best-tested transporter for
      use with MySQL Cluster.
    </p><p>
      We are working to make sure that communication with the
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process is made in <span class="quote">“<span class="quote">chunks</span>”</span>
      that are as large as possible because this benefits all types of
      data transmission.
    </p><p>
      For users who desire it, it is also possible to use cluster
      interconnects to enhance performance even further. There are two
      ways to achieve this: Either a custom transporter can be designed
      to handle this case, or you can use socket implementations that
      bypass the TCP/IP stack to one extent or another. We have
      experimented with both of these techniques using the SCI (Scalable
      Coherent Interface) technology developed by
      <a class="ulink" href="http://www.dolphinics.com/" target="_top">Dolphin Interconnect
      Solutions</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-sci-sockets"></a>17.3.5.1. Configuring MySQL Cluster to use SCI Sockets</h4>
</div>
</div>
</div>
<a class="indexterm" name="idp116746112"></a><a class="indexterm" name="idp116747600"></a><a class="indexterm" name="idp116749104"></a><p>
        It is possible employing Scalable Coherent Interface (SCI)
        technology to achieve a significant increase in connection
        speeds and throughput between MySQL Cluster data and SQL nodes.
        To use SCI, it is necessary to obtain and install Dolphin SCI
        network cards and to use the drivers and other software supplied
        by Dolphin. You can get information on obtaining these, from
        <a class="ulink" href="http://www.dolphinics.com/" target="_top">Dolphin Interconnect
        Solutions</a>. SCI SuperSocket or SCI Transporter support is
        available for 32-bit and 64-bit Linux, Solaris, Windows, and
        other platforms. See the Dolphin documentation referenced later
        in this section for more detailed information regarding
        platforms supported for SCI.
      </p><p>
        Once you have acquired the required Dolphin hardware and
        software, you can obtain detailed information on how to adapt a
        MySQL Cluster configured for normal TCP/IP communication to use
        SCI from the from the
        <a class="ulink" href="http://www.dolphinics.com/support/sci-product-documentation-software.html" target="_top">Dolphin
        SCI online documentation</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-interconnects-performance"></a>17.3.5.2. MySQL Cluster Interconnects and Performance</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp116755856"></a><a class="indexterm" name="idp116757344"></a><p>
        The <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process has a number of simple
        constructs which are used to access the data in a MySQL Cluster.
        We have created a very simple benchmark to check the performance
        of each of these and the effects which various interconnects
        have on their performance.
      </p><p>
        There are four access methods:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Primary key access. </b>
              This is access of a record through its primary key. In the
              simplest case, only one record is accessed at a time,
              which means that the full cost of setting up a number of
              TCP/IP messages and a number of costs for context
              switching are borne by this single request. In the case
              where multiple primary key accesses are sent in one batch,
              those accesses share the cost of setting up the necessary
              TCP/IP messages and context switches. If the TCP/IP
              messages are for different destinations, additional TCP/IP
              messages need to be set up.
            </p></li><li class="listitem"><p><b>Unique key access. </b>
              Unique key accesses are similar to primary key accesses,
              except that a unique key access is executed as a read on
              an index table followed by a primary key access on the
              table. However, only one request is sent from the MySQL
              Server, and the read of the index table is handled by
              <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>. Such requests also benefit from
              batching.
            </p></li><li class="listitem"><p><b>Full table scan. </b>
              When no indexes exist for a lookup on a table, a full
              table scan is performed. This is sent as a single request
              to the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process, which then divides
              the table scan into a set of parallel scans on all cluster
              <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> processes. In future versions of
              MySQL Cluster, an SQL node will be able to filter some of
              these scans.
            </p></li><li class="listitem"><p><b>Range scan using ordered index. </b>
              When an ordered index is used, it performs a scan in the
              same manner as the full table scan, except that it scans
              only those records which are in the range used by the
              query transmitted by the MySQL server (SQL node). All
              partitions are scanned in parallel when all bound index
              attributes include all attributes in the partitioning key.
</p></li></ul>
</div>
<p>
        With benchmarks developed internally by MySQL for testing simple
        and batched primary and unique key accesses, we have found that
        using SCI sockets improves performance by approximately 100%
        over TCP/IP, except in rare instances when communication
        performance is not an issue. This can occur when scan filters
        make up most of processing time or when very large batches of
        primary key accesses are achieved. In that case, the CPU
        processing in the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> processes becomes a
        fairly large part of the overhead.
      </p><p>
        Using the SCI transporter instead of SCI Sockets is only of
        interest in communicating between <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>
        processes. Using the SCI transporter is also only of interest if
        a CPU can be dedicated to the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process
        because the SCI transporter ensures that this process will never
        go to sleep. It is also important to ensure that the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process priority is set in such a way
        that the process does not lose priority due to running for an
        extended period of time, as can be done by locking processes to
        CPUs in Linux 2.6. If such a configuration is possible, the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process will benefit by 10–70% as
        compared with using SCI sockets. (The larger figures will be
        seen when performing updates and probably on parallel scan
        operations as well.)
      </p><p>
        There are several other optimized socket implementations for
        computer clusters, including Myrinet, Gigabit Ethernet,
        Infiniband and the VIA interface. However, we have tested MySQL
        Cluster so far only with SCI sockets. See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-sci-sockets" title="17.3.5.1. Configuring MySQL Cluster to use SCI Sockets">Section 17.3.5.1, “Configuring MySQL Cluster to use SCI Sockets”</a>, for information on
        how to set up SCI sockets using ordinary TCP/IP for MySQL
        Cluster.
</p>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="mysql-cluster-programs"></a>17.4. MySQL Cluster Programs</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbd">17.4.1. <span class="command"><strong>ndbd</strong></span> — The MySQL Cluster Data Node Daemon</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbinfo-select-all">17.4.2. <span class="command"><strong>ndbinfo_select_all</strong></span> — Select From ndbinfo Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbmtd">17.4.3. <span class="command"><strong>ndbmtd</strong></span> — The MySQL Cluster Data Node Daemon (Multi-Threaded)</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd">17.4.4. <span class="command"><strong>ndb_mgmd</strong></span> — The MySQL Cluster Management Server Daemon</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm">17.4.5. <span class="command"><strong>ndb_mgm</strong></span> — The MySQL Cluster Management Client</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-blob-tool">17.4.6. <span class="command"><strong>ndb_blob_tool</strong></span> — Check and Repair BLOB and TEXT columns of MySQL Cluster
        Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-config">17.4.7. <span class="command"><strong>ndb_config</strong></span> — Extract MySQL Cluster Configuration Information</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-cpcd">17.4.8. <span class="command"><strong>ndb_cpcd</strong></span> — Automate Testing for NDB Development</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-delete-all">17.4.9. <span class="command"><strong>ndb_delete_all</strong></span> — Delete All Rows from an NDB Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-desc">17.4.10. <span class="command"><strong>ndb_desc</strong></span> — Describe NDB Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-index">17.4.11. <span class="command"><strong>ndb_drop_index</strong></span> — Drop Index from an NDB Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-table">17.4.12. <span class="command"><strong>ndb_drop_table</strong></span> — Drop an NDB Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-error-reporter">17.4.13. <span class="command"><strong>ndb_error_reporter</strong></span> — NDB Error-Reporting Utility</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-index-stat">17.4.14. <span class="command"><strong>ndb_index_stat</strong></span> — NDB Index Statistics Utility</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-backup-file">17.4.15. <span class="command"><strong>ndb_print_backup_file</strong></span> — Print NDB Backup File Contents</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-schema-file">17.4.16. <span class="command"><strong>ndb_print_schema_file</strong></span> — Print NDB Schema File Contents</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-print-sys-file">17.4.17. <span class="command"><strong>ndb_print_sys_file</strong></span> — Print NDB System File Contents</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndbd-redo-log-reader">17.4.18. <span class="command"><strong>ndbd_redo_log_reader</strong></span> — Check and Print Content of Cluster Redo Log</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-restore">17.4.19. <span class="command"><strong>ndb_restore</strong></span> — Restore a MySQL Cluster Backup</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all">17.4.20. <span class="command"><strong>ndb_select_all</strong></span> — Print Rows from an NDB Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-select-count">17.4.21. <span class="command"><strong>ndb_select_count</strong></span> — Print Row Counts for NDB Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py">17.4.22. <span class="command"><strong>ndb_setup.py</strong></span> — Start browser-based Auto-Installer for
MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-show-tables">17.4.23. <span class="command"><strong>ndb_show_tables</strong></span> — Display List of NDB Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-size-pl">17.4.24. <span class="command"><strong>ndb_size.pl</strong></span> — NDBCLUSTER Size Requirement Estimator</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-programs-ndb-waiter">17.4.25. <span class="command"><strong>ndb_waiter</strong></span> — Wait for MySQL Cluster to Reach a Given Status</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-program-options-common">17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs</a></span></dt></dl>
</div>
<a class="indexterm" name="idp116795440"></a><a class="indexterm" name="idp116796928"></a><a class="indexterm" name="idp116798016"></a><a class="indexterm" name="idp116799104"></a><a class="indexterm" name="idp116800176"></a><a class="indexterm" name="idp116801264"></a><a class="indexterm" name="idp116802336"></a><a class="indexterm" name="idp116803408"></a><a class="indexterm" name="idp116804480"></a><a class="indexterm" name="idp116805552"></a><a class="indexterm" name="idp116806624"></a><a class="indexterm" name="idp116807696"></a><a class="indexterm" name="idp116808768"></a><a class="indexterm" name="idp116809840"></a><a class="indexterm" name="idp116810912"></a><a class="indexterm" name="idp116811984"></a><a class="indexterm" name="idp116813056"></a><a class="indexterm" name="idp116814128"></a><a class="indexterm" name="idp116815200"></a><a class="indexterm" name="idp116816272"></a><a class="indexterm" name="idp116817344"></a><a class="indexterm" name="idp116818416"></a><a class="indexterm" name="idp116819488"></a><a class="indexterm" name="idp116820560"></a><a class="indexterm" name="idp116821632"></a><a class="indexterm" name="idp116822704"></a><a class="indexterm" name="idp116823776"></a><a class="indexterm" name="idp116824848"></a><a class="indexterm" name="idp116825920"></a><a class="indexterm" name="idp116826992"></a><p>
    Using and managing a MySQL Cluster requires several specialized
    programs, which we describe in this chapter. We discuss the purposes
    of these programs in a MySQL Cluster, how to use the programs, and
    what startup options are available for each of them.
  </p><p>
    These programs include the MySQL Cluster data, management, and SQL
    node processes (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>, <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>,
    <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>, and <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>) and the
    management client (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>).
  </p><p>
    Information about the program <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a> (added
    in MySQL Cluster NDB 7.3.1), used to start the MySQL Cluster
    Auto-Installer, is also included in this section. You should be
    aware that <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster">Section 17.4.22, “<span class="command"><strong>ndb_setup.py</strong></span> — Start browser-based Auto-Installer for
        MySQL Cluster”</a>,
    contains information about the command-line client only; for
    information about using the GUI installer spawned by this program to
    configure and deploy a MySQL Cluster, see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto" title="17.2.1. The MySQL Cluster Auto-Installer">Section 17.2.1, “The MySQL Cluster Auto-Installer”</a>.
  </p><p>
    For information about using <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> as a MySQL
    Cluster process, see <a class="xref" href="mysql-cluster.html#mysql-cluster-mysqld" title="17.5.4. MySQL Server Usage for MySQL Cluster">Section 17.5.4, “MySQL Server Usage for MySQL Cluster”</a>.
  </p><p>
    Other <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> utility, diagnostic, and
    example programs are included with the MySQL Cluster distribution.
    These include <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>,
    <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-show-tables" title="17.4.23. ndb_show_tables — Display List of NDB Tables"><span class="command"><strong>ndb_show_tables</strong></span></a>, and
    <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a>. These programs are also covered in
    this section.
  </p><p>
    The final portion of this section contains tables of options that
    are common to all the various MySQL Cluster programs.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndbd"></a>17.4.1. <span class="command"><strong>ndbd</strong></span> — The MySQL Cluster Data Node Daemon</h3>
</div>
</div>
</div>
<a class="indexterm" name="idp116844096"></a><a class="indexterm" name="idp116845040"></a><a class="indexterm" name="idp116846400"></a><a class="indexterm" name="idp116847760"></a><a class="indexterm" name="idp116848720"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> is the process that is used to handle
        all the data in tables using the NDB Cluster storage engine.
        This is the process that empowers a data node to accomplish
        distributed transaction handling, node recovery, checkpointing
        to disk, online backup, and related tasks.
      </p><p>
        In a MySQL Cluster, a set of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> processes
        cooperate in handling data. These processes can execute on the
        same computer (host) or on different computers. The
        correspondences between data nodes and Cluster hosts is
        completely configurable.
      </p><a class="indexterm" name="idp116853280"></a><a class="indexterm" name="idp116854768"></a><a class="indexterm" name="idp116856256"></a><a class="indexterm" name="idp116857760"></a><p>
        The following table includes command options specific to the
        MySQL Cluster data node program <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>.
        Additional descriptions follow the table. For options common to
        most MySQL Cluster programs (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>),
        see <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndbd-options-table"></a><p class="title"><b>Table 17.10. <span class="command">ndbd</span> Options and Variables: MySQL Cluster NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndbd program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbd_initial">--initial</a>
              </code>
            </p></td><td>Perform initial start of ndbd, including cleaning the file system.
            Consult the documentation before using this option</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndbd_nostart">--nostart</a></code>,
            </p>



            <p>
              <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_nostart">-n</a>
              </code>
            </p></td><td>Don't start ndbd immediately; ndbd waits for command to start from
            ndb_mgmd</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndbd_daemon">--daemon</a></code>,
            </p>



            <p>
              <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndbd_daemon">-d</a>
              </code>
            </p></td><td>Start ndbd as daemon (default); override with --nodaemon</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbd_nodaemon">--nodaemon</a>
              </code>
            </p></td><td>Do not start ndbd as daemon; provided for testing purposes</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbd_foreground">--foreground</a>
              </code>
            </p></td><td>Run ndbd in foreground, provided for debugging purposes (implies
            --nodaemon)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbd_nowait-nodes">--nowait-nodes=list</a>
              </code>
            </p></td><td>Do not wait for these data nodes to start (takes comma-separated list of
            node IDs). Also requires --ndb-nodeid to be used.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbd_initial-start">--initial-start</a>
              </code>
            </p></td><td>Perform partial initial start (requires --nowait-nodes)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbd_bind-address">--bind-address=name</a>
              </code>
            </p></td><td>Local bind address</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbd_install">--install[=name]</a>
              </code>
            </p></td><td>Used to install the data node process as a Windows service. Does not
            apply on non-Windows platforms.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbd_remove">--remove[=name]</a>
              </code>
            </p></td><td>Used to remove a data node process that was previously installed as a
            Windows service. Does not apply on non-Windows platforms.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbd_connect-retries">--connect-retries=#</a>
              </code>
            </p></td><td>Number of times to try contacting the management server; set to -1 to
            keep trying indefinitely</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbd_connect-delay">--connect-delay=#</a>
              </code>
            </p></td><td>Time to wait between attempts to contact a management server, in seconds</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          All of these options also apply to the multi-threaded version
          of this program (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>) and you may
          substitute <span class="quote">“<span class="quote"><a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a></span>”</span> for
          <span class="quote">“<span class="quote"><a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a></span>”</span> wherever the latter
          occurs in this section.
</p>
</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndbd_bind-address"></a>
            <code class="option">--bind-address</code>
</p>
<div class="informaltable">
<table summary="Options for bind-address" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--bind-address=name</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p>
            Causes <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> to bind to a specific network
            interface (host name or IP address). This option has no
            default value.
          </p></li><li class="listitem"><p><a name="option_ndbd_daemon"></a>
            <code class="option">--daemon</code>, <code class="option">-d</code>
</p>
<div class="informaltable">
<table summary="Options for daemon" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--daemon</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-d</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table>
</div>
<p>
            Instructs <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> to execute as a daemon process.
            This is the default behavior.
            <a class="link" href="mysql-cluster.html#option_ndbd_nodaemon"><code class="option">--nodaemon</code></a> can be used to
            prevent the process from running as a daemon.
          </p><p>
            This option has no effect when running
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> on
            Windows platforms.
          </p></li><li class="listitem"><p><a name="option_ndbd_nodaemon"></a>
            <code class="option">--nodaemon</code>
</p>
<div class="informaltable">
<table summary="Options for nodaemon" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--nodaemon</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Prevents <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> from executing as a daemon
            process. This option overrides the
            <a class="link" href="mysql-cluster.html#option_ndbd_daemon"><code class="option">--daemon</code></a> option. This is useful
            for redirecting output to the screen when debugging the
            binary.
          </p><p>
            The default behavior for <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> and
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> on Windows is to run in the
            foreground, making this option unnecessary on Windows
            platforms, where it has no effect.
          </p></li><li class="listitem"><p><a name="option_ndbd_foreground"></a>
            <code class="option">--foreground</code>
</p>
<div class="informaltable">
<table summary="Options for foreground" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--foreground</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Causes <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>
            to execute as a foreground process, primarily for debugging
            purposes. This option implies the
            <a class="link" href="mysql-cluster.html#option_ndbd_nodaemon"><code class="option">--nodaemon</code></a> option.
          </p><p>
            This option has no effect when running
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> on
            Windows platforms.
          </p></li><li class="listitem"><p><a name="option_ndbd_initial"></a>
            <a class="indexterm" name="idp117000736"></a>

            <a class="indexterm" name="idp117001808"></a>

            <code class="option">--initial</code>
</p>
<div class="informaltable">
<table summary="Options for initial" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--initial</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Instructs <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> to perform an initial
            start. An initial start erases any files created for
            recovery purposes by earlier instances of
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>. It also re-creates recovery log
            files. Note that on some operating systems this process can
            take a substantial amount of time.
          </p><p>
            An <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> start is to be
            used <span class="emphasis"><em>only</em></span> when starting the
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process under very special
            circumstances; this is because this option causes all files
            to be removed from the MySQL Cluster file system and all
            redo log files to be re-created. These circumstances are
            listed here:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                When performing a software upgrade which has changed the
                contents of any files.
              </p></li><li class="listitem"><p>
                When restarting the node with a new version of
                <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>.
              </p></li><li class="listitem"><p>
                As a measure of last resort when for some reason the
                node restart or system restart repeatedly fails. In this
                case, be aware that this node can no longer be used to
                restore data due to the destruction of the data files.
</p></li></ul>
</div>
<p>
            Use of this option prevents the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startpartialtimeout"><code class="literal">StartPartialTimeout</code></a>
            and
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startpartitionedtimeout"><code class="literal">StartPartitionedTimeout</code></a>
            configuration parameters from having any effect.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              This option does <span class="emphasis"><em>not</em></span> affect either of
              the following types of files:
</p>
<div xmlns="" class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                  Backup files that have already been created by the
                  affected node
                </p></li><li class="listitem"><p>
                  MySQL Cluster Disk Data files (see
                  <a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data" title="17.5.12. MySQL Cluster Disk Data Tables">Section 17.5.12, “MySQL Cluster Disk Data Tables”</a>).
</p></li></ul>
</div>
<p xmlns="">
              This option also has no effect on recovery of data by a
              data node that is just starting (or restarting) from data
              nodes that are already running. This recovery of data
              occurs automatically, and requires no user intervention in
              a MySQL Cluster that is running normally.
</p>
</div>
<p>
            It is permissible to use this option when starting the
            cluster for the very first time (that is, before any data
            node files have been created); however, it is
            <span class="emphasis"><em>not</em></span> necessary to do so.
          </p></li><li class="listitem"><p><a name="option_ndbd_initial-start"></a>
            <a class="indexterm" name="idp117034224"></a>

            <a class="indexterm" name="idp117035312"></a>

            <code class="option">--initial-start</code>
</p>
<div class="informaltable">
<table summary="Options for initial-start" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--initial-start</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            This option is used when performing a partial initial start
            of the cluster. Each node should be started with this
            option, as well as
            <a class="link" href="mysql-cluster.html#option_ndbd_nowait-nodes"><code class="option">--nowait-nodes</code></a>.
          </p><p>
            Suppose that you have a 4-node cluster whose data nodes have
            the IDs 2, 3, 4, and 5, and you wish to perform a partial
            initial start using only nodes 2, 4, and 5—that is,
            omitting node 3:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndbd --ndb-nodeid=2 --nowait-nodes=3 --initial-start</code></strong>
shell&gt; <strong class="userinput"><code>ndbd --ndb-nodeid=4 --nowait-nodes=3 --initial-start</code></strong>
shell&gt; <strong class="userinput"><code>ndbd --ndb-nodeid=5 --nowait-nodes=3 --initial-start</code></strong>
</pre><p>
            When using this option, you must also specify the node ID
            for the data node being started with the
            <a class="link" href="mysql-cluster.html#option_ndb_common_ndb-nodeid"><code class="option">--ndb-nodeid</code></a> option.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              Do not confuse this option with the
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_nowait-nodes"><code class="option">--nowait-nodes</code></a> option for
              <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>, which can be used to enable a
              cluster configured with multiple management servers to be
              started without all management servers being online.
</p>
</div>
</li><li class="listitem"><p><a name="option_ndbd_nowait-nodes"></a>
            <a class="indexterm" name="idp117059696"></a>

            <a class="indexterm" name="idp117060784"></a>

            <code class="option">--nowait-nodes=<em class="replaceable"><code>node_id_1</code></em>[,
            <em class="replaceable"><code>node_id_2</code></em>[, ...]]</code>
</p>
<div class="informaltable">
<table summary="Options for nowait-nodes" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--nowait-nodes=list</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p>
            This option takes a list of data nodes which for which the
            cluster will not wait for before starting.
          </p><p>
            This can be used to start the cluster in a partitioned
            state. For example, to start the cluster with only half of
            the data nodes (nodes 2, 3, 4, and 5) running in a 4-node
            cluster, you can start each <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process
            with <code class="option">--nowait-nodes=3,5</code>. In this case, the
            cluster starts as soon as nodes 2 and 4 connect, and does
            <span class="emphasis"><em>not</em></span> wait
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startpartitionedtimeout"><code class="literal">StartPartitionedTimeout</code></a>
            milliseconds for nodes 3 and 5 to connect as it would
            otherwise.
          </p><p>
            If you wanted to start up the same cluster as in the
            previous example without one <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> (say,
            for example, that the host machine for node 3 has suffered a
            hardware failure) then start nodes 2, 4, and 5 with
            <code class="option">--nowait-nodes=3</code>. Then the cluster will
            start as soon as nodes 2, 4, and 5 connect and will not wait
            for node 3 to start.
          </p></li><li class="listitem"><p><a name="option_ndbd_nostart"></a>
            <a class="indexterm" name="idp117082544"></a>

            <a class="indexterm" name="idp117083616"></a>

            <a class="indexterm" name="idp117084688"></a>

            <a class="indexterm" name="idp117085760"></a>

            <code class="option">--nostart</code>, <code class="option">-n</code>
</p>
<div class="informaltable">
<table summary="Options for nostart" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--nostart</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-n</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Instructs <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> not to start
            automatically. When this option is used,
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> connects to the management server,
            obtains configuration data from it, and initializes
            communication objects. However, it does not actually start
            the execution engine until specifically requested to do so
            by the management server. This can be accomplished by
            issuing the proper <code class="literal">START</code> command in the
            management client (see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="17.5.2. Commands in the MySQL Cluster Management Client">Section 17.5.2, “Commands in the MySQL Cluster Management Client”</a>).
          </p></li><li class="listitem"><p><a name="option_ndbd_install"></a>
            <a class="indexterm" name="idp117106592"></a>

            <a class="indexterm" name="idp117107664"></a>

            <code class="option">--install[=<em class="replaceable"><code>name</code></em>]</code>
</p>
<div class="informaltable">
<table summary="Options for install" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--install[=name]</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ndbd</code></td></tr></tbody></table>
</div>
<p>
            Causes <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> to be installed as a Windows
            service. Optionally, you can specify a name for the service;
            if not set, the service name defaults to
            <code class="literal">ndbd</code>. Although it is preferable to
            specify other <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> program options in a
            <code class="filename">my.ini</code> or <code class="filename">my.cnf</code>
            configuration file, it is possible to use together with
            <code class="option">--install</code>. However, in such cases, the
            <code class="option">--install</code> option must be specified first,
            before any other options are given, for the Windows service
            installation to succeed.
          </p><p>
            It is generally not advisable to use this option together
            with the <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> option,
            since this causes the data node file system to be wiped and
            rebuilt every time the service is stopped and started.
            Extreme care should also be taken if you intend to use any
            of the other <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> options that affect the
            starting of data nodes—including
            <a class="link" href="mysql-cluster.html#option_ndbd_initial-start"><code class="option">--initial-start</code></a>,
            <a class="link" href="mysql-cluster.html#option_ndbd_nostart"><code class="option">--nostart</code></a>, and
            <a class="link" href="mysql-cluster.html#option_ndbd_nowait-nodes"><code class="option">--nowait-nodes</code></a>—together
            with <a class="link" href="mysql-cluster.html#option_ndbd_install"><code class="option">--install</code></a>, and you should
            make absolutely certain you fully understand and allow for
            any possible consequences of doing so.
          </p><p>
            The <a class="link" href="mysql-cluster.html#option_ndbd_install"><code class="option">--install</code></a> option has no
            effect on non-Windows platforms.
          </p></li><li class="listitem"><p><a name="option_ndbd_remove"></a>
            <a class="indexterm" name="idp117136144"></a>

            <a class="indexterm" name="idp117137216"></a>

            <a class="link" href="mysql-cluster.html#option_ndbd_remove"><code class="option">--remove[=<em class="replaceable"><code>name</code></em>]</code></a>
</p>
<div class="informaltable">
<table summary="Options for remove" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--remove[=name]</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ndbd</code></td></tr></tbody></table>
</div>
<p>
            Causes an <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process that was
            previously installed as a Windows service to be removed.
            Optionally, you can specify a name for the service to be
            uninstalled; if not set, the service name defaults to
            <code class="literal">ndbd</code>.
          </p><p>
            The <a class="link" href="mysql-cluster.html#option_ndbd_remove"><code class="option">--remove</code></a> option has no
            effect on non-Windows platforms.
          </p></li><li class="listitem"><p><a name="option_ndbd_connect-retries"></a>
            <a class="indexterm" name="idp117156512"></a>

            <a class="indexterm" name="idp117157600"></a>

            <code class="option">--connect-retries=<em class="replaceable"><code>#</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for connect-retries" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--connect-retries=#</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">12</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">-1 .. 65535</code></td></tr></tbody></table>
</div>
<p>
            Determines the number of times that the data node attempts
            to contact a management server when starting. Setting this
            option to -1 causes the data node to keep trying to make
            contact indefinitely. The default is 12 attempts. The time
            to wait between attempts is controlled by the
            <a class="link" href="mysql-cluster.html#option_ndbd_connect-delay"><code class="option">--connect-delay</code></a> option.
          </p></li><li class="listitem"><p><a name="option_ndbd_connect-delay"></a>
            <a class="indexterm" name="idp117176656"></a>

            <a class="indexterm" name="idp117177744"></a>

            <code class="option">--connect-delay=<em class="replaceable"><code>#</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for connect-delay" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--connect-delay=#</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">5</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 3600</code></td></tr></tbody></table>
</div>
<p>
            Determines the time to wait between attempts to contact a
            management server when starting (the time between attempts
            is controlled by the
            <a class="link" href="mysql-cluster.html#option_ndbd_connect-retries"><code class="option">--connect-retries</code></a> option). The
            default is 5 attempts.
          </p><p>
            This option was added in MySQL Cluster NDB 7.2.9.
</p></li></ul>
</div>
<a class="indexterm" name="idp117196496"></a><a class="indexterm" name="idp117197984"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> generates a set of log files which are
        placed in the directory specified by
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a> in the
        <code class="filename">config.ini</code> configuration file.
      </p><p>
        These log files are listed below.
        <em class="replaceable"><code>node_id</code></em> is the node's unique
        identifier. Note that <em class="replaceable"><code>node_id</code></em>
        represents the node's unique identifier. For example,
        <code class="filename">ndb_2_error.log</code> is the error log generated
        by the data node whose node ID is <code class="literal">2</code>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="indexterm" name="idp117205632"></a>

            <a class="indexterm" name="idp117207120"></a>

            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_error.log</code>
            is a file containing records of all crashes which the
            referenced <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process has encountered.
            Each record in this file contains a brief error string and a
            reference to a trace file for this crash. A typical entry in
            this file might appear as shown here:
          </p><pre class="programlisting">Date/Time: Saturday 30 July 2004 - 00:20:01
Type of error: error
Message: Internal program error (failed ndbrequire)
Fault ID: 2341
Problem data: DbtupFixAlloc.cpp
Object of reference: DBTUP (Line: 173)
ProgramName: NDB Kernel
ProcessID: 14909
TraceFile: ndb_2_trace.log.2
***EOM***</pre><p>
            Listings of possible <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> exit codes and
            messages generated when a data node process shuts down
            prematurely can be found in
            <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndbd-error-messages.html" target="_top"><code class="literal">ndbd</code> Error Messages</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              <span class="emphasis"><em>The last entry in the error log file is not
              necessarily the newest one</em></span> (nor is it likely to
              be). Entries in the error log are <span class="emphasis"><em>not</em></span>
              listed in chronological order; rather, they correspond to
              the order of the trace files as determined in the
              <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_trace.log.next</code>
              file (see below). Error log entries are thus overwritten
              in a cyclical and not sequential fashion.
</p>
</div>
</li><li class="listitem"><p>
            <a class="indexterm" name="idp117217904"></a>

            <a class="indexterm" name="idp117219392"></a>

            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_trace.log.<em class="replaceable"><code>trace_id</code></em></code>
            is a trace file describing exactly what happened just before
            the error occurred. This information is useful for analysis
            by the MySQL Cluster development team.
          </p><p>
            It is possible to configure the number of these trace files
            that will be created before old files are overwritten.
            <em class="replaceable"><code>trace_id</code></em> is a number which is
            incremented for each successive trace file.
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_trace.log.next</code>
            is the file that keeps track of the next trace file number
            to be assigned.
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_out.log</code>
            is a file containing any data output by the
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process. This file is created only
            if <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> is started as a daemon, which is
            the default behavior.
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>.pid</code>
            is a file containing the process ID of the
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process when started as a daemon. It
            also functions as a lock file to avoid the starting of nodes
            with the same identifier.
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_signal.log</code>
            is a file used only in debug versions of
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>, where it is possible to trace all
            incoming, outgoing, and internal messages with their data in
            the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process.
</p></li></ul>
</div>
<p>
        It is recommended not to use a directory mounted through NFS
        because in some environments this can cause problems whereby the
        lock on the <code class="filename">.pid</code> file remains in effect
        even after the process has terminated.
      </p><p>
        To start <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>, it may also be necessary to
        specify the host name of the management server and the port on
        which it is listening. Optionally, one may also specify the node
        ID that the process is to use.
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndbd --connect-string="nodeid=2;host=ndb_mgmd.mysql.com:1186"</code></strong>
</pre><p>
        See <a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="17.3.2.3. MySQL Cluster Connection Strings">Section 17.3.2.3, “MySQL Cluster Connection Strings”</a>, for
        additional information about this issue.
        <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon">Section 17.4.1, “<span class="command"><strong>ndbd</strong></span> — The MySQL Cluster Data Node Daemon”</a>, describes other
        options for <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>.
      </p><p>
        When <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> starts, it actually initiates two
        processes. The first of these is called the <span class="quote">“<span class="quote">angel
        process</span>”</span>; its only job is to discover when the execution
        process has been completed, and then to restart the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process if it is configured to do so.
        Thus, if you attempt to kill <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> using the
        Unix <a class="link" href="sql-syntax.html#kill" title="13.7.6.4. KILL Syntax"><span class="command"><strong>kill</strong></span></a> command, it is necessary to kill
        both processes, beginning with the angel process. The preferred
        method of terminating an <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process is to
        use the management client and stop the process from there.
      </p><p>
        The execution process uses one thread for reading, writing, and
        scanning data, as well as all other activities. This thread is
        implemented asynchronously so that it can easily handle
        thousands of concurrent actions. In addition, a watch-dog thread
        supervises the execution thread to make sure that it does not
        hang in an endless loop. A pool of threads handles file I/O,
        with each thread able to handle one open file. Threads can also
        be used for transporter connections by the transporters in the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process. In a multi-processor system
        performing a large number of operations (including updates), the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process can consume up to 2 CPUs if
        permitted to do so.
      </p><p>
        For a machine with many CPUs it is possible to use several
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> processes which belong to different node
        groups; however, such a configuration is still considered
        experimental and is not supported for MySQL 5.6 in
        a production setting. See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations" title="17.1.6. Known Limitations of MySQL Cluster">Section 17.1.6, “Known Limitations of MySQL Cluster”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndbinfo-select-all"></a>17.4.2. <span class="command"><strong>ndbinfo_select_all</strong></span> — Select From ndbinfo Tables</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp117255168"></a><a class="indexterm" name="idp117256112"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbinfo-select-all" title="17.4.2. ndbinfo_select_all — Select From ndbinfo Tables"><span class="command"><strong>ndbinfo_select_all</strong></span></a> is a client program that
        selects all rows and columns from one or more tables in the
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo" title="17.5.10. The ndbinfo MySQL Cluster Information Database"><code class="literal">ndbinfo</code></a> database. It is
        included with the MySQL Cluster distribution beginning with
        MySQL Cluster NDB 7.2.2.
      </p><p>
        Not all <code class="literal">ndbinfo</code> tables can be accessed by
        this program. <code class="literal">ndbinfo_select_all</code> can access
        the <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-counters" title="17.5.10.7. The ndbinfo counters Table"><code class="literal">counters</code></a>,
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-diskpagebuffer" title="17.5.10.8. The ndbinfo diskpagebuffer Table"><code class="literal">diskpagebuffer</code></a>,
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-logbuffers" title="17.5.10.9. The ndbinfo logbuffers Table"><code class="literal">logbuffers</code></a>,
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-logspaces" title="17.5.10.10. The ndbinfo logspaces Table"><code class="literal">logspaces</code></a>,
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-nodes" title="17.5.10.13. The ndbinfo nodes Table"><code class="literal">nodes</code></a>,
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-resources" title="17.5.10.14. The ndbinfo resources Table"><code class="literal">resources</code></a>,
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-threadblocks" title="17.5.10.17. The ndbinfo threadblocks Table"><code class="literal">threadblocks</code></a>,
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-threadstat" title="17.5.10.18. The ndbinfo threadstat Table"><code class="literal">threadstat</code></a>, and
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-transporters" title="17.5.10.19. The ndbinfo transporters Table"><code class="literal">transporters</code></a> tables.
      </p><p>
        To select from one or more <code class="literal">ndbinfo</code> tables
        using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbinfo-select-all" title="17.4.2. ndbinfo_select_all — Select From ndbinfo Tables"><span class="command"><strong>ndbinfo_select_all</strong></span></a>, it is necessary to
        supply the names of the tables when invoking the program as
        shown here:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndbinfo_select_all <em class="replaceable"><code>table_name1</code></em>  [<em class="replaceable"><code>table_name2</code></em>] [...]</code></strong>
</pre><p>
        For example:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndbinfo_select_all logbuffers logspaces</code></strong>
== logbuffers ==
node_id log_type        log_id  log_part        total   used    high
5       0       0       0       33554432        262144  0
6       0       0       0       33554432        262144  0
7       0       0       0       33554432        262144  0
8       0       0       0       33554432        262144  0
== logspaces ==
node_id log_type        log_id  log_part        total   used    high
5       0       0       0       268435456       0       0
5       0       0       1       268435456       0       0
5       0       0       2       268435456       0       0
5       0       0       3       268435456       0       0
6       0       0       0       268435456       0       0
6       0       0       1       268435456       0       0
6       0       0       2       268435456       0       0
6       0       0       3       268435456       0       0
7       0       0       0       268435456       0       0
7       0       0       1       268435456       0       0
7       0       0       2       268435456       0       0
7       0       0       3       268435456       0       0
8       0       0       0       268435456       0       0
8       0       0       1       268435456       0       0
8       0       0       2       268435456       0       0
8       0       0       3       268435456       0       0
shell&gt;                       
</pre><a class="indexterm" name="idp117278464"></a><p>
        The following table includes options that are specific to
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbinfo-select-all" title="17.4.2. ndbinfo_select_all — Select From ndbinfo Tables"><span class="command"><strong>ndbinfo_select_all</strong></span></a>. Additional descriptions
        follow the table. For options common to most MySQL Cluster
        programs (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbinfo-select-all" title="17.4.2. ndbinfo_select_all — Select From ndbinfo Tables"><span class="command"><strong>ndbinfo_select_all</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndbinfo_select_all-options-table"></a><p class="title"><b>Table 17.11. <span class="command">ndbinfo_select_all</span> Options and Variables: MySQL
Cluster NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndbinfo_select_all program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbinfo_select_all_delay">--delay=#</a>
              </code>
            </p></td><td>Set the delay in seconds between loops. Default is 5.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndbinfo_select_all_loops">--loops=#</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbinfo_select_all_loops">-l</a>
              </code>
            </p></td><td>Set the number of times to perform the select. Default is 1.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_database">--database=db_name</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_database">-d</a>
              </code>
            </p></td><td>Name of the database where the table located.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_parallelism">--parallelism=#</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_parallelism">-p</a>
              </code>
            </p></td><td>Set the degree of parallelism.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndbinfo_select_all_delay"></a>
            <a class="indexterm" name="idp117313248"></a>

            <code class="option">--delay=<code class="literal">seconds</code></code>
</p>
<div class="informaltable">
<table summary="Options for delay" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--delay=#</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">5</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. MAX_INT</code></td></tr></tbody></table>
</div>
<p>
            This option sets the number of seconds to wait between
            executing loops. Has no effect if
            <a class="link" href="mysql-cluster.html#option_ndbinfo_select_all_loops"><code class="option">--loops</code></a> is set to
            0 or 1.
          </p></li><li class="listitem"><p><a name="option_ndbinfo_select_all_loops"></a>
            <a class="indexterm" name="idp117332400"></a>

            <a class="indexterm" name="idp117333488"></a>

            <code class="option">--loops=<code class="literal">number</code></code>,
            <code class="option">-l <em class="replaceable"><code>number</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for loops" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--loops=#</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-l</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. MAX_INT</code></td></tr></tbody></table>
</div>
<p>
            This option sets the number of times to execute the select.
            Use <a class="link" href="mysql-cluster.html#option_ndbinfo_select_all_delay"><code class="option">--delay</code></a> to
            set the time between loops.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndbmtd"></a>17.4.3. <span class="command"><strong>ndbmtd</strong></span> — The MySQL Cluster Data Node Daemon (Multi-Threaded)</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp117355904"></a><a class="indexterm" name="idp117356848"></a><a class="indexterm" name="idp117358208"></a><a class="indexterm" name="idp117359568"></a><a class="indexterm" name="idp117360528"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> is a multi-threaded version of
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>, the process that is used to handle all
        the data in tables using the
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine.
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> is intended for use on host computers
        having multiple CPU cores. Except where otherwise noted,
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> functions in the same way as
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>; therefore, in this section, we
        concentrate on the ways in which <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>
        differs from <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>, and you should consult
        <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon">Section 17.4.1, “<span class="command"><strong>ndbd</strong></span> — The MySQL Cluster Data Node Daemon”</a>, for additional
        information about running MySQL Cluster data nodes that apply to
        both the single-threaded and multi-threaded versions of the data
        node process.
      </p><p>
        Command-line options and configuration parameters used with
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> also apply to <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>.
        For more information about these options and parameters, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon">Section 17.4.1, “<span class="command"><strong>ndbd</strong></span> — The MySQL Cluster Data Node Daemon”</a>, and
        <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition" title="17.3.2.6. Defining MySQL Cluster Data Nodes">Section 17.3.2.6, “Defining MySQL Cluster Data Nodes”</a>, respectively.
      </p><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> is also file system-compatible with
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>. In other words, a data node running
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> can be stopped, the binary replaced with
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>, and then restarted without any loss
        of data. (However, when doing this, you must make sure that
        <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-maxnoofexecutionthreads"><code class="literal">MaxNoOfExecutionThreads</code></a>
        is set to an apppriate value before restarting the node if you
        wish for <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> to run in multi-threaded
        fashion.) Similarly, an <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> binary can be
        replaced with <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> simply by stopping the
        node and then starting <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> in place of the
        multi-threaded binary. It is not necessary when switching
        between the two to start the data node binary using
        <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a>.
      </p><p>
        Using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> differs from using
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> in two key respects:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Because <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> runs by default in
            single-threaded mode (that is, it behaves like
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>), you must configure it to use
            multiple threads. This can be done by setting an appropriate
            value in the <code class="filename">config.ini</code> file for the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-maxnoofexecutionthreads"><code class="literal">MaxNoOfExecutionThreads</code></a>
            configuration parameter or the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-threadconfig"><code class="literal">ThreadConfig</code></a>
            configuration parameter. Using
            <code class="literal">MaxNoOfExecutionThreads</code> is simpler, but
            <code class="literal">ThreadConfig</code> offers more flexibility. For
            more information about these configuration parameters and
            their use, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition-ndbmtd-parameters" title="Multi-Threading Configuration Parameters (ndbmtd)">Multi-Threading Configuration Parameters (<span class="command"><strong>ndbmtd</strong></span>)</a>.
          </p></li><li class="listitem"><p>
            Trace files are generated by critical errors in
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> processes in a somewhat different
            fashion from how these are generated by
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> failures. These differences are
            discussed in more detail in the next few paragraphs.
</p></li></ol>
</div>
<a class="indexterm" name="idp117396656"></a><a class="indexterm" name="idp117398144"></a><a class="indexterm" name="idp117399632"></a><a class="indexterm" name="idp117401120"></a><a class="indexterm" name="idp117402624"></a><p>
        Like <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>, <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>
        generates a set of log files which are placed in the directory
        specified by <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a> in
        the <code class="filename">config.ini</code> configuration file. Except
        for trace files, these are generated in the same way and have
        the same names as those generated by <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>.
      </p><p>
        In the event of a critical error, <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>
        generates trace files describing what happened just prior to the
        error' occurrence. These files, which can be found in the
        data node's
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a>, are useful for
        analysis of problems by the MySQL Cluster Development and
        Support teams. One trace file is generated for each
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> thread. The names of these files have
        the following pattern:
      </p><pre class="programlisting">          <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_trace.log.<em class="replaceable"><code>trace_id</code></em>_t<em class="replaceable"><code>thread_id</code></em></code>,
</pre><p>
        In this pattern, <em class="replaceable"><code>node_id</code></em> stands for
        the data node's unique node ID in the cluster,
        <em class="replaceable"><code>trace_id</code></em> is a trace sequence number,
        and <em class="replaceable"><code>thread_id</code></em> is the thread ID. For
        example, in the event of the failure of an
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> process running as a MySQL Cluster
        data node having the node ID 3 and with
        <a class="link" href="mysql-cluster.html#ndbparam-ndbmtd-maxnoofexecutionthreads"><code class="literal">MaxNoOfExecutionThreads</code></a>
        equal to 4, four trace files are generated in the data
        node's data directory. If the is the first time this node
        has failed, then these files are named
        <code class="filename">ndb_3_trace.log.1_t1</code>,
        <code class="filename">ndb_3_trace.log.1_t2</code>,
        <code class="filename">ndb_3_trace.log.1_t3</code>, and
        <code class="filename">ndb_3_trace.log.1_t4</code>. Internally, these
        trace files follow the same format as <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>
        trace files.
      </p><p>
        The <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> exit codes and messages that are
        generated when a data node process shuts down prematurely are
        also used by <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>. See
        <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndbd-error-messages.html" target="_top"><code class="literal">ndbd</code> Error Messages</a>, for a listing of these.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          It is possible to use <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> and
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> concurrently on different data nodes
          in the same MySQL Cluster. However, such configurations have
          not been tested extensively; thus, we cannot recommend doing
          so in a production setting at this time.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-mgmd"></a>17.4.4. <span class="command"><strong>ndb_mgmd</strong></span> — The MySQL Cluster Management Server Daemon</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp117430160"></a><a class="indexterm" name="idp117431120"></a><a class="indexterm" name="idp117432480"></a><a class="indexterm" name="idp117433840"></a><a class="indexterm" name="idp117435216"></a><p>
        The management server is the process that reads the cluster
        configuration file and distributes this information to all nodes
        in the cluster that request it. It also maintains a log of
        cluster activities. Management clients can connect to the
        management server and check the cluster's status.
      </p><a class="indexterm" name="idp117437440"></a><a class="indexterm" name="idp117438928"></a><a class="indexterm" name="idp117440416"></a><a class="indexterm" name="idp117441920"></a><p>
        The following table includes options that are specific to the
        MySQL Cluster management server program
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>. Additional descriptions follow the
        table. For options common to most MySQL Cluster programs
        (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_mgmd-options-table"></a><p class="title"><b>Table 17.12. <span class="command">ndb_mgmd</span> Options and Variables: MySQL Cluster NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_mgmd program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-file">--config-file=file</a></code>,
            </p>



            <p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-file">-f</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-file">-c</a>
              </code>
            </p></td><td>Specify the cluster configuration file; in NDB-6.4.0 and later, needs
            --reload or --initial to override configuration cache if
            present</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_configdir">--configdir=directory</a>
              </code>
            </p></td><td>Specify the cluster management server's configuration cache directory</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_bind-address">--bind-address=ip_address</a>
              </code>
            </p></td><td>Local bind address</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_mgmd_print-full-config">--print-full-config</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_print-full-config">-P</a>
              </code>
            </p></td><td>Print full configuration and exit</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_mgmd_daemon">--daemon</a></code>,
            </p>



            <p>
              <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgmd_daemon">-d</a>
              </code>
            </p></td><td>Run ndb_mgmd in daemon mode (default)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_nodaemon">--nodaemon</a>
              </code>
            </p></td><td>Do not run ndb_mgmd as a daemon</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_interactive">--interactive</a>
              </code>
            </p></td><td>Run ndb_mgmd in interactive mode (not officially supported in
            production; for testing purposes only)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_log-name">--log-name=name</a>
              </code>
            </p></td><td>A name to use when writing messages applying to this node in the cluster
            log.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_no-nodeid-checks">--no-nodeid-checks</a>
              </code>
            </p></td><td>Do not provide any node id checks</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_mycnf">--mycnf</a>
              </code>
            </p></td><td>Read cluster configuration data from the my.cnf file</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_reload">--reload</a>
              </code>
            </p></td><td>Causes the management server to compare the configuration file with its
            configuration cache</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_initial">--initial</a>
              </code>
            </p></td><td>Causes the management server reload its configuration data from the
            configuration file, bypassing the configuration cache</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_nowait-nodes">--nowait-nodes=list</a>
              </code>
            </p></td><td>Do not wait for these management nodes when starting this management
            server. Also requires --ndb-nodeid to be used.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-cache">--config-cache=value</a>
              </code>
            </p></td><td>Enable the management server configuration cache; ON by default.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_install">--install[=name]</a>
              </code>
            </p></td><td>Used to install the management server process as a Windows service. Does
            not apply on non-Windows platforms.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_remove">--remove[=name]</a>
              </code>
            </p></td><td>Used to remove a management server process that was previously installed
            as a Windows service, optionally specifying the name of the
            service to be removed. Does not apply on non-Windows
            platforms.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_mgmd_bind-address"></a>
            <a class="indexterm" name="idp117524784"></a>

            <code class="option">--bind-address=<em class="replaceable"><code>host</code></em>[:<em class="replaceable"><code>port</code></em>]</code>
</p>
<div class="informaltable">
<table summary="Options for bind-address" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--bind-address=ip_address</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr></tbody></table>
</div>
<p>
            When specified, this option limits management server
            connections by management clients to clients at the
            specified host name or IP address (and possibly port, if
            this is also specified). In such cases, a management client
            attempting to connect to the management server from any
            other address fails with the error <span class="errortext">Unable to
            setup port:
            <em class="replaceable"><code>host</code></em>:<em class="replaceable"><code>port</code></em>!</span>
          </p><p>
            If the <em class="replaceable"><code>port</code></em> is not specified, the
            management client attempts to use port 1186.
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_no-nodeid-checks"></a>
            <a class="indexterm" name="idp117543616"></a>

            <code class="option">--no-nodeid-checks</code>
</p>
<div class="informaltable">
<table summary="Options for no-nodeid-checks" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--no-nodeid-checks</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Do not perform any checks of node IDs.
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_configdir"></a>
            <a class="indexterm" name="idp117559056"></a>

            <code class="option">--configdir=<em class="replaceable"><code>path</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for configdir" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--configdir=directory</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">file name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">$INSTALLDIR/mysql-cluster</code></td></tr></tbody></table>
</div>
<p>
            Specifies the cluster management server's configuration
            cache directory. <code class="option">--config-dir</code> is an alias
            for this option.
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_config-cache"></a>
            <a class="indexterm" name="idp117575296"></a>

            This option, whose default value is <code class="literal">1</code> (or
            <code class="literal">TRUE</code>, or <code class="literal">ON</code>), can be
            used to disable the management server's configuration
            cache, so that it reads its configuration from
            <code class="filename">config.ini</code> every time it starts (see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="17.3.2. MySQL Cluster Configuration Files">Section 17.3.2, “MySQL Cluster Configuration Files”</a>). You can do
            this by starting the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> process
            with any one of the following options:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="option">--config-cache=0</code>
              </p></li><li class="listitem"><p>
                <code class="option">--config-cache=FALSE</code>
              </p></li><li class="listitem"><p>
                <code class="option">--config-cache=OFF</code>
              </p></li><li class="listitem"><p><a name="option_ndb_mgmd_skip_config-cache"></a>
                <code class="option">--skip-config-cache</code>
</p></li></ul>
</div>
<p>
            Using one of the options just listed is effective only if
            the management server has no stored configuration at the
            time it is started. If the management server finds any
            configuration cache files, then the
            <code class="option">--config-cache</code> option or the
            <code class="option">--skip-config-cache</code> option is ignored.
            Therefore, to disable configuration caching, the option
            should be used the <span class="emphasis"><em>first</em></span> time that the
            management server is started. Otherwise—that is, if
            you wish to disable configuration caching for a management
            server that has <span class="emphasis"><em>already</em></span> created a
            configuration cache—you must stop the management
            server, delete any existing configuration cache files
            manually, then restart the management server with
            <code class="option">--skip-config-cache</code> (or with
            <code class="option">--config-cache</code> set equal to 0,
            <code class="literal">OFF</code>, or <code class="literal">FALSE</code>).
          </p><p>
            Configuration cache files are normally created in a
            directory named <code class="filename">mysql-cluster</code> under the
            installation directory (unless this location has been
            overridden using the
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_configdir"><code class="option">--configdir</code></a> option). Each
            time the management server updates its configuration data,
            it writes a new cache file. The files are named sequentially
            in order of creation using the following format:
          </p><pre class="programlisting">ndb_<em class="replaceable"><code>node-id</code></em>_config.bin.<em class="replaceable"><code>seq-number</code></em>
</pre><p>
            <em class="replaceable"><code>node-id</code></em> is the management
            server's node ID; <em class="replaceable"><code>seq-number</code></em>
            is a sequence number, beginning with 1. For example, if the
            management server's node ID is 5, then the first three
            configuration cache files would, when they are created, be
            named <code class="filename">ndb_5_config.bin.1</code>,
            <code class="filename">ndb_5_config.bin.2</code>, and
            <code class="filename">ndb_5_config.bin.3</code>.
          </p><p>
            If your intent is to purge or reload the configuration cache
            without actually disabling caching, you should start
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> with one of the options
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_reload"><code class="option">--reload</code></a> or
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_initial"><code class="option">--initial</code></a> instead of
            <code class="option">--skip-config-cache</code>.
          </p><p>
            To re-enable the configuration cache, simply restart the
            management server, but without the
            <code class="option">--config-cache</code> or
            <code class="option">--skip-config-cache</code> option that was used
            previously to disable the configuration cache.
          </p><p>
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> does not check for the
            configuration directory
            (<a class="link" href="mysql-cluster.html#option_ndb_mgmd_configdir"><code class="option">--configdir</code></a>) or attempts
            to create one when <code class="option">--skip-config-cache</code> is
            used. (Bug #13428853)
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_config-file"></a>
            <a class="indexterm" name="idp117608464"></a>

            <a class="indexterm" name="idp117609552"></a>

            <a class="indexterm" name="idp117610624"></a>

            <code class="option">--config-file=<em class="replaceable"><code>filename</code></em></code>,
            <code class="option">-f <em class="replaceable"><code>filename</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for config-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--config-file=file</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-f</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">file name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">./config.ini</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">file name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr></tbody></table>
</div>
<p>
            Instructs the management server as to which file it should
            use for its configuration file. By default, the management
            server looks for a file named
            <code class="filename">config.ini</code> in the same directory as the
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> executable; otherwise the file
            name and location must be specified explicitly.
          </p><p>
            This option has no default value, and is ignored unless the
            management server is forced to read the configuration file,
            either because <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> was started with
            the <a class="link" href="mysql-cluster.html#option_ndb_mgmd_reload"><code class="option">--reload</code></a> or
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_initial"><code class="option">--initial</code></a> option, or
            because the management server could not find any
            configuration cache. This option is also read if
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> was started with
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-cache"><code class="option">--config-cache=OFF</code></a>. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="17.3.2. MySQL Cluster Configuration Files">Section 17.3.2, “MySQL Cluster Configuration Files”</a>, for more
            information.
          </p><p>
            Formerly, using this option together with
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_initial"><code class="option">--initial</code></a> caused removal of
            the configuration cache even if the file was not found. This
            issue was resolved in MySQL Cluster NDB 7.3.2. (Bug
            #1299289)
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_mycnf"></a>
            <a class="indexterm" name="idp117644016"></a>

            <a class="indexterm" name="idp117645504"></a>

            <code class="option">--mycnf</code>
</p>
<div class="informaltable">
<table summary="Options for mycnf" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--mycnf</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Read configuration data from the <code class="filename">my.cnf</code>
            file.
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_daemon"></a>
            <a class="indexterm" name="idp117662032"></a>

            <a class="indexterm" name="idp117663120"></a>

            <code class="option">--daemon</code>, <code class="option">-d</code>
</p>
<div class="informaltable">
<table summary="Options for daemon" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--daemon</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-d</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table>
</div>
<p>
            Instructs <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> to start as a daemon
            process. This is the default behavior.
          </p><p>
            This option has no effect when running
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> on Windows platforms.
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_interactive"></a>
            <a class="indexterm" name="idp117682784"></a>

            <code class="option">--interactive</code>
</p>
<div class="informaltable">
<table summary="Options for interactive" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--interactive</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Starts <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> in interactive mode; that
            is, an <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client session is started
            as soon as the management server is running. This option
            does not start any other MySQL Cluster nodes.
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_initial"></a>
            <a class="indexterm" name="idp117700048"></a>

            <code class="option">--initial</code>
</p>
<div class="informaltable">
<table summary="Options for initial" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--initial</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Configuration data is cached internally, rather than being
            read from the cluster global configuration file each time
            the management server is started (see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="17.3.2. MySQL Cluster Configuration Files">Section 17.3.2, “MySQL Cluster Configuration Files”</a>). Using the
            <code class="option">--initial</code> option overrides this behavior,
            by forcing the management server to delete any existing
            cache files, and then to re-read the configuration data from
            the cluster configuration file and to build a new cache.
          </p><p>
            This differs in two ways from the
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_reload"><code class="option">--reload</code></a> option. First,
            <code class="option">--reload</code> forces the server to check the
            configuration file against the cache and reload its data
            only if the contents of the file are different from the
            cache. Second, <code class="option">--reload</code> does not delete any
            existing cache files.
          </p><p>
            If <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> is invoked with
            <code class="option">--initial</code> but cannot find a global
            configuration file, the management server cannot start.
          </p><p>
            When a management server starts, it checks for another
            management server in the same MySQL Cluster and tries to use
            the other management server's configuration data;
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> ignores
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_initial"><code class="option">--initial</code></a> unless it is the
            only management server running. This behavior also has
            implications when performing a rolling restart of a MySQL
            Cluster with multiple management nodes. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="17.5.5. Performing a Rolling Restart of a MySQL Cluster">Section 17.5.5, “Performing a Rolling Restart of a MySQL Cluster”</a>, for more
            information.
          </p><p>
            Formerly, using this option together with the
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-file"><code class="option">--config-file</code></a> option caused
            removal of the configuration cache even if the file was not
            found. Starting with MySQL Cluster NDB 7.3.2, the cache is
            cleared in such cases only if the configuration file is
            actually found. (Bug #1299289)
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_log-name"></a>
            <a class="indexterm" name="idp117725904"></a>

            <code class="option">--log-name=<em class="replaceable"><code>name</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for log-name" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--log-name=name</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">MgmtSrvr</code></td></tr></tbody></table>
</div>
<p>
            Provides a name to be used for this node in the cluster log.
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_nodaemon"></a>
            <a class="indexterm" name="idp117741632"></a>

            <code class="option">--nodaemon</code>
</p>
<div class="informaltable">
<table summary="Options for nodaemon" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--nodaemon</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Instructs <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> not to start as a
            daemon process.
          </p><p>
            The default behavior for <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> on
            Windows is to run in the foreground, making this option
            unnecessary on Windows platforms.
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_print-full-config"></a>
            <a class="indexterm" name="idp117759328"></a>

            <a class="indexterm" name="idp117760416"></a>

            <code class="option">--print-full-config</code>, <code class="option">-P</code>
</p>
<div class="informaltable">
<table summary="Options for print-full-config" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--print-full-config</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-P</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Shows extended information regarding the configuration of
            the cluster. With this option on the command line the
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> process prints information about
            the cluster setup including an extensive list of the cluster
            configuration sections as well as parameters and their
            values. Normally used together with the
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_config-file"><code class="option">--config-file</code></a>
            (<code class="option">-f</code>) option.
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_reload"></a>
            <a class="indexterm" name="idp117780304"></a>

            <code class="option">--reload</code>
</p>
<div class="informaltable">
<table summary="Options for reload" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--reload</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            In MySQL Cluster NDB 7.3, configuration data is stored
            internally rather than being read from the cluster global
            configuration file each time the management server is
            started (see <a class="xref" href="mysql-cluster.html#mysql-cluster-config-file" title="17.3.2. MySQL Cluster Configuration Files">Section 17.3.2, “MySQL Cluster Configuration Files”</a>).
            Using this option forces the management server to check its
            internal data store against the cluster configuration file
            and to reload the configuration if it finds that the
            configuration file does not match the cache. Existing
            configuration cache files are preserved, but not used.
          </p><p>
            This differs in two ways from the
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_initial"><code class="option">--initial</code></a> option. First,
            <code class="option">--initial</code> causes all cache files to be
            deleted. Second, <code class="option">--initial</code> forces the
            management server to re-read the global configuration file
            and construct a new cache.
          </p><p>
            If the management server cannot find a global configuration
            file, then the <code class="option">--reload</code> option is ignored.
          </p><p>
            When a management server starts, it checks for another
            management server in the same MySQL Cluster and tries to use
            the other management server's configuration data;
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> ignores
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_reload"><code class="option">--reload</code></a> unless it is the
            only management server running. This behavior also has
            implications when performing a rolling restart of a MySQL
            Cluster with multiple management nodes. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="17.5.5. Performing a Rolling Restart of a MySQL Cluster">Section 17.5.5, “Performing a Rolling Restart of a MySQL Cluster”</a>, for more
            information.
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_nowait-nodes"></a>
            <a class="indexterm" name="idp117803280"></a>

            <code class="option">--nowait-nodes</code>
</p>
<div class="informaltable">
<table summary="Options for nowait-nodes" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--nowait-nodes=list</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 255</code></td></tr></tbody></table>
</div>
<p>
            When starting a MySQL Cluster is configured with two
            management nodes, each management server normally checks to
            see whether the other <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> is also
            operational and whether the other management server's
            configuration is identical to its own. However, it is
            sometimes desirable to start the cluster with only one
            management node (and perhaps to allow the other
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> to be started later). This
            option causes the management node to bypass any checks for
            any other management nodes whose node IDs are passed to this
            option, permitting the cluster to start as though configured
            to use only the management node that was started.
          </p><p>
            For purposes of illustration, consider the following portion
            of a <code class="filename">config.ini</code> file (where we have
            omitted most of the configuration parameters that are not
            relevant to this example):
          </p><pre class="programlisting">[ndbd]
NodeId = 1
HostName = 192.168.0.101

[ndbd]
NodeId = 2
HostName = 192.168.0.102

[ndbd]
NodeId = 3
HostName = 192.168.0.103

[ndbd]
NodeId = 4
HostName = 192.168.0.104

[ndb_mgmd]
NodeId = 10
HostName = 192.168.0.150

[ndb_mgmd]
NodeId = 11
HostName = 192.168.0.151

[api]
NodeId = 20
HostName = 192.168.0.200

[api]
NodeId = 21
HostName = 192.168.0.201</pre><p>
            Assume that you wish to start this cluster using only the
            management server having node ID <code class="literal">10</code> and
            running on the host having the IP address 192.168.0.150.
            (Suppose, for example, that the host computer on which you
            intend to the other management server is temporarily
            unavailable due to a hardware failure, and you are waiting
            for it to be repaired.) To start the cluster in this way,
            use a command line on the machine at 192.168.0.150 to enter
            the following command:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgmd --ndb-nodeid=10 --nowait-nodes=11</code></strong>
</pre><p>
            As shown in the preceding example, when using
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_nowait-nodes"><code class="option">--nowait-nodes</code></a>, you must
            also use the <a class="link" href="mysql-cluster.html#option_ndb_common_ndb-nodeid"><code class="option">--ndb-nodeid</code></a>
            option to specify the node ID of this
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> process.
          </p><p>
            You can then start each of the cluster's data nodes in
            the usual way. If you wish to start and use the second
            management server in addition to the first management server
            at a later time without restarting the data nodes, you must
            start each data node with a connection string that
            references both management servers, like this:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndbd -c 192.168.0.150,192.168.0.151</code></strong>
</pre><p>
            The same is true with regard to the connection string used
            with any <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> processes that you wish
            to start as MySQL Cluster SQL nodes connected to this
            cluster. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="17.3.2.3. MySQL Cluster Connection Strings">Section 17.3.2.3, “MySQL Cluster Connection Strings”</a>, for more
            information.
          </p><p>
            When used with <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>, this option
            affects the behavior of the management node with regard to
            other management nodes only. Do not confuse it with the
            <a class="link" href="mysql-cluster.html#option_ndbd_nowait-nodes"><code class="option">--nowait-nodes</code></a> option used with
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> to
            permit a cluster to start with fewer than its full
            complement of data nodes; when used with data nodes, this
            option affects their behavior only with regard to other data
            nodes.
          </p><p>
            Multiple management node IDs may be passed to this option as
            a comma-separated list. Each node ID must be no less than 1
            and no greater than 255. In practice, it is quite rare to
            use more than two management servers for the same MySQL
            Cluster (or to have any need for doing so); in most cases
            you need to pass to this option only the single node ID for
            the one management server that you do not wish to use when
            starting the cluster.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              When you later start the <span class="quote">“<span class="quote">missing</span>”</span> management
              server, its configuration must match that of the
              management server that is already in use by the cluster.
              Otherwise, it fails the configuration check performed by
              the existing management server, and does not start.
</p>
</div>
</li></ul>
</div>
<p>
        It is not strictly necessary to specify a connection string when
        starting the management server. However, if you are using more
        than one management server, a connection string should be
        provided and each node in the cluster should specify its node ID
        explicitly.
      </p><p>
        See <a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="17.3.2.3. MySQL Cluster Connection Strings">Section 17.3.2.3, “MySQL Cluster Connection Strings”</a>, for
        information about using connection strings.
        <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon">Section 17.4.4, “<span class="command"><strong>ndb_mgmd</strong></span> — The MySQL Cluster Management Server Daemon”</a>, describes
        other options for <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>.
      </p><p>
        The following files are created or used by
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> in its starting directory, and are
        placed in the <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a> as
        specified in the <code class="filename">config.ini</code> configuration
        file. In the list that follows,
        <em class="replaceable"><code>node_id</code></em> is the unique node
        identifier.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="indexterm" name="idp117850144"></a>

            <a class="indexterm" name="idp117851632"></a>

            <a class="indexterm" name="idp117852720"></a>

            <code class="filename">config.ini</code> is the configuration file
            for the cluster as a whole. This file is created by the user
            and read by the management server.
            <a class="xref" href="mysql-cluster.html#mysql-cluster-configuration" title="17.3. Configuration of MySQL Cluster NDB 7.3">Section 17.3, “Configuration of MySQL Cluster NDB 7.3”</a>, discusses how
            to set up this file.
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_cluster.log</code>
            is the cluster events log file. Examples of such events
            include checkpoint startup and completion, node startup
            events, node failures, and levels of memory usage. A
            complete listing of cluster events with descriptions may be
            found in <a class="xref" href="mysql-cluster.html#mysql-cluster-management" title="17.5. Management of MySQL Cluster">Section 17.5, “Management of MySQL Cluster”</a>.
          </p><p>
            When the size of the cluster log reaches one million bytes,
            the file is renamed to
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_cluster.log.<em class="replaceable"><code>seq_id</code></em></code>,
            where <em class="replaceable"><code>seq_id</code></em> is the sequence
            number of the cluster log file. (For example: If files with
            the sequence numbers 1, 2, and 3 already exist, the next log
            file is named using the number <code class="literal">4</code>.)
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_out.log</code>
            is the file used for <code class="literal">stdout</code> and
            <code class="literal">stderr</code> when running the management server
            as a daemon.
          </p></li><li class="listitem"><p>
            <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>.pid</code>
            is the process ID file used when running the management
            server as a daemon.
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_install"></a>
            <a class="indexterm" name="idp117867904"></a>

            <code class="option">--install[=<em class="replaceable"><code>name</code></em>]</code>
</p>
<div class="informaltable">
<table summary="Options for install" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--install[=name]</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ndb_mgmd</code></td></tr></tbody></table>
</div>
<p>
            Causes <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> to be installed as a
            Windows service. Optionally, you can specify a name for the
            service; if not set, the service name defaults to
            <code class="literal">ndb_mgmd</code>. Although it is preferable to
            specify other <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> program options in
            a <code class="filename">my.ini</code> or <code class="filename">my.cnf</code>
            configuration file, it is possible to use them together with
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_install"><code class="option">--install</code></a>. However, in such
            cases, the <a class="link" href="mysql-cluster.html#option_ndb_mgmd_install"><code class="option">--install</code></a> option
            must be specified first, before any other options are given,
            for the Windows service installation to succeed.
          </p><p>
            It is generally not advisable to use this option together
            with the <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> option,
            since this causes the configuration cache to be wiped and
            rebuilt every time the service is stopped and started. Care
            should also be taken if you intend to use any other
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> options that affect the starting
            of the management server, and you should make absolutely
            certain you fully understand and allow for any possible
            consequences of doing so.
          </p><p>
            The <a class="link" href="mysql-cluster.html#option_ndb_mgmd_install"><code class="option">--install</code></a> option has no
            effect on non-Windows platforms.
          </p></li><li class="listitem"><p><a name="option_ndb_mgmd_remove"></a>
            <a class="indexterm" name="idp117893664"></a>

            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_remove"><code class="option">--remove[=<em class="replaceable"><code>name</code></em>]</code></a>
</p>
<div class="informaltable">
<table summary="Options for remove" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--remove[=name]</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ndb_mgmd</code></td></tr></tbody></table>
</div>
<p>
            Causes an <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> process that was
            previously installed as a Windows service to be removed.
            Optionally, you can specify a name for the service to be
            uninstalled; if not set, the service name defaults to
            <code class="literal">ndb_mgmd</code>.
          </p><p>
            The <a class="link" href="mysql-cluster.html#option_ndb_mgmd_remove"><code class="option">--remove</code></a> option has no
            effect on non-Windows platforms.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-mgm"></a>17.4.5. <span class="command"><strong>ndb_mgm</strong></span> — The MySQL Cluster Management Client</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp117913888"></a><a class="indexterm" name="idp117914832"></a><a class="indexterm" name="idp117916192"></a><a class="indexterm" name="idp117917568"></a><a class="indexterm" name="idp117918912"></a><a class="indexterm" name="idp117920240"></a><a class="indexterm" name="idp117921600"></a><p>
        The <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> management client process is
        actually not needed to run the cluster. Its value lies in
        providing a set of commands for checking the cluster's status,
        starting backups, and performing other administrative functions.
        The management client accesses the management server using a C
        API. Advanced users can also employ this API for programming
        dedicated management processes to perform tasks similar to those
        performed by <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>.
      </p><p>
        To start the management client, it is necessary to supply the
        host name and port number of the management server:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgm [<em class="replaceable"><code>host_name</code></em> [<em class="replaceable"><code>port_num</code></em>]]</code></strong>
</pre><p>
        For example:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgm ndb_mgmd.mysql.com 1186</code></strong>
</pre><p>
        The default host name and port number are
        <code class="literal">localhost</code> and 1186, respectively.
      </p><a class="indexterm" name="idp117931072"></a><a class="indexterm" name="idp117932560"></a><a class="indexterm" name="idp117934048"></a><a class="indexterm" name="idp117935552"></a><p>
        The following table includes options that are specific to the
        MySQL Cluster management client program
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>. Additional descriptions follow the
        table. For options common to most MySQL Cluster programs
        (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_mgm-options-table"></a><p class="title"><b>Table 17.13. <span class="command">ndb_mgm</span> Options and Variables: MySQL Cluster NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_mgm program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_mgm_try-reconnect">--try-reconnect=#</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_mgm_try-reconnect">-t</a>
              </code>
            </p></td><td>Specify number of tries for connecting to ndb_mgmd (0 = infinite)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_mgm_execute">--execute=name</a></code>,
            </p>



            <p>
              <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_mgm_execute">-e</a>
              </code>
            </p></td><td>Execute command and exit</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_mgm_execute"></a>
            <a class="indexterm" name="idp117961088"></a>

            <a class="indexterm" name="idp117962176"></a>

            <code class="option">--execute=<code class="literal">command</code></code>,
            <code class="option">-e <code class="literal">command</code></code>
</p>
<div class="informaltable">
<table summary="Options for execute" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--execute=name</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-e</code></td></tr></tbody></table>
</div>
<p>
            This option can be used to send a command to the MySQL
            Cluster management client from the system shell. For
            example, either of the following is equivalent to executing
            <code class="literal">SHOW</code> in the management client:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgm -e "SHOW"</code></strong>

shell&gt; <strong class="userinput"><code>ndb_mgm --execute="SHOW"</code></strong>
</pre><p>
            This is analogous to how the
            <a class="link" href="programs.html#option_mysql_execute"><code class="option">--execute</code></a> or
            <code class="option">-e</code> option works with the
            <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> command-line client. See
            <a class="xref" href="programs.html#command-line-options" title="4.2.3.1. Using Options on the Command Line">Section 4.2.3.1, “Using Options on the Command Line”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              If the management client command to be passed using this
              option contains any space characters, then the command
              <span class="emphasis"><em>must</em></span> be enclosed in quotation marks.
              Either single or double quotation marks may be used. If
              the management client command contains no space
              characters, the quotation marks are optional.
</p>
</div>
</li><li class="listitem"><p><a name="option_ndb_mgm_try-reconnect"></a>
            <code class="option">--try-reconnect=<em class="replaceable"><code>number</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for try-reconnect" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--try-reconnect=#</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-t</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table>
</div>
<p>
            If the connection to the management server is broken, the
            node tries to reconnect to it every 5 seconds until it
            succeeds. By using this option, it is possible to limit the
            number of attempts to <em class="replaceable"><code>number</code></em>
            before giving up and reporting an error instead.
</p></li></ul>
</div>
<p>
        Additional information about using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>
        can be found in
        <a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="17.5.2. Commands in the MySQL Cluster Management Client">Section 17.5.2, “Commands in the MySQL Cluster Management Client”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-blob-tool"></a>17.4.6. <span class="command"><strong>ndb_blob_tool</strong></span> — Check and Repair BLOB and TEXT columns of MySQL Cluster
Tables</h3>
</div>
</div>
</div>
<a class="indexterm" name="idp118002000"></a><p>
        This tool can be used to check for and remove orphaned BLOB
        column parts from <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables, as
        well as to generate a file listing any orphaned parts. It is
        sometimes useful in diagnosing and repairing corrupted or
        damaged <code class="literal">NDB</code> tables containing
        <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
        <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns.
      </p><p>
        The basic syntax for <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-blob-tool" title="17.4.6. ndb_blob_tool — Check and Repair BLOB and TEXT columns of MySQL Cluster Tables"><span class="command"><strong>ndb_blob_tool</strong></span></a> is shown
        here:
      </p><pre class="programlisting">ndb_blob_tool [<em class="replaceable"><code>options</code></em>] <em class="replaceable"><code>table</code></em> [<em class="replaceable"><code>column</code></em>, ...]
</pre><p>
        Unless you use the <a class="link" href="mysql-cluster.html#option_ndb_common_help"><code class="option">--help</code></a>
        option, you must specify an action to be performed by including
        one or more of the options
        <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_check-orphans"><code class="option">--check-orphans</code></a>,
        <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_delete-orphans"><code class="option">--delete-orphans</code></a>, or
        <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_dump-file"><code class="option">--dump-file</code></a>. These options
        cause <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-blob-tool" title="17.4.6. ndb_blob_tool — Check and Repair BLOB and TEXT columns of MySQL Cluster Tables"><span class="command"><strong>ndb_blob_tool</strong></span></a> to check for orphaned
        BLOB parts, remove any orphaned BLOB parts, and generate a dump
        file listing orphaned BLOB parts, respectively, and are
        described in more detail later in this section.
      </p><p>
        You must also specify the name of a table when invoking
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-blob-tool" title="17.4.6. ndb_blob_tool — Check and Repair BLOB and TEXT columns of MySQL Cluster Tables"><span class="command"><strong>ndb_blob_tool</strong></span></a>. In addition, you can
        optionally follow the table name with the (comma-separated)
        names of one or more <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
        <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns from that table. If
        no columns are listed, the tool works on all of the table's
        <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> and
        <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns. If you need to
        specify a database, use the
        <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_database"><code class="option">--database</code></a>
        (<code class="option">-d</code>) option.
      </p><p>
        The <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_verbose"><code class="option">--verbose</code></a> option
        provides additional information in the output about the
        tool's progress.
      </p><p>
        The following table includes options that are specific to
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-blob-tool" title="17.4.6. ndb_blob_tool — Check and Repair BLOB and TEXT columns of MySQL Cluster Tables"><span class="command"><strong>ndb_blob_tool</strong></span></a>. Additional descriptions follow
        the table. For options common to most MySQL Cluster programs
        (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-blob-tool" title="17.4.6. ndb_blob_tool — Check and Repair BLOB and TEXT columns of MySQL Cluster Tables"><span class="command"><strong>ndb_blob_tool</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_blob_tool-options-table"></a><p class="title"><b>Table 17.14. <span class="command">ndb_blob_tool</span> Options and Variables: MySQL Cluster
NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_blob_tool program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_check-orphans">--check-orphans</a>
              </code>
            </p></td><td>Check for orphan blob parts</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_blob_tool_database">--database=db_name</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_database">-d</a>
              </code>
            </p></td><td>Database to find the table in.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_delete-orphans">--delete-orphans</a>
              </code>
            </p></td><td>Delete orphan blob parts</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_dump-file">--dump-file=file</a>
              </code>
            </p></td><td>Write orphan keys to specified file</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_blob_tool_verbose">--verbose</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_verbose">-v</a>
              </code>
            </p></td><td>Verbose output</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_blob_tool_check-orphans"></a>
            <a class="indexterm" name="idp118058384"></a>

            <a class="indexterm" name="idp118059872"></a>

            <code class="option">--check-orphans</code>
</p>
<div class="informaltable">
<table summary="Options for check-orphans" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--check-orphans</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Check for orphaned BLOB parts in MySQL Cluster tables.
          </p></li><li class="listitem"><p><a name="option_ndb_blob_tool_database"></a>
            <a class="indexterm" name="idp118075728"></a>

            <a class="indexterm" name="idp118077216"></a>

            <code class="option">--database=<em class="replaceable"><code>db_name</code></em></code>,
            <code class="option">-d</code>
</p>
<div class="informaltable">
<table summary="Options for database" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--database=db_name</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-d</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr></tbody></table>
</div>
<p>
            Specify the database to find the table in.
          </p></li><li class="listitem"><p><a name="option_ndb_blob_tool_delete-orphans"></a>
            <a class="indexterm" name="idp118095392"></a>

            <a class="indexterm" name="idp118096880"></a>

            <code class="option">--delete-orphans</code>
</p>
<div class="informaltable">
<table summary="Options for delete-orphans" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--delete-orphans</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Remove orphaned BLOB parts from MySQL Cluster tables.
          </p></li><li class="listitem"><p><a name="option_ndb_blob_tool_dump-file"></a>
            <a class="indexterm" name="idp118112736"></a>

            <a class="indexterm" name="idp118114224"></a>

            <code class="option">--dump-file=<em class="replaceable"><code>file</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for dump-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--dump-file=file</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">file name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr></tbody></table>
</div>
<p>
            Writes a list of orphaned BLOB column parts to
            <em class="replaceable"><code>file</code></em>. The information written to
            the file includes the table key and BLOB part number for
            each orphaned BLOB part.
          </p></li><li class="listitem"><p><a name="option_ndb_blob_tool_verbose"></a>
            <a class="indexterm" name="idp118130928"></a>

            <a class="indexterm" name="idp118132416"></a>

            <code class="option">--verbose</code>
</p>
<div class="informaltable">
<table summary="Options for verbose" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--verbose</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-v</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Provide extra information in the tool's output
            regarding its progress.
</p></li></ul>
</div>
<h4><a name="idp118149264"></a>
        Example
</h4>
<p>
        First we create an <code class="literal">NDB</code> table in the
        <code class="literal">test</code> database, using the
        <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> statement shown
        here:
      </p><pre class="programlisting">USE test;

CREATE TABLE btest (
    c0 BIGINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY, 
    c1 TEXT, 
    c2 BLOB
)   ENGINE=NDB;</pre><p>
        Then we insert a few rows into this table, using a series of
        statements similar to this one:
      </p><pre class="programlisting">INSERT INTO btest VALUES (NULL, 'x', REPEAT('x', 1000));</pre><p>
        When run with
        <a class="link" href="mysql-cluster.html#option_ndb_blob_tool_check-orphans"><code class="option">--check-orphans</code></a> against
        this table, <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-blob-tool" title="17.4.6. ndb_blob_tool — Check and Repair BLOB and TEXT columns of MySQL Cluster Tables"><span class="command"><strong>ndb_blob_tool</strong></span></a> generates the
        following output:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_blob_tool --check-orphans --verbose -d test btest</code></strong>
connected
processing 2 blobs
processing blob #0 c1 NDB$BLOB_19_1
NDB$BLOB_19_1: nextResult: res=1
total parts: 0
orphan parts: 0
processing blob #1 c2 NDB$BLOB_19_2
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=0
NDB$BLOB_19_2: nextResult: res=1
total parts: 10
orphan parts: 0
disconnected

NDBT_ProgramExit: 0 - OK
</pre><p>
        The tool reports that there are no <code class="literal">NDB</code> BLOB
        column parts associated with column <code class="literal">c1</code>, even
        though <code class="literal">c1</code> is a
        <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> column. This is due to the
        fact that, in an <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table, only
        the first 256 bytes of a <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
        <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> column value are stored
        inline, and only the excess, if any, is stored separately; thus,
        if there are no values using more than 256 bytes in a given
        column of one of these types, no <code class="literal">BLOB</code> column
        parts are created by <code class="literal">NDB</code> for this column. See
        <a class="xref" href="data-types.html#storage-requirements" title="11.6. Data Type Storage Requirements">Section 11.6, “Data Type Storage Requirements”</a>, for more information.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-config"></a>17.4.7. <span class="command"><strong>ndb_config</strong></span> — Extract MySQL Cluster Configuration Information</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp118168480"></a><p>
        This tool extracts current configuration information for data
        nodes, SQL nodes, and API nodes from one of a number of sources:
        a MySQL Cluster management node, or its
        <code class="filename">config.ini</code> or <code class="filename">my.cnf</code>
        file. By default, the management node is the source for the
        configuration data; to override the default, execute ndb_config
        with the <a class="link" href="mysql-cluster.html#option_ndb_config_config-file"><code class="option">--config-file</code></a> or
        <a class="link" href="mysql-cluster.html#option_ndb_config_mycnf"><code class="option">--mycnf</code></a> option. It is also
        possible to use a data node as the source by specifying its node
        ID with
        <a class="link" href="mysql-cluster.html#option_ndb_config_config_from_node"><code class="option">--config_from_node=<em class="replaceable"><code>node_id</code></em></code></a>.
      </p><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a> can also provide an offline dump
        of all configuration parameters which can be used, along with
        their default, maximum, and minimum values and other
        information. The dump can be produced in either text or XML
        format; for more information, see the discussion of the
        <a class="link" href="mysql-cluster.html#option_ndb_config_configinfo"><code class="option">--configinfo</code></a> and
        <a class="link" href="mysql-cluster.html#option_ndb_config_xml"><code class="option">--xml</code></a> options later in this
        section).
      </p><p>
        You can filter the results by section (<code class="literal">DB</code>,
        <code class="literal">SYSTEM</code>, or <code class="literal">CONNECTIONS</code>)
        using one of the options
        <a class="link" href="mysql-cluster.html#option_ndb_config_nodes"><code class="option">--nodes</code></a>,
        <a class="link" href="mysql-cluster.html#option_ndb_config_system"><code class="option">--system</code></a>, or
        <a class="link" href="mysql-cluster.html#option_ndb_config_connections"><code class="option">--connections</code></a>.
      </p><p>
        The following table includes options that are specific to
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a>. Additional descriptions follow
        the table. For options common to most MySQL Cluster programs
        (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_config-options-table"></a><p class="title"><b>Table 17.15. <span class="command">ndb_config</span> Options and Variables: MySQL Cluster NDB
7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_config program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_config_nodes">--nodes</a>
              </code>
            </p></td><td>Print node information (DB section) only.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_config_connections">--connections</a>
              </code>
            </p></td><td>Print CONNECTIONS section information only. Cannot be used with --nodes
            or --system option.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_config_query">--query=string</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_config_query">-q</a>
              </code>
            </p></td><td>One or more query options (attributes)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_config_host">--host=name</a>
              </code>
            </p></td><td>Specify host</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_config_type">--type=name</a>
              </code>
            </p></td><td>Specify node type</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_config_nodeid">--nodeid</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_config_nodeid">--id</a>
              </code>
            </p></td><td>Get configuration of node with this ID</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_config_fields">--fields=string</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_config_fields">-f</a>
              </code>
            </p></td><td>Field separator</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_config_rows">--rows=string</a></code>,
            </p>



            <p>
              <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_config_rows">-r</a>
              </code>
            </p></td><td>Row separator</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_config_config-file">--config-file=path</a>
              </code>
            </p></td><td>Set the path to config.ini file</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_config_mycnf">--mycnf</a>
              </code>
            </p></td><td>Read configuration data from my.cnf file</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_common_ndb-connectstring">-c</a>
              </code>
            </p></td><td>Short form for --ndb-connectstring</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_config_configinfo">--configinfo</a>
              </code>
            </p></td><td>Dumps information about all NDB configuration parameters in text format
            with default, maximum, and minimum values. Use with --xml to
            obtain XML output.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_config_xml">--configinfo
              --xml</a> </code>
            </p></td><td>Use --xml with --configinfo to obtain a dump of all NDB configuration
            parameters in XML format with default, maximum, and minimum
            values.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_config_system">--system</a>
              </code>
            </p></td><td>Print SYSTEM section information only. Cannot be used with --nodes or
            --connections option.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_config_config_from_node">--config_from_node=#</a>
              </code>
            </p></td><td>Obtain configuration data from the node having this ID (must be a data
            node).</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_config_usage"></a>
            <a class="indexterm" name="idp118260160"></a>

            <a class="indexterm" name="idp118261648"></a>

            <code class="option">--usage</code>, <code class="option">--help</code>, or
            <code class="option">-?</code>
</p>
<div class="informaltable">
<table summary="Options for help" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--help</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">--usage</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-?</code></td></tr></tbody></table>
</div>
<p>
            Causes <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a> to print a list of
            available options, and then exit.
          </p></li><li class="listitem"><p><a name="option_ndb_config_config_from_node"></a>
            <a class="indexterm" name="idp118276112"></a>

            <a class="indexterm" name="idp118277600"></a>

            <code class="option">--config_from_node=#</code>
</p>
<div class="informaltable">
<table summary="Options for config_from_node" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--config_from_node=#</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">none</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 48</code></td></tr></tbody></table>
</div>
<p>
            Obtain the cluster's configuration data from the data
            node that has this ID.
          </p><p>
            If the node having this ID is not a data node,
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a> fails with an error. (To
            obtain configuration data from the management node instead,
            simply omit this option.)
          </p></li><li class="listitem"><p><a name="option_ndb_config_version"></a>
            <a class="indexterm" name="idp118297200"></a>

            <a class="indexterm" name="idp118298688"></a>

            <code class="option">--version</code>, <code class="option">-V</code>
</p>
<div class="informaltable">
<table summary="Options for version" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--version</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-V</code></td></tr></tbody></table>
</div>
<p>
            Causes <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a> to print a version
            information string, and then exit.
          </p></li><li class="listitem"><p><a name="option_ndb_config_ndb-connectstring"></a>
            <a class="indexterm" name="idp118311024"></a>

            <a class="indexterm" name="idp118312528"></a>

            <code class="option">--ndb-connectstring=<em class="replaceable"><code>connect_string</code></em></code>,
            <code class="option">-c
            <em class="replaceable"><code>connect_string</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for ndb-connectstring" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-connectstring=connectstring</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">--connect-string=connectstring</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-c</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">localhost:1186</code></td></tr></tbody></table>
</div>
<p>
            Specifies the connection string to use in connecting to the
            management server. The format for the connection string is
            the same as described in
            <a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="17.3.2.3. MySQL Cluster Connection Strings">Section 17.3.2.3, “MySQL Cluster Connection Strings”</a>, and
            defaults to <code class="literal">localhost:1186</code>.
          </p></li><li class="listitem"><p><a name="option_ndb_config_config-file"></a>
            <a class="indexterm" name="idp118334208"></a>

            <a class="indexterm" name="idp118335696"></a>

            <code class="option">--config-file=<em class="replaceable"><code>path-to-file</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for config-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--config-file=path</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">file name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p>
            Gives the path to the management server's configuration file
            (<code class="filename">config.ini</code>). This may be a relative or
            absolute path. If the management node resides on a different
            host from the one on which <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a> is
            invoked, then an absolute path must be used.
          </p></li><li class="listitem"><p><a name="option_ndb_config_mycnf"></a>
            <a class="indexterm" name="idp118353408"></a>

            <a class="indexterm" name="idp118354896"></a>

            <code class="option">--mycnf</code>
</p>
<div class="informaltable">
<table summary="Options for mycnf" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--mycnf</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Read configuration data from the <code class="filename">my.cnf</code>
            file.
          </p></li><li class="listitem"><p><a name="option_ndb_config_query"></a>
            <a class="indexterm" name="idp118371424"></a>

            <a class="indexterm" name="idp118372912"></a>

            <code class="option">--query=<em class="replaceable"><code>query-options</code></em></code>,
            <code class="option">-q</code> <em class="replaceable"><code>query-options</code></em>
</p>
<div class="informaltable">
<table summary="Options for query" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--query=string</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-q</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p>
            This is a comma-delimited list of <em class="firstterm">query
            options</em>—that is, a list of one or more
            node attributes to be returned. These include
            <code class="literal">id</code> (node ID), type (node type—that
            is, <code class="literal">ndbd</code>, <code class="literal">mysqld</code>, or
            <code class="literal">ndb_mgmd</code>), and any configuration
            parameters whose values are to be obtained.
          </p><p>
            For example,

            <a class="indexterm" name="idp118394240"></a>

            <a class="indexterm" name="idp118395728"></a>

            <code class="option">--query=id,type,indexmemory,datamemory</code>
            returns the node ID, node type,
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a>, and
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a> for each
            node.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              If a given parameter is not applicable to a certain type
              of node, than an empty string is returned for the
              corresponding value. See the examples later in this
              section for more information.
</p>
</div>
</li><li class="listitem"><p><a name="option_ndb_config_host"></a>
            <a class="indexterm" name="idp118401552"></a>

            <a class="indexterm" name="idp118403040"></a>

            <code class="option">--host=<em class="replaceable"><code>hostname</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for host" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--host=name</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p>
            Specifies the host name of the node for which configuration
            information is to be obtained.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              While the hostname <code class="literal">localhost</code> usually
              resolves to the IP address <code class="literal">127.0.0.1</code>,
              this may not necessarily be true for all operating
              platforms and configurations. This means that it is
              possible, when <code class="literal">localhost</code> is used in
              <code class="filename">config.ini</code>, for <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config
              <code class="option">--host=localhost</code></strong></span></a> to fail if
              <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a> is run on a different host
              where <code class="literal">localhost</code> resolves to a different
              address (for example, on some versions of SUSE Linux, this
              is <code class="literal">127.0.0.2</code>). In general, for best
              results, you should use numeric IP addresses for all MySQL
              Cluster configuration values relating to hosts, or verify
              that all MySQL Cluster hosts handle
              <code class="literal">localhost</code> in the same fashion.
</p>
</div>
</li><li class="listitem"><p><a name="option_ndb_config_id"></a>
            <a class="indexterm" name="idp118427504"></a>

            <a class="indexterm" name="idp118428992"></a>

            <code class="option">--id=<em class="replaceable"><code>node_id</code></em></code>
          </p><p><a name="option_ndb_config_nodeid"></a>
            <a class="indexterm" name="idp118431856"></a>

            <a class="indexterm" name="idp118433344"></a>

            <code class="option">--nodeid=<em class="replaceable"><code>node_id</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for ndb-nodeid" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-nodeid=#</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr></tbody></table>
</div>
<p>
            Either of these options can be used to specify the node ID
            of the node for which configuration information is to be
            obtained. <code class="option">--nodeid</code> is the preferred form.
          </p></li><li class="listitem"><p><a name="option_ndb_config_nodes"></a>
            <a class="indexterm" name="idp118449968"></a>

            <a class="indexterm" name="idp118451456"></a>

            <code class="option">--nodes</code>
</p>
<div class="informaltable">
<table summary="Options for nodes" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--nodes</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Tells <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a> to print information
            from parameters defined in <code class="literal">DB</code> sections
            only. This option cannot be used together with
            <a class="link" href="mysql-cluster.html#option_ndb_config_connections"><code class="option">--connections</code></a> or
            <a class="link" href="mysql-cluster.html#option_ndb_config_system"><code class="option">--system</code></a>.
          </p></li><li class="listitem"><p><a name="option_ndb_config_connections"></a>
            <a class="indexterm" name="idp118470624"></a>

            <a class="indexterm" name="idp118472112"></a>

            <code class="option">--connections</code>
</p>
<div class="informaltable">
<table summary="Options for connections" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--connections</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Tells <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a> to print
            <code class="literal">CONNECTIONS</code> information only. This option
            cannot be used together with
            <a class="link" href="mysql-cluster.html#option_ndb_config_nodes"><code class="option">--nodes</code></a> or
            <a class="link" href="mysql-cluster.html#option_ndb_config_system"><code class="option">--system</code></a>.
          </p></li><li class="listitem"><p><a name="option_ndb_config_system"></a>
            <a class="indexterm" name="idp118491248"></a>

            <a class="indexterm" name="idp118492736"></a>

            <code class="option">--system</code>
</p>
<div class="informaltable">
<table summary="Options for system" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--system</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Tells <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a> to print
            <code class="literal">SYSTEM</code> information only.
          </p><p>
            This option cannot be used together with the
            <a class="link" href="mysql-cluster.html#option_ndb_config_nodes"><code class="option">--nodes</code></a> or
            <a class="link" href="mysql-cluster.html#option_ndb_config_system"><code class="option">--system</code></a> options.
          </p></li><li class="listitem"><p><a name="option_ndb_config_type"></a>
            <a class="indexterm" name="idp118512272"></a>

            <a class="indexterm" name="idp118513760"></a>

            <code class="option">--type=<em class="replaceable"><code>node_type</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for type" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--type=name</code></td></tr><tr><td scope="row" rowspan="6"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr><tr><td scope="row" rowspan="3" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">ndbd</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">mysqld</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">ndb_mgmd</code></td></tr></tbody></table>
</div>
<p>
            Filters results so that only configuration values applying
            to nodes of the specified
            <em class="replaceable"><code>node_type</code></em>
            (<code class="literal">ndbd</code>, <code class="literal">mysqld</code>, or
            <code class="literal">ndb_mgmd</code>) are returned.
          </p></li><li class="listitem"><p><a name="option_ndb_config_fields"></a>
            <a class="indexterm" name="idp118537936"></a>

            <a class="indexterm" name="idp118539424"></a>

            <code class="option">--fields=<em class="replaceable"><code>delimiter</code></em></code>,
            <code class="option">-f</code> <em class="replaceable"><code>delimiter</code></em>
</p>
<div class="informaltable">
<table summary="Options for fields" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--fields=string</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-f</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p>
            Specifies a <em class="replaceable"><code>delimiter</code></em> string used
            to separate the fields in the result. The default is
            <span class="quote">“<span class="quote"><code class="literal">,</code></span>”</span> (the comma character).
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              If the <em class="replaceable"><code>delimiter</code></em> contains
              spaces or escapes (such as <code class="literal">\n</code> for the
              linefeed character), then it must be quoted.
</p>
</div>
</li><li class="listitem"><p><a name="option_ndb_config_rows"></a>
            <a class="indexterm" name="idp118561200"></a>

            <a class="indexterm" name="idp118562688"></a>

            <code class="option">--rows=<em class="replaceable"><code>separator</code></em></code>,
            <code class="option">-r</code> <em class="replaceable"><code>separator</code></em>
</p>
<div class="informaltable">
<table summary="Options for rows" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--rows=string</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-r</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p>
            Specifies a <em class="replaceable"><code>separator</code></em> string used
            to separate the rows in the result. The default is a space
            character.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              If the <em class="replaceable"><code>separator</code></em> contains
              spaces or escapes (such as <code class="literal">\n</code> for the
              linefeed character), then it must be quoted.
</p>
</div>
</li><li class="listitem"><p><a name="option_ndb_config_configinfo"></a>
            <a class="indexterm" name="idp118583664"></a>

            <a class="indexterm" name="idp118585152"></a>

            <code class="option">--configinfo</code>
          </p><p>
            The <code class="option">--configinfo</code> option causes
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a> to dump a list of each MySQL
            Cluster configuration parameter supported by the MySQL
            Cluster distribution of which <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a>
            is a part, including the following information:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                A brief description of each parameter's purpose,
                effects, and usage
              </p></li><li class="listitem"><p>
                The section of the <code class="filename">config.ini</code> file
                where the parameter may be used
              </p></li><li class="listitem"><p>
                The parameter's data type or unit of measurement
              </p></li><li class="listitem"><p>
                Where applicable, the parameter's default, minimum,
                and maximum values
              </p></li><li class="listitem"><p>
                A brief description of the parameter's purpose,
                effects, and usage
              </p></li><li class="listitem"><p>
                MySQL Cluster release version and build information
</p></li></ul>
</div>
<p>
            By default, this output is in text format. Part of this
            output is shown here:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_config --configinfo</code></strong>

****** SYSTEM ******

Name (String)
Name of system (NDB Cluster)
MANDATORY

PrimaryMGMNode (Non-negative Integer)
Node id of Primary ndb_mgmd(MGM) node
Default: 0 (Min: 0, Max: 4294967039)

ConfigGenerationNumber (Non-negative Integer)
Configuration generation number
Default: 0 (Min: 0, Max: 4294967039)

****** DB ******

MaxNoOfSubscriptions (Non-negative Integer)
Max no of subscriptions (default 0 == MaxNoOfTables)
Default: 0 (Min: 0, Max: 4294967039)

MaxNoOfSubscribers (Non-negative Integer)
Max no of subscribers (default 0 == 2 * MaxNoOfTables)
Default: 0 (Min: 0, Max: 4294967039)

…
</pre><p><a name="option_ndb_config_xml"></a>
            <a class="indexterm" name="idp118599984"></a>

            <a class="indexterm" name="idp118601472"></a>

            <code class="option">--configinfo</code> <code class="option">--xml</code>
</p>
<div class="informaltable">
<table summary="Options for xml" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--configinfo --xml</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr></tbody></table>
</div>
<p>
            You can obtain the output of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a>
            <a class="link" href="mysql-cluster.html#option_ndb_config_configinfo"><code class="option">--configinfo</code></a> as XML by
            adding the <code class="option">--xml</code> option. A portion of the
            resulting output is shown in this example:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_config --configinfo --xml</code></strong>

&lt;configvariables protocolversion="1" ndbversionstring="5.6.11-ndb-7.3.3"
                    ndbversion="458758" ndbversionmajor="7" ndbversionminor="0"
                    ndbversionbuild="6"&gt;
  &lt;section name="SYSTEM"&gt;
    &lt;param name="Name" comment="Name of system (NDB Cluster)" type="string"
              mandatory="true"/&gt;
    &lt;param name="PrimaryMGMNode" comment="Node id of Primary ndb_mgmd(MGM) node"
              type="unsigned" default="0" min="0" max="4294967039"/&gt;
    &lt;param name="ConfigGenerationNumber" comment="Configuration generation number"
              type="unsigned" default="0" min="0" max="4294967039"/&gt;
  &lt;/section&gt;
  &lt;section name="NDBD"&gt;
    &lt;param name="MaxNoOfSubscriptions" 
              comment="Max no of subscriptions (default 0 == MaxNoOfTables)"
              type="unsigned" default="0" min="0" max="4294967039"/&gt;
    &lt;param name="MaxNoOfSubscribers" 
              comment="Max no of subscribers (default 0 == 2 * MaxNoOfTables)"
              type="unsigned" default="0" min="0" max="4294967039"/&gt;

    …

  &lt;/section&gt;

  …

&lt;/configvariables&gt;
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              Normally, the XML output produced by
              <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a>
              <code class="option">--configinfo</code> <code class="option">--xml</code> is
              formatted using one line per element; we have added extra
              whitespace in the previous example, as well as the next
              one, for reasons of legibility. This should not make any
              difference to applications using this output, since most
              XML processors either ignore nonessential whitespace as a
              matter of course, or can be instructed to do so.
</p>
</div>
<p>
            The XML output also indicates when changing a given
            parameter requires that data nodes be restarted using the
            <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> option. This is shown
            by the presence of an <code class="literal">initial="true"</code>
            attribute in the corresponding
            <code class="literal">&lt;param&gt;</code> element. In addition, the
            restart type (<code class="literal">system</code> or
            <code class="literal">node</code>) is also shown; if a given parameter
            requires a system restart, this is indicated by the presence
            of a <code class="literal">restart="system"</code> attribute in the
            corresponding <code class="literal">&lt;param&gt;</code> element. For
            example, changing the value set for the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskless"><code class="literal">Diskless</code></a> parameter
            requires a system initial restart, as shown here (with the
            <code class="literal">restart</code> and <code class="literal">initial</code>
            attributes highlighted for visibility):
          </p><pre class="programlisting">&lt;param name="Diskless" comment="Run wo/ disk" type="bool" default="false" 
          <span class="emphasis"><em>restart="system" initial="true"</em></span>/&gt;
</pre><p>
            Currently, no <code class="literal">initial</code> attribute is
            included in the XML output for
            <code class="literal">&lt;param&gt;</code> elements corresponding to
            parameters which do not require initial restarts; in other
            words, <code class="literal">initial="false"</code> is the default,
            and the value <code class="literal">false</code> should be assumed if
            the attribute is not present. Similarly, the default restart
            type is <code class="literal">node</code> (that is, an online or
            <span class="quote">“<span class="quote">rolling</span>”</span> restart of the cluster), but the
            <code class="literal">restart</code> attribute is included only if the
            restart type is <code class="literal">system</code> (meaning that all
            cluster nodes must be shut down at the same time, then
            restarted).
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              The <code class="option">--xml</code> option can be used only with
              the <code class="option">--configinfo</code> option. Using
              <code class="option">--xml</code> without
              <code class="option">--configinfo</code> fails with an error.
</p>
</div>
<p>
            Unlike the options used with this program to obtain current
            configuration data, <code class="option">--configinfo</code> and
            <code class="option">--xml</code> use information obtained from the
            MySQL Cluster sources when <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a> was
            compiled. For this reason, no connection to a running MySQL
            Cluster or access to a <code class="filename">config.ini</code> or
            <code class="filename">my.cnf</code> file is required for these two
            options.
          </p><p>
            Combining other <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a> options (such
            as <a class="link" href="mysql-cluster.html#option_ndb_config_query"><code class="option">--query</code></a> or
            <a class="link" href="mysql-cluster.html#option_ndb_config_type"><code class="option">--type</code></a>) with
            <code class="option">--configinfo</code> or <code class="option">--xml</code> is
            not supported. Currently, if you attempt to do so, the usual
            result is that all other options besides
            <code class="option">--configinfo</code> or <code class="option">--xml</code> are
            simply ignored. <span class="emphasis"><em>However, this behavior is not
            guaranteed and is subject to change at any time</em></span>.
            In addition, since <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a>, when used
            with the <code class="option">--configinfo</code> option, does not
            access the MySQL Cluster or read any files, trying to
            specify additional options such as
            <code class="option">--ndb-connectstring</code> or
            <code class="option">--config-file</code> with
            <code class="option">--configinfo</code> serves no purpose.
</p></li></ul>
</div>
<h4><a name="idp118657312"></a>
        Examples
</h4>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            To obtain the node ID and type of each node in the cluster:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./ndb_config --query=id,type --fields=':' --rows='\n'</code></strong>
1:ndbd
2:ndbd
3:ndbd
4:ndbd
5:ndb_mgmd
6:mysqld
7:mysqld
8:mysqld
9:mysqld
</pre><p>
            In this example, we used the
            <a class="link" href="mysql-cluster.html#option_ndb_config_fields"><code class="option">--fields</code></a> options to
            separate the ID and type of each node with a colon character
            (<code class="literal">:</code>), and the
            <a class="link" href="mysql-cluster.html#option_ndb_config_rows"><code class="option">--rows</code></a> options to place
            the values for each node on a new line in the output.
          </p></li><li class="listitem"><p>
            To produce a connection string that can be used by data,
            SQL, and API nodes to connect to the management server:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./ndb_config --config-file=usr/local/mysql/cluster-data/config.ini \ 
--query=hostname,portnumber --fields=: --rows=, --type=ndb_mgmd</code></strong>
192.168.0.179:1186
</pre></li><li class="listitem"><p>
            This invocation of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-config" title="17.4.7. ndb_config — Extract MySQL Cluster Configuration Information"><span class="command"><strong>ndb_config</strong></span></a> checks only
            data nodes (using the
            <a class="link" href="mysql-cluster.html#option_ndb_config_type"><code class="option">--type</code></a> option), and shows
            the values for each node's ID and host name, as well as
            the values set for its
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a>,
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a>, and
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a> parameters:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./ndb_config --type=ndbd --query=id,host,datamemory,indexmemory,datadir -f ' : ' -r '\n'</code></strong>
1 : 192.168.0.193 : 83886080 : 18874368 : /usr/local/mysql/cluster-data
2 : 192.168.0.112 : 83886080 : 18874368 : /usr/local/mysql/cluster-data
3 : 192.168.0.176 : 83886080 : 18874368 : /usr/local/mysql/cluster-data
4 : 192.168.0.119 : 83886080 : 18874368 : /usr/local/mysql/cluster-data
</pre><p>
            In this example, we used the short options
            <code class="option">-f</code> and <code class="option">-r</code> for setting the
            field delimiter and row separator, respectively.
          </p></li><li class="listitem"><p>
            To exclude results from any host except one in particular,
            use the <a class="link" href="mysql-cluster.html#option_ndb_config_host"><code class="option">--host</code></a> option:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./ndb_config --host=192.168.0.176 -f : -r '\n' -q id,type</code></strong>
3:ndbd
5:ndb_mgmd
</pre><p>
            In this example, we also used the short form
            <code class="option">-q</code> to determine the attributes to be
            queried.
          </p><p>
            Similarly, you can limit results to a node with a specific
            ID using the <a class="link" href="mysql-cluster.html#option_ndb_config_id"><code class="option">--id</code></a> or
            <a class="link" href="mysql-cluster.html#option_ndb_config_nodeid"><code class="option">--nodeid</code></a> option.
</p></li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-cpcd"></a>17.4.8. <span class="command"><strong>ndb_cpcd</strong></span> — Automate Testing for NDB Development</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp118682800"></a><p>
        A utility having this name was formerly part of an internal
        automated test framework used in testing and debugging MySQL
        Cluster. It is no longer included in MySQL Cluster distributions
        provided by Oracle.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-delete-all"></a>17.4.9. <span class="command"><strong>ndb_delete_all</strong></span> — Delete All Rows from an NDB Table</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp118686096"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-delete-all" title="17.4.9. ndb_delete_all — Delete All Rows from an NDB Table"><span class="command"><strong>ndb_delete_all</strong></span></a> deletes all rows from the
        given <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table. In some cases,
        this can be much faster than
        <a class="link" href="sql-syntax.html#delete" title="13.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> or even
        <a class="link" href="sql-syntax.html#truncate-table" title="13.1.33. TRUNCATE TABLE Syntax"><code class="literal">TRUNCATE TABLE</code></a>.
</p>
<h4><a name="idp118691008"></a>
        Usage
</h4>
<pre class="programlisting">ndb_delete_all -c <em class="replaceable"><code>connect_string</code></em> <em class="replaceable"><code>tbl_name</code></em> -d <em class="replaceable"><code>db_name</code></em>
</pre><p>
        This deletes all rows from the table named
        <em class="replaceable"><code>tbl_name</code></em> in the database named
        <em class="replaceable"><code>db_name</code></em>. It is exactly equivalent to
        executing <code class="literal">TRUNCATE
        <em class="replaceable"><code>db_name</code></em>.<em class="replaceable"><code>tbl_name</code></em></code>
        in MySQL.
      </p><p>
        The following table includes options that are specific to
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-delete-all" title="17.4.9. ndb_delete_all — Delete All Rows from an NDB Table"><span class="command"><strong>ndb_delete_all</strong></span></a>. Additional descriptions
        follow the table. For options common to most MySQL Cluster
        programs (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-delete-all" title="17.4.9. ndb_delete_all — Delete All Rows from an NDB Table"><span class="command"><strong>ndb_delete_all</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_delete_all-options-table"></a><p class="title"><b>Table 17.16. <span class="command">ndb_delete_all</span> Options and Variables: MySQL Cluster
NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_delete_all program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal">--database=dbname</code>,
            </p>



            <p>
              <code class="literal">-d</code>
            </p></td><td>Name of the database in which the table is found</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_delete_all_transactional">--transactional</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_delete_all_transactional">-t</a>
              </code>
            </p></td><td>Perform the delete in a single transaction (may run out of operations)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--tupscan</code>
            </p></td><td>Run tup scan</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--diskscan</code>
            </p></td><td>Run disk scan</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_delete_all_transactional"></a>
            <a class="indexterm" name="idp118725504"></a>

            <a class="indexterm" name="idp118726992"></a>

            <code class="option">--transactional</code>, <code class="option">-t</code>
          </p><p>
            Use of this option causes the delete operation to be
            performed as a single transaction.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p xmlns="">
              With very large tables, using this option may cause the
              number of operations available to the cluster to be
              exceeded.
</p>
</div>
</li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-desc"></a>17.4.10. <span class="command"><strong>ndb_desc</strong></span> — Describe NDB Tables</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp118732704"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a> provides a detailed description of
        one or more <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables.
</p>
<h4><a name="idp118735888"></a>
        Usage
</h4>
<pre class="programlisting">ndb_desc -c <em class="replaceable"><code>connect_string</code></em> <em class="replaceable"><code>tbl_name</code></em> -d <em class="replaceable"><code>db_name</code></em> [-p]
      
ndb_desc -c <em class="replaceable"><code>connect_string</code></em> <em class="replaceable"><code>index_name</code></em> -d <em class="replaceable"><code>db_name</code></em> -t <em class="replaceable"><code>tbl_name</code></em>
</pre>
<h4><a name="idp118740048"></a>
        Sample Output
</h4>
<p>
        MySQL table creation and population statements:
      </p><pre class="programlisting">USE test;

CREATE TABLE fish (
    id INT(11) NOT NULL AUTO_INCREMENT,
    name VARCHAR(20) NOT NULL,
    length_mm INT(11) NOT NULL,
    weight_gm INT(11) NOT NULL,

    PRIMARY KEY pk (id),
    UNIQUE KEY uk (name)
) ENGINE=NDB;

INSERT INTO fish VALUES
    ('','guppy', 35, 2), ('','tuna', 2500, 150000),
    ('','shark', 3000, 110000), ('','manta ray', 1500, 50000),
    ('','grouper', 900, 125000), ('','puffer', 250, 2500);</pre><p>
        Output from <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a>:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./ndb_desc -c localhost fish -d test -p</code></strong>
-- fish --
Version: 2
Fragment type: 9
K Value: 6
Min load factor: 78
Max load factor: 80
Temporary table: no
Number of attributes: 4
Number of primary keys: 1
Length of frm data: 311
Row Checksum: 1
Row GCI: 1
SingleUserMode: 0
ForceVarPart: 1
FragmentCount: 2
TableStatus: Retrieved
-- Attributes --
id Int PRIMARY KEY DISTRIBUTION KEY AT=FIXED ST=MEMORY AUTO_INCR
name Varchar(20;latin1_swedish_ci) NOT NULL AT=SHORT_VAR ST=MEMORY
length_mm Int NOT NULL AT=FIXED ST=MEMORY
weight_gm Int NOT NULL AT=FIXED ST=MEMORY

-- Indexes --
PRIMARY KEY(id) - UniqueHashIndex
PRIMARY(id) - OrderedIndex
uk$unique(name) - UniqueHashIndex
uk(name) - OrderedIndex

-- Per partition info --
Partition  Row count  Commit count  Frag fixed memory ...
0          2          2             32768             ...
1          4          4             32768             ...

... Frag varsized memory  Extent_space  Free extent_space
... 32768                 0             0
... 32768                 0             0

NDBT_ProgramExit: 0 - OK
</pre><p>
        Information about multiple tables can be obtained in a single
        invocation of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a> by using their names,
        separated by spaces. All of the tables must be in the same
        database.
      </p><p>
        You can obtain additional information about a specific index
        using the <code class="option">--table</code> (short form:
        <code class="option">-t</code>) option supplying the name of the index as
        the first argument to <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a>, as shown
        here:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./ndb_desc uk -d test -t fish</code></strong>
-- uk --
Version: 3
Base table: fish
Number of attributes: 1
Logging: 0
Index type: OrderedIndex
Index status: Retrieved
-- Attributes --
name Varchar(20;latin1_swedish_ci) NOT NULL AT=SHORT_VAR ST=MEMORY
-- IndexTable 10/uk --
Version: 3
Fragment type: FragUndefined
K Value: 6
Min load factor: 78
Max load factor: 80
Temporary table: yes
Number of attributes: 2
Number of primary keys: 1
Length of frm data: 0
Row Checksum: 1
Row GCI: 1
SingleUserMode: 2
ForceVarPart: 0
FragmentCount: 4
ExtraRowGciBits: 0
ExtraRowAuthorBits: 0
TableStatus: Retrieved
-- Attributes --
name Varchar(20;latin1_swedish_ci) NOT NULL AT=SHORT_VAR ST=MEMORY
NDB$TNODE Unsigned [64] PRIMARY KEY DISTRIBUTION KEY AT=FIXED ST=MEMORY
-- Indexes -- 
PRIMARY KEY(NDB$TNODE) - UniqueHashIndex

NDBT_ProgramExit: 0 - OK
</pre><p>
        When an index is specified in this way, the
        <a class="link" href="mysql-cluster.html#option_ndb_desc_extra-partition-info"><code class="option">--extra-partition-info</code></a> and
        <a class="link" href="mysql-cluster.html#option_ndb_desc_extra-node-info"><code class="option">--extra-node-info</code></a> options have
        no effect.
      </p><p>
        The <code class="literal">Version</code> column in the output contains the
        table's schema object version. For information about
        interpreting this value, see
        <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-schema-object-versions.html" target="_top">NDB Schema Object Versions</a>.
      </p><p>
        The <code class="literal">Extent_space</code> and <code class="literal">Free
        extent_space</code> columns are applicable only to
        <code class="literal">NDB</code> tables having columns on disk; for tables
        having only in-memory columns, these columns always contain the
        value <code class="literal">0</code>.
      </p><p>
        To illustrate their use, we modify the previous example. First,
        we must create the necessary Disk Data objects, as shown here:
      </p><pre class="programlisting">CREATE LOGFILE GROUP lg_1
    ADD UNDOFILE 'undo_1.log'
    INITIAL_SIZE 16M
    UNDO_BUFFER_SIZE 2M
    ENGINE NDB;

ALTER LOGFILE GROUP lg_1
    ADD UNDOFILE 'undo_2.log'
    INITIAL_SIZE 12M
    ENGINE NDB;

CREATE TABLESPACE ts_1
    ADD DATAFILE 'data_1.dat'
    USE LOGFILE GROUP lg_1
    INITIAL_SIZE 32M
    ENGINE NDB;

ALTER TABLESPACE ts_1
    ADD DATAFILE 'data_2.dat'
    INITIAL_SIZE 48M
    ENGINE NDB;</pre><p>
        (For more information on the statements just shown and the
        objects created by them, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data-objects" title="17.5.12.1. MySQL Cluster Disk Data Objects">Section 17.5.12.1, “MySQL Cluster Disk Data Objects”</a>, as well as
        <a class="xref" href="sql-syntax.html#create-logfile-group" title="13.1.14. CREATE LOGFILE GROUP Syntax">Section 13.1.14, “<code class="literal">CREATE LOGFILE GROUP</code> Syntax”</a>, and
        <a class="xref" href="sql-syntax.html#create-tablespace" title="13.1.18. CREATE TABLESPACE Syntax">Section 13.1.18, “<code class="literal">CREATE TABLESPACE</code> Syntax”</a>.)
      </p><p>
        Now we can create and populate a version of the
        <code class="literal">fish</code> table that stores 2 of its columns on
        disk (deleting the previous version of the table first, if it
        already exists):
      </p><pre class="programlisting">CREATE TABLE fish (
    id INT(11) NOT NULL AUTO_INCREMENT,
    name VARCHAR(20) NOT NULL,
    length_mm INT(11) NOT NULL,
    weight_gm INT(11) NOT NULL,

    PRIMARY KEY pk (id),
    UNIQUE KEY uk (name)
) TABLESPACE ts_1 STORAGE DISK 
ENGINE=NDB;

INSERT INTO fish VALUES
    ('','guppy', 35, 2), ('','tuna', 2500, 150000),
    ('','shark', 3000, 110000), ('','manta ray', 1500, 50000),
    ('','grouper', 900, 125000), ('','puffer', 250, 2500);</pre><p>
        When run against this version of the table,
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a> displays the following output:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./ndb_desc -c localhost fish -d test -p</code></strong>
-- fish --
Version: 3
Fragment type: 9
K Value: 6
Min load factor: 78
Max load factor: 80
Temporary table: no
Number of attributes: 4
Number of primary keys: 1
Length of frm data: 321
Row Checksum: 1
Row GCI: 1
SingleUserMode: 0
ForceVarPart: 1
FragmentCount: 2
TableStatus: Retrieved
-- Attributes --
id Int PRIMARY KEY DISTRIBUTION KEY AT=FIXED ST=MEMORY AUTO_INCR
name Varchar(20;latin1_swedish_ci) NOT NULL AT=SHORT_VAR ST=MEMORY
length_mm Int NOT NULL AT=FIXED ST=DISK
weight_gm Int NOT NULL AT=FIXED ST=DISK

-- Indexes --
PRIMARY KEY(id) - UniqueHashIndex
PRIMARY(id) - OrderedIndex
uk$unique(name) - UniqueHashIndex
uk(name) - OrderedIndex
-- Per partition info --
Partition  Row count  Commit count  Frag fixed memory ...
0          2          2             32768             ...
1          4          4             32768             ...

... Frag varsized memory  Extent_space  Free extent_space
... 32768                 0             0
... 32768                 0             0

NDBT_ProgramExit: 0 - OK
</pre><p>
        This means that 1048576 bytes are allocated from the tablespace
        for this table on each partition, of which 1044440 bytes remain
        free for additional storage. In other words, 1048576 - 1044440 =
        4136 bytes per partition is currently being used to store the
        data from this table's disk-based columns. The number of
        bytes shown as <code class="literal">Free extent_space</code> is available
        for storing on-disk column data from the <code class="literal">fish</code>
        table only; for this reason, it is not visible when selecting
        from the <a class="link" href="information-schema.html#files-table" title="20.8. The INFORMATION_SCHEMA FILES Table"><code class="literal">INFORMATION_SCHEMA.FILES</code></a>
        table.
      </p><p>
        The following table includes options that are specific to
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a>. Additional descriptions follow the
        table. For options common to most MySQL Cluster programs
        (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_desc-options-table"></a><p class="title"><b>Table 17.17. <span class="command">ndb_desc</span> Options and Variables: MySQL Cluster NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_desc program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_blob-info">--blob-info</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_desc_blob-info">-b</a>
              </code>
            </p></td><td>Include partition information for BLOB tables in output. Requires that
            the -p option also be used</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_database">--database=dbname</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_desc_database">-d</a>
              </code>
            </p></td><td>Name of database containing table</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_extra-node-info">--extra-node-info</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_desc_extra-node-info">-n</a>
              </code>
            </p></td><td>Include partition-to-data-node mappings in output. Requires that the -p
            option also be used</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_extra-partition-info">--extra-partition-info</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_desc_extra-partition-info">-p</a>
              </code>
            </p></td><td>Display information about partitions</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_retries">--retries=#</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_desc_retries">-r</a>
              </code>
            </p></td><td>Number of times to retry the connection (once per second)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_table">--table=tbl_name</a></code>,
            </p>



            <p>
              <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_desc_table">-t</a>
              </code>
            </p></td><td>Specify the table in which to find an index. When this option is used,
            -p and -n have no effect and are ignored.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_desc_unqualified">--unqualified</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_desc_unqualified">-u</a>
              </code>
            </p></td><td>Use unqualified table names</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_desc_blob-info"></a>
            <a class="indexterm" name="idp118823440"></a>

            <a class="indexterm" name="idp118824928"></a>

            <code class="option">--blob-info</code>, <code class="option">-b</code>
          </p><p>
            Include information about subordinate
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> and
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns.
          </p><p>
            Use of this option also requires the use of the
            <a class="link" href="mysql-cluster.html#option_ndb_desc_extra-partition-info"><code class="option">--extra-partition-info</code></a>
            (<code class="option">-p</code>) option.
          </p></li><li class="listitem"><p><a name="option_ndb_desc_database"></a>
            <a class="indexterm" name="idp118832192"></a>

            <a class="indexterm" name="idp118833680"></a>

            <code class="option">--database=<em class="replaceable"><code>db_name</code></em></code>,
            <code class="option">-d</code>
          </p><p>
            Specify the database in which the table should be found.
          </p></li><li class="listitem"><p><a name="option_ndb_desc_extra-node-info"></a>
            <a class="indexterm" name="idp118837824"></a>

            <a class="indexterm" name="idp118839312"></a>

            <code class="option">--extra-node-info</code>, <code class="option">-n</code>
          </p><p>
            Include information about the mappings between table
            partitions and the data nodes upon which they reside. This
            information can be useful for verifying distribution
            awareness mechanisms and supporting more efficient
            application access to the data stored in MySQL Cluster.
          </p><p>
            Use of this option also requires the use of the
            <a class="link" href="mysql-cluster.html#option_ndb_desc_extra-partition-info"><code class="option">--extra-partition-info</code></a>
            (<code class="option">-p</code>) option.
          </p></li><li class="listitem"><p><a name="option_ndb_desc_extra-partition-info"></a>
            <a class="indexterm" name="idp118845152"></a>

            <a class="indexterm" name="idp118846656"></a>

            <code class="option">--extra-partition-info</code>, <code class="option">-p</code>
          </p><p>
            Print additional information about the table's
            partitions.
          </p></li><li class="listitem"><p><a name="option_ndb_desc_retries"></a>
            <a class="indexterm" name="idp118850496"></a>

            <a class="indexterm" name="idp118851984"></a>

            <code class="option">--retries=<em class="replaceable"><code>#</code></em></code>,
            <code class="option">-r</code>
          </p><p>
            Try to connect this many times before giving up. One connect
            attempt is made per second.
          </p></li><li class="listitem"><p><a name="option_ndb_desc_table"></a>
            <a class="indexterm" name="idp118856128"></a>

            <a class="indexterm" name="idp118857616"></a>

            <code class="option">--table=<em class="replaceable"><code>tbl_name</code></em></code>,
            <code class="option">-t</code>
          </p><p>
            Specify the table in which to look for an index.
          </p></li><li class="listitem"><p><a name="option_ndb_desc_unqualified"></a>
            <a class="indexterm" name="idp118861760"></a>

            <a class="indexterm" name="idp118863248"></a>

            <code class="option">--unqualified</code>, <code class="option">-u</code>
          </p><p>
            Use unqualified table names.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-drop-index"></a>17.4.11. <span class="command"><strong>ndb_drop_index</strong></span> — Drop Index from an NDB Table</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp118867936"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-index" title="17.4.11. ndb_drop_index — Drop Index from an NDB Table"><span class="command"><strong>ndb_drop_index</strong></span></a> drops the specified index from
        an <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table. <span class="emphasis"><em>It is
        recommended that you use this utility only as an example for
        writing NDB API applications</em></span>—see the Warning
        later in this section for details.
</p>
<h4><a name="idp118871696"></a>
        Usage
</h4>
<pre class="programlisting">ndb_drop_index -c <em class="replaceable"><code>connect_string</code></em> <em class="replaceable"><code>table_name</code></em> <em class="replaceable"><code>index</code></em> -d <em class="replaceable"><code>db_name</code></em>
</pre><p>
        The statement shown above drops the index named
        <em class="replaceable"><code>index</code></em> from the
        <em class="replaceable"><code>table</code></em> in the
        <em class="replaceable"><code>database</code></em>.
      </p><p>
        The following table includes options that are specific to
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-index" title="17.4.11. ndb_drop_index — Drop Index from an NDB Table"><span class="command"><strong>ndb_drop_index</strong></span></a>. Additional descriptions
        follow the table. For options common to most MySQL Cluster
        programs (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-index" title="17.4.11. ndb_drop_index — Drop Index from an NDB Table"><span class="command"><strong>ndb_drop_index</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_drop_index-options-table"></a><p class="title"><b>Table 17.18. <span class="command">ndb_drop_index</span> Options and Variables: MySQL Cluster
NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_drop_index program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal">--database=dbname</code>,
            </p>



            <p>
              <code class="literal">-d</code>
            </p></td><td>Name of the database in which the table is found</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div xmlns="http://www.w3.org/1999/xhtml" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p xmlns="">
          <span class="emphasis"><em>Operations performed on Cluster table indexes using
          the NDB API are not visible to MySQL and make the table
          unusable by a MySQL server</em></span>. If you use this program
          to drop an index, then try to access the table from an SQL
          node, an error results, as shown here:
</p>
</div>
<pre class="programlisting">shell&gt; <strong class="userinput"><code>./ndb_drop_index -c localhost dogs ix -d ctest1</code></strong>
Dropping index dogs/idx...OK

NDBT_ProgramExit: 0 - OK

shell&gt; <strong class="userinput"><code>./mysql -u jon -p ctest1</code></strong>
Enter password: *******
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 7 to server version: 5.6.11-ndb-7.3.3

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; <strong class="userinput"><code>SHOW TABLES;</code></strong>
+------------------+
| Tables_in_ctest1 |
+------------------+
| a                |
| bt1              |
| bt2              |
| dogs             |
| employees        |
| fish             |
+------------------+
6 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT * FROM dogs;</code></strong>
<span class="errortext">ERROR 1296 (HY000): Got error 4243 'Index not found' from NDBCLUSTER</span>
</pre><p>
        In such a case, your <span class="emphasis"><em>only</em></span> option for making
        the table available to MySQL again is to drop the table and
        re-create it. You can use either the SQL
        statement<a class="link" href="sql-syntax.html#drop-table" title="13.1.28. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> or the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-table" title="17.4.12. ndb_drop_table — Drop an NDB Table"><span class="command"><strong>ndb_drop_table</strong></span></a> utility (see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-table" title="17.4.12. ndb_drop_table — Drop an NDB Table">Section 17.4.12, “<span class="command"><strong>ndb_drop_table</strong></span> — Drop an NDB Table”</a>) to drop
        the table.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-drop-table"></a>17.4.12. <span class="command"><strong>ndb_drop_table</strong></span> — Drop an NDB Table</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp118904592"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-table" title="17.4.12. ndb_drop_table — Drop an NDB Table"><span class="command"><strong>ndb_drop_table</strong></span></a> drops the specified
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table. (If you try to use this
        on a table created with a storage engine other than
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>, the attempt fails with the
        error <span class="errortext">723: No such table exists</span>.) This
        operation is extremely fast; in some cases, it can be an order
        of magnitude faster than using a MySQL <a class="link" href="sql-syntax.html#drop-table" title="13.1.28. DROP TABLE Syntax"><code class="literal">DROP
        TABLE</code></a> statement on an <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
        table.
</p>
<h4><a name="idp118910912"></a>
        Usage
</h4>
<pre class="programlisting">ndb_drop_table -c <em class="replaceable"><code>connect_string</code></em> <em class="replaceable"><code>tbl_name</code></em> -d <em class="replaceable"><code>db_name</code></em>
</pre><p>
        The following table includes options that are specific to
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-table" title="17.4.12. ndb_drop_table — Drop an NDB Table"><span class="command"><strong>ndb_drop_table</strong></span></a>. Additional descriptions
        follow the table. For options common to most MySQL Cluster
        programs (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-drop-table" title="17.4.12. ndb_drop_table — Drop an NDB Table"><span class="command"><strong>ndb_drop_table</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_drop_table-options-table"></a><p class="title"><b>Table 17.19. <span class="command">ndb_drop_table</span> Options and Variables: MySQL Cluster
NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_drop_table program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal">--database=dbname</code>,
            </p>



            <p>
              <code class="literal">-d</code>
            </p></td><td>Name of the database in which the table is found</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-error-reporter"></a>17.4.13. <span class="command"><strong>ndb_error_reporter</strong></span> — NDB Error-Reporting Utility</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp118931472"></a><a class="indexterm" name="idp118932416"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-error-reporter" title="17.4.13. ndb_error_reporter — NDB Error-Reporting Utility"><span class="command"><strong>ndb_error_reporter</strong></span></a> creates an archive from
        data node and management node log files that can be used to help
        diagnose bugs or other problems with a cluster. <span class="emphasis"><em>It is
        highly recommended that you make use of this utility when filing
        reports of bugs in MySQL Cluster</em></span>.
      </p><p>
        The following table includes command options specific to the
        MySQL Cluster program <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-error-reporter" title="17.4.13. ndb_error_reporter — NDB Error-Reporting Utility"><span class="command"><strong>ndb_error_reporter</strong></span></a>.
        Additional descriptions follow the table. For options common to
        most MySQL Cluster programs (including
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-error-reporter" title="17.4.13. ndb_error_reporter — NDB Error-Reporting Utility"><span class="command"><strong>ndb_error_reporter</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_error_reporter-options-table"></a><p class="title"><b>Table 17.20. <span class="command">ndb_error_reporter</span> Options and Variables: MySQL
Cluster NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_error_reporter program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_error_reporter_fs">--fs</a>
              </code>
            </p></td><td>Include file system data in error report; can use a large amount of disk
            space</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<h4><a name="idp118952576"></a>
        Usage
</h4>
<pre class="programlisting">ndb_error_reporter <em class="replaceable"><code>path/to/config-file</code></em> [<em class="replaceable"><code>username</code></em>] [--fs]
</pre><p>
        This utility is intended for use on a management node host, and
        requires the path to the management host configuration file
        (<code class="filename">config.ini</code>). Optionally, you can supply
        the name of a user that is able to access the cluster's data
        nodes using SSH, to copy the data node log files.
        ndb_error_reporter then includes all of these files in archive
        that is created in the same directory in which it is run. The
        archive is named
        <code class="filename">ndb_error_report_<em class="replaceable"><code>YYYYMMDDHHMMSS</code></em>.tar.bz2</code>,
        where <em class="replaceable"><code>YYYYMMDDHHMMSS</code></em> is a datetime
        string.
      </p><p><a name="option_ndb_error_reporter_fs"></a>
        If the <code class="option">--fs</code> is used, then the data node file
        systems are also copied to the management host and included in
        the archive that is produced by this script. As data node file
        systems can be extremely large even after being compressed, we
        ask that you please do <span class="emphasis"><em>not</em></span> send archives
        created using this option to Oracle unless you are specifically
        requested to do so.
</p>
<div class="informaltable">
<table summary="Options for fs" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--fs</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>

</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-index-stat"></a>17.4.14. <span class="command"><strong>ndb_index_stat</strong></span> — NDB Index Statistics Utility</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp118973664"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-index-stat" title="17.4.14. ndb_index_stat — NDB Index Statistics Utility"><span class="command"><strong>ndb_index_stat</strong></span></a> ...
</p>
<h4><a name="idp118975984"></a>
        Usage
</h4>
<p>
        To obtain basic index statistics about a given
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table, invoke
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-index-stat" title="17.4.14. ndb_index_stat — NDB Index Statistics Utility"><span class="command"><strong>ndb_index_stat</strong></span></a> as shown here, with the name
        of the table as the first argument and the name of the database
        containing this table specified immediately following it, using
        the <a class="link" href="mysql-cluster.html#option_ndb_index_stat_database"><code class="option">--database</code></a>
        (<code class="option">-d</code>) option:
      </p><pre class="programlisting">ndb_index_stat <em class="replaceable"><code>table</code></em> -d <em class="replaceable"><code>database</code></em>
</pre><p>
        In this example, we use <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-index-stat" title="17.4.14. ndb_index_stat — NDB Index Statistics Utility"><span class="command"><strong>ndb_index_stat</strong></span></a> to
        obtain such information about an <code class="literal">NDB</code> table
        named <code class="literal">mytable</code> in the <code class="literal">test</code>
        database:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_index_stat -d test mytable</code></strong>
table:mytable index:PRIMARY fragCount:4
sampleVersion:2 loadTime:1336751773 sampleCount:0 keyBytes:0
query cache: valid:1 sampleCount:0 totalBytes:0
times in ms: save: 12.380 sort: 0.001

NDBT_ProgramExit: 0 - OK
</pre><p>
        The <a class="link" href="mysql-cluster.html#option_ndb_index_stat_verbose"><code class="option">--verbose</code></a> option
        provides some additional output, as shown here:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_index_stat -d test mytable --verbose</code></strong>
random seed 1337010518
connected
loop 1 of 1
table:mytable index:PRIMARY fragCount:4
sampleVersion:2 loadTime:1336751773 sampleCount:0 keyBytes:0
read stats
query cache created
query cache: valid:1 sampleCount:0 totalBytes:0
times in ms: save: 20.766 sort: 0.001
disconnected

NDBT_ProgramExit: 0 - OK

shell&gt;
</pre>
<h4><a name="idp118990016"></a>
        Options
</h4>
<p>
        The following table includes options that are specific to the
        MySQL Cluster <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-index-stat" title="17.4.14. ndb_index_stat — NDB Index Statistics Utility"><span class="command"><strong>ndb_index_stat</strong></span></a> utility.
        Additional descriptions are listed following the table. For
        options common to most MySQL Cluster programs (including
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-index-stat" title="17.4.14. ndb_index_stat — NDB Index Statistics Utility"><span class="command"><strong>ndb_index_stat</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_index_stat-options-table"></a><p class="title"><b>Table 17.21. <span class="command">ndb_index_stat</span> Options and Variables: MySQL Cluster
NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_index_stat program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal">--database=name</code>,
            </p>



            <p>
              <code class="literal">-d</code>
            </p></td><td>Name of the database containing the table.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--delete</code>
            </p></td><td>Delete index statistics for the given table, stopping any auto-update
            previously configured.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--update</code>
            </p></td><td>Update index statistics for the given table, restarting any auto-update
            previously configured.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--dump</code>
            </p></td><td>Print the query cache.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--query=#</code>
            </p></td><td>Perform a number of random range queries on first key attr (must be int
            unsigned).</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--sys-drop</code>
            </p></td><td>Drop any statistics tables and events in NDB kernel (all statistics are
            lost)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--sys-create</code>
            </p></td><td>Create all statistics tables and events in NDB kernel, if none of them
            already exist</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--sys-create-if-not-exist</code>
            </p></td><td>Create any statistics tables and events in NDB kernel that do not
            already exist.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--sys-create-if-not-valid</code>
            </p></td><td>Create any statistics tables or events that do not already exist in the
            NDB kernel. after dropping any that are invalid.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--sys-check</code>
            </p></td><td>Verify that NDB system index statistics and event tables exist.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--sys-skip-tables</code>
            </p></td><td>Do not apply sys-* options to tables.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--sys-skip-events</code>
            </p></td><td>Do not apply sys-* options to events.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--verbose</code>,
            </p>



            <p>
              <code class="literal">-v</code>
            </p></td><td>Turn on verbose output</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--loops=#</code>
            </p></td><td>Set the number of times to perform a given command. Default is 0.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p><a name="ndb-index-stat-options-statistics"></a><b><span class="command"><strong>ndb_index_stat</strong></span> statistics options. </b>
          The following options are used to generate index statistics.
          They work with a given table and database. They cannot be
          mixed with <a class="xref" href="mysql-cluster.html#ndb-index-stat-options-system" title="ndb_index_stat system options"><span class="command"><strong>ndb_index_stat</strong></span> system options</a>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_index_stat_database"></a>
            <a class="indexterm" name="idp119053520"></a>

            <a class="indexterm" name="idp119054608"></a>

            <code class="option">--database=<em class="replaceable"><code>name</code></em></code>,
            <code class="option">-d <em class="replaceable"><code>name</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for database" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--database=name</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-d</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal"> .. </code></td></tr></tbody></table>
</div>
<p>
            The name of the database that contains the table being
            queried.
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_delete"></a>
            <a class="indexterm" name="idp119074944"></a>

            <code class="option">--delete</code>
</p>
<div class="informaltable">
<table summary="Options for delete" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--delete</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">true</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal"> .. </code></td></tr></tbody></table>
</div>
<p>
            Delete the index statistics for the given table, stopping
            any auto-update that was previously configured.
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_update"></a>
            <a class="indexterm" name="idp119092688"></a>

            <code class="option">--update</code>
</p>
<div class="informaltable">
<table summary="Options for update" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--update</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">true</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal"> .. </code></td></tr></tbody></table>
</div>
<p>
            Update the index statistics for the given table, and restart
            any auto-update that previously configured.
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_dump"></a>
            <a class="indexterm" name="idp119110432"></a>

            <code class="option">--dump</code>
</p>
<div class="informaltable">
<table summary="Options for dump" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--dump</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">true</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal"> .. </code></td></tr></tbody></table>
</div>
<p>
            Dump the contents of the query cache.
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_query"></a>
            <a class="indexterm" name="idp119128096"></a>

            <code class="option">--query=<em class="replaceable"><code>#</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for query" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--query=#</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. MAX_INT</code></td></tr></tbody></table>
</div>
<p>
            Perform random range queries on first key attribute (must be
            int unsigned).
</p></li></ul>
</div>
<p><a name="ndb-index-stat-options-system"></a><b><span class="command"><strong>ndb_index_stat</strong></span> system options. </b>
          The following options are used to generate and update the
          statistics tables in the NDB kernel. They cannot be mixed with
          <a class="xref" href="mysql-cluster.html#ndb-index-stat-options-statistics" title="ndb_index_stat statistics options"><span class="command"><strong>ndb_index_stat</strong></span> statistics options</a>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_index_stat_sys-drop"></a>
            <a class="indexterm" name="idp119149200"></a>

            <code class="option">--sys-drop</code>
</p>
<div class="informaltable">
<table summary="Options for sys-drop" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--sys-drop</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">true</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal"> .. </code></td></tr></tbody></table>
</div>
<p>
            Drop all statistics tables and events in the NDB kernel.
            <span class="emphasis"><em>This causes all statistics to be lost</em></span>.
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_sys-create"></a>
            <a class="indexterm" name="idp119167344"></a>

            <code class="option">--sys-create</code>
</p>
<div class="informaltable">
<table summary="Options for sys-create" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--sys-create</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">true</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal"> .. </code></td></tr></tbody></table>
</div>
<p>
            Create all statistics tables and events in the NDB kernel.
            This works only if none of them exist previously.
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_sys-create-if-not-exist"></a>
            <a class="indexterm" name="idp119185104"></a>

            <code class="option">sys-create-if-not-exist</code>
</p>
<div class="informaltable">
<table summary="Options for sys-create-if-not-exist" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--sys-create-if-not-exist</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">true</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal"> .. </code></td></tr></tbody></table>
</div>
<p>
            Create any NDB system statistics tables or events (or both)
            that do not already exist when the program is invoked.
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_sys-create-if-not-valid"></a>
            <a class="indexterm" name="idp119202912"></a>

            <code class="option">--sys-create-if-not-valid</code>
</p>
<div class="informaltable">
<table summary="Options for sys-create-if-not-valid" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--sys-create-if-not-valid</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">true</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal"> .. </code></td></tr></tbody></table>
</div>
<p>
            Create any NDB system statistics tables or events that do
            not already exist, after dropping any that are invalid.
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_sys-check"></a>
            <a class="indexterm" name="idp119220720"></a>

            <code class="option">--sys-check</code>
</p>
<div class="informaltable">
<table summary="Options for sys-check" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--sys-check</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">true</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal"> .. </code></td></tr></tbody></table>
</div>
<p>
            Verify that all required system statistics tables and events
            exist in the NDB kernel.
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_sys-skip-tables"></a>
            <a class="indexterm" name="idp119238448"></a>

            <code class="option">--sys-skip-tables</code>
</p>
<div class="informaltable">
<table summary="Options for sys-skip-tables" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--sys-skip-tables</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">true</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal"> .. </code></td></tr></tbody></table>
</div>
<p>
            Do not apply any <code class="option">--sys-*</code> options to any
            statistics tables.
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_sys-skip-events"></a>
            <a class="indexterm" name="idp119256592"></a>

            <code class="option">--sys-skip-events</code>
</p>
<div class="informaltable">
<table summary="Options for sys-skip-events" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--sys-skip-events</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">true</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal"> .. </code></td></tr></tbody></table>
</div>
<p>
            Do not apply any <code class="option">--sys-*</code> options to any
            events.
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_verbose"></a>
            <a class="indexterm" name="idp119274720"></a>

            <code class="option">--verbose</code>
</p>
<div class="informaltable">
<table summary="Options for verbose" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--verbose</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-v</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">true</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal"> .. </code></td></tr></tbody></table>
</div>
<p>
            Turn on verbose output.
          </p></li><li class="listitem"><p><a name="option_ndb_index_stat_loops"></a>
            <a class="indexterm" name="idp119294016"></a>

            <code class="option">--loops=<em class="replaceable"><code>#</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for loops" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--loops=#</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. MAX_INT</code></td></tr></tbody></table>
</div>
<p>
            Repeat commands this number of times (for use in testing).
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-print-backup-file"></a>17.4.15. <span class="command"><strong>ndb_print_backup_file</strong></span> — Print NDB Backup File Contents</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp119312832"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-backup-file" title="17.4.15. ndb_print_backup_file — Print NDB Backup File Contents"><span class="command"><strong>ndb_print_backup_file</strong></span></a> obtains diagnostic
        information from a cluster backup file.
</p>
<h4><a name="idp119315232"></a>
        Usage
</h4>
<pre class="programlisting">ndb_print_backup_file <em class="replaceable"><code>file_name</code></em>
</pre><p>
        <em class="replaceable"><code>file_name</code></em> is the name of a cluster
        backup file. This can be any of the files
        (<code class="filename">.Data</code>, <code class="filename">.ctl</code>, or
        <code class="filename">.log</code> file) found in a cluster backup
        directory. These files are found in the data node's backup
        directory under the subdirectory
        <code class="filename">BACKUP-<em class="replaceable"><code>#</code></em></code>, where
        <em class="replaceable"><code>#</code></em> is the sequence number for the
        backup. For more information about cluster backup files and
        their contents, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-backup-concepts" title="17.5.3.1. MySQL Cluster Backup Concepts">Section 17.5.3.1, “MySQL Cluster Backup Concepts”</a>.
      </p><p>
        Like <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-schema-file" title="17.4.16. ndb_print_schema_file — Print NDB Schema File Contents"><span class="command"><strong>ndb_print_schema_file</strong></span></a> and
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-sys-file" title="17.4.17. ndb_print_sys_file — Print NDB System File Contents"><span class="command"><strong>ndb_print_sys_file</strong></span></a> (and unlike most of the
        other <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> utilities that are
        intended to be run on a management server host or to connect to
        a management server) <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-backup-file" title="17.4.15. ndb_print_backup_file — Print NDB Backup File Contents"><span class="command"><strong>ndb_print_backup_file</strong></span></a>
        must be run on a cluster data node, since it accesses the data
        node file system directly. Because it does not make use of the
        management server, this utility can be used when the management
        server is not running, and even when the cluster has been
        completely shut down.
</p>
<h4><a name="idp119326304"></a>
        Additional Options
</h4>
<p>
        None.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-print-schema-file"></a>17.4.16. <span class="command"><strong>ndb_print_schema_file</strong></span> — Print NDB Schema File Contents</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp119328736"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-schema-file" title="17.4.16. ndb_print_schema_file — Print NDB Schema File Contents"><span class="command"><strong>ndb_print_schema_file</strong></span></a> obtains diagnostic
        information from a cluster schema file.
</p>
<h4><a name="idp119331136"></a>
        Usage
</h4>
<pre class="programlisting">ndb_print_schema_file <em class="replaceable"><code>file_name</code></em>
</pre><p>
        <em class="replaceable"><code>file_name</code></em> is the name of a cluster
        schema file. For more information about cluster schema files,
        see <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-ndbd-filesystemdir-files.html" target="_top">MySQL Cluster Data Node <code class="literal">FileSystemDir</code> Files</a>.
      </p><p>
        Like <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-backup-file" title="17.4.15. ndb_print_backup_file — Print NDB Backup File Contents"><span class="command"><strong>ndb_print_backup_file</strong></span></a> and
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-sys-file" title="17.4.17. ndb_print_sys_file — Print NDB System File Contents"><span class="command"><strong>ndb_print_sys_file</strong></span></a> (and unlike most of the
        other <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> utilities that are
        intended to be run on a management server host or to connect to
        a management server) <span class="command"><strong>ndb_schema_backup_file</strong></span>
        must be run on a cluster data node, since it accesses the data
        node file system directly. Because it does not make use of the
        management server, this utility can be used when the management
        server is not running, and even when the cluster has been
        completely shut down.
</p>
<h4><a name="idp119338976"></a>
        Additional Options
</h4>
<p>
        None.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-print-sys-file"></a>17.4.17. <span class="command"><strong>ndb_print_sys_file</strong></span> — Print NDB System File Contents</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp119341408"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-sys-file" title="17.4.17. ndb_print_sys_file — Print NDB System File Contents"><span class="command"><strong>ndb_print_sys_file</strong></span></a> obtains diagnostic
        information from a MySQL Cluster system file.
</p>
<h4><a name="idp119343808"></a>
        Usage
</h4>
<pre class="programlisting">ndb_print_sys_file <em class="replaceable"><code>file_name</code></em>
</pre><p>
        <em class="replaceable"><code>file_name</code></em> is the name of a cluster
        system file (sysfile). Cluster system files are located in a
        data node's data directory
        (<a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a>); the path
        under this directory to system files matches the pattern
        <code class="filename">ndb_<em class="replaceable"><code>#</code></em>_fs/D<em class="replaceable"><code>#</code></em>/DBDIH/P<em class="replaceable"><code>#</code></em>.sysfile</code>.
        In each case, the <em class="replaceable"><code>#</code></em> represents a
        number (not necessarily the same number). For more information,
        see <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-ndbd-filesystemdir-files.html" target="_top">MySQL Cluster Data Node <code class="literal">FileSystemDir</code> Files</a>.
      </p><p>
        Like <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-backup-file" title="17.4.15. ndb_print_backup_file — Print NDB Backup File Contents"><span class="command"><strong>ndb_print_backup_file</strong></span></a> and
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-schema-file" title="17.4.16. ndb_print_schema_file — Print NDB Schema File Contents"><span class="command"><strong>ndb_print_schema_file</strong></span></a> (and unlike most of the
        other <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> utilities that are
        intended to be run on a management server host or to connect to
        a management server) <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-backup-file" title="17.4.15. ndb_print_backup_file — Print NDB Backup File Contents"><span class="command"><strong>ndb_print_backup_file</strong></span></a>
        must be run on a cluster data node, since it accesses the data
        node file system directly. Because it does not make use of the
        management server, this utility can be used when the management
        server is not running, and even when the cluster has been
        completely shut down.
</p>
<h4><a name="idp119355232"></a>
        Additional Options
</h4>
<p>
        None.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndbd-redo-log-reader"></a>17.4.18. <span class="command"><strong>ndbd_redo_log_reader</strong></span> — Check and Print Content of Cluster Redo Log</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp119357696"></a><p>
        Reads a redo log file, checking it for errors, printing its
        contents in a human-readable format, or both.
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd-redo-log-reader" title="17.4.18. ndbd_redo_log_reader — Check and Print Content of Cluster Redo Log"><span class="command"><strong>ndbd_redo_log_reader</strong></span></a> is intended for use
        primarily by MySQL Cluster developers and Support personnel in
        debugging and diagnosing problems.
      </p><p>
        This utility remains under development, and its syntax and
        behavior are subject to change in future MySQL Cluster releases.
      </p><p>
        The C++ source files for <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd-redo-log-reader" title="17.4.18. ndbd_redo_log_reader — Check and Print Content of Cluster Redo Log"><span class="command"><strong>ndbd_redo_log_reader</strong></span></a>
        can be found in the directory
        <code class="filename">/storage/ndb/src/kernel/blocks/dblqh/redoLogReader</code>.
      </p><p>
        The following table includes options that are specific to the
        MySQL Cluster program <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd-redo-log-reader" title="17.4.18. ndbd_redo_log_reader — Check and Print Content of Cluster Redo Log"><span class="command"><strong>ndbd_redo_log_reader</strong></span></a>.
        Additional descriptions follow the table. For options common to
        most MySQL Cluster programs (including
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd-redo-log-reader" title="17.4.18. ndbd_redo_log_reader — Check and Print Content of Cluster Redo Log"><span class="command"><strong>ndbd_redo_log_reader</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndbd_redo_log_reader-options-table"></a><p class="title"><b>Table 17.22. <span class="command">ndbd_redo_log_reader</span> Options and Variables: MySQL
Cluster NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndbd_redo_log_reader program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbd_redo_log_reader_noprint">-noprint</a>
              </code>
            </p></td><td>Do not print records</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndbd_redo_log_reader_nocheck">-nocheck</a>
              </code>
            </p></td><td>Do not check records for errors</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<h4><a name="idp119382992"></a>
        Usage
</h4>
<pre class="programlisting">ndbd_redo_log_reader <em class="replaceable"><code>file_name</code></em> [<em class="replaceable"><code>options</code></em>]
</pre><p>
        <em class="replaceable"><code>file_name</code></em> is the name of a cluster
        redo log file. redo log files are located in the numbered
        directories under the data node's data directory
        (<a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a>); the path
        under this directory to the redo log files matches the pattern
        <code class="filename">ndb_<em class="replaceable"><code>#</code></em>_fs/D<em class="replaceable"><code>#</code></em>/LCP/<em class="replaceable"><code>#</code></em>/T<em class="replaceable"><code>#</code></em>F<em class="replaceable"><code>#</code></em>.Data</code>.
        In each case, the <em class="replaceable"><code>#</code></em> represents a
        number (not necessarily the same number). For more information,
        see <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-ndbd-filesystemdir-files.html" target="_top">MySQL Cluster Data Node <code class="literal">FileSystemDir</code> Files</a>.
      </p><p>
        The name of the file to be read may be followed by one or more
        of the options listed here:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<div class="informaltable">
<table summary="Options for noprint" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">-noprint</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p><a name="option_ndbd_redo_log_reader_noprint"></a>
            <code class="option">-noprint</code>: Do not print the contents of the
            log file.
</p></li><li class="listitem">
<div class="informaltable">
<table summary="Options for nocheck" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">-nocheck</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p><a name="option_ndbd_redo_log_reader_nocheck"></a>
            <code class="option">-nocheck</code>: Do not check the log file for
            errors.
</p></li></ul>
</div>
<p>
        Like <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-backup-file" title="17.4.15. ndb_print_backup_file — Print NDB Backup File Contents"><span class="command"><strong>ndb_print_backup_file</strong></span></a> and
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-schema-file" title="17.4.16. ndb_print_schema_file — Print NDB Schema File Contents"><span class="command"><strong>ndb_print_schema_file</strong></span></a> (and unlike most of the
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> utilities that are intended to
        be run on a management server host or to connect to a management
        server) <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd-redo-log-reader" title="17.4.18. ndbd_redo_log_reader — Check and Print Content of Cluster Redo Log"><span class="command"><strong>ndbd_redo_log_reader</strong></span></a> must be run on a
        cluster data node, since it accesses the data node file system
        directly. Because it does not make use of the management server,
        this utility can be used when the management server is not
        running, and even when the cluster has been completely shut
        down.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-restore"></a>17.4.19. <span class="command"><strong>ndb_restore</strong></span> — Restore a MySQL Cluster Backup</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp119426000"></a><a class="indexterm" name="idp119427360"></a><a class="indexterm" name="idp119428720"></a><a class="indexterm" name="idp119430080"></a><a class="indexterm" name="idp119431440"></a><p>
        The cluster restoration program is implemented as a separate
        command-line utility <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>, which can
        normally be found in the MySQL <code class="filename">bin</code>
        directory. This program reads the files created as a result of
        the backup and inserts the stored information into the database.
      </p><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> must be executed once for each of
        the backup files that were created by the <code class="literal">START
        BACKUP</code> command used to create the backup (see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-backup-using-management-client" title="17.5.3.2. Using The MySQL Cluster Management Client to Create a Backup">Section 17.5.3.2, “Using The MySQL Cluster Management Client to Create a Backup”</a>).
        This is equal to the number of data nodes in the cluster at the
        time that the backup was created.
</p><a class="indexterm" name="idp119437488"></a>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          Before using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>, it is recommended
          that the cluster be running in single user mode, unless you
          are restoring multiple data nodes in parallel. See
          <a class="xref" href="mysql-cluster.html#mysql-cluster-single-user-mode" title="17.5.8. MySQL Cluster Single User Mode">Section 17.5.8, “MySQL Cluster Single User Mode”</a>, for more
          information.
</p>
</div>
<p>
        The following table includes options that are specific to the
        MySQL Cluster native backup restoration program
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>. Additional descriptions follow
        the table. For options common to most MySQL Cluster programs
        (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_restore-options-table"></a><p class="title"><b>Table 17.23. <span class="command">ndb_restore</span> Options and Variables: MySQL Cluster NDB
7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_restore program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_connect">--connect</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_connect">-c</a>
              </code>
            </p></td><td>Same as connectstring</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_nodeid">--nodeid=#</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_nodeid">-n</a>
              </code>
            </p></td><td>Back up files from node with this ID</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_backupid">--backupid=#</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_backupid">-b</a>
              </code>
            </p></td><td>Restore from the backup with the given ID</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_restore_data">--restore_data</a>
              </code>
            </p></td><td>Restore table data and logs into NDB Cluster using the NDB API</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_restore_meta">--restore_meta</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_restore_meta">-m</a>
              </code>
            </p></td><td>Restore metadata to NDB Cluster using the NDB API</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_no-upgrade">--no-upgrade</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_no-upgrade">-u</a>
              </code>
            </p></td><td>Do not upgrade array type for varsize attributes which do not already
            resize VAR data, and do not change column attributes</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_promote-attributes">--promote-attributes</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_promote-attributes">-A</a>
              </code>
            </p></td><td>Allow attributes to be promoted when restoring data from backup</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_preserve-trailing-spaces">--preserve-trailing-spaces</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_preserve-trailing-spaces">-P</a>
              </code>
            </p></td><td>Allow preservation of trailing spaces (including padding) when promoting
            fixed-width string types to variable-width types</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_no-restore-disk-objects">--no-restore-disk-objects</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_no-restore-disk-objects">-d</a>
              </code>
            </p></td><td>Do not restore objects relating to Disk Data</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_restore_epoch">--restore_epoch</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_restore_epoch">-e</a>
              </code>
            </p></td><td>Restore epoch info into the status table. Convenient on a MySQL Cluster
            replication slave for starting replication. The row in
            mysql.ndb_apply_status with id 0 will be updated/inserted.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_skip-table-check">--skip-table-check</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_skip-table-check">-s</a>
              </code>
            </p></td><td>Skip table structure check during restoring of data</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_parallelism">--parallelism=#</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_parallelism">-p</a>
              </code>
            </p></td><td>Number of parallel transactions to use while restoring data</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_print">--print</a>
              </code>
            </p></td><td>Print metadata, data and log to stdout (equivalent to --print_meta
            --print_data --print_log)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_print_meta">--print_meta</a>
              </code>
            </p></td><td>Print metadata to stdout</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_print_data">--print_data</a>
              </code>
            </p></td><td>Print data to stdout</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_print_log">--print_log</a>
              </code>
            </p></td><td>Print to stdout</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_backup_path">--backup_path=path</a>
              </code>
            </p></td><td>Path to backup files directory</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_dont_ignore_systab_0">--dont_ignore_systab_0</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_dont_ignore_systab_0">-f</a>
              </code>
            </p></td><td>Do not ignore system table during restore. Experimental only; not for
            production use</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_ndb-nodegroup-map">--ndb-nodegroup-map=map</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_ndb-nodegroup-map">-z</a>
              </code>
            </p></td><td>Nodegroup map for NDBCLUSTER storage engine. Syntax: list of
            (source_nodegroup, destination_nodegroup)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_fields-enclosed-by">--fields-enclosed-by=char</a>
              </code>
            </p></td><td>Fields are enclosed with the indicated character</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_fields-terminated-by">--fields-terminated-by=char</a>
              </code>
            </p></td><td>Fields are terminated by the indicated character</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_fields-optionally-enclosed-by">--fields-optionally-enclosed-by</a>
              </code>
            </p></td><td>Fields are optionally enclosed with the indicated character</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_lines-terminated-by">--lines-terminated-by=char</a>
              </code>
            </p></td><td>Lines are terminated by the indicated character</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_hex">--hex</a>
              </code>
            </p></td><td>Print binary types in hexadecimal format</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_tab">--tab=path</a></code>,
            </p>



            <p>
              <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_restore_tab">-T</a>
              </code>
            </p></td><td>Creates a tab-separated .txt file for each table in the given path</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_append">--append</a>
              </code>
            </p></td><td>Append data to a tab-delimited file</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_progress-frequency">--progress-frequency=#</a>
              </code>
            </p></td><td>Print status of restoration each given number of seconds</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_no-binlog">--no-binlog</a>
              </code>
            </p></td><td>If a mysqld is connected and using binary logging, do not log the
            restored data</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_verbose">--verbose=#</a>
              </code>
            </p></td><td>Level of verbosity in output</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_include-databases">--include-databases=db-list</a>
              </code>
            </p></td><td>List of one or more databases to restore (excludes those not named)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_exclude-databases">--exclude-databases=db-list</a>
              </code>
            </p></td><td>List of one or more databases to exclude (includes those not named)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_include-tables">--include-tables=table-list</a>
              </code>
            </p></td><td>List of one or more tables to restore (excludes those in same database
            that are not named); each table reference must include the
            database name</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_exclude-tables">--exclude-tables=table-list</a>
              </code>
            </p></td><td>List of one or more tables to exclude (includes those in same database
            that are not not named); each table reference must include
            the database name</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_exclude-missing-columns">--exclude-missing-columns</a>
              </code>
            </p></td><td>Causes columns from the backup version of a table that are missing from
            the version of the table in the database to be ignored.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_disable-indexes">--disable-indexes</a>
              </code>
            </p></td><td>Causes indexes from a backup to be ignored; may decrease time needed to
            restore data.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_rebuild-indexes">--rebuild-indexes</a>
              </code>
            </p></td><td>Causes multi-threaded ordered index rebuilding of indexes found in the
            backup.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_skip-broken-objects">--skip-broken-objects</a>
              </code>
            </p></td><td>Causes missing blob tables in the backup file to be ignored.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_skip-unknown-objects">--skip-unknown-objects</a>
              </code>
            </p></td><td>Causes schema objects not recognized by ndb_restore to be ignored when
            restoring a backup made from a newer MySQL Cluster version
            to an older version.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_rewrite-database">--rewrite-database=olddb,newdb</a>
              </code>
            </p></td><td>Restores to a database with a different name than the original</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_restore_lossy-conversions">--lossy-conversions</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_lossy-conversions">-L</a>
              </code>
            </p></td><td>Allow lossy conversions of column values (type demotions or changes in
            sign) when restoring data from backup</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_restore_restore-privilege-tables">--restore-privilege-tables</a>
              </code>
            </p></td><td>Restore MySQL privilege tables that were previously moved to NDB.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
        Typical options for this utility are shown here:
      </p><pre class="programlisting">ndb_restore [-c <em class="replaceable"><code>connectstring</code></em>] -n <em class="replaceable"><code>node_id</code></em> [-m] -b <em class="replaceable"><code>backup_id</code></em> \
    -r --backup_path=<em class="replaceable"><code>/path/to/backup/files</code></em>
</pre><p><a name="option_ndb_restore_connect"></a>
        <a class="indexterm" name="idp119638496"></a>

        The <code class="option">-c</code> option is used to specify a connection
        string which tells <code class="literal">ndb_restore</code> where to
        locate the cluster management server. (See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="17.3.2.3. MySQL Cluster Connection Strings">Section 17.3.2.3, “MySQL Cluster Connection Strings”</a>, for
        information on connection strings.) If this option is not used,
        then <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> attempts to connect to a
        management server on <code class="literal">localhost:1186</code>. This
        utility acts as a cluster API node, and so requires a free
        connection <span class="quote">“<span class="quote">slot</span>”</span> to connect to the cluster
        management server. This means that there must be at least one
        <code class="literal">[api]</code> or <code class="literal">[mysqld]</code> section
        that can be used by it in the cluster
        <code class="filename">config.ini</code> file. It is a good idea to keep
        at least one empty <code class="literal">[api]</code> or
        <code class="literal">[mysqld]</code> section in
        <code class="filename">config.ini</code> that is not being used for a
        MySQL server or other application for this reason (see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-api-definition" title="17.3.2.7. Defining SQL and Other API Nodes in a MySQL Cluster">Section 17.3.2.7, “Defining SQL and Other API Nodes in a MySQL Cluster”</a>).
      </p><p>
        You can verify that <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> is connected
        to the cluster by using the <span class="command"><strong>SHOW</strong></span> command in
        the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> management client. You can also
        accomplish this from a system shell, as shown here:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgm -e "SHOW"</code></strong>
</pre><p><a name="option_ndb_restore_nodeid"></a>
        <a class="indexterm" name="idp119653872"></a>

        <code class="option">-n</code> is used to specify the node ID of the data
        node on which the backups were taken.
      </p><p>
        The first time you run the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>
        restoration program, you also need to restore the metadata. In
        other words, you must re-create the database tables—this
        can be done by running it with the
        <code class="option">--restore_meta</code> (<code class="option">-m</code>) option.
        Restoring the metdata need be done only on a single data node;
        this is sufficient to restore it to the entire cluster. Note
        that the cluster should have an empty database when starting to
        restore a backup. (In other words, you should start
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> with <code class="option">--initial</code> prior to
        performing the restore.)
      </p><p><a name="option_ndb_restore_skip-table-check"></a>
        <a class="indexterm" name="idp119660240"></a>

        It is possible to restore data without restoring table metadata.
        The default behavior when doing this is for
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to fail with an error if table
        data do not match the table schema; this can be overridden using
        the <code class="option">--skip-table-check</code> or <code class="option">-s</code>
        option.
      </p><p>
        Some of the restrictions on mismatches in column definitions
        when restoring data using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> are
        relaxed; when one of these types of mismatches is encountered,
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> does not stop with an error as it
        did previously, but rather accepts the data and inserts it into
        the target table while issuing a warning to the user that this
        is being done. This behavior occurs whether or not either of the
        options <code class="option">--skip-table-check</code> or
        <a class="link" href="mysql-cluster.html#option_ndb_restore_promote-attributes"><code class="option">--promote-attributes</code></a> is in
        use. These differences in column definitions are of the
        following types:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Different <code class="literal">COLUMN_FORMAT</code> settings
            (<code class="literal">FIXED</code>, <code class="literal">DYNAMIC</code>,
            <code class="literal">DEFAULT</code>)
          </p></li><li class="listitem"><p>
            Different <code class="literal">STORAGE</code> settings
            (<code class="literal">MEMORY</code>, <code class="literal">DISK</code>)
          </p></li><li class="listitem"><p>
            Different default values
          </p></li><li class="listitem"><p>
            Different distribution key settings
</p></li></ul>
</div>
<p><a name="option_ndb_restore_promote-attributes"></a>
        <a class="indexterm" name="idp119676576"></a>

        <a class="indexterm" name="idp119678064"></a>

        <a class="indexterm" name="idp119679552"></a>

        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> supports limited
        <em class="firstterm">attribute promotion</em> in much the same way
        that it is supported by MySQL replication; that is, data backed
        up from a column of a given type can generally be restored to a
        column using a <span class="quote">“<span class="quote">larger, similar</span>”</span> type. For example,
        data from a <code class="literal">CHAR(20)</code> column can be restored
        to a column declared as <code class="literal">VARCHAR(20)</code>,
        <code class="literal">VARCHAR(30)</code>, or <code class="literal">CHAR(30)</code>;
        data from a <a class="link" href="data-types.html#integer-types" title="11.2.1. Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">MEDIUMINT</code></a> column can
        be restored to a column of type
        <a class="link" href="data-types.html#integer-types" title="11.2.1. Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INT</code></a> or
        <a class="link" href="data-types.html#integer-types" title="11.2.1. Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>. See
        <a class="xref" href="replication.html#replication-features-different-data-types" title="16.4.1.9.2. Replication of Columns Having Different Data Types">Section 16.4.1.9.2, “Replication of Columns Having Different Data Types”</a>, for
        a table of type conversions currently supported by attribute
        promotion.
      </p><p>
        Attribute promotion by <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> must be
        enabled explicitly, as follows:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Prepare the table to which the backup is to be restored.
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> cannot be used to re-create
            the table with a different definition from the original;
            this means that you must either create the table manually,
            or alter the columns which you wish to promote using
            <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> after restoring
            the table metadata but before restoring the data.
          </p></li><li class="listitem"><p>
            Invoke <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> with the
            <a class="link" href="mysql-cluster.html#option_ndb_restore_promote-attributes"><code class="option">--promote-attributes</code></a>
            option (short form <code class="option">-A</code>) when restoring the
            table data. Attribute promotion does not occur if this
            option is not used; instead, the restore operation fails
            with an error.
</p></li></ol>
</div>
<p><a name="option_ndb_restore_lossy-conversions"></a>
        <a class="indexterm" name="idp119697728"></a>

        <a class="indexterm" name="idp119699232"></a>

        <code class="option">--lossy-conversions</code>, <code class="option">-L</code>
</p>
<div class="informaltable">
<table summary="Options for lossy-conversions" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--lossy-conversions</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-L</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
        This option is intended to complement the
        <a class="link" href="mysql-cluster.html#option_ndb_restore_promote-attributes"><code class="option">--promote-attributes</code></a> option.
        Using <code class="option">--lossy-conversions</code> allows lossy
        conversions of column values (type demotions or changes in sign)
        when restoring data from backup. With some exceptions, the rules
        governing demotion are the same as for MySQL replication; see
        <a class="xref" href="replication.html#replication-features-different-data-types" title="16.4.1.9.2. Replication of Columns Having Different Data Types">Section 16.4.1.9.2, “Replication of Columns Having Different Data Types”</a>, for
        information about specific type conversions currently supported
        by attribute demotion.
      </p><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> reports any truncation of data
        that it performs during lossy conversions once per attribute and
        column.
      </p><p><a name="option_ndb_restore_preserve-trailing-spaces"></a>
        <a class="indexterm" name="idp119719920"></a>

        The <code class="option">--preserve-trailing-spaces</code> option (short
        form <code class="option">-R</code>) causes trailing spaces to be preserved
        when promoting a fixed-width character data type to its
        variable-width equivalent—that is, when promoting a
        <a class="link" href="data-types.html#char" title="11.4.1. The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a> column value to
        <a class="link" href="data-types.html#char" title="11.4.1. The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> or a
        <code class="literal">BINARY</code> column value to
        <a class="link" href="data-types.html#binary-varbinary" title="11.4.2. The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>. Otherwise, any
        trailing spaces are dropped from such column values when they
        are inserted into the new columns.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          Although you can promote <a class="link" href="data-types.html#char" title="11.4.1. The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a>
          columns to <a class="link" href="data-types.html#char" title="11.4.1. The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> and
          <code class="literal">BINARY</code> columns to
          <a class="link" href="data-types.html#binary-varbinary" title="11.4.2. The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a>, you cannot promote
          <a class="link" href="data-types.html#char" title="11.4.1. The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> columns to
          <a class="link" href="data-types.html#char" title="11.4.1. The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a> or
          <a class="link" href="data-types.html#binary-varbinary" title="11.4.2. The BINARY and VARBINARY Types"><code class="literal">VARBINARY</code></a> columns to
          <code class="literal">BINARY</code>.
</p>
</div>
<p><a name="option_ndb_restore_backupid"></a>
        <a class="indexterm" name="idp119733744"></a>

        The <code class="option">-b</code> option is used to specify the ID or
        sequence number of the backup, and is the same number shown by
        the management client in the <code class="literal">Backup
        <em class="replaceable"><code>backup_id</code></em> completed</code> message
        displayed upon completion of a backup. (See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-backup-using-management-client" title="17.5.3.2. Using The MySQL Cluster Management Client to Create a Backup">Section 17.5.3.2, “Using The MySQL Cluster Management Client to Create a Backup”</a>.)
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          When restoring cluster backups, you must be sure to restore
          all data nodes from backups having the same backup ID. Using
          files from different backups will at best result in restoring
          the cluster to an inconsistent state, and may fail altogether.
</p>
</div>
<p><a name="option_ndb_restore_restore_epoch"></a>
        <a class="indexterm" name="idp119738960"></a>

        <code class="option">--restore_epoch</code> (short form:
        <code class="option">-e</code>) adds (or restores) epoch information to the
        cluster replication status table. This is useful for starting
        replication on a MySQL Cluster replication slave. When this
        option is used, the row in the
        <code class="literal">mysql.ndb_apply_status</code> having
        <code class="literal">0</code> in the <code class="literal">id</code> column is
        updated if it already exists; such a row is inserted if it does
        not already exist. (See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-backups" title="17.6.9. MySQL Cluster Backups With MySQL Cluster Replication">Section 17.6.9, “MySQL Cluster Backups With MySQL Cluster Replication”</a>.)
      </p><p><a name="option_ndb_restore_restore_data"></a>
        <a class="indexterm" name="idp119744576"></a>

        <code class="option">--restore_data</code>
      </p><p>
        This option causes <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to output
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table data and logs.
      </p><p><a name="option_ndb_restore_restore_meta"></a>
        <a class="indexterm" name="idp119748880"></a>

        <code class="option">--restore_meta</code>
      </p><p>
        This option causes <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to print
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table metadata. Generally, you
        need only use this option when restoring the first data node of
        a cluster; additional data nodes can obtain the metadata from
        the first one.
      </p><p><a name="option_ndb_restore_restore-privilege-tables"></a>
        <a class="indexterm" name="idp119753376"></a>

        <a class="indexterm" name="idp119754480"></a>

        <code class="option">--restore-privilege-tables</code>
      </p><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> does not by default restore
        distributed MySQL privilege tables. This option causes
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to restore the privilege tables.
      </p><p>
        This works only if the privilege tables were converted to
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> before the backup was taken.
        For more information, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-privilege-distribution" title="17.5.14. Distributed MySQL Privileges for MySQL Cluster">Section 17.5.14, “Distributed MySQL Privileges for MySQL Cluster”</a>.
      </p><p><a name="option_ndb_restore_backup_path"></a>
        <a class="indexterm" name="idp119761248"></a>

        <a class="indexterm" name="idp119762336"></a>

        <code class="option">--backup_path</code>
      </p><p>
        The path to the backup directory is required; this is supplied
        to <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> using the
        <code class="option">--backup_path</code> option, and must include the
        subdirectory corresponding to the ID backup of the backup to be
        restored. For example, if the data node's
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a> is
        <code class="filename">/var/lib/mysql-cluster</code>, then the backup
        directory is <code class="filename">/var/lib/mysql-cluster/BACKUP</code>,
        and the backup files for the backup with the ID 3 can be found
        in <code class="filename">/var/lib/mysql-cluster/BACKUP/BACKUP-3</code>.
        The path may be absolute or relative to the directory in which
        the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> executable is located, and
        may be optionally prefixed with <code class="option">backup_path=</code>.
      </p><p>
        It is possible to restore a backup to a database with a
        different configuration than it was created from. For example,
        suppose that a backup with backup ID <code class="literal">12</code>,
        created in a cluster with two database nodes having the node IDs
        <code class="literal">2</code> and <code class="literal">3</code>, is to be restored
        to a cluster with four nodes. Then
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> must be run twice—once for
        each database node in the cluster where the backup was taken.
        However, <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> cannot always restore
        backups made from a cluster running one version of MySQL to a
        cluster running a different MySQL version. See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-upgrade-downgrade" title="17.2.8. Upgrading and Downgrading MySQL Cluster NDB 7.3">Section 17.2.8, “Upgrading and Downgrading MySQL Cluster NDB 7.3”</a>, for more
        information.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          It is not possible to restore a backup made from a newer
          version of MySQL Cluster using an older version of
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>. You can restore a backup made
          from a newer version of MySQL to an older cluster, but you
          must use a copy of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> from the
          newer MySQL Cluster version to do so.
        </p><p xmlns="">
          For example, to restore a cluster backup taken from a cluster
          running MySQL Cluster NDB 7.2.5 to a cluster running MySQL
          Cluster NDB 7.1.21, you must use the
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> that comes with the MySQL
          Cluster NDB 7.2.5 distribution.
</p>
</div>
<p>
        For more rapid restoration, the data may be restored in
        parallel, provided that there is a sufficient number of cluster
        connections available. That is, when restoring to multiple nodes
        in parallel, you must have an <code class="literal">[api]</code> or
        <code class="literal">[mysqld]</code> section in the cluster
        <code class="filename">config.ini</code> file available for each
        concurrent <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> process. However, the
        data files must always be applied before the logs.
      </p><p><a name="option_ndb_restore_no-upgrade"></a>
        <a class="indexterm" name="idp119785760"></a>

        <a class="indexterm" name="idp119786848"></a>

        <code class="option">--no-upgrade</code>
      </p><p>
        When using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to restore a backup,
        <a class="link" href="data-types.html#char" title="11.4.1. The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a> columns created using the
        old fixed format are resized and recreated using the
        variable-width format now employed. This behavior can be
        overridden using the
        <a class="link" href="mysql-cluster.html#option_ndb_restore_no-upgrade"><code class="option">--no-upgrade</code></a> option (short
        form: <code class="option">-u</code>) when running
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>.
      </p><p><a name="option_ndb_restore_print_data"></a>
        <a class="indexterm" name="idp119793904"></a>

        <a class="indexterm" name="idp119794992"></a>

        <code class="option">--print_data</code>
      </p><p>
        The <code class="option">--print_data</code> option causes
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to direct its output to
        <code class="literal">stdout</code>.
      </p><p>
        <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> and
        <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> column values are always
        truncated to the first 256 bytes in the output; this cannot
        currently be overridden when using
        <code class="option">--print_data</code>.
      </p><p>
        Several additional options are available for use with the
        <code class="option">--print_data</code> option in generating data dumps,
        either to <code class="literal">stdout</code>, or to a file. These are
        similar to some of the options used with
        <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>, and are shown in the following
        list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_restore_tab"></a>
            <a class="indexterm" name="idp119805808"></a>

            <a class="indexterm" name="idp119807296"></a>

            <code class="option">--tab</code>, <code class="option">-T</code>
</p>
<div class="informaltable">
<table summary="Options for tab" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--tab=path</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-T</code></td></tr></tbody></table>
</div>
<p>
            This option causes
            <a class="link" href="mysql-cluster.html#option_ndb_restore_print_data"><code class="option">--print_data</code></a> to create
            dump files, one per table, each named
            <code class="filename"><em class="replaceable"><code>tbl_name</code></em>.txt</code>.
            It requires as its argument the path to the directory where
            the files should be saved; use <code class="literal">.</code> for the
            current directory.
          </p></li><li class="listitem"><p><a name="option_ndb_restore_fields-enclosed-by"></a>
            <a class="indexterm" name="idp119821088"></a>

            <a class="indexterm" name="idp119822592"></a>

            <code class="option">--fields-enclosed-by=<em class="replaceable"><code>string</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for fields-enclosed-by" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--fields-enclosed-by=char</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p>
            Each column values are enclosed by the string passed to this
            option (regardless of data type; see next item).
          </p></li><li class="listitem"><p><a name="option_ndb_restore_fields-optionally-enclosed-by"></a>
            <a class="indexterm" name="idp119838272"></a>

            <a class="indexterm" name="idp119839776"></a>

            <code class="option">--fields-optionally-enclosed-by=<em class="replaceable"><code>string</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for fields-optionally-enclosed-by" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--fields-optionally-enclosed-by</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p>
            The string passed to this option is used to enclose column
            values containing character data (such as
            <a class="link" href="data-types.html#char" title="11.4.1. The CHAR and VARCHAR Types"><code class="literal">CHAR</code></a>,
            <a class="link" href="data-types.html#char" title="11.4.1. The CHAR and VARCHAR Types"><code class="literal">VARCHAR</code></a>,
            <a class="link" href="data-types.html#binary-varbinary" title="11.4.2. The BINARY and VARBINARY Types"><code class="literal">BINARY</code></a>,
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a>, or
            <a class="link" href="data-types.html#enum" title="11.4.4. The ENUM Type"><code class="literal">ENUM</code></a>).
          </p></li><li class="listitem"><p><a name="option_ndb_restore_fields-terminated-by"></a>
            <a class="indexterm" name="idp119859728"></a>

            <a class="indexterm" name="idp119861232"></a>

            <code class="option">--fields-terminated-by=<em class="replaceable"><code>string</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for fields-terminated-by" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--fields-terminated-by=char</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">\t (tab)</code></td></tr></tbody></table>
</div>
<p>
            The string passed to this option is used to separate column
            values. The default value is a tab character
            (<code class="literal">\t</code>).
          </p></li><li class="listitem"><p><a name="option_ndb_restore_hex"></a>
            <a class="indexterm" name="idp119877744"></a>

            <a class="indexterm" name="idp119879232"></a>

            <code class="option">--hex</code>
</p>
<div class="informaltable">
<table summary="Options for hex" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--hex</code></td></tr></tbody></table>
</div>
<p>
            If this option is used, all binary values are output in
            hexadecimal format.
          </p></li><li class="listitem"><p><a name="option_ndb_restore_lines-terminated-by"></a>
            <a class="indexterm" name="idp119888304"></a>

            <a class="indexterm" name="idp119889808"></a>

            <code class="option">--fields-terminated-by=<em class="replaceable"><code>string</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for fields-terminated-by" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--fields-terminated-by=char</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">\t (tab)</code></td></tr></tbody></table>
</div>
<p>
            This option specifies the string used to end each line of
            output. The default is a linefeed character
            (<code class="literal">\n</code>).
          </p></li><li class="listitem"><p><a name="option_ndb_restore_append"></a>
            <a class="indexterm" name="idp119906336"></a>

            <a class="indexterm" name="idp119907824"></a>

            <code class="option">--append</code>
</p>
<div class="informaltable">
<table summary="Options for append" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--append</code></td></tr></tbody></table>
</div>
<p>
            When used with the <a class="link" href="mysql-cluster.html#option_ndb_restore_tab"><code class="option">--tab</code></a>
            and <a class="link" href="mysql-cluster.html#option_ndb_restore_print_data"><code class="option">--print_data</code></a>
            options, this causes the data to be appended to any existing
            files having the same names.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p xmlns="">
          If a table has no explicit primary key, then the output
          generated when using the
          <a class="link" href="mysql-cluster.html#option_ndb_restore_print_data"><code class="option">--print_data</code></a> option
          includes the table's hidden primary key.
</p>
</div>
<p><a name="option_ndb_restore_print_meta"></a>
        <a class="indexterm" name="idp119920320"></a>

        <a class="indexterm" name="idp119921808"></a>

        <code class="option">--print_meta</code>
      </p><p>
        This option causes <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to print all
        metadata to <code class="literal">stdout</code>.
      </p><p><a name="option_ndb_restore_print_log"></a>
        <a class="indexterm" name="idp119926016"></a>

        <a class="indexterm" name="idp119927504"></a>

        <code class="option">--print_log</code>
      </p><p>
        The <code class="option">--print_log</code> option causes
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to output its log to
        <code class="literal">stdout</code>.
      </p><p><a name="option_ndb_restore_print"></a>
        <a class="indexterm" name="idp119932144"></a>

        <a class="indexterm" name="idp119933632"></a>

        <code class="option">--print</code>
      </p><p>
        Causes <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to print all data,
        metadata, and logs to <code class="literal">stdout</code>. Equivalent to
        using the <a class="link" href="mysql-cluster.html#option_ndb_restore_print_data"><code class="option">--print_data</code></a>,
        <a class="link" href="mysql-cluster.html#option_ndb_restore_print_meta"><code class="option">--print_meta</code></a>, and
        <a class="link" href="mysql-cluster.html#option_ndb_restore_print_log"><code class="option">--print_log</code></a> options
        together.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          Use of <code class="option">--print</code> or any of the
          <code class="option">--print_*</code> options is in effect performing a
          dry run. Including one or more of these options causes any
          output to be redirected to <code class="literal">stdout</code>; in such
          cases, <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> makes no attempt to
          restore data or metadata to a MySQL Cluster.
</p>
</div>
<p><a name="option_ndb_restore_dont_ignore_systab_0"></a>
        <a class="indexterm" name="idp119943968"></a>

        <a class="indexterm" name="idp119945472"></a>

        <code class="option">--dont_ignore_systab_0</code>
      </p><p>
        Normally, when restoring table data and metadata,
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> ignores the copy of the
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> system table that is present in
        the backup. <code class="option">--dont_ignore_systab_0</code> causes the
        system table to be restored. <span class="emphasis"><em>This option is intended
        for experimental and development use only, and is not
        recommended in a production environment</em></span>.
      </p><p><a name="option_ndb_restore_ndb-nodegroup-map"></a>
        <a class="indexterm" name="idp119950896"></a>

        <a class="indexterm" name="idp119952400"></a>

        <code class="option">--ndb-nodegroup-map</code>, <code class="option">-z</code>
      </p><p>
        This option can be used to restore a backup taken from one node
        group to a different node group. Its argument is a list of the
        form <code class="literal"><em class="replaceable"><code>source_node_group</code></em>,
        <em class="replaceable"><code>target_node_group</code></em></code>.
      </p><p><a name="option_ndb_restore_no-binlog"></a>
        <a class="indexterm" name="idp119956816"></a>

        <a class="indexterm" name="idp119958304"></a>

        <code class="option">--no-binlog</code>
      </p><p>
        This option prevents any connected SQL nodes from writing data
        restored by <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to their binary logs.
      </p><p><a name="option_ndb_restore_no-restore-disk-objects"></a>
        <a class="indexterm" name="idp119961872"></a>

        <a class="indexterm" name="idp119963376"></a>

        <code class="option">--no-restore-disk-objects</code>, <code class="option">-d</code>
      </p><p>
        This option stops <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> from restoring
        any MySQL Cluster Disk Data objects, such as tablespaces and log
        file groups; see <a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data" title="17.5.12. MySQL Cluster Disk Data Tables">Section 17.5.12, “MySQL Cluster Disk Data Tables”</a>, for
        more information about these.
      </p><p><a name="option_ndb_restore_parallelism"></a>
        <a class="indexterm" name="idp119967952"></a>

        <a class="indexterm" name="idp119969440"></a>

        <code class="option">--parallelism=#</code>, <code class="option">-p</code>
      </p><p>
        Determines the maximum number of parallel transactions that
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> tries to use. By default, this is
        128; the minimum is 1, and the maximum is 1024.
      </p><p><a name="option_ndb_restore_progress-frequency"></a>
        <a class="indexterm" name="idp119973424"></a>

        <a class="indexterm" name="idp119974928"></a>

        <code class="option">--progress-frequency=<em class="replaceable"><code>N</code></em></code>
      </p><p>
        Print a status report each <em class="replaceable"><code>N</code></em> seconds
        while the backup is in progress. 0 (the default) causes no
        status reports to be printed. The maximum is 65535.
      </p><p><a name="option_ndb_restore_verbose"></a>
        <a class="indexterm" name="idp119978336"></a>

        <a class="indexterm" name="idp119979824"></a>

        <code class="option">--verbose=#</code>
      </p><p>
        Sets the level for the verbosity of the output. The minimum is
        0; the maximum is 255. The default value is 1.
      </p><p>
        It is possible to restore only selected databases, or selected
        tables from a single database, using the syntax shown here:
      </p><pre class="programlisting">ndb_restore <em class="replaceable"><code>other_options</code></em> <em class="replaceable"><code>db_name</code></em>,[<em class="replaceable"><code>db_name</code></em>[,...] | <em class="replaceable"><code>tbl_name</code></em>[,<em class="replaceable"><code>tbl_name</code></em>][,...]]
</pre><p>
        In other words, you can specify either of the following to be
        restored:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            All tables from one or more databases
          </p></li><li class="listitem"><p>
            One or more tables from a single database
</p></li></ul>
</div>
<p><a name="option_ndb_restore_include-databases"></a>
        <a class="indexterm" name="idp119988480"></a>

        <a class="indexterm" name="idp119989984"></a>

        <code class="option">--include-databases=<em class="replaceable"><code>db_name</code></em>[,<em class="replaceable"><code>db_name</code></em>][,...]</code>
</p>
<div class="informaltable">
<table summary="Options for include-databases" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--include-databases=db-list</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p><a name="option_ndb_restore_include-tables"></a>
        <a class="indexterm" name="idp120005296"></a>

        <a class="indexterm" name="idp120006784"></a>

        <code class="option">--include-tables=<em class="replaceable"><code>db_name.tbl_name</code></em>[,<em class="replaceable"><code>db_name.tbl_name</code></em>][,...]</code>
</p>
<div class="informaltable">
<table summary="Options for include-tables" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--include-tables=table-list</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p>
        Use the <a class="link" href="mysql-cluster.html#option_ndb_restore_include-databases"><code class="option">--include-databases</code></a>
        option or the <code class="option">--include-tables</code> option for
        restoring only specific databases or tables, respectively.
        <code class="option">--include-databases</code> takes a comma-delimited
        list of databases to be restored.
        <code class="option">--include-tables</code> takes a comma-delimited list
        of tables (in
        <code class="literal"><em class="replaceable"><code>database</code></em>.<em class="replaceable"><code>table</code></em></code>
        format) to be restored.
      </p><p>
        When <code class="option">--include-databases</code> or
        <code class="option">--include-tables</code> is used, only those databases
        or tables named by the option are restored; all other databases
        and tables are excluded by <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>, and
        are not restored.
      </p><p>
        The following table shows several invocations of
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> using
        <code class="option">--include-*</code> options (other options possibly
        required have been omitted for clarity), and the effects these
        have on restoring from a MySQL Cluster backup:
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Option Used</th><th scope="col">Result</th></tr></thead><tbody><tr><td scope="row"><code class="option">--include-databases=db1</code></td><td>Only tables in database <code class="literal">db1</code> are restored; all tables
                in all other databases are ignored</td></tr><tr><td scope="row"><code class="option">--include-databases=db1,db2</code> (or
                <code class="option">--include-databases=db1</code>
                <code class="option">--include-databases=db2</code>)</td><td>Only tables in databases <code class="literal">db1</code> and
                <code class="literal">db2</code> are restored; all tables in all
                other databases are ignored</td></tr><tr><td scope="row"><code class="option">--include-tables=db1.t1</code></td><td>Only table <code class="literal">t1</code> in database <code class="literal">db1</code> is
                restored; no other tables in <code class="literal">db1</code> or
                in any other database are restored</td></tr><tr><td scope="row"><code class="option">--include-tables=db1.t2,db2.t1</code> (or
                <code class="option">--include-tables=db1.t2</code>
                <code class="option">--include-tables=db2.t1</code>)</td><td>Only the table <code class="literal">t2</code> in database <code class="literal">db1</code>
                and the table <code class="literal">t1</code> in database
                <code class="literal">db2</code> are restored; no other tables in
                <code class="literal">db1</code>, <code class="literal">db2</code>, or any
other database are restored</td></tr></tbody></table>
</div>
<p>
        You can also use these two options together. For example, the
        following causes all tables in databases <code class="literal">db1</code>
        and <code class="literal">db2</code>, together with the tables
        <code class="literal">t1</code> and <code class="literal">t2</code> in database
        <code class="literal">db3</code>, to be restored (and no other databases
        or tables):
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_restore [...] --include-databases=db1,db2 --include-tables=db3.t1,db3.t2</code></strong>
</pre><p>
        (Again we have omitted other, possibly required, options in the
        example just shown.)
      </p><p><a name="option_ndb_restore_exclude-databases"></a>
        <a class="indexterm" name="idp120056320"></a>

        <a class="indexterm" name="idp120057824"></a>

        <code class="option">--exclude-databases=<em class="replaceable"><code>db_name</code></em>[,<em class="replaceable"><code>db_name</code></em>][,...]</code>
</p>
<div class="informaltable">
<table summary="Options for exclude-databases" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--exclude-databases=db-list</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p><a name="option_ndb_restore_exclude-tables"></a>
        <a class="indexterm" name="idp120073136"></a>

        <a class="indexterm" name="idp120074624"></a>

        <code class="option">--exclude-tables=<em class="replaceable"><code>db_name.tbl_name</code></em>[,<em class="replaceable"><code>db_name.tbl_name</code></em>][,...]</code>
</p>
<div class="informaltable">
<table summary="Options for exclude-tables" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--exclude-tables=table-list</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p>
        It is possible to prevent one or more databases or tables from
        being restored using the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> options
        <code class="option">--exclude-databases</code> and
        <code class="option">--exclude-tables</code>.
        <code class="option">--exclude-databases</code> takes a comma-delimited
        list of one or more databases which should not be restored.
        <code class="option">--exclude-tables</code> takes a comma-delimited list
        of one or more tables (using
        <code class="literal"><em class="replaceable"><code>database</code></em>.<em class="replaceable"><code>table</code></em></code>
        format) which should not be restored.
      </p><p>
        When <code class="option">--exclude-databases</code> or
        <code class="option">--exclude-tables</code> is used, only those databases
        or tables named by the option are excluded; all other databases
        and tables are restored by <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>.
      </p><p>
        This table shows several invocations of
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> usng <code class="option">--exclude-*</code>
        options (other options possibly required have been omitted for
        clarity), and the effects these options have on restoring from a
        MySQL Cluster backup:
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Option Used</th><th scope="col">Result</th></tr></thead><tbody><tr><td scope="row"><code class="option">--exclude-databases=db1</code></td><td>All tables in all databases except <code class="literal">db1</code> are restored;
                no tables in <code class="literal">db1</code> are restored</td></tr><tr><td scope="row"><code class="option">--exclude-databases=db1,db2</code> (or
                <code class="option">--exclude-databases=db1</code>
                <code class="option">--exclude-databases=db2</code>)</td><td>All tables in all databases except <code class="literal">db1</code> and
                <code class="literal">db2</code> are restored; no tables in
                <code class="literal">db1</code> or <code class="literal">db2</code> are
                restored</td></tr><tr><td scope="row"><code class="option">--exclude-tables=db1.t1</code></td><td>All tables except <code class="literal">t1</code> in database
                <code class="literal">db1</code> are restored; all other tables in
                <code class="literal">db1</code> are restored; all tables in all
                other databases are restored</td></tr><tr><td scope="row"><code class="option">--exclude-tables=db1.t2,db2.t1</code> (or
                <code class="option">--exclude-tables=db1.t2</code>
                <code class="option">--exclude-tables=db2.t1)</code></td><td>All tables in database <code class="literal">db1</code> except for
                <code class="literal">t2</code> and all tables in database
                <code class="literal">db2</code> except for table
                <code class="literal">t1</code> are restored; no other tables in
                <code class="literal">db1</code> or <code class="literal">db2</code> are
restored; all tables in all other databases are restored</td></tr></tbody></table>
</div>
<p>
        You can use these two options together. For example, the
        following causes all tables in all databases <span class="emphasis"><em>except
        for</em></span> databases <code class="literal">db1</code> and
        <code class="literal">db2</code>, along with the tables
        <code class="literal">t1</code> and <code class="literal">t2</code> in database
        <code class="literal">db3</code>, <span class="emphasis"><em>not</em></span> to be restored:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_restore [...] --exclude-databases=db1,db2 --exclude-tables=db3.t1,db3.t2</code></strong>
</pre><p>
        (Again, we have omitted other possibly necessary options in the
        interest of clarity and brevity from the example just shown.)
      </p><p>
        You can use <code class="option">--include-*</code> and
        <code class="option">--exclude-*</code> options together, subject to the
        following rules:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The actions of all <code class="option">--include-*</code> and
            <code class="option">--exclude-*</code> options are cumulative.
          </p></li><li class="listitem"><p>
            All <code class="option">--include-*</code> and
            <code class="option">--exclude-*</code> options are evaluated in the
            order passed to ndb_restore, from right to left.
          </p></li><li class="listitem"><p>
            In the event of conflicting options, the first (rightmost)
            option takes precedence. In other words, the first option
            (going from right to left) that matches against a given
            database or table <span class="quote">“<span class="quote">wins</span>”</span>.
</p></li></ul>
</div>
<p>
        For example, the following set of options causes
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to restore all tables from
        database <code class="literal">db1</code> except
        <code class="literal">db1.t1</code>, while restoring no other tables from
        any other databases:
      </p><pre class="programlisting">          
--include-databases=db1 --exclude-tables=db1.t1</pre><p>
        However, reversing the order of the options just given simply
        causes all tables from database <code class="literal">db1</code> to be
        restored (including <code class="literal">db1.t1</code>, but no tables
        from any other database), because the
        <a class="link" href="mysql-cluster.html#option_ndb_restore_include-databases"><code class="option">--include-databases</code></a> option,
        being farthest to the right, is the first match against database
        <code class="literal">db1</code> and thus takes precedence over any other
        option that matches <code class="literal">db1</code> or any tables in
        <code class="literal">db1</code>:
      </p><pre class="programlisting">          
--exclude-tables=db1.t1 --include-databases=db1</pre><p><a name="option_ndb_restore_exclude-missing-columns"></a>
        <a class="indexterm" name="idp120143632"></a>

        <a class="indexterm" name="idp120145136"></a>

        <code class="option">--exclude-missing-columns</code>
</p>
<div class="informaltable">
<table summary="Options for exclude-missing-columns" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--exclude-missing-columns</code></td></tr></tbody></table>
</div>
<p>
        It is also possible to restore only selected table columns using
        the <code class="option">--exclude-missing-columns</code> option. When this
        option is used, <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> ignores any
        columns missing from tables being restored as compared to the
        versions of those tables found in the backup. This option
        applies to all tables being restored. If you wish to apply this
        option only to selected tables or databases, you can use it in
        combination with one or more of the options described in the
        previous paragraph to do so, then restore data to the remaining
        tables using a complementary set of these options.
      </p><p><a name="option_ndb_restore_disable-indexes"></a>
        <a class="indexterm" name="idp120156192"></a>

        <a class="indexterm" name="idp120157680"></a>

        <code class="option">--disable-indexes</code>
</p>
<div class="informaltable">
<table summary="Options for disable-indexes" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--disable-indexes</code></td></tr></tbody></table>
</div>
<p>
        Disable restoration of indexes during restoration of the data
        from a native NDB backup. Afterwards, you can restore indexes
        for all tables at once with multi-threaded building of indexes
        using <a class="link" href="mysql-cluster.html#option_ndb_restore_rebuild-indexes"><code class="option">--rebuild-indexes</code></a>,
        which should be faster than rebuilding indexes concurrently for
        very large tables.
      </p><p><a name="option_ndb_restore_rebuild-indexes"></a>
        <a class="indexterm" name="idp120167456"></a>

        <a class="indexterm" name="idp120168944"></a>

        <code class="option">--rebuild-indexes</code>
</p>
<div class="informaltable">
<table summary="Options for rebuild-indexes" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--rebuild-indexes</code></td></tr></tbody></table>
</div>
<p>
        You can use this option with <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to
        cause multi-threaded rebuilding of the ordered indexes while
        restoring a native <code class="literal">NDB</code> backup.
      </p><p><a name="option_ndb_restore_skip-broken-objects"></a>
        <a class="indexterm" name="idp120179200"></a>

        <a class="indexterm" name="idp120180704"></a>

        <code class="option">--skip-broken-objects</code>
</p>
<div class="informaltable">
<table summary="Options for skip-broken-objects" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--skip-broken-objects</code></td></tr></tbody></table>
</div>
<p>
        This option causes <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to ignore
        corrupt tables while reading a native
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> backup, and to continue
        restoring any remaining tables (that are not also corrupted).
        Currently, the <code class="option">--skip-broken-objects</code> option
        works only in the case of missing blob parts tables.
      </p><p><a name="option_ndb_restore_skip-unknown-objects"></a>
        <a class="indexterm" name="idp120191680"></a>

        <a class="indexterm" name="idp120193184"></a>

        <code class="option">--skip-unknown-objects</code>
</p>
<div class="informaltable">
<table summary="Options for skip-unknown-objects" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--skip-unknown-objects</code></td></tr></tbody></table>
</div>
<p>
        This option causes <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to ignore any
        schema objects it does not recognize while reading a native
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> backup. This can be used for
        restoring a backup made from a cluster running MySQL Cluster NDB
        7.3 to a cluster running MySQL Cluster NDB 7.2.
      </p><p><a name="option_ndb_restore_rewrite-database"></a>
        <a class="indexterm" name="idp120203728"></a>

        <a class="indexterm" name="idp120205216"></a>

        <code class="option">--rewrite-database=<em class="replaceable"><code>old_dbname</code></em>,<em class="replaceable"><code>new_dbname</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for rewrite-database" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--rewrite-database=olddb,newdb</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">none</code></td></tr></tbody></table>
</div>
<p>
        This option makes it possible to restore to a database having a
        different name from that used in the backup. For example, if a
        backup is made of a database named <code class="literal">products</code>,
        you can restore the data it contains to a database named
        <code class="literal">inventory</code>, use this option as shown here
        (omitting any other options that might be required):
      </p><pre class="programlisting">shell&gt; ndb_restore --rewrite-database=product,inventory</pre><p>
        The option can be employed multiple times in a single invocation
        of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>. Thus it is possible to
        restore simultaneously from a database named
        <code class="literal">db1</code> to a database named
        <code class="literal">db2</code> and from a database named
        <code class="literal">db3</code> to one named <code class="literal">db4</code> using
        <code class="option">--rewrite-database=db1,db2
        --rewrite-database=db3,db4</code>. Other
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> options may be used between
        multiple occurrences of <code class="option">--rewrite-database</code>.
      </p><p>
        In the event of conflicts between multiple
        <code class="option">--rewrite-database</code> options, the last
        <code class="option">--rewrite-database</code> option used, reading from
        left to right, is the one that takes effect. For example, if
        <code class="option">--rewrite-database=db1,db2
        --rewrite-database=db1,db3</code> is used, only
        <code class="option">--rewrite-database=db1,db3</code> is honored, and
        <code class="option">--rewrite-database=db1,db2</code> is ignored. It is
        also possible to restore from multiple databases to a single
        database, so that <code class="option">--rewrite-database=db1,db3
        --rewrite-database=db2,db3</code> restores all tables and data
        from databases <code class="literal">db1</code> and <code class="literal">db2</code>
        into database <code class="literal">db3</code>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          When restoring from multiple backup databases into a single
          target database using <code class="option">--rewrite-database</code>, no
          check is made for collisions between table or other object
          names, and the order in which rows are restored is not
          guaranteed. This means that it is possible in such cases for
          rows to be overwritten and updates to be lost.
</p>
</div>
<p><b>Error reporting. </b><a class="indexterm" name="idp120236864"></a>
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> reports both temporary and
          permanent errors. In the case of temporary errors, it may able
          to recover from them, and reports <code class="literal">Restore successful,
          but encountered temporary error, please look at
          configuration</code> in such cases.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          After using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> to initialize a
          MySQL Cluster for use in circular replication, binary logs on
          the SQL node acting as the replication slave are not
          automatically created, and you must cause them to be created
          manually. To cause the binary logs to be created, issue a
          <a class="link" href="sql-syntax.html#show-tables" title="13.7.5.38. SHOW TABLES Syntax"><code class="literal">SHOW TABLES</code></a> statement on that
          SQL node before running <a class="link" href="sql-syntax.html#start-slave" title="13.4.2.5. START SLAVE Syntax"><code class="literal">START
          SLAVE</code></a>. This is a known issue in MySQL Cluster.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-select-all"></a>17.4.20. <span class="command"><strong>ndb_select_all</strong></span> — Print Rows from an NDB Table</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp120245952"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all" title="17.4.20. ndb_select_all — Print Rows from an NDB Table"><span class="command"><strong>ndb_select_all</strong></span></a> prints all rows from an
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table to
        <code class="literal">stdout</code>.
</p>
<h4><a name="idp120249824"></a>
        Usage
</h4>
<pre class="programlisting">ndb_select_all -c <em class="replaceable"><code>connect_string</code></em> <em class="replaceable"><code>tbl_name</code></em> -d <em class="replaceable"><code>db_name</code></em> [&gt; <em class="replaceable"><code>file_name</code></em>]
</pre><p>
        The following table includes options that are specific to the
        MySQL Cluster native backup restoration program
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all" title="17.4.20. ndb_select_all — Print Rows from an NDB Table"><span class="command"><strong>ndb_select_all</strong></span></a>. Additional descriptions
        follow the table. For options common to most MySQL Cluster
        programs (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all" title="17.4.20. ndb_select_all — Print Rows from an NDB Table"><span class="command"><strong>ndb_select_all</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_select_all-options-table"></a><p class="title"><b>Table 17.24. <span class="command">ndb_select_all</span> Options and Variables: MySQL Cluster
NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_select_all program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_database">--database=dbname</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_database">-d</a>
              </code>
            </p></td><td>Name of the database in which the table is found</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_parallelism">--parallelism=#</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_parallelism">-p</a>
              </code>
            </p></td><td>Degree of parallelism</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_lock">--lock=#</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_lock">-l</a>
              </code>
            </p></td><td>Lock type</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_order">--order=index</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_order">-o</a>
              </code>
            </p></td><td>Sort resultset according to index whose name is supplied</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_descending">--descending</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_descending">-z</a>
              </code>
            </p></td><td>Sort resultset in descending order (requires order flag)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_header">--header</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_header">-h</a>
              </code>
            </p></td><td>Print header (set to 0|FALSE to disable headers in output)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_useHexFormat">--useHexFormat</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_useHexFormat">-x</a>
              </code>
            </p></td><td>Output numbers in hexadecimal format</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_delimiter">--delimiter=char</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_delimiter">-D</a>
              </code>
            </p></td><td>Set a column delimiter</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_disk">--disk</a>
              </code>
            </p></td><td>Print disk references (useful only for Disk Data tables having
            nonindexed columns)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_rowid">--rowid</a>
              </code>
            </p></td><td>Print rowid</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_gci">--gci</a>
              </code>
            </p></td><td>Include GCI in output</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_select_all_tupscan">--tup</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_tupscan">-t</a>
              </code>
            </p></td><td>Scan in tup order</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_select_all_nodata">--nodata</a>
              </code>
            </p></td><td>Do not print table column data</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_select_all_database"></a>
            <a class="indexterm" name="idp120329296"></a>

            <code class="option">--database=<em class="replaceable"><code>dbname</code></em></code>,
            <code class="option">-d</code> <em class="replaceable"><code>dbname</code></em>
          </p><p>
            Name of the database in which the table is found. The
            default value is <code class="literal">TEST_DB</code>.
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_parallelism"></a>
            <a class="indexterm" name="idp120334592"></a>

            <code class="option">parallelism=<em class="replaceable"><code>#</code></em></code>,
            <code class="option">-p</code> <em class="replaceable"><code>#</code></em>
          </p><p>
            Specifies the degree of parallelism.
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_lock"></a>
            <a class="indexterm" name="idp120339072"></a>

            <a class="indexterm" name="idp120340560"></a>

            <code class="option">--lock=<em class="replaceable"><code>lock_type</code></em></code>,
            <code class="option">-l <em class="replaceable"><code>lock_type</code></em></code>
          </p><p>
            Employs a lock when reading the table. Possible values for
            <em class="replaceable"><code>lock_type</code></em> are:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">0</code>: Read lock
              </p></li><li class="listitem"><p>
                <code class="literal">1</code>: Read lock with hold
              </p></li><li class="listitem"><p>
                <code class="literal">2</code>: Exclusive read lock
</p></li></ul>
</div>
<p>
            There is no default value for this option.
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_order"></a>
            <a class="indexterm" name="idp120350704"></a>

            <a class="indexterm" name="idp120352192"></a>

            <code class="option">--order=<em class="replaceable"><code>index_name</code></em></code>,
            <code class="option">-o <em class="replaceable"><code>index_name</code></em></code>
          </p><p>
            Orders the output according to the index named
            <em class="replaceable"><code>index_name</code></em>. Note that this is the
            name of an index, not of a column, and that the index must
            have been explicitly named when created.
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_descending"></a>
            <a class="indexterm" name="idp120357216"></a>

            <a class="indexterm" name="idp120358704"></a>

            <code class="option">--descending</code>, <code class="option">-z</code>
          </p><p>
            Sorts the output in descending order. This option can be
            used only in conjunction with the <code class="option">-o</code>
            (<a class="link" href="mysql-cluster.html#option_ndb_select_all_order"><code class="option">--order</code></a>) option.
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_header"></a>
            <a class="indexterm" name="idp120363840"></a>

            <a class="indexterm" name="idp120365328"></a>

            <code class="option">--header=FALSE</code>
          </p><p>
            Excludes column headers from the output.
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_useHexFormat"></a>
            <a class="indexterm" name="idp120368752"></a>

            <a class="indexterm" name="idp120370240"></a>

            <code class="option">--useHexFormat</code> <code class="option">-x</code>
          </p><p>
            Causes all numeric values to be displayed in hexadecimal
            format. This does not affect the output of numerals
            contained in strings or datetime values.
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_delimiter"></a>
            <a class="indexterm" name="idp120374176"></a>

            <a class="indexterm" name="idp120375664"></a>

            <code class="option">--delimiter=<em class="replaceable"><code>character</code></em></code>,
            <code class="option">-D <em class="replaceable"><code>character</code></em></code>
          </p><p>
            Causes the <em class="replaceable"><code>character</code></em> to be used
            as a column delimiter. Only table data columns are separated
            by this delimiter.
          </p><p>
            The default delimiter is the tab character.
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_disk"></a>
            <a class="indexterm" name="idp120381072"></a>

            <a class="indexterm" name="idp120382560"></a>

            <code class="option">--disk</code>
          </p><p>
            Adds a disk reference column to the output. The column is
            nonempty only for Disk Data tables having nonindexed
            columns.
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_rowid"></a>
            <a class="indexterm" name="idp120386080"></a>

            <a class="indexterm" name="idp120387568"></a>

            <code class="option">--rowid</code>
          </p><p>
            Adds a <code class="literal">ROWID</code> column providing information
            about the fragments in which rows are stored.
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_gci"></a>
            <a class="indexterm" name="idp120391744"></a>

            <a class="indexterm" name="idp120393232"></a>

            <code class="option">--gci</code>
          </p><p>
            Adds a column to the output showing the global checkpoint at
            which each row was last updated. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-overview" title="17.1. MySQL Cluster Overview">Section 17.1, “MySQL Cluster Overview”</a>, and
            <a class="xref" href="mysql-cluster.html#mysql-cluster-log-events" title="17.5.6.2. MySQL Cluster Log Events">Section 17.5.6.2, “MySQL Cluster Log Events”</a>, for more
            information about checkpoints.
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_tupscan"></a>
            <a class="indexterm" name="idp120397904"></a>

            <a class="indexterm" name="idp120399392"></a>

            <code class="option">--tupscan</code>, <code class="option">-t</code>
          </p><p>
            Scan the table in the order of the tuples.
          </p></li><li class="listitem"><p><a name="option_ndb_select_all_nodata"></a>
            <a class="indexterm" name="idp120403200"></a>

            <a class="indexterm" name="idp120404688"></a>

            <code class="option">--nodata</code>
          </p><p>
            Causes any table data to be omitted.
</p></li></ul>
</div>
<h4><a name="idp120407440"></a>
        Sample Output
</h4>
<p>
        Output from a MySQL <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>
        statement:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM ctest1.fish;</code></strong>
+----+-----------+
| id | name      |
+----+-----------+
|  3 | shark     |
|  6 | puffer    |
|  2 | tuna      |
|  4 | manta ray |
|  5 | grouper   |
|  1 | guppy     |
+----+-----------+
6 rows in set (0.04 sec)
</pre><p>
        Output from the equivalent invocation of
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all" title="17.4.20. ndb_select_all — Print Rows from an NDB Table"><span class="command"><strong>ndb_select_all</strong></span></a>:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./ndb_select_all -c localhost fish -d ctest1</code></strong>
id      name
3       [shark]
6       [puffer]
2       [tuna]
4       [manta ray]
5       [grouper]
1       [guppy]
6 rows returned

NDBT_ProgramExit: 0 - OK
</pre><p>
        Note that all string values are enclosed by square brackets
        (<span class="quote">“<span class="quote"><code class="literal">[</code>...<code class="literal">]</code></span>”</span>) in
        the output of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all" title="17.4.20. ndb_select_all — Print Rows from an NDB Table"><span class="command"><strong>ndb_select_all</strong></span></a>. For a further
        example, consider the table created and populated as shown here:
      </p><pre class="programlisting">CREATE TABLE dogs (
    id INT(11) NOT NULL AUTO_INCREMENT,
    name VARCHAR(25) NOT NULL,
    breed VARCHAR(50) NOT NULL,
    PRIMARY KEY pk (id),
    KEY ix (name)
)
TABLESPACE ts STORAGE DISK
ENGINE=NDBCLUSTER;

INSERT INTO dogs VALUES
    ('', 'Lassie', 'collie'),
    ('', 'Scooby-Doo', 'Great Dane'),
    ('', 'Rin-Tin-Tin', 'Alsatian'),
    ('', 'Rosscoe', 'Mutt');</pre><p>
        This demonstrates the use of several additional
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all" title="17.4.20. ndb_select_all — Print Rows from an NDB Table"><span class="command"><strong>ndb_select_all</strong></span></a> options:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./ndb_select_all -d ctest1 dogs -o ix -z --gci --disk</code></strong>
GCI     id name          breed        DISK_REF
834461  2  [Scooby-Doo]  [Great Dane] [ m_file_no: 0 m_page: 98 m_page_idx: 0 ]
834878  4  [Rosscoe]     [Mutt]       [ m_file_no: 0 m_page: 98 m_page_idx: 16 ]
834463  3  [Rin-Tin-Tin] [Alsatian]   [ m_file_no: 0 m_page: 34 m_page_idx: 0 ]
835657  1  [Lassie]      [Collie]     [ m_file_no: 0 m_page: 66 m_page_idx: 0 ]
4 rows returned

NDBT_ProgramExit: 0 - OK
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-select-count"></a>17.4.21. <span class="command"><strong>ndb_select_count</strong></span> — Print Row Counts for NDB Tables</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp120422816"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-select-count" title="17.4.21. ndb_select_count — Print Row Counts for NDB Tables"><span class="command"><strong>ndb_select_count</strong></span></a> prints the number of rows in
        one or more <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables. With a
        single table, the result is equivalent to that obtained by using
        the MySQL statement <code class="literal">SELECT COUNT(*) FROM
        <em class="replaceable"><code>tbl_name</code></em></code>.
</p>
<h4><a name="idp120427104"></a>
        Usage
</h4>
<pre class="programlisting">ndb_select_count [-c <em class="replaceable"><code>connect_string</code></em>] -d<em class="replaceable"><code>db_name</code></em> <em class="replaceable"><code>tbl_name</code></em>[, <em class="replaceable"><code>tbl_name2</code></em>[, ...]]
</pre><p>
        The following table includes options that are specific to the
        MySQL Cluster native backup restoration program
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-select-count" title="17.4.21. ndb_select_count — Print Row Counts for NDB Tables"><span class="command"><strong>ndb_select_count</strong></span></a>. Additional descriptions
        follow the table. For options common to most MySQL Cluster
        programs (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-select-count" title="17.4.21. ndb_select_count — Print Row Counts for NDB Tables"><span class="command"><strong>ndb_select_count</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_select_count-options-table"></a><p class="title"><b>Table 17.25. <span class="command">ndb_select_count</span> Options and Variables: MySQL Cluster
NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_select_count program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal">--database=dbname</code>,
            </p>



            <p>
              <code class="literal">-d</code>
            </p></td><td>Name of the database in which the table is found</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--parallelism=#</code>,
            </p>



            <p>
              <code class="literal">-p</code>
            </p></td><td>Degree of parallelism</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--lock=#</code>,
            </p>



            <p>
              <code class="literal">-l</code>
            </p></td><td>Lock type</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
        You can obtain row counts from multiple tables in the same
        database by listing the table names separated by spaces when
        invoking this command, as shown under
        <span class="bold"><strong>Sample Output</strong></span>.
</p>
<h4><a name="idp120456304"></a>
        Sample Output
</h4>
<pre class="programlisting">shell&gt; <strong class="userinput"><code>./ndb_select_count -c localhost -d ctest1 fish dogs</code></strong>
6 records in table fish
4 records in table dogs

NDBT_ProgramExit: 0 - OK
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-setup-py"></a>17.4.22. <span class="command"><strong>ndb_setup.py</strong></span> — Start browser-based Auto-Installer for
MySQL Cluster</h3>
</div>
</div>
</div>
<a class="indexterm" name="idp120459872"></a><a class="indexterm" name="idp120460944"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a> starts the MySQL Cluster
        Auto-Installer and opens the installer's Start page in the
        default Web browser.
      </p><p>
        This section describes usage of and program options for the
        command-line tool only. For information about using the
        Auto-Installer GUI that is spawned when
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a> is invoked, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-install-auto" title="17.2.1. The MySQL Cluster Auto-Installer">Section 17.2.1, “The MySQL Cluster Auto-Installer”</a>.
</p>
<h4><a name="idp120465856"></a>
        Usage
</h4>
<p>
        All platforms:
      </p><pre class="programlisting">ndb_setup.py [<em class="replaceable"><code>options</code></em>]
</pre><a class="indexterm" name="idp120467808"></a><a class="indexterm" name="idp120469296"></a><p>
        Additionally, on Windows platforms only:
      </p><pre class="programlisting">setup.bat [<em class="replaceable"><code>options</code></em>]
</pre><p>
        The following table includes all options that are supported by
        the MySQL Cluster installation and configuration program
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-setup-py" title="17.4.22. ndb_setup.py — Start browser-based Auto-Installer for MySQL Cluster"><span class="command"><strong>ndb_setup.py</strong></span></a>. Additional descriptions follow
        the table.
</p>
<div class="table">
<a name="mysql-cluster-ndb_setup_py-options-table"></a><p class="title"><b>Table 17.26. <span class="command">ndb_setup.py</span> Options and Variables: MySQL Cluster NDB
7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_setup.py program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_browser-start-page">--browser-start-page=filename</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_setup_py_browser-start-page">-s</a>
              </code>
            </p></td><td>Page that the web browser opens when starting.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_ca-certs-file">--ca-certs-file=filename</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_setup_py_ca-certs-file">-a</a>
              </code>
            </p></td><td>File containing list of client certificates allowed to connect to the
            server</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_cert-file">--cert-file=filename</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_setup_py_cert-file">-c</a>
              </code>
            </p></td><td>File containing X509 certificate that identifies the server. (Default:
            cfg.pem)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_debug-level">--debug-level=level</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_setup_py_debug-level">-d</a>
              </code>
            </p></td><td>Python logging module debug level. One of DEBUG, INFO, WARNING
            (default), ERROR, or CRITICAL.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_help">--help</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_setup_py_help">-h</a>
              </code>
            </p></td><td>Print help message</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_key-file">--key-file=file</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_setup_py_key-file">-k</a>
              </code>
            </p></td><td>Specify file containing private key (if not included in --cert-file)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_no-browser">--no-browser</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_setup_py_no-browser">-n</a>
              </code>
            </p></td><td>Do not open the start page in a browser, merely start the tool</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_port">--port=#</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_setup_py_port">-p</a>
              </code>
            </p></td><td>Specify the port used by the web server</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--server-log-file=file</code>,
            </p>



            <p>
              <code class="literal">o</code>
            </p></td><td>Log requests to this file. Use '-' to force logging to stderr instead.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_setup_py_server-name">--server-name=name</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_setup_py_server-name">-N</a>
              </code>
            </p></td><td>The name of the server to connect with</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">--use-https</code>,
            </p>



            <p>
              <code class="literal">-S</code>
            </p></td><td>Use secure (HTTPS) client-server connection</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_setup_py_browser-start-page"></a>
            <a class="indexterm" name="idp120540944"></a>

            <a class="indexterm" name="idp120542448"></a>

            <code class="option">--browser-start-page=<em class="replaceable"><code>file</code></em></code>,
            <code class="option">-s</code>
</p>
<div class="informaltable">
<table summary="Options for browser-start-page" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--browser-start-page=filename</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-s</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">index.html</code></td></tr></tbody></table>
</div>
<p>
            Specify the file to open in the browser as the installation
            and configuration Start page. The default is
            <code class="filename">index.html</code>.
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_ca-certs-file"></a>
            <a class="indexterm" name="idp120561472"></a>

            <a class="indexterm" name="idp120562960"></a>

            <code class="option">--ca-certs-file=<em class="replaceable"><code>file</code></em></code>,
            <code class="option">-a</code>
</p>
<div class="informaltable">
<table summary="Options for ca-certs-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ca-certs-file=filename</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-a</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">file name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr></tbody></table>
</div>
<p>
            Specify a file containing a list of client certificates
            which are allowed to connect to the server. The default is
            an empty string, which means that no client authentication
            is used.
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_cert-file"></a>
            <a class="indexterm" name="idp120581344"></a>

            <a class="indexterm" name="idp120582832"></a>

            <code class="option">--cert-file=<em class="replaceable"><code>file</code></em></code>,
            <code class="option">-c</code>
</p>
<div class="informaltable">
<table summary="Options for cert-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--cert-file=filename</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-c</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">file name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">cfg.pem</code></td></tr></tbody></table>
</div>
<p>
            Specify a file containing an X509 certificate which
            identifies the server. It is possible for the certificate to
            be self-signed. The default is <code class="filename">cfg.pem</code>.
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_debug-level"></a>
            <a class="indexterm" name="idp120601840"></a>

            <a class="indexterm" name="idp120603328"></a>

            <code class="option">--debug-level=<em class="replaceable"><code>level</code></em></code>,
            <code class="option">-d</code>
</p>
<div class="informaltable">
<table summary="Options for debug-level" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--debug-level=level</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-d</code></td></tr><tr><td scope="row" rowspan="7"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">WARNING</code></td></tr><tr><td scope="row" rowspan="4" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">DEBUG</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">INFO</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">ERROR</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">CRITICAL</code></td></tr></tbody></table>
</div>
<p>
            Set the Python logging module debug level. This is one of
            <code class="literal">DEBUG</code>, <code class="literal">INFO</code>,
            <code class="literal">WARNING</code>, <code class="literal">ERROR</code>, or
            <code class="literal">CRITICAL</code>. <code class="literal">WARNING</code> is
            the default.
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_help"></a>
            <a class="indexterm" name="idp120632752"></a>

            <a class="indexterm" name="idp120634240"></a>

            <code class="option">--help</code>, <code class="option">-h</code>
</p>
<div class="informaltable">
<table summary="Options for help" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--help</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-h</code></td></tr></tbody></table>
</div>
<p>
            Print a help message.
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_key-file"></a>
            <a class="indexterm" name="idp120645680"></a>

            <a class="indexterm" name="idp120647168"></a>

            <code class="option">--key-file=<em class="replaceable"><code>file</code></em></code>,
            <code class="option">-d</code>
</p>
<div class="informaltable">
<table summary="Options for key-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--key-file=file</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-k</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">file name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">[none]</code></td></tr></tbody></table>
</div>
<p>
            Specify a file containing the private key if this is not
            included in in the X509 certificate file
            (<a class="link" href="mysql-cluster.html#option_ndb_setup_py_cert-file"><code class="option">--cert-file</code></a>). The
            default is an empty string, which means that no such file is
            used.
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_no-browser"></a>
            <a class="indexterm" name="idp120666384"></a>

            <a class="indexterm" name="idp120667872"></a>

            <code class="option">--no-browser</code>, <code class="option">-n</code>
</p>
<div class="informaltable">
<table summary="Options for no-browser" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--no-browser</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-n</code></td></tr></tbody></table>
</div>
<p>
            Start the installation and configuration tool, but do not
            open the Start page in a browser.
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_port"></a>
            <a class="indexterm" name="idp120679392"></a>

            <a class="indexterm" name="idp120680880"></a>

            <code class="option">--port=<em class="replaceable"><code>#</code></em></code>,
            <code class="option">-p</code>
</p>
<div class="informaltable">
<table summary="Options for port" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--port=#</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-p</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">8081</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 65535</code></td></tr></tbody></table>
</div>
<p>
            Set the port used by the web server. The default is 8081.
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_server-log-file"></a>
            <a class="indexterm" name="idp120701280"></a>

            <a class="indexterm" name="idp120702768"></a>

            <code class="option">--server-log-file=<em class="replaceable"><code>file</code></em></code>,
            <code class="option">-o</code>
</p>
<div class="informaltable">
<table summary="Options for server-log-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--server-log-file=file</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">o</code></td></tr><tr><td scope="row" rowspan="4"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">file name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ndb_setup.log</code></td></tr><tr><td scope="row" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">-</code> (Log to stderr)</td></tr></tbody></table>
</div>
<p>
            Log requests to this file. The default is
            <code class="filename">ndb_setup.log</code>. To specify logging to
            <code class="literal">stderr</code>, rather than to a file, use a
            <code class="literal">-</code> (dash character) for the file name.
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_server-name"></a>
            <a class="indexterm" name="idp120726016"></a>

            <a class="indexterm" name="idp120727504"></a>

            <code class="option">--server-name=<em class="replaceable"><code>host</code></em></code>,
            <code class="option">-N</code>
</p>
<div class="informaltable">
<table summary="Options for server-name" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--server-name=name</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-N</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">localhost</code></td></tr></tbody></table>
</div>
<p>
            Specify the host name or IP address for the browser to use
            when connecting. The default is
            <code class="literal">localhost</code>.
          </p></li><li class="listitem"><p><a name="option_ndb_setup_py_use-https"></a>
            <a class="indexterm" name="idp120746464"></a>

            <a class="indexterm" name="idp120747952"></a>

            <code class="option">--use-https</code>, <code class="option">-S</code>
</p>
<div class="informaltable">
<table summary="Options for use-https" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--use-https</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-S</code></td></tr></tbody></table>
</div>
<p>
            Make the browser use a secure (HTTPS) connection with the
            server.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-show-tables"></a>17.4.23. <span class="command"><strong>ndb_show_tables</strong></span> — Display List of NDB Tables</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp120760336"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-show-tables" title="17.4.23. ndb_show_tables — Display List of NDB Tables"><span class="command"><strong>ndb_show_tables</strong></span></a> displays a list of all
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> database objects in the
        cluster. By default, this includes not only both user-created
        tables and <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> system tables, but
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>-specific indexes, internal
        triggers, and MySQL Cluster Disk Data objects as well.
      </p><p>
        The following table includes options that are specific to the
        MySQL Cluster native backup restoration program
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-show-tables" title="17.4.23. ndb_show_tables — Display List of NDB Tables"><span class="command"><strong>ndb_show_tables</strong></span></a>. Additional descriptions
        follow the table. For options common to most MySQL Cluster
        programs (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-show-tables" title="17.4.23. ndb_show_tables — Display List of NDB Tables"><span class="command"><strong>ndb_show_tables</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_show_tables-options-table"></a><p class="title"><b>Table 17.27. <span class="command">ndb_show_tables</span> Options and Variables: MySQL Cluster
NDB 7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_show_tables program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_show_tables_database">--database=string</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_show_tables_database">-d</a>
              </code>
            </p></td><td>Specifies the database in which the table is found</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_show_tables_loops">--loops=#</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_show_tables_loops">-l</a>
              </code>
            </p></td><td>Number of times to repeat output</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_show_tables_type">--type=#</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_show_tables_type">-t</a>
              </code>
            </p></td><td>Limit output to objects of this type</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_show_tables_unqualified">--unqualified</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_show_tables_unqualified">-u</a>
              </code>
            </p></td><td>Do not qualify table names</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_show_tables_parsable">--parsable</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_show_tables_parsable">-p</a>
              </code>
            </p></td><td>Return output suitable for MySQL LOAD DATA INFILE statement</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_show_tables_show-temp-status">--show-temp-status</a>
              </code>
            </p></td><td>Show table temporary flag</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<h4><a name="idp120808144"></a>
        Usage
</h4>
<pre class="programlisting">ndb_show_tables [-c <em class="replaceable"><code>connect_string</code></em>]
</pre>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_show_tables_database"></a>
            <a class="indexterm" name="idp120810720"></a>

            <a class="indexterm" name="idp120812208"></a>

            <code class="option">--database</code>, <code class="option">-d</code>
          </p><p>
            Specifies the name of the database in which the tables are
            found.
          </p></li><li class="listitem"><p><a name="option_ndb_show_tables_loops"></a>
            <a class="indexterm" name="idp120816048"></a>

            <a class="indexterm" name="idp120817536"></a>

            <code class="option">--loops</code>, <code class="option">-l</code>
          </p><p>
            Specifies the number of times the utility should execute.
            This is 1 when this option is not specified, but if you do
            use the option, you must supply an integer argument for it.
          </p></li><li class="listitem"><p><a name="option_ndb_show_tables_parsable"></a>
            <a class="indexterm" name="idp120821504"></a>

            <a class="indexterm" name="idp120822992"></a>

            <code class="option">--parsable</code>, <code class="option">-p</code>
          </p><p>
            Using this option causes the output to be in a format
            suitable for use with
            <a class="link" href="sql-syntax.html#load-data" title="13.2.6. LOAD DATA INFILE Syntax"><code class="literal">LOAD DATA
            INFILE</code></a>.
          </p></li><li class="listitem"><p><a name="option_ndb_show_tables_show-temp-status"></a>
            <a class="indexterm" name="idp120827712"></a>

            <a class="indexterm" name="idp120829200"></a>

            <code class="option">--show-temp-status</code>
          </p><p>
            If specified, this causes temporary tables to be displayed.
          </p></li><li class="listitem"><p><a name="option_ndb_show_tables_type"></a>
            <a class="indexterm" name="idp120832640"></a>

            <a class="indexterm" name="idp120834128"></a>

            <code class="option">--type</code>, <code class="option">-t</code>
          </p><p>
            Can be used to restrict the output to one type of object,
            specified by an integer type code as shown here:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">1</code>: System table
              </p></li><li class="listitem"><p>
                <code class="literal">2</code>: User-created table
              </p></li><li class="listitem"><p>
                <code class="literal">3</code>: Unique hash index
</p></li></ul>
</div>
<p>
            Any other value causes all <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
            database objects to be listed (the default).
          </p></li><li class="listitem"><p><a name="option_ndb_show_tables_unqualified"></a>
            <a class="indexterm" name="idp120844128"></a>

            <a class="indexterm" name="idp120845616"></a>

            <code class="option">--unqualified</code>, <code class="option">-u</code>
          </p><p>
            If specified, this causes unqualified object names to be
            displayed.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p xmlns="">
          Only user-created MySQL Cluster tables may be accessed from
          MySQL; system tables such as <code class="literal">SYSTAB_0</code> are
          not visible to <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. However, you can
          examine the contents of system tables using
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> API applications such as
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all" title="17.4.20. ndb_select_all — Print Rows from an NDB Table"><span class="command"><strong>ndb_select_all</strong></span></a> (see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all" title="17.4.20. ndb_select_all — Print Rows from an NDB Table">Section 17.4.20, “<span class="command"><strong>ndb_select_all</strong></span> — Print Rows from an NDB Table”</a>).
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-size-pl"></a>17.4.24. <span class="command"><strong>ndb_size.pl</strong></span> — NDBCLUSTER Size Requirement Estimator</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp120855184"></a><p>
        This is a Perl script that can be used to estimate the amount of
        space that would be required by a MySQL database if it were
        converted to use the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>
        storage engine. Unlike the other utilities discussed in this
        section, it does not require access to a MySQL Cluster (in fact,
        there is no reason for it to do so). However, it does need to
        access the MySQL server on which the database to be tested
        resides.
</p>
<h4><a name="idp120857968"></a>
        Requirements
</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            A running MySQL server. The server instance does not have to
            provide support for MySQL Cluster.
          </p></li><li class="listitem"><p>
            A working installation of Perl.
          </p></li><li class="listitem"><p>
            The <code class="literal">DBI</code> module, which can be obtained
            from CPAN if it is not already part of your Perl
            installation. (Many Linux and other operating system
            distributions provide their own packages for this library.)
          </p></li><li class="listitem"><p>
            A MySQL user account having the necessary privileges. If you
            do not wish to use an existing account, then creating one
            using <code class="literal">GRANT USAGE ON
            <em class="replaceable"><code>db_name</code></em>.*</code>—where
            <em class="replaceable"><code>db_name</code></em> is the name of the
            database to be examined—is sufficient for this
            purpose.
</p></li></ul>
</div>
<p>
        <code class="filename">ndb_size.pl</code> can also be found in the MySQL
        sources in <code class="filename">storage/ndb/tools</code>.
      </p><p>
        The following table includes options that are specific to the
        MySQL Cluster program <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-size-pl" title="17.4.24. ndb_size.pl — NDBCLUSTER Size Requirement Estimator"><span class="command"><strong>ndb_size.pl</strong></span></a>. Additional
        descriptions follow the table. For options common to most MySQL
        Cluster programs (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-size-pl" title="17.4.24. ndb_size.pl — NDBCLUSTER Size Requirement Estimator"><span class="command"><strong>ndb_size.pl</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_size_pl-options-table"></a><p class="title"><b>Table 17.28. <span class="command">ndb_size.pl</span> Options and Variables: MySQL Cluster NDB
7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_size.pl program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--database=dbname</a>
              </code>
            </p></td><td>The database or databases to examine; accepts a comma-delimited list;
            the default is ALL (use all databases found on the server)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--hostname[:port]</a>
              </code>
            </p></td><td>Specify host and optional port as host[:port]</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--socket=file</a>
              </code>
            </p></td><td>Specify a socket to connect to</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--user=string</a>
              </code>
            </p></td><td>Specify a MySQL user name</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--password=string</a>
              </code>
            </p></td><td>Specify a MySQL user password</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_size_pl_format">--format=string</a>
              </code>
            </p></td><td>Set output format (text or HTML)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--excludetables=tbl_list</a>
              </code>
            </p></td><td>Skip any tables in a comma-separated list of tables</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--excludedbs=db_list</a>
              </code>
            </p></td><td>Skip any databases in a comma-separated list of databases</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_size_pl_debugging">--savequeries=file</a>
              </code>
            </p></td><td>Saves all queries to the database into the file specified</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_size_pl_debugging">--loadqueries=file</a>
              </code>
            </p></td><td>Loads all queries from the file specified; does not connect to a
            database</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_size_pl_options">--real_table_name=table</a>
              </code>
            </p></td><td>Designates a table to handle unique index size calculations</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<h4><a name="idp120921568"></a>
        Usage
</h4>
<pre class="programlisting">perl ndb_size.pl [--database={<em class="replaceable"><code>db_name</code></em>|ALL}] [--hostname=<em class="replaceable"><code>host</code></em>[:<em class="replaceable"><code>port</code></em>]] [--socket=<em class="replaceable"><code>socket</code></em>] \
      [--user=<em class="replaceable"><code>user</code></em>] [--password=<em class="replaceable"><code>password</code></em>]  \ 
      [--help|-h] [--format={html|text}] \ 
      [--loadqueries=<em class="replaceable"><code>file_name</code></em>] [--savequeries=<em class="replaceable"><code>file_name</code></em>]
</pre><p><a name="option_ndb_size_pl_options"></a>
        By default, this utility attempts to analyze all databases on
        the server. You can specify a single database using the
        <code class="option">--database</code> option; the default behavior can be
        made explicit by using <code class="literal">ALL</code> for the name of
        the database. You can also exclude one or more databases by
        using the <code class="option">--excludedbs</code> option with a
        comma-separated list of the names of the databases to be
        skipped. Similarly, you can cause specific tables to be skipped
        by listing their names, separated by commas, following the
        optional <code class="option">--excludetables</code> option. A host name
        can be specified using <code class="option">--hostname</code>; the default
        is <code class="literal">localhost</code>. You can specify a port in
        addition to the host using
        <em class="replaceable"><code>host</code></em>:<em class="replaceable"><code>port</code></em>
        format for the value of <code class="option">--hostname</code>. The default
        port number is 3306. If necessary, you can also specify a
        socket; the default is <code class="filename">/var/lib/mysql.sock</code>.
        A MySQL user name and password can be specified the
        corresponding options shown. It also possible to control the
        format of the output using the <code class="option">--format</code> option;
        this can take either of the values <code class="literal">html</code> or
        <code class="literal">text</code>, with <code class="literal">text</code> being the
        default. An example of the text output is shown here:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_size.pl --database=test --socket=/tmp/mysql.sock</code></strong>
ndb_size.pl report for database: 'test' (1 tables)
--------------------------------------------------
Connected to: DBI:mysql:host=localhost;mysql_socket=/tmp/mysql.sock

Including information for versions: 4.1, 5.0, 5.1

test.t1
-------

DataMemory for Columns (* means varsized DataMemory):
         Column Name            Type  Varsized   Key  4.1  5.0   5.1
     HIDDEN_NDB_PKEY          bigint             PRI    8    8     8
                  c2     varchar(50)         Y         52   52    4*
                  c1         int(11)                    4    4     4
                                                       --   --    --
Fixed Size Columns DM/Row                              64   64    12
   Varsize Columns DM/Row                               0    0     4

DataMemory for Indexes:
   Index Name                 Type        4.1        5.0        5.1
      PRIMARY                BTREE         16         16         16
                                           --         --         --
       Total Index DM/Row                  16         16         16

IndexMemory for Indexes:
               Index Name        4.1        5.0        5.1
                  PRIMARY         33         16         16
                                  --         --         --
           Indexes IM/Row         33         16         16

Summary (for THIS table):
                                 4.1        5.0        5.1
    Fixed Overhead DM/Row         12         12         16
           NULL Bytes/Row          4          4          4
           DataMemory/Row         96         96         48  
                    (Includes overhead, bitmap and indexes)

  Varsize Overhead DM/Row          0          0          8
   Varsize NULL Bytes/Row          0          0          4
       Avg Varside DM/Row          0          0         16

                 No. Rows          0          0          0

        Rows/32kb DM Page        340        340        680
Fixedsize DataMemory (KB)          0          0          0

Rows/32kb Varsize DM Page          0          0       2040
  Varsize DataMemory (KB)          0          0          0

         Rows/8kb IM Page        248        512        512
         IndexMemory (KB)          0          0          0

Parameter Minimum Requirements
------------------------------
* indicates greater than default

                Parameter     Default        4.1         5.0         5.1
          DataMemory (KB)       81920          0           0           0
       NoOfOrderedIndexes         128          1           1           1
               NoOfTables         128          1           1           1
         IndexMemory (KB)       18432          0           0           0
    NoOfUniqueHashIndexes          64          0           0           0
           NoOfAttributes        1000          3           3           3
             NoOfTriggers         768          5           5           5
</pre><p><a name="option_ndb_size_pl_debugging"></a>
        For debugging purposes, the Perl arrays containing the queries
        run by this script can be read from the file specified using can
        be saved to a file using <code class="option">--savequeries</code>; a file
        containing such arrays to be read in during script execution can
        be specified using <code class="option">--loadqueries</code>. Neither of
        these options has a default value.
      </p><p><a name="option_ndb_size_pl_format"></a>
        To produce output in HTML format, use the
        <code class="option">--format</code> option and redirect the output to a
        file, as shown here:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_size.pl --database=test --socket=/tmp/mysql.sock --format=html &gt; ndb_size.html</code></strong>
</pre><p>
        (Without the redirection, the output is sent to
        <code class="literal">stdout</code>.)
      </p><p>
        The output from this script includes the following information:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Minimum values for the
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a>,
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a>,
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftables"><code class="literal">MaxNoOfTables</code></a>,
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofattributes"><code class="literal">MaxNoOfAttributes</code></a>,
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooforderedindexes"><code class="literal">MaxNoOfOrderedIndexes</code></a>,
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnoofuniquehashindexes"><code class="literal">MaxNoOfUniqueHashIndexes</code></a>,
            and <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxnooftriggers"><code class="literal">MaxNoOfTriggers</code></a>
            configuration parameters required to accommodate the tables
            analyzed.
          </p></li><li class="listitem"><p>
            Memory requirements for all of the tables, attributes,
            ordered indexes, and unique hash indexes defined in the
            database.
          </p></li><li class="listitem"><p>
            The <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a> and
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> required
            per table and table row.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-programs-ndb-waiter"></a>17.4.25. <span class="command"><strong>ndb_waiter</strong></span> — Wait for MySQL Cluster to Reach a Given Status</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp120963328"></a><p>
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-waiter" title="17.4.25. ndb_waiter — Wait for MySQL Cluster to Reach a Given Status"><span class="command"><strong>ndb_waiter</strong></span></a> repeatedly (each 100 milliseconds)
        prints out the status of all cluster data nodes until either the
        cluster reaches a given status or the
        <a class="link" href="mysql-cluster.html#option_ndb_waiter_timeout"><code class="option">--timeout</code></a> limit is exceeded,
        then exits. By default, it waits for the cluster to achieve
        <code class="literal">STARTED</code> status, in which all nodes have
        started and connected to the cluster. This can be overridden
        using the <a class="link" href="mysql-cluster.html#option_ndb_waiter_no-contact"><code class="option">--no-contact</code></a> and
        <a class="link" href="mysql-cluster.html#option_ndb_waiter_not-started"><code class="option">--not-started</code></a> options.
      </p><p>
        The node states reported by this utility are as follows:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">NO_CONTACT</code>: The node cannot be contacted.
          </p></li><li class="listitem"><p>
            <code class="literal">UNKNOWN</code>: The node can be contacted, but
            its status is not yet known. Usually, this means that the
            node has received a <code class="literal">START</code> or
            <code class="literal">RESTART</code> command from the management
            server, but has not yet acted on it.
          </p></li><li class="listitem"><p>
            <code class="literal">NOT_STARTED</code>: The node has stopped, but
            remains in contact with the cluster. This is seen when
            restarting the node using the management client's
            <code class="literal">RESTART</code> command.
          </p></li><li class="listitem"><p>
            <code class="literal">STARTING</code>: The node's
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process has started, but the node
            has not yet joined the cluster.
          </p></li><li class="listitem"><p>
            <code class="literal">STARTED</code>: The node is operational, and has
            joined the cluster.
          </p></li><li class="listitem"><p>
            <code class="literal">SHUTTING_DOWN</code>: The node is shutting down.
          </p></li><li class="listitem"><p>
            <code class="literal">SINGLE USER MODE</code>: This is shown for all
            cluster data nodes when the cluster is in single user mode.
</p></li></ul>
</div>
<p>
        The following table includes options that are specific to the
        MySQL Cluster native backup restoration program
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-waiter" title="17.4.25. ndb_waiter — Wait for MySQL Cluster to Reach a Given Status"><span class="command"><strong>ndb_waiter</strong></span></a>. Additional descriptions follow
        the table. For options common to most MySQL Cluster programs
        (including <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-waiter" title="17.4.25. ndb_waiter — Wait for MySQL Cluster to Reach a Given Status"><span class="command"><strong>ndb_waiter</strong></span></a>), see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-common" title="17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs">Section 17.4.26, “Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs”</a>.
</p>
<div class="table">
<a name="mysql-cluster-ndb_waiter-options-table"></a><p class="title"><b>Table 17.29. <span class="command">ndb_waiter</span> Options and Variables: MySQL Cluster NDB
7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options for the
      ndb_waiter program" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_waiter_no-contact">--no-contact</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_waiter_no-contact">-n</a>
              </code>
            </p></td><td>Wait for cluster to reach NO CONTACT state</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_waiter_not-started">--not-started</a>
              </code>
            </p></td><td>Wait for cluster to reach NOT STARTED state</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_waiter_single-user">--single-user</a>
              </code>
            </p></td><td>Wait for cluster to enter single user mode</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_waiter_timeout">--timeout=#</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_waiter_timeout">-t</a>
              </code>
            </p></td><td>Wait this many seconds, then exit whether or not cluster has reached
            desired state; default is 2 minutes (120 seconds)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_waiter_nowait-nodes">--nowait-nodes=list</a>
              </code>
            </p></td><td>List of nodes not to be waited for.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_waiter_wait-nodes">--wait-nodes=list</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_waiter_wait-nodes">-w</a>
              </code>
            </p></td><td>List of nodes to be waited for.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break">
<h4><a name="idp121024192"></a>
        Usage
</h4>
<pre class="programlisting">ndb_waiter [-c <em class="replaceable"><code>connect_string</code></em>]
</pre>
<h4><a name="mysql-cluster-programs-ndb-waiter-additional-options"></a>
        Additional Options
</h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_waiter_no-contact"></a>
            <a class="indexterm" name="idp121027504"></a>

            <a class="indexterm" name="idp121028992"></a>

            <code class="option">--no-contact</code>, <code class="option">-n</code>
          </p><p>
            Instead of waiting for the <code class="literal">STARTED</code> state,
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-waiter" title="17.4.25. ndb_waiter — Wait for MySQL Cluster to Reach a Given Status"><span class="command"><strong>ndb_waiter</strong></span></a> continues running until the
            cluster reaches <code class="literal">NO_CONTACT</code> status before
            exiting.
          </p></li><li class="listitem"><p><a name="option_ndb_waiter_not-started"></a>
            <a class="indexterm" name="idp121035168"></a>

            <a class="indexterm" name="idp121036656"></a>

            <code class="option">--not-started</code>
          </p><p>
            Instead of waiting for the <code class="literal">STARTED</code> state,
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-waiter" title="17.4.25. ndb_waiter — Wait for MySQL Cluster to Reach a Given Status"><span class="command"><strong>ndb_waiter</strong></span></a> continues running until the
            cluster reaches <code class="literal">NOT_STARTED</code> status before
            exiting.
          </p></li><li class="listitem"><p><a name="option_ndb_waiter_timeout"></a>
            <a class="indexterm" name="idp121042448"></a>

            <a class="indexterm" name="idp121043936"></a>

            <code class="option">--timeout=<em class="replaceable"><code>seconds</code></em></code>,
            <code class="option">-t <em class="replaceable"><code>seconds</code></em></code>
          </p><p>
            Time to wait. The program exits if the desired state is not
            achieved within this number of seconds. The default is 120
            seconds (1200 reporting cycles).
          </p></li><li class="listitem"><p><a name="option_ndb_waiter_single-user"></a>
            <a class="indexterm" name="idp121048480"></a>

            <a class="indexterm" name="idp121049968"></a>

            <code class="option">--single-user</code>
          </p><p>
            The program waits for the cluster to enter single user mode.
          </p></li><li class="listitem"><p><a name="option_ndb_waiter_nowait-nodes"></a>
            <a class="indexterm" name="idp121053408"></a>

            <a class="indexterm" name="idp121054896"></a>

            <code class="option">--nowait-nodes=<em class="replaceable"><code>list</code></em></code>
          </p><p>
            When this option is used, ndb_waiter does not wait for the
            nodes whose IDs are listed. The list is comma-delimited;
            ranges can be indicated by dashes, as shown here:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_waiter --nowait-nodes=1,3,7-9</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              Do <span class="emphasis"><em>not</em></span> use this option together with
              the <a class="link" href="mysql-cluster.html#option_ndb_waiter_wait-nodes"><code class="option">--wait-nodes</code></a>
              option.
</p>
</div>
</li><li class="listitem"><p><a name="option_ndb_waiter_wait-nodes"></a>
            <a class="indexterm" name="idp121062272"></a>

            <a class="indexterm" name="idp121063760"></a>

            <code class="option">--wait-nodes=<em class="replaceable"><code>list</code></em></code>,
            <code class="option">-w <em class="replaceable"><code>list</code></em></code>
          </p><p>
            When this option is used, <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-waiter" title="17.4.25. ndb_waiter — Wait for MySQL Cluster to Reach a Given Status"><span class="command"><strong>ndb_waiter</strong></span></a>
            waits only for the nodes whose IDs are listed. The list is
            comma-delimited; ranges can be indicated by dashes, as shown
            here:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_waiter --wait-nodes=2,4-6,10</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              Do <span class="emphasis"><em>not</em></span> use this option together with
              the <a class="link" href="mysql-cluster.html#option_ndb_waiter_nowait-nodes"><code class="option">--nowait-nodes</code></a>
              option.
</p>
</div>
</li></ul>
</div>
<p><b>Sample Output. </b>
          Shown here is the output from <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-waiter" title="17.4.25. ndb_waiter — Wait for MySQL Cluster to Reach a Given Status"><span class="command"><strong>ndb_waiter</strong></span></a>
          when run against a 4-node cluster in which two nodes have been
          shut down and then started again manually. Duplicate reports
          (indicated by <span class="quote">“<span class="quote"><code class="literal">...</code></span>”</span>) are
          omitted.
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>./ndb_waiter -c localhost</code></strong>

Connecting to mgmsrv at (localhost)
State node 1 STARTED
State node 2 NO_CONTACT
State node 3 STARTED
State node 4 NO_CONTACT
Waiting for cluster enter state STARTED

...

State node 1 STARTED
State node 2 UNKNOWN
State node 3 STARTED
State node 4 NO_CONTACT
Waiting for cluster enter state STARTED

...

State node 1 STARTED
State node 2 STARTING
State node 3 STARTED
State node 4 NO_CONTACT
Waiting for cluster enter state STARTED

...

State node 1 STARTED
State node 2 STARTING
State node 3 STARTED
State node 4 UNKNOWN
Waiting for cluster enter state STARTED

...

State node 1 STARTED
State node 2 STARTING
State node 3 STARTED
State node 4 STARTING
Waiting for cluster enter state STARTED

...

State node 1 STARTED
State node 2 STARTED
State node 3 STARTED
State node 4 STARTING
Waiting for cluster enter state STARTED

...

State node 1 STARTED
State node 2 STARTED
State node 3 STARTED
State node 4 STARTED
Waiting for cluster enter state STARTED

NDBT_ProgramExit: 0 - OK
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          If no connection string is specified, then
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-waiter" title="17.4.25. ndb_waiter — Wait for MySQL Cluster to Reach a Given Status"><span class="command"><strong>ndb_waiter</strong></span></a> tries to connect to a management
          on <code class="literal">localhost</code>, and reports
          <code class="literal">Connecting to mgmsrv at (null)</code>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-program-options-common"></a>17.4.26. Options Common to MySQL Cluster Programs — Options Common to MySQL Cluster Programs</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp121081856"></a><a class="indexterm" name="idp121083216"></a><a class="indexterm" name="idp121084176"></a><a class="indexterm" name="idp121085136"></a><a class="indexterm" name="idp121086496"></a><a class="indexterm" name="idp121087824"></a><p>
        All MySQL Cluster programs accept the options described in this
        section, with the following exceptions:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
          </p></li><li class="listitem"><p>
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-backup-file" title="17.4.15. ndb_print_backup_file — Print NDB Backup File Contents"><span class="command"><strong>ndb_print_backup_file</strong></span></a>
          </p></li><li class="listitem"><p>
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-schema-file" title="17.4.16. ndb_print_schema_file — Print NDB Schema File Contents"><span class="command"><strong>ndb_print_schema_file</strong></span></a>
          </p></li><li class="listitem"><p>
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-sys-file" title="17.4.17. ndb_print_sys_file — Print NDB System File Contents"><span class="command"><strong>ndb_print_sys_file</strong></span></a>
</p></li></ul>
</div>
<p>
        Users of earlier MySQL Cluster versions should note that some of
        these options have been changed to make them consistent with one
        another as well as with <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. You can use
        the <code class="option">--help</code> option with any MySQL Cluster
        program—with the exception of
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-backup-file" title="17.4.15. ndb_print_backup_file — Print NDB Backup File Contents"><span class="command"><strong>ndb_print_backup_file</strong></span></a>,
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-schema-file" title="17.4.16. ndb_print_schema_file — Print NDB Schema File Contents"><span class="command"><strong>ndb_print_schema_file</strong></span></a>, and
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-print-sys-file" title="17.4.17. ndb_print_sys_file — Print NDB System File Contents"><span class="command"><strong>ndb_print_sys_file</strong></span></a>—to view a list of
        the options which the program supports.
      </p><p>
        The options in the following table are common to all MySQL
        Cluster executables (except those noted previously in this
        section).
</p>
<div class="table">
<a name="mysql-cluster-ndb_common-options-table"></a><p class="title"><b>Table 17.30. Common MySQL Cluster Program Options and Variables: MySQL Cluster NDB
7.3</b></p>
<div class="table-contents">
<table summary="This table describes command-line options common to all
      MySQL Cluster programs" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><thead><tr><th scope="col" valign="middle">Format</th><th scope="col" valign="middle">Description</th><th scope="col" valign="middle">Added / Removed</th></tr></thead><tbody><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_common_help">--help</a></code>,
            </p>



            <p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_common_help">--usage</a></code>,
            </p>



            <p>
              <code class="literal"> <a class="link" href="mysql-cluster.html#option_ndb_common_help">-?</a>
              </code>
            </p></td><td>Display help message and exit</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_common_ndb-connectstring">--ndb-connectstring=connectstring</a></code>,
            </p>



            <p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_common_ndb-connectstring">--connect-string=connectstring</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_common_ndb-connectstring">-c</a>
              </code>
            </p></td><td>Set connectstring for connecting to ndb_mgmd. Syntax:
            [nodeid=&lt;id&gt;;][host=]&lt;hostname&gt;[:&lt;port&gt;].
            Overrides entries specified in NDB_CONNECTSTRING or my.cnf.</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_common_ndb-mgmd-host">--ndb-mgmd-host=host[:port]</a>
              </code>
            </p></td><td>Set the host (and port, if desired) for connecting to the management
            server</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_common_ndb-nodeid">--ndb-nodeid=#</a>
              </code>
            </p></td><td>Set node id for this node</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_common_ndb-optimized-node-selection">--ndb-optimized-node-selection</a>
              </code>
            </p></td><td>Select nodes for transactions in a more optimal way</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_common_character-sets-dir">--character-sets-dir=path</a>
              </code>
            </p></td><td>Directory where character sets are</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_common_debug">--debug=options</a>
              </code>
            </p></td><td>Enable output from debug calls. Can be used only for versions compiled
            with debugging enabled</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_common_core-file">--core-file</a>
              </code>
            </p></td><td>Write core on errors (defaults to TRUE in debug builds)</td><td valign="middle"><p>
              All MySQL 5.6 based releases
            </p></td></tr><tr><td scope="row" valign="middle"><p>
              <code class="literal"><a class="link" href="mysql-cluster.html#option_ndb_common_version">--version</a></code>,
            </p>



            <p>
              <code class="literal">
              <a class="link" href="mysql-cluster.html#option_ndb_common_version">-V</a>
              </code>
            </p></td><td>Output version information and exit</td><td valign="middle"><p>
              All MySQL 5.6 based releases
</p></td></tr></tbody></table>
</div>

</div>
<br class="table-break"><p>
        For options specific to individual MySQL Cluster programs, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-programs" title="17.4. MySQL Cluster Programs">Section 17.4, “MySQL Cluster Programs”</a>.
      </p><p>
        See <a class="xref" href="mysql-cluster.html#mysql-cluster-program-options-mysqld" title="17.3.4.2. MySQL Server Options for MySQL Cluster">Section 17.3.4.2, “MySQL Server Options for MySQL Cluster”</a>, for
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> options relating to MySQL Cluster.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_ndb_common_help"></a>
            <a class="indexterm" name="idp121156496"></a>

            <a class="indexterm" name="idp121157584"></a>

            <a class="indexterm" name="idp121158672"></a>

            <code class="option">--help</code>, <code class="option">--usage</code>,
            <code class="option">-?</code>
</p>
<div class="informaltable">
<table summary="Options for help" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--help</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">--usage</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-?</code></td></tr></tbody></table>
</div>
<p>
            Prints a short list with descriptions of the available
            command options.
          </p></li><li class="listitem"><p><a name="option_ndb_common_character-sets-dir"></a>
            <a class="indexterm" name="idp121171904"></a>

            <a class="indexterm" name="idp121173008"></a>

            <code class="option">--character-sets-dir=<em class="replaceable"><code>name</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for character-sets-dir" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--character-sets-dir=path</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">file name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>
<p>
            Tells the program where to find character set information.
          </p></li><li class="listitem"><p><a name="option_ndb_common_ndb-connectstring"></a>
            <a class="indexterm" name="idp121188624"></a>

            <a class="indexterm" name="idp121189728"></a>

            <a class="indexterm" name="idp121190832"></a>

            <code class="option">--ndb-connectstring=<em class="replaceable"><code>connect_string</code></em></code>,
            <code class="option">--connect-string=<em class="replaceable"><code>connect_string</code></em></code>,
            <code class="option">-c
            <em class="replaceable"><code>connect_string</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for ndb-connectstring" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-connectstring=connectstring</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">--connect-string=connectstring</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-c</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">localhost:1186</code></td></tr></tbody></table>
</div>
<p>
            This option takes a MySQL Cluster connection string that
            specifies the management server for the application to
            connect to, as shown here:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndbd --ndb-connectstring="nodeid=2;host=ndb_mgmd.mysql.com:1186"</code></strong>
</pre><p>
            For more information, see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="17.3.2.3. MySQL Cluster Connection Strings">Section 17.3.2.3, “MySQL Cluster Connection Strings”</a>.
          </p></li><li class="listitem"><p><a name="option_ndb_common_core-file"></a>
            <a class="indexterm" name="idp121213968"></a>

            <code class="option">--core-file</code>
</p>
<div class="informaltable">
<table summary="Options for core-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--core-file</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">FALSE</code></td></tr></tbody></table>
</div>
<p>
            Write a core file if the program dies. The name and location
            of the core file are system-dependent. (For MySQL Cluster
            programs nodes running on Linux, the default location is the
            program's working directory—for a data node, this
            is the node's
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a>.) For some
            systems, there may be restrictions or limitations; for
            example, it might be necessary to execute <span class="command"><strong>ulimit -c
            unlimited</strong></span> before starting the server. Consult your
            system documentation for detailed information.
          </p><p>
            If MySQL Cluster was built using the
            <code class="option">--debug</code> option for
            <span class="command"><strong>configure</strong></span>, then
            <code class="option">--core-file</code> is enabled by default. For
            regular builds, <code class="option">--core-file</code> is disabled by
            default.
          </p></li><li class="listitem"><p><a name="option_ndb_common_debug"></a>
            <a class="indexterm" name="idp121234384"></a>

            <code class="option">--debug[=<em class="replaceable"><code>options</code></em>]</code>
</p>
<div class="informaltable">
<table summary="Options for debug" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--debug=options</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">d:t:O,/tmp/ndb_restore.trace</code></td></tr></tbody></table>
</div>
<p>
            This option can be used only for versions compiled with
            debugging enabled. It is used to enable output from debug
            calls in the same manner as for the
            <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process.
          </p></li><li class="listitem"><p><a name="option_ndb_common_ndb-mgmd-host"></a>
            <a class="indexterm" name="idp121251216"></a>

            <code class="option">--ndb-mgmd-host=<em class="replaceable"><code>host</code></em>[:<em class="replaceable"><code>port</code></em>]</code>
</p>
<div class="informaltable">
<table summary="Options for ndb-mgmd-host" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-mgmd-host=host[:port]</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-mgmd-host</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">localhost:1186</code></td></tr></tbody></table>
</div>
<p>
            Can be used to set the host and port number of a single
            management server for the program to connect to. If the
            program requires node IDs or references to multiple
            management servers (or both) in its connection information,
            use the
            <a class="link" href="mysql-cluster.html#option_ndb_common_ndb-connectstring"><code class="option">--ndb-connectstring</code></a>
            option instead.
          </p></li><li class="listitem"><p><a name="option_ndb_common_ndb-nodeid"></a>
            <a class="indexterm" name="idp121270880"></a>

            <code class="option">--ndb-nodeid=<em class="replaceable"><code>#</code></em></code>
</p>
<div class="informaltable">
<table summary="Options for ndb-nodeid" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-nodeid=#</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr></tbody></table>
</div>
<p>
            Sets this node's MySQL Cluster node ID. <span class="emphasis"><em>The
            range of permitted values depends on the node's type
            (data, management, or API) and the MySQL Cluster software
            version</em></span>. See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-limitations-limits" title="17.1.6.2. Limits and Differences of MySQL Cluster from Standard MySQL Limits">Section 17.1.6.2, “Limits and Differences of MySQL Cluster from Standard MySQL Limits”</a>, for more
            information.
          </p></li><li class="listitem"><p><a name="option_ndb_common_ndb-optimized-node-selection"></a>
            <a class="indexterm" name="idp121287744"></a>

            <code class="option">--ndb-optimized-node-selection</code>
</p>
<div class="informaltable">
<table summary="Options for ndb-optimized-node-selection" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-optimized-node-selection</code></td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table>
</div>
<p>
            Optimize selection of nodes for transactions. Enabled by
            default.
          </p></li><li class="listitem"><p><a name="option_ndb_common_version"></a>
            <a class="indexterm" name="idp121303280"></a>

            <a class="indexterm" name="idp121304368"></a>

            <code class="option">--version</code>, <code class="option">-V</code>
</p>
<div class="informaltable">
<table summary="Options for version" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--version</code></td></tr><tr><td scope="row"> </td><td colspan="3"><code class="literal">-V</code></td></tr></tbody></table>
</div>
<p>
            Prints the MySQL Cluster version number of the executable.
            The version number is relevant because not all versions can
            be used together, and the MySQL Cluster startup process
            verifies that the versions of the binaries being used can
            co-exist in the same cluster. This is also important when
            performing an online (rolling) software upgrade or downgrade
            of MySQL Cluster.
          </p><p>
            See <a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart" title="17.5.5. Performing a Rolling Restart of a MySQL Cluster">Section 17.5.5, “Performing a Rolling Restart of a MySQL Cluster”</a>), for
            more information.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="mysql-cluster-management"></a>17.5. Management of MySQL Cluster</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-start-phases">17.5.1. Summary of MySQL Cluster Start Phases</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-mgm-client-commands">17.5.2. Commands in the MySQL Cluster Management Client</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-backup">17.5.3. Online Backup of MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-mysqld">17.5.4. MySQL Server Usage for MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-rolling-restart">17.5.5. Performing a Rolling Restart of a MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-event-reports">17.5.6. Event Reports Generated in MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-logs-ndb-messages">17.5.7. MySQL Cluster Log Messages</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-single-user-mode">17.5.8. MySQL Cluster Single User Mode</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-sql-statements">17.5.9. Quick Reference: MySQL Cluster SQL Statements</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo">17.5.10. The <code class="literal">ndbinfo</code> MySQL Cluster Information Database</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-security">17.5.11. MySQL Cluster Security Issues</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-disk-data">17.5.12. MySQL Cluster Disk Data Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-online-add-node">17.5.13. Adding MySQL Cluster Data Nodes Online</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-privilege-distribution">17.5.14. Distributed MySQL Privileges for MySQL Cluster</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndb-api-statistics">17.5.15. NDB API Statistics Counters and Variables</a></span></dt></dl>
</div>
<a class="indexterm" name="idp121317872"></a><a class="indexterm" name="idp121319360"></a><p>
    Managing a MySQL Cluster involves a number of tasks, the first of
    which is to configure and start MySQL Cluster. This is covered in
    <a class="xref" href="mysql-cluster.html#mysql-cluster-configuration" title="17.3. Configuration of MySQL Cluster NDB 7.3">Section 17.3, “Configuration of MySQL Cluster NDB 7.3”</a>, and
    <a class="xref" href="mysql-cluster.html#mysql-cluster-programs" title="17.4. MySQL Cluster Programs">Section 17.4, “MySQL Cluster Programs”</a>.
  </p><p>
    The next few sections cover the management of a running MySQL
    Cluster.
  </p><p>
    For information about security issues relating to management and
    deployment of a MySQL Cluster, see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-security" title="17.5.11. MySQL Cluster Security Issues">Section 17.5.11, “MySQL Cluster Security Issues”</a>.
  </p><p>
    There are essentially two methods of actively managing a running
    MySQL Cluster. The first of these is through the use of commands
    entered into the management client whereby cluster status can be
    checked, log levels changed, backups started and stopped, and nodes
    stopped and started. The second method involves studying the
    contents of the cluster log
    <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_cluster.log</code>;
    this is usually found in the management server's
    <a class="link" href="mysql-cluster.html#ndbparam-mgmd-datadir"><code class="literal">DataDir</code></a> directory, but this
    location can be overridden using the
    <a class="link" href="mysql-cluster.html#ndbparam-mgmd-logdestination"><code class="literal">LogDestination</code></a> option.
    (Recall that <em class="replaceable"><code>node_id</code></em> represents the
    unique identifier of the node whose activity is being logged.) The
    cluster log contains event reports generated by
    <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>. It is also possible to send cluster log
    entries to a Unix system log.
  </p><p>
    Some aspects of the cluster's operation can be also be monitored
    from an SQL node using the
    <a class="link" href="sql-syntax.html#show-engine" title="13.7.5.16. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE NDB
    STATUS</code></a> statement.
  </p><p>
    More detailed information about MySQL Cluster operations is
    available in real time through an SQL interface using the
    <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo" title="17.5.10. The ndbinfo MySQL Cluster Information Database"><code class="literal">ndbinfo</code></a> database. For more
    information, see <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo" title="17.5.10. The ndbinfo MySQL Cluster Information Database">Section 17.5.10, “The <code class="literal">ndbinfo</code> MySQL Cluster Information Database”</a>.
  </p><p>
    NDB statistics counters provide improved monitoring using the
    <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client. These counters, implemented in the
    NDB kernel, relate to operations performed by or affecting
    <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb.html" target="_top"><code class="literal">Ndb</code></a> objects, such as starting,
    closing, and aborting transactions; primary key and unique key
    operations; table, range, and pruned scans; blocked threads waiting
    for various operations to complete; and data and events sent and
    received by MySQL Cluster. The counters are incremented by the NDB
    kernel whenever NDB API calls are made or data is sent to or
    received by the data nodes.
  </p><p>
    <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> exposes the NDB API statistics counters as
    system status variables, which can be identified from the prefix
    common to all of their names (<code class="literal">Ndb_api_</code>). The
    values of these variables can be read in the
    <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client from the output of a
    <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> statement, or by querying
    either the
    <a class="link" href="information-schema.html#status-table" title="20.9. The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables"><code class="literal">SESSION_STATUS</code></a> table
    or the <a class="link" href="information-schema.html#status-table" title="20.9. The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables"><code class="literal">GLOBAL_STATUS</code></a>
    table (in the <code class="literal">INFORMATION_SCHEMA</code> database). By
    comparing the values of the status variables before and after the
    execution of an SQL statement that acts on
    <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables, you can observe the actions
    taken on the NDB API level that correspond to this statement, which
    can be beneficial for monitoring and performance tuning of MySQL
    Cluster.
  </p><p>
    MySQL Enterprise Monitor can also be used to monitor MySQL Servers that are part of
    a MySQL Cluster deployment. MySQL Enterprise Monitor 2.3, added a MySQL Cluster
    advisor, including a set of graphs providing information on MySQL
    Cluster resources, and defining rules for alerts on key information
    from data nodes such as
    <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> usage. This
    information is made available to MySQL Enterprise Monitor 2.3 or later by any MySQL
    Server which is connected to the MySQL Cluster, using
    <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo" title="17.5.10. The ndbinfo MySQL Cluster Information Database"><code class="literal">ndbinfo</code></a>. The advisor could be run
    against a single MySQL Server in the Cluster, or against a pair in
    order to provide a higher level of availability for the monitoring
    service. For more information, see the
    <a class="ulink" href="http://dev.mysql.com/doc/mysql-monitor/2.3/en/index.html" target="_top"><em class="citetitle">MySQL Enterprise Monitor
    2.3 Manual</em></a>.
  </p><p>
    MySQL Cluster Manager provides an advanced command-line interface that simplifies
    many otherwise complex MySQL Cluster management tasks, such as
    starting, stopping, or restarting a MySQL Cluster with a large
    number of nodes. The MySQL Cluster Manager client also supports commands for getting
    and setting the values of most node configuration parameters as well
    as <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> server options and variables relating
    to MySQL Cluster. MySQL Cluster Manager 1.1 provides support for adding data nodes
    online. See the
    <a class="ulink" href="http://dev.mysql.com/doc/mysql-cluster-manager/1.1/en/" target="_top"><em class="citetitle">MySQL Cluster Manager
    1.1 User Manual</em></a>, for more information.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-start-phases"></a>17.5.1. Summary of MySQL Cluster Start Phases</h3>
</div>
</div>
</div>
<a class="indexterm" name="idp121350480"></a><a class="indexterm" name="idp121351968"></a><p>
      This section provides a simplified outline of the steps involved
      when MySQL Cluster data nodes are started. More complete
      information can be found in
      <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-start-phases.html" target="_top">MySQL Cluster Start Phases</a>, in the
      <em class="citetitle"><code class="literal">NDB</code> Internals Guide</em>.
    </p><p>
      These phases are the same as those reported in the output from the
      <code class="literal"><em class="replaceable"><code>node_id</code></em> STATUS</code>
      command in the management client (see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="17.5.2. Commands in the MySQL Cluster Management Client">Section 17.5.2, “Commands in the MySQL Cluster Management Client”</a>). These start
      phases are also reported in the <code class="literal">start_phase</code>
      column of the <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-nodes" title="17.5.10.13. The ndbinfo nodes Table"><code class="literal">ndbinfo.nodes</code></a>
      table.
    </p><p><b>Start types. </b>
        There are several different startup types and modes, as shown in
        the following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Initial start. </b>
            The cluster starts with a clean file system on all data
            nodes. This occurs either when the cluster started for the
            very first time, or when all data nodes are restarted using
            the <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> option.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
            Disk Data files are not removed when restarting a node using
            <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a>.
</p>
</div>
</li><li class="listitem"><p><b>System restart. </b>
            The cluster starts and reads data stored in the data nodes.
            This occurs when the cluster has been shut down after having
            been in use, when it is desired for the cluster to resume
            operations from the point where it left off.
          </p></li><li class="listitem"><p><b>Node restart. </b>
            This is the online restart of a cluster node while the
            cluster itself is running.
          </p></li><li class="listitem"><p><b>Initial node restart. </b>
            This is the same as a node restart, except that the node is
            reinitialized and started with a clean file system.
</p></li></ul>
</div>
<p><b>Setup and initialization (phase -1). </b>
        Prior to startup, each data node (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>
        process) must be initialized. Initialization consists of the
        following steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Obtain a node ID
        </p></li><li class="listitem"><p>
          Fetch configuration data
        </p></li><li class="listitem"><p>
          Allocate ports to be used for inter-node communications
        </p></li><li class="listitem"><p>
          Allocate memory according to settings obtained from the
          configuration file
</p></li></ol>
</div>
<p>
      When a data node or SQL node first connects to the management
      node, it reserves a cluster node ID. To make sure that no other
      node allocates the same node ID, this ID is retained until the
      node has managed to connect to the cluster and at least one
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> reports that this node is connected. This
      retention of the node ID is guarded by the connection between the
      node in question and <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>.
    </p><p>
      After each data node has been initialized, the cluster startup
      process can proceed. The stages which the cluster goes through
      during this process are listed here:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Phase 0. </b>
            The <code class="literal">NDBFS</code> and <code class="literal">NDBCNTR</code>
            blocks start (see
            <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks.html" target="_top"><code class="literal">NDB</code> Kernel Blocks</a>). Data node
            file systems are cleared on those data nodes that were
            started with <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> option.
          </p></li><li class="listitem"><p><b>Phase 1. </b>
            In this stage, all remaining
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> kernel blocks are started.
            MySQL Cluster connections are set up, inter-block
            communications are established, and heartbeats are started.
            In the case of a node restart, API node connections are also
            checked.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
            When one or more nodes hang in Phase 1 while the remaining
            node or nodes hang in Phase 2, this often indicates network
            problems. One possible cause of such issues is one or more
            cluster hosts having multiple network interfaces. Another
            common source of problems causing this condition is the
            blocking of TCP/IP ports needed for communications between
            cluster nodes. In the latter case, this is often due to a
            misconfigured firewall.
</p>
</div>
</li><li class="listitem"><p><b>Phase 2. </b>
            The <code class="literal">NDBCNTR</code> kernel block checks the
            states of all existing nodes. The master node is chosen, and
            the cluster schema file is initialized.
          </p></li><li class="listitem"><p><b>Phase 3. </b>
            The <code class="literal">DBLQH</code> and <code class="literal">DBTC</code>
            kernel blocks set up communications between them. The
            startup type is determined; if this is a restart, the
            <code class="literal">DBDIH</code> block obtains permission to perform
            the restart.
          </p></li><li class="listitem"><p><b>Phase 4. </b>
            For an initial start or initial node restart, the redo log
            files are created. The number of these files is equal to
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-nooffragmentlogfiles"><code class="literal">NoOfFragmentLogFiles</code></a>.
          </p><p>
          For a system restart:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              Read schema or schemas.
            </p></li><li class="listitem"><p>
              Read data from the local checkpoint.
            </p></li><li class="listitem"><p>
              Apply all redo information until the latest restorable
              global checkpoint has been reached.
</p></li></ul>
</div>
<p>
          For a node restart, find the tail of the redo log.
        </p></li><li class="listitem"><p><b>Phase 5. </b>
            Most of the database-related portion of a data node start is
            performed during this phase. For an initial start or system
            restart, a local checkpoint is executed, followed by a
            global checkpoint. Periodic checks of memory usage begin
            during this phase, and any required node takeovers are
            performed.
          </p></li><li class="listitem"><p><b>Phase 6. </b>
            In this phase, node groups are defined and set up.
          </p></li><li class="listitem"><p><b>Phase 7. </b>
            The arbitrator node is selected and begins to function. The
            next backup ID is set, as is the backup disk write speed.
            Nodes reaching this start phase are marked as
            <code class="literal">Started</code>. It is now possible for API nodes
            (including SQL nodes) to connect to the cluster.
          </p></li><li class="listitem"><p><b>Phase 8. </b>
            If this is a system restart, all indexes are rebuilt (by
            <code class="literal">DBDIH</code>).
          </p></li><li class="listitem"><p><b>Phase 9. </b>
            The node internal startup variables are reset.
          </p></li><li class="listitem"><p><b>Phase 100 (<span class="emphasis"><em>OBSOLETE</em></span>). </b>
            Formerly, it was at this point during a node restart or
            initial node restart that API nodes could connect to the
            node and begin to receive events. Currently, this phase is
            empty.
          </p></li><li class="listitem"><p><b>Phase 101. </b>
            At this point in a node restart or initial node restart,
            event delivery is handed over to the node joining the
            cluster. The newly-joined node takes over responsibility for
            delivering its primary data to subscribers. This phase is
            also referred to as <em class="firstterm"><code class="literal">SUMA</code>
            handover phase</em>.
</p></li></ul>
</div>
<p>
      After this process is completed for an initial start or system
      restart, transaction handling is enabled. For a node restart or
      initial node restart, completion of the startup process means that
      the node may now act as a transaction coordinator.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-mgm-client-commands"></a>17.5.2. Commands in the MySQL Cluster Management Client</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp121420128"></a><a class="indexterm" name="idp121421616"></a><a class="indexterm" name="idp121423104"></a><p>
      In addition to the central configuration file, a cluster may also
      be controlled through a command-line interface available through
      the management client <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>. This is the
      primary administrative interface to a running cluster.
    </p><p>
      Commands for the event logs are given in
      <a class="xref" href="mysql-cluster.html#mysql-cluster-event-reports" title="17.5.6. Event Reports Generated in MySQL Cluster">Section 17.5.6, “Event Reports Generated in MySQL Cluster”</a>; commands for
      creating backups and restoring from them are provided in
      <a class="xref" href="mysql-cluster.html#mysql-cluster-backup" title="17.5.3. Online Backup of MySQL Cluster">Section 17.5.3, “Online Backup of MySQL Cluster”</a>.
    </p><p>
      The management client has the following basic commands. In the
      listing that follows, <em class="replaceable"><code>node_id</code></em> denotes
      either a database node ID or the keyword <code class="literal">ALL</code>,
      which indicates that the command should be applied to all of the
      cluster's data nodes.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="indexterm" name="idp121430288"></a>

          <a class="indexterm" name="idp121431776"></a>

          <code class="literal">HELP</code>
        </p><p>
          Displays information on all available commands.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp121435056"></a>

          <a class="indexterm" name="idp121436544"></a>

          <code class="literal">SHOW</code>
        </p><p>
          Displays information on the cluster's status. Possible
          node status values include <code class="literal">UNKNOWN</code>,
          <code class="literal">NO_CONTACT</code>, <code class="literal">NOT_STARTED</code>,
          <code class="literal">STARTING</code>, <code class="literal">STARTED</code>,
          <code class="literal">SHUTTING_DOWN</code>, and
          <code class="literal">RESTARTING</code>. The output from this command
          also indicates when the cluster is in single user mode (status
          <code class="literal">SINGLE USER MODE</code>).
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp121445648"></a>

          <a class="indexterm" name="idp121447136"></a>

          <code class="literal"><em class="replaceable"><code>node_id</code></em> START</code>
        </p><p>
          Brings online the data node identified by
          <em class="replaceable"><code>node_id</code></em> (or all data nodes).
        </p><p>
          <code class="literal">ALL START</code> works on all data nodes only, and
          does not affect management nodes.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
            To use this command to bring a data node online, the data
            node must have been started using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon">ndbd
            <code class="option">--nostart</code></a> or
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd <code class="option">-n</code></strong></span></a>.
</p>
</div>
</li><li class="listitem"><p>
          <a class="indexterm" name="idp121455632"></a>

          <a class="indexterm" name="idp121457120"></a>

          <code class="literal"><em class="replaceable"><code>node_id</code></em> STOP [-a]
          [-f]</code>
        </p><p>
          Stops the data or management node identified by
          <em class="replaceable"><code>node_id</code></em>. Note that <code class="literal">ALL
          STOP</code> works to stop all data nodes only, and does not
          affect management nodes.
        </p><p>
          A node affected by this command disconnects from the cluster,
          and its associated <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> process terminates.
        </p><p>
          The <code class="option">-a</code> option causes the node to be stopped
          immediately, without waiting for the completion of any pending
          transactions.
        </p><p>
          Normally, <code class="literal">STOP</code> fails if the result would
          cause an incomplete cluster. The <code class="option">-f</code> option
          forces the node to shut down without checking for this. If
          this option is used and the result is an incomplete cluster,
          the cluster immediately shuts down.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p xmlns="">
            Use of the <code class="option">-a</code> option also disables the
            safety check otherwise performed when
            <code class="literal">STOP</code> is invoked to insure that stopping
            the node does not cause an incomplete cluster. In other
            words, you should exercise extreme care when using the
            <code class="option">-a</code> option with the <code class="literal">STOP</code>
            command, due to the fact that this option makes it possible
            for the cluster to undergo a forced shutdown because it no
            longer has a complete copy of all data stored in
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>.
</p>
</div>
</li><li class="listitem"><p>
          <a class="indexterm" name="idp121471024"></a>

          <a class="indexterm" name="idp121472512"></a>

          <code class="literal"><em class="replaceable"><code>node_id</code></em> RESTART [-n] [-i]
          [-a] [-f]</code>
        </p><p>
          Restarts the data node identified by
          <em class="replaceable"><code>node_id</code></em> (or all data nodes).
        </p><p>
          Using the <code class="option">-i</code> option with
          <code class="literal">RESTART</code> causes the data node to perform an
          initial restart; that is, the node's file system is deleted
          and recreated. The effect is the same as that obtained from
          stopping the data node process and then starting it again
          using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon">ndbd
          <code class="option">--initial</code></a> from the
          system shell. Note that backup files and Disk Data files are
          not removed when this option is used.
        </p><p>
          Using the <code class="option">-n</code> option causes the data node
          process to be restarted, but the data node is not actually
          brought online until the appropriate <code class="literal">START</code>
          command is issued. The effect of this option is the same as
          that obtained from stopping the data node and then starting it
          again using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon">ndbd
          <code class="option">--nostart</code></a> or
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd <code class="option">-n</code></strong></span></a> from the system
          shell.
        </p><p>
          Using the <code class="option">-a</code> causes all current transactions
          relying on this node to be aborted. No GCP check is done when
          the node rejoins the cluster.
        </p><p>
          Normally, <code class="literal">RESTART</code> fails if taking the node
          offline would result in an incomplete cluster. The
          <code class="option">-f</code> option forces the node to restart without
          checking for this. If this option is used and the result is an
          incomplete cluster, the entire cluster is restarted.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp121487072"></a>

          <a class="indexterm" name="idp121488560"></a>

          <code class="literal"><em class="replaceable"><code>node_id</code></em> STATUS</code>
        </p><p>
          Displays status information for the data node identified by
          <em class="replaceable"><code>node_id</code></em> (or for all data nodes).
        </p><p>
          The output from this command also indicates when the cluster
          is in single user mode.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp121492848"></a>

          <a class="indexterm" name="idp121494336"></a>

          <code class="literal"><em class="replaceable"><code>node_id</code></em> REPORT
          <em class="replaceable"><code>report-type</code></em></code>
        </p><p>
          Displays a report of type
          <em class="replaceable"><code>report-type</code></em> for the data node
          identified by <em class="replaceable"><code>node_id</code></em>, or for all
          data nodes using <code class="literal">ALL</code>.
        </p><p>
          Currently, there are two accepted values for
          <em class="replaceable"><code>report-type</code></em>:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
              <code class="literal">BackupStatus</code> provides a status report
              on a cluster backup in progress
            </p></li><li class="listitem"><p>
              <code class="literal">MemoryUsage</code> displays how much data
              memory and index memory is being used by each data node as
              shown in this example:
            </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>ALL REPORT MEMORY</code></strong>

Node 1: Data usage is 5%(177 32K pages of total 3200)
Node 1: Index usage is 0%(108 8K pages of total 12832)
Node 2: Data usage is 5%(177 32K pages of total 3200)
Node 2: Index usage is 0%(108 8K pages of total 12832)
</pre><p>
              This information is also available from the
              <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-memoryusage" title="17.5.10.12. The ndbinfo memoryusage Table"><code class="literal">ndbinfo.memoryusage</code></a>
              table.
</p></li></ul>
</div>
<p>
          <em class="replaceable"><code>report-type</code></em> is case-insensitive and
          <span class="quote">“<span class="quote">fuzzy</span>”</span>; for <code class="literal">MemoryUsage</code>, you
          can use <code class="literal">MEMORY</code> (as shown in the prior
          example), <code class="literal">memory</code>, or even simply
          <code class="literal">MEM</code> (or <code class="literal">mem</code>). You can
          abbreviate <code class="literal">BackupStatus</code> in a similar
          fashion.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp121512704"></a>

          <a class="indexterm" name="idp121514192"></a>

          <a class="indexterm" name="idp121515280"></a>

          <a class="indexterm" name="idp121516784"></a>

          <code class="literal">ENTER SINGLE USER MODE
          <em class="replaceable"><code>node_id</code></em></code>
        </p><p>
          Enters single user mode, whereby only the MySQL server
          identified by the node ID <em class="replaceable"><code>node_id</code></em>
          is permitted to access the database.
        </p><p>
          Currently, it is not possible for data nodes to join a MySQL
          Cluster while it is running in single user mode. (Bug #20395)
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp121521200"></a>

          <a class="indexterm" name="idp121522704"></a>

          <code class="literal">EXIT SINGLE USER MODE</code>
        </p><p>
          Exits single user mode, enabling all SQL nodes (that is, all
          running <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> processes) to access the
          database.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
            It is possible to use <code class="literal">EXIT SINGLE USER
            MODE</code> even when not in single user mode, although
            the command has no effect in this case.
</p>
</div>
</li><li class="listitem"><p>
          <a class="indexterm" name="idp121528288"></a>

          <a class="indexterm" name="idp121529776"></a>

          <a class="indexterm" name="idp121530864"></a>

          <a class="indexterm" name="idp121532352"></a>

          <code class="literal">QUIT</code>, <code class="literal">EXIT</code>
        </p><p>
          Terminates the management client.
        </p><p>
          This command does not affect any nodes connected to the
          cluster.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp121536528"></a>

          <a class="indexterm" name="idp121538016"></a>

          <code class="literal">SHUTDOWN</code>
        </p><p>
          Shuts down all cluster data nodes and management nodes. To
          exit the management client after this has been done, use
          <code class="literal">EXIT</code> or <code class="literal">QUIT</code>.
        </p><p>
          This command does <span class="emphasis"><em>not</em></span> shut down any SQL
          nodes or API nodes that are connected to the cluster.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp121543472"></a>

          <a class="indexterm" name="idp121544976"></a>

          <code class="literal">CREATE NODEGROUP <em class="replaceable"><code>nodeid</code></em>[,
          <em class="replaceable"><code>nodeid</code></em>, ...]</code>
        </p><p>
          Creates a new MySQL Cluster node group and causes data nodes
          to join it.
        </p><p>
          This command is used after adding new data nodes online to a
          MySQL Cluster, and causes them to join a new node group and
          thus to begin participating fully in the cluster. The command
          takes as its sole parameter a comma-separated list of node
          IDs—these are the IDs of the nodes just added and
          started that are to join the new node group. The number of
          nodes must be the same as the number of nodes in each node
          group that is already part of the cluster (each MySQL Cluster
          node group must have the same number of nodes). In other
          words, if the MySQL Cluster has 2 node groups of 2 data nodes
          each, then the new node group must also have 2 data nodes.
        </p><p>
          The node group ID of the new node group created by this
          command is determined automatically, and always the next
          highest unused node group ID in the cluster; it is not
          possible to set it manually.
        </p><p>
          For more information, see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="17.5.13. Adding MySQL Cluster Data Nodes Online">Section 17.5.13, “Adding MySQL Cluster Data Nodes Online”</a>.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp121552192"></a>

          <a class="indexterm" name="idp121553680"></a>

          <code class="literal">DROP NODEGROUP
          <em class="replaceable"><code>nodegroup_id</code></em></code>
        </p><p>
          Drops the MySQL Cluster node group with the given
          <em class="replaceable"><code>nodegroup_id</code></em>.
        </p><p>
          This command can be used to drop a node group from a MySQL
          Cluster. <code class="literal">DROP NODEGROUP</code> takes as its sole
          argument the node group ID of the node group to be dropped.
        </p><p>
          <code class="literal">DROP NODEGROUP</code> acts only to remove the data
          nodes in the effected node group from that node group. It does
          not stop data nodes, assign them to a different node group, or
          remove them from the cluster's configuration. A data node
          that does not belong to a node group is indicated in the
          output of the management client
          <code class="literal">SHOW</code> command with
          <code class="literal">no nodegroup</code> in place of the node group ID,
          like this (indicated using bold text):
        </p><pre class="programlisting">id=3    @10.100.2.67  (5.6.11-ndb-7.3.3, <span class="bold"><strong>no nodegroup</strong></span>)
</pre><p>
          Prior to MySQL Cluster NDB 7.0.4, the
          <code class="literal">SHOW</code> output was not
          updated correctly following <code class="literal">DROP NODEGROUP</code>.
          (Bug #43413)
        </p><p>
          <code class="literal">DROP NODEGROUP</code> works only when all data
          nodes in the node group to be dropped are completely empty of
          any table data and table definitions. Since there is currently
          no way using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> or the
          <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client to remove all data from a
          specific data node or node group, this means that the command
          succeeds only in the two following cases:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
              After issuing <code class="literal">CREATE NODEGROUP</code> in the
              <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client, but before issuing any
              <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER ONLINE
              TABLE ... REORGANIZE PARTITION</code></a> statements in the
              <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client.
            </p></li><li class="listitem"><p>
              After dropping all <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>
              tables using <a class="link" href="sql-syntax.html#drop-table" title="13.1.28. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a>.
            </p><p>
              <a class="link" href="sql-syntax.html#truncate-table" title="13.1.33. TRUNCATE TABLE Syntax"><code class="literal">TRUNCATE TABLE</code></a> does not
              work for this purpose because this removes only the table
              data; the data nodes continue to store an
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> table's
              definition until a <a class="link" href="sql-syntax.html#drop-table" title="13.1.28. DROP TABLE Syntax"><code class="literal">DROP
              TABLE</code></a> statement is issued that causes the table
              metadata to be dropped.
</p></li></ol>
</div>
<p>
          For more information about <code class="literal">DROP NODEGROUP</code>,
          see <a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node" title="17.5.13. Adding MySQL Cluster Data Nodes Online">Section 17.5.13, “Adding MySQL Cluster Data Nodes Online”</a>.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-backup"></a>17.5.3. Online Backup of MySQL Cluster</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-backup-concepts">17.5.3.1. MySQL Cluster Backup Concepts</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-backup-using-management-client">17.5.3.2. Using The MySQL Cluster Management Client to Create a Backup</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-backup-configuration">17.5.3.3. Configuration for MySQL Cluster Backups</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-backup-troubleshooting">17.5.3.4. MySQL Cluster Backup Troubleshooting</a></span></dt></dl>
</div>
<a class="indexterm" name="idp121582048"></a><a class="indexterm" name="idp121583536"></a><p>
      The next few sections describe how to prepare for and then to
      create a MySQL Cluster backup using the functionality for this
      purpose found in the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> management client.
      To distinguish this type of backup from a backup made using
      <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>, we sometimes refer to it as a
      <span class="quote">“<span class="quote">native</span>”</span> MySQL Cluster backup. (For information about
      the creation of backups with <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>, see
      <a class="xref" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program">Section 4.5.4, “<span class="command"><strong>mysqldump</strong></span> — A Database Backup Program”</a>.) Restoration of MySQL Cluster backups
      is done using the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> utility provided
      with the MySQL Cluster distribution; for information about
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> and its use in restoring MySQL
      Cluster backups, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup">Section 17.4.19, “<span class="command"><strong>ndb_restore</strong></span> — Restore a MySQL Cluster Backup”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-backup-concepts"></a>17.5.3.1. MySQL Cluster Backup Concepts</h4>
</div>
</div>
</div>
<a class="indexterm" name="idp121592768"></a><a class="indexterm" name="idp121594256"></a><p>
        A backup is a snapshot of the database at a given time. The
        backup consists of three main parts:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Metadata. </b>
              The names and definitions of all database tables
            </p></li><li class="listitem"><p><b>Table records. </b>
              The data actually stored in the database tables at the
              time that the backup was made
            </p></li><li class="listitem"><p><b>Transaction log. </b>
              A sequential record telling how and when data was stored
              in the database
</p></li></ul>
</div>
<p>
        Each of these parts is saved on all nodes participating in the
        backup. During backup, each node saves these three parts into
        three files on disk:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="filename">BACKUP-<em class="replaceable"><code>backup_id</code></em>.<em class="replaceable"><code>node_id</code></em>.ctl</code>
          </p><p>
            A control file containing control information and metadata.
            Each node saves the same table definitions (for all tables
            in the cluster) to its own version of this file.
          </p></li><li class="listitem"><p>
            <code class="filename">BACKUP-<em class="replaceable"><code>backup_id</code></em>-0.<em class="replaceable"><code>node_id</code></em>.data</code>
          </p><p>
            A data file containing the table records, which are saved on
            a per-fragment basis. That is, different nodes save
            different fragments during the backup. The file saved by
            each node starts with a header that states the tables to
            which the records belong. Following the list of records
            there is a footer containing a checksum for all records.
          </p></li><li class="listitem"><p>
            <code class="filename">BACKUP-<em class="replaceable"><code>backup_id</code></em>.<em class="replaceable"><code>node_id</code></em>.log</code>
          </p><p>
            A log file containing records of committed transactions.
            Only transactions on tables stored in the backup are stored
            in the log. Nodes involved in the backup save different
            records because different nodes host different database
            fragments.
</p></li></ul>
</div>
<p>
        In the listing above, <em class="replaceable"><code>backup_id</code></em>
        stands for the backup identifier and
        <em class="replaceable"><code>node_id</code></em> is the unique identifier for
        the node creating the file.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-backup-using-management-client"></a>17.5.3.2. Using The MySQL Cluster Management Client to Create a Backup</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp121614352"></a><a class="indexterm" name="idp121615840"></a><p>
        Before starting a backup, make sure that the cluster is properly
        configured for performing one. (See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-backup-configuration" title="17.5.3.3. Configuration for MySQL Cluster Backups">Section 17.5.3.3, “Configuration for MySQL Cluster Backups”</a>.)
      </p><a class="indexterm" name="idp121618432"></a><p>
        The <code class="literal">START BACKUP</code> command is used to create a
        backup:
      </p><pre class="programlisting">START BACKUP [<em class="replaceable"><code>backup_id</code></em>] [<em class="replaceable"><code>wait_option</code></em>] [<em class="replaceable"><code>snapshot_option</code></em>]

<em class="replaceable"><code>wait_option</code></em>:
WAIT {STARTED | COMPLETED} | NOWAIT

<em class="replaceable"><code>snapshot_option</code></em>:
SNAPSHOTSTART | SNAPSHOTEND
</pre><p>
        Successive backups are automatically identified sequentially, so
        the <em class="replaceable"><code>backup_id</code></em>, an integer greater
        than or equal to 1, is optional; if it is omitted, the next
        available value is used. If an existing
        <em class="replaceable"><code>backup_id</code></em> value is used, the backup
        fails with the error <span class="errortext">Backup failed: file already
        exists</span>. If used, the
        <em class="replaceable"><code>backup_id</code></em> must follow <code class="literal">START
        BACKUP</code> immediately, before any other options are used.
      </p><p>
        The <em class="replaceable"><code>wait_option</code></em> can be used to
        determine when control is returned to the management client
        after a <code class="literal">START BACKUP</code> command is issued, as
        shown in the following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="indexterm" name="idp121629664"></a>

            <a class="indexterm" name="idp121631152"></a>

            If <code class="literal">NOWAIT</code> is specified, the management
            client displays a prompt immediately, as seen here:
          </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>START BACKUP NOWAIT</code></strong>
ndb_mgm&gt;
</pre><p>
            In this case, the management client can be used even while
            it prints progress information from the backup process.
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idp121635808"></a>

            <a class="indexterm" name="idp121637296"></a>

            With <code class="literal">WAIT STARTED</code> the management client
            waits until the backup has started before returning control
            to the user, as shown here:
          </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>START BACKUP WAIT STARTED</code></strong>
Waiting for started, this may take several minutes
Node 2: Backup 3 started from node 1
ndb_mgm&gt;
</pre></li><li class="listitem"><p>
            <a class="indexterm" name="idp121641632"></a>

            <a class="indexterm" name="idp121643120"></a>

            <strong class="userinput"><code>WAIT COMPLETED</code></strong> causes the management
            client to wait until the backup process is complete before
            returning control to the user.
</p></li></ul>
</div>
<p>
        <code class="literal">WAIT COMPLETED</code> is the default.
      </p><p>
        <a class="indexterm" name="idp121646800"></a>

        <a class="indexterm" name="idp121648288"></a>

        <a class="indexterm" name="idp121649376"></a>

        <a class="indexterm" name="idp121650864"></a>

        A <em class="replaceable"><code>snapshot_option</code></em> can be used to
        determine whether the backup matches the state of the cluster
        when <code class="literal">START BACKUP</code> was issued, or when it was
        completed. <code class="literal">SNAPSHOTSTART</code> causes the backup to
        match the state of the cluster when the backup began;
        <code class="literal">SNAPSHOTEND</code> causes the backup to reflect the
        state of the cluster when the backup was finished.
        <code class="literal">SNAPSHOTEND</code> is the default, and matches the
        behavior found in previous MySQL Cluster releases.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          If you use the <code class="literal">SNAPSHOTSTART</code> option with
          <code class="literal">START BACKUP</code>, and the
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-compressedbackup"><code class="literal">CompressedBackup</code></a>
          parameter is enabled, only the data and control files are
          compressed—the log file is not compressed.
</p>
</div>
<p>
        If both a <em class="replaceable"><code>wait_option</code></em> and a
        <em class="replaceable"><code>snapshot_option</code></em> are used, they may be
        specified in either order. For example, all of the following
        commands are valid, assuming that there is no existing backup
        having 4 as its ID:
      </p><pre class="programlisting">START BACKUP WAIT STARTED SNAPSHOTSTART
START BACKUP SNAPSHOTSTART WAIT STARTED
START BACKUP 4 WAIT COMPLETED SNAPSHOTSTART
START BACKUP SNAPSHOTEND WAIT COMPLETED
START BACKUP 4 NOWAIT SNAPSHOTSTART</pre><p>
        The procedure for creating a backup consists of the following
        steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Start the management client (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>), if
            it not running already.
          </p></li><li class="listitem"><p>
            Execute the <strong class="userinput"><code>START BACKUP</code></strong> command.
            This produces several lines of output indicating the
            progress of the backup, as shown here:
          </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>START BACKUP</code></strong>
Waiting for completed, this may take several minutes
Node 2: Backup 1 started from node 1
Node 2: Backup 1 started from node 1 completed
 StartGCP: 177 StopGCP: 180
 #Records: 7362 #LogRecords: 0
 Data: 453648 bytes Log: 0 bytes
ndb_mgm&gt;
</pre></li><li class="listitem"><p>
            <a class="indexterm" name="idp121668592"></a>

            <a class="indexterm" name="idp121670096"></a>

            When the backup has started the management client displays
            this message:
          </p><pre class="programlisting">Backup <em class="replaceable"><code>backup_id</code></em> started from node <em class="replaceable"><code>node_id</code></em>
</pre><p>
            <em class="replaceable"><code>backup_id</code></em> is the unique
            identifier for this particular backup. This identifier is
            saved in the cluster log, if it has not been configured
            otherwise. <em class="replaceable"><code>node_id</code></em> is the
            identifier of the management server that is coordinating the
            backup with the data nodes. At this point in the backup
            process the cluster has received and processed the backup
            request. It does not mean that the backup has finished. An
            example of this statement is shown here:
          </p><pre class="programlisting">Node 2: Backup 1 started from node 1</pre></li><li class="listitem"><p>
            The management client indicates with a message like this one
            that the backup has started:
          </p><pre class="programlisting">Backup <em class="replaceable"><code>backup_id</code></em> started from node <em class="replaceable"><code>node_id</code></em> completed
</pre><p>
            As is the case for the notification that the backup has
            started, <em class="replaceable"><code>backup_id</code></em> is the unique
            identifier for this particular backup, and
            <em class="replaceable"><code>node_id</code></em> is the node ID of the
            management server that is coordinating the backup with the
            data nodes. This output is accompanied by additional
            information including relevant global checkpoints, the
            number of records backed up, and the size of the data, as
            shown here:
          </p><pre class="programlisting">Node 2: Backup 1 started from node 1 completed
 StartGCP: 177 StopGCP: 180
 #Records: 7362 #LogRecords: 0
Data: 453648 bytes Log: 0 bytes</pre></li></ol>
</div>
<p>
        It is also possible to perform a backup from the system shell by
        invoking <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> with the <code class="option">-e</code>
        or <a class="link" href="mysql-cluster.html#option_ndb_mgm_execute"><code class="option">--execute</code></a> option, as shown in
        this example:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgm -e "START BACKUP 6 WAIT COMPLETED SNAPSHOTSTART"</code></strong>
</pre><p>
        When using <code class="literal">START BACKUP</code> in this way, you must
        specify the backup ID.
      </p><p>
        Cluster backups are created by default in the
        <code class="filename">BACKUP</code> subdirectory of the
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a> on each data
        node. This can be overridden for one or more data nodes
        individually, or for all cluster data nodes in the
        <code class="filename">config.ini</code> file using the
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupdatadir"><code class="literal">BackupDataDir</code></a>
        configuration parameter. The backup files created for a backup
        with a given <em class="replaceable"><code>backup_id</code></em> are stored in
        a subdirectory named
        <code class="filename">BACKUP-<em class="replaceable"><code>backup_id</code></em></code>
        in the backup directory.
      </p><p>
        To abort a backup that is already in progress:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Start the management client.
          </p></li><li class="listitem"><p>
            Execute this command:
          </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>ABORT BACKUP <em class="replaceable"><code>backup_id</code></em></code></strong>
</pre><p>
            The number <em class="replaceable"><code>backup_id</code></em> is the
            identifier of the backup that was included in the response
            of the management client when the backup was started (in the
            message <code class="literal">Backup <em class="replaceable"><code>backup_id</code></em>
            started from node
            <em class="replaceable"><code>management_node_id</code></em></code>).
          </p></li><li class="listitem"><p>
            The management client will acknowledge the abort request
            with <code class="literal">Abort of backup
            <em class="replaceable"><code>backup_id</code></em> ordered</code>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              At this point, the management client has not yet received
              a response from the cluster data nodes to this request,
              and the backup has not yet actually been aborted.
</p>
</div>
</li><li class="listitem"><p>
            After the backup has been aborted, the management client
            will report this fact in a manner similar to what is shown
            here:
          </p><pre class="programlisting">Node 1: Backup 3 started from 5 has been aborted. 
  Error: 1321 - Backup aborted by user request: Permanent error: User defined error
Node 3: Backup 3 started from 5 has been aborted. 
  Error: 1323 - 1323: Permanent error: Internal error
Node 2: Backup 3 started from 5 has been aborted. 
  Error: 1323 - 1323: Permanent error: Internal error
Node 4: Backup 3 started from 5 has been aborted. 
  Error: 1323 - 1323: Permanent error: Internal error</pre><p>
            In this example, we have shown sample output for a cluster
            with 4 data nodes, where the sequence number of the backup
            to be aborted is <code class="literal">3</code>, and the management
            node to which the cluster management client is connected has
            the node ID <code class="literal">5</code>. The first node to complete
            its part in aborting the backup reports that the reason for
            the abort was due to a request by the user. (The remaining
            nodes report that the backup was aborted due to an
            unspecified internal error.)
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              There is no guarantee that the cluster nodes respond to an
              <code class="literal">ABORT BACKUP</code> command in any particular
              order.
</p>
</div>
<p>
            The <code class="literal">Backup <em class="replaceable"><code>backup_id</code></em>
            started from node
            <em class="replaceable"><code>management_node_id</code></em> has been
            aborted</code> messages mean that the backup has been
            terminated and that all files relating to this backup have
            been removed from the cluster file system.
</p></li></ol>
</div>
<p>
        It is also possible to abort a backup in progress from a system
        shell using this command:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgm -e "ABORT BACKUP <em class="replaceable"><code>backup_id</code></em>"</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          If there is no backup having the ID
          <em class="replaceable"><code>backup_id</code></em> running when an
          <code class="literal">ABORT BACKUP</code> is issued, the management
          client makes no response, nor is it indicated in the cluster
          log that an invalid abort command was sent.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-backup-configuration"></a>17.5.3.3. Configuration for MySQL Cluster Backups</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp121716512"></a><a class="indexterm" name="idp121718000"></a><a class="indexterm" name="idp121719488"></a><a class="indexterm" name="idp121720976"></a><p>
        Five configuration parameters are essential for backup:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="indexterm" name="idp121723696"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupdatabuffersize"><code class="literal">BackupDataBufferSize</code></a>
          </p><p>
            The amount of memory used to buffer data before it is
            written to disk.
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idp121726880"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backuplogbuffersize"><code class="literal">BackupLogBufferSize</code></a>
          </p><p>
            The amount of memory used to buffer log records before these
            are written to disk.
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idp121730064"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupmemory"><code class="literal">BackupMemory</code></a>
          </p><p>
            The total memory allocated in a data node for backups. This
            should be the sum of the memory allocated for the backup
            data buffer and the backup log buffer.
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idp121733344"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupwritesize"><code class="literal">BackupWriteSize</code></a>
          </p><p>
            The default size of blocks written to disk. This applies for
            both the backup data buffer and the backup log buffer.
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idp121736560"></a>

            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupmaxwritesize"><code class="literal">BackupMaxWriteSize</code></a>
          </p><p>
            The maximum size of blocks written to disk. This applies for
            both the backup data buffer and the backup log buffer.
</p></li></ul>
</div>
<p>
        More detailed information about these parameters can be found in
        <a class="link" href="mysql-cluster.html#mysql-cluster-backup-parameters" title="Backup parameters">Backup
        Parameters</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-backup-troubleshooting"></a>17.5.3.4. MySQL Cluster Backup Troubleshooting</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp121741728"></a><a class="indexterm" name="idp121743216"></a><a class="indexterm" name="idp121744704"></a><p>
        If an error code is returned when issuing a backup request, the
        most likely cause is insufficient memory or disk space. You
        should check that there is enough memory allocated for the
        backup.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          If you have set
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupdatabuffersize"><code class="literal">BackupDataBufferSize</code></a>
          and
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backuplogbuffersize"><code class="literal">BackupLogBufferSize</code></a>
          and their sum is greater than 4MB, then you must also set
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-backupmemory"><code class="literal">BackupMemory</code></a> as well.
</p>
</div>
<p>
        You should also make sure that there is sufficient space on the
        hard drive partition of the backup target.
      </p><p>
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> does not support repeatable
        reads, which can cause problems with the restoration process.
        Although the backup process is <span class="quote">“<span class="quote">hot</span>”</span>, restoring a
        MySQL Cluster from backup is not a 100% <span class="quote">“<span class="quote">hot</span>”</span>
        process. This is due to the fact that, for the duration of the
        restore process, running transactions get nonrepeatable reads
        from the restored data. This means that the state of the data is
        inconsistent while the restore is in progress.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-mysqld"></a>17.5.4. MySQL Server Usage for MySQL Cluster</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp121754528"></a><a class="indexterm" name="idp121756016"></a><a class="indexterm" name="idp121757520"></a><a class="indexterm" name="idp121759008"></a><a class="indexterm" name="idp121760096"></a><p>
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is the traditional MySQL server process.
      To be used with MySQL Cluster, <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> needs to
      be built with support for the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
      storage engine, as it is in the precompiled binaries available
      from <a class="ulink" href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>. If you build MySQL from
      source, you must invoke <span class="command"><strong>CMake</strong></span> with the
      <a class="link" href="installing.html#option_cmake_with_ndbcluster"><code class="option">-DWITH_NDBCLUSTER=1</code></a> option to
      include support for <code class="literal">NDB</code>.
    </p><p>
      For more information about compiling MySQL Cluster from source,
      see <a class="xref" href="mysql-cluster.html#mysql-cluster-install-linux-source" title="17.2.2.3. Building MySQL Cluster from Source on Linux">Section 17.2.2.3, “Building MySQL Cluster from Source on Linux”</a>, and
      <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-source" title="17.2.3.2. Compiling and Installing MySQL Cluster from Source on Windows">Section 17.2.3.2, “Compiling and Installing MySQL Cluster from Source on Windows”</a>.
    </p><p>
      (For information about <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> options and
      variables, in addition to those discussed in this section, which
      are relevant to MySQL Cluster, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-options-variables" title="17.3.4. MySQL Server Options and Variables for MySQL Cluster">Section 17.3.4, “MySQL Server Options and Variables for MySQL Cluster”</a>.)
    </p><p>
      If the <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> binary has been built with
      Cluster support, the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>
      storage engine is still disabled by default. You can use either of
      two possible options to enable this engine:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Use <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a> as a startup
          option on the command line when starting
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>.
        </p></li><li class="listitem"><p>
          Insert a line containing <code class="literal">ndbcluster</code> in the
          <code class="literal">[mysqld]</code> section of your
          <code class="filename">my.cnf</code> file.
</p></li></ul>
</div>
<p>
      An easy way to verify that your server is running with the
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage engine enabled is
      to issue the <a class="link" href="sql-syntax.html#show-engines" title="13.7.5.17. SHOW ENGINES Syntax"><code class="literal">SHOW ENGINES</code></a> statement
      in the MySQL Monitor (<a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>). You should see
      the value <code class="literal">YES</code> as the <code class="literal">Support</code>
      value in the row for <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>. If
      you see <code class="literal">NO</code> in this row or if there is no such
      row displayed in the output, you are not running an
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>-enabled version of MySQL. If you
      see <code class="literal">DISABLED</code> in this row, you need to enable it
      in either one of the two ways just described.
    </p><a class="indexterm" name="idp121787136"></a><a class="indexterm" name="idp121788624"></a><a class="indexterm" name="idp121789712"></a><p>
      To read cluster configuration data, the MySQL server requires at a
      minimum three pieces of information:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          The MySQL server's own cluster node ID
        </p></li><li class="listitem"><p>
          The host name or IP address for the management server (MGM
          node)
        </p></li><li class="listitem"><p>
          The number of the TCP/IP port on which it can connect to the
          management server
</p></li></ul>
</div>
<p>
      Node IDs can be allocated dynamically, so it is not strictly
      necessary to specify them explicitly.
    </p><p>
      The <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> parameter
      <code class="literal">ndb-connectstring</code> is used to specify the
      connection string either on the command line when starting
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> or in <code class="filename">my.cnf</code>. The
      connection string contains the host name or IP address where the
      management server can be found, as well as the TCP/IP port it
      uses.
    </p><p>
      In the following example, <code class="literal">ndb_mgmd.mysql.com</code> is
      the host where the management server resides, and the management
      server listens for cluster messages on port 1186:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqld --ndbcluster --ndb-connectstring=ndb_mgmd.mysql.com:1186</code></strong>
</pre><p>
      See <a class="xref" href="mysql-cluster.html#mysql-cluster-connection-strings" title="17.3.2.3. MySQL Cluster Connection Strings">Section 17.3.2.3, “MySQL Cluster Connection Strings”</a>, for more
      information on connection strings.
    </p><p>
      Given this information, the MySQL server will be a full
      participant in the cluster. (We often refer to a
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process running in this manner as an SQL
      node.) It will be fully aware of all cluster data nodes as well as
      their status, and will establish connections to all data nodes. In
      this case, it is able to use any data node as a transaction
      coordinator and to read and update node data.
    </p><p>
      You can see in the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client whether a MySQL
      server is connected to the cluster using <a class="link" href="sql-syntax.html#show-processlist" title="13.7.5.30. SHOW PROCESSLIST Syntax"><code class="literal">SHOW
      PROCESSLIST</code></a>. If the MySQL server is connected to the
      cluster, and you have the <a class="link" href="security.html#priv_process"><code class="literal">PROCESS</code></a>
      privilege, then the first row of the output is as shown here:
    </p><pre class="programlisting">mysql&gt; SHOW PROCESSLIST \G
*************************** 1. row ***************************
     Id: 1
   User: system user
   Host:
     db:
Command: Daemon
   Time: 1
  State: Waiting for event from ndbcluster
Info: NULL</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        To participate in a MySQL Cluster, the <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
        process must be started with <span class="emphasis"><em>both</em></span> the
        options <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a> and
        <a class="link" href="mysql-cluster.html#option_mysqld_ndb-connectstring"><code class="option">--ndb-connectstring</code></a> (or their
        equivalents in <code class="filename">my.cnf</code>). If
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is started with only the
        <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a> option, or if it is
        unable to contact the cluster, it is not possible to work with
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables, <span class="emphasis"><em>nor is it
        possible to create any new tables regardless of storage
        engine</em></span>. The latter restriction is a safety measure
        intended to prevent the creation of tables having the same names
        as <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables while the SQL node is
        not connected to the cluster. If you wish to create tables using
        a different storage engine while the <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
        process is not participating in a MySQL Cluster, you must
        restart the server <span class="emphasis"><em>without</em></span> the
        <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a> option.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-rolling-restart"></a>17.5.5. Performing a Rolling Restart of a MySQL Cluster</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp121820880"></a><a class="indexterm" name="idp121822368"></a><a class="indexterm" name="idp121823472"></a><a class="indexterm" name="idp121824960"></a><a class="indexterm" name="idp121826448"></a><p>
      This section discusses how to perform a <em class="firstterm">rolling
      restart</em> of a MySQL Cluster installation, so called
      because it involves stopping and starting (or restarting) each
      node in turn, so that the cluster itself remains operational. This
      is often done as part of a <em class="firstterm">rolling upgrade</em>
      or <em class="firstterm">rolling downgrade</em>, where high
      availability of the cluster is mandatory and no downtime of the
      cluster as a whole is permissible. Where we refer to upgrades, the
      information provided here also generally applies to downgrades as
      well.
    </p><p>
      There are a number of reasons why a rolling restart might be
      desirable. These are described in the next few paragraphs.
    </p><p><b>Configuration change. </b><a class="indexterm" name="idp121830976"></a>
        To make a change in the cluster's configuration, such as
        adding an SQL node to the cluster, or setting a configuration
        parameter to a new value.
      </p><p><b>MySQL Cluster software upgrade or downgrade. </b>
        To upgrade the cluster to a newer version of the MySQL Cluster
        software (or to downgrade it to an older version). This is
        usually referred to as a <span class="quote">“<span class="quote">rolling upgrade</span>”</span> (or
        <span class="quote">“<span class="quote">rolling downgrade</span>”</span>, when reverting to an older
        version of MySQL Cluster).
      </p><p><b>Change on node host. </b>
        To make changes in the hardware or operating system on which one
        or more MySQL Cluster node processes are running.
      </p><p><b>System reset (cluster reset). </b><a class="indexterm" name="idp121837552"></a>
        To reset the cluster because it has reached an undesirable
        state. In such cases it is often desirable to reload the data
        and metadata of one or more data nodes. This can be done in any
        of three ways:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Start each data node process (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or
          possibly <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>) with the
          <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> option, which forces
          the data node to clear its file system and to reload all MySQL
          Cluster data and metadata from the other data nodes.
        </p></li><li class="listitem"><p>
          Create a backup using the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client
          <code class="literal">BACKUP</code> command prior to performing the
          restart. Following the upgrade, restore the node or nodes
          using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>.
        </p><p>
          See <a class="xref" href="mysql-cluster.html#mysql-cluster-backup" title="17.5.3. Online Backup of MySQL Cluster">Section 17.5.3, “Online Backup of MySQL Cluster”</a>, and
          <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup">Section 17.4.19, “<span class="command"><strong>ndb_restore</strong></span> — Restore a MySQL Cluster Backup”</a>, for more
          information.
        </p></li><li class="listitem"><p>
          Use <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> to create a backup prior to
          the upgrade; afterward, restore the dump using
          <a class="link" href="sql-syntax.html#load-data" title="13.2.6. LOAD DATA INFILE Syntax"><code class="literal">LOAD DATA
          INFILE</code></a>.
</p></li></ul>
</div>
<p><b>Resource Recovery. </b><a class="indexterm" name="idp121851952"></a>
        To free memory previously allocated to a table by successive
        <a class="link" href="sql-syntax.html#insert" title="13.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> and
        <a class="link" href="sql-syntax.html#delete" title="13.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> operations, for re-use by
        other MySQL Cluster tables.
      </p><p>
      The process for performing a rolling restart may be generalized as
      follows:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Stop all cluster management nodes (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>
          processes), reconfigure them, then restart them. (See
          <a class="xref" href="mysql-cluster.html#mysql-cluster-rolling-restart-multiple-ndb-mgmd" title="Rolling restarts with multiple management servers">Rolling restarts with multiple management servers</a>.)
        </p></li><li class="listitem"><p>
          Stop, reconfigure, then restart each cluster data node
          (<a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process) in turn.
        </p></li><li class="listitem"><p>
          Stop, reconfigure, then restart each cluster SQL node
          (<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process) in turn.
</p></li></ol>
</div>
<p>
      The specifics for implementing a given rolling upgrade depend upon
      the changes being made. A more detailed view of the process is
      presented here:
</p>
<div class="mediaobject">
<img src="images/rolling-restarts.png" width="421" height="543" alt="MySQL Cluster Rolling Restarts (By Type)">
</div>
<p>
      In the previous diagram, the <span class="bold"><strong>Stop</strong></span>
      and <span class="bold"><strong>Start</strong></span> steps indicate that the
      process must be stopped completely using a shell command (such as
      <a class="link" href="sql-syntax.html#kill" title="13.7.6.4. KILL Syntax"><span class="command"><strong>kill</strong></span></a> on most Unix systems) or the management
      client <code class="literal">STOP</code> command, then started again from a
      system shell by invoking the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> executable as appropriate. On Windows,
      you can also use the system <code class="literal">NET START</code> and
      <code class="literal">NET STOP</code> commands or the Windows Service
      Manager to start and stop nodes which have been installed as
      Windows services (see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-install-windows-service" title="17.2.3.4. Installing MySQL Cluster Processes as Windows Services">Section 17.2.3.4, “Installing MySQL Cluster Processes as Windows Services”</a>).
    </p><p>
      <span class="bold"><strong>Restart</strong></span> indicates that the
      process may be restarted using the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a>
      management client <code class="literal">RESTART</code> command (see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="17.5.2. Commands in the MySQL Cluster Management Client">Section 17.5.2, “Commands in the MySQL Cluster Management Client”</a>).
    </p><a class="indexterm" name="idp121877648"></a><p>
      MySQL Cluster supports a flexible order for upgrading nodes. When
      upgrading a MySQL Cluster, you may upgrade API nodes (including
      SQL nodes) before upgrading the management nodes, data nodes, or
      both. In other words, you are permitted to upgrade the API and SQL
      nodes in any order. This is subject to the following provisions:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          This functionality is intended for use as part of an online
          upgrade only. A mix of node binaries from different MySQL
          Cluster releases is neither intended nor supported for
          continuous, long-term use in a production setting.
        </p></li><li class="listitem"><p>
          All management nodes must be upgraded before any data nodes
          are upgraded. This remains true regardless of the order in
          which you upgrade the cluster's API and SQL nodes.
        </p></li><li class="listitem"><p>
          Features specific to the <span class="quote">“<span class="quote">new</span>”</span> version must not
          be used until all management nodes and data nodes have been
          upgraded.
        </p><p>
          This also applies to any MySQL Server version change that may
          apply, in addition to the NDB engine version change, so do not
          forget to take this into account when planning the upgrade.
          (This is true for online upgrades of MySQL Cluster in
          general.)
</p></li></ul>
</div>
<p>
      See also Bug #48528 and Bug #49163.
    </p><p><a name="mysql-cluster-rolling-restart-multiple-ndb-mgmd"></a><b>Rolling restarts with multiple management servers. </b>
        <a class="indexterm" name="idp121886112"></a>

        <a class="indexterm" name="idp121887632"></a>

        When performing a rolling restart of a MySQL Cluster with
        multiple management nodes, you should keep in mind that
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> checks to see if any other
        management node is running, and, if so, tries to use that
        node's configuration data. To keep this from occurring, and
        to force <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> to reread its configuration
        file, perform the following steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Stop all MySQL Cluster <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> processes.
        </p></li><li class="listitem"><p>
          Update all <code class="filename">config.ini</code> files.
        </p></li><li class="listitem"><p>
          Start a single <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> with
          <a class="link" href="mysql-cluster.html#option_ndb_mgmd_reload"><code class="option">--reload</code></a>,
          <a class="link" href="mysql-cluster.html#option_ndb_mgmd_initial"><code class="option">--initial</code></a>, or both options as
          desired.
        </p></li><li class="listitem"><p>
          If you started the first <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> with the
          <a class="link" href="mysql-cluster.html#option_ndb_mgmd_initial"><code class="option">--initial</code></a> option, you must
          also start any remaining <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> processes
          using <code class="option">--initial</code>.
        </p><p>
          Regardless of any other options used when starting the first
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>, you should not start any
          remaining <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a> processes after the
          first one using <a class="link" href="mysql-cluster.html#option_ndb_mgmd_reload"><code class="option">--reload</code></a>.
        </p></li><li class="listitem"><p>
          Complete the rolling restarts of the data nodes and API nodes
          as normal.
</p></li></ol>
</div>
<p>
      When performing a rolling restart to update the cluster's
      configuration, you can use the
      <code class="literal">config_generation</code> column of the
      <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-nodes" title="17.5.10.13. The ndbinfo nodes Table"><code class="literal">ndbinfo.nodes</code></a> table to keep
      track of which data nodes have been successfully restarted with
      the new configuration. See
      <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo-nodes" title="17.5.10.13. The ndbinfo nodes Table">Section 17.5.10.13, “The <code class="literal">ndbinfo nodes</code> Table”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-event-reports"></a>17.5.6. Event Reports Generated in MySQL Cluster</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-logging-management-commands">17.5.6.1. MySQL Cluster Logging Management Commands</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-log-events">17.5.6.2. MySQL Cluster Log Events</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-log-statistics">17.5.6.3. Using <code class="literal">CLUSTERLOG STATISTICS</code> in the MySQL Cluster
Management Client</a></span></dt></dl>
</div>
<a class="indexterm" name="idp121910832"></a><a class="indexterm" name="idp121912320"></a><a class="indexterm" name="idp121913408"></a><a class="indexterm" name="idp121914480"></a><a class="indexterm" name="idp121915568"></a><a class="indexterm" name="idp121917056"></a><p>
      In this section, we discuss the types of event logs provided by
      MySQL Cluster, and the types of events that are logged.
    </p><p>
      MySQL Cluster provides two types of event log:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          The <em class="firstterm">cluster log</em>, which includes events
          generated by all cluster nodes. The cluster log is the log
          recommended for most uses because it provides logging
          information for an entire cluster in a single location.
        </p><p>
          By default, the cluster log is saved to a file named
          <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_cluster.log</code>,
          (where <em class="replaceable"><code>node_id</code></em> is the node ID of
          the management server) in the same directory where the
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> binary resides.
        </p><p>
          Cluster logging information can also be sent to
          <code class="literal">stdout</code> or a <code class="literal">syslog</code>
          facility in addition to or instead of being saved to a file,
          as determined by the values set for the
          <a class="link" href="mysql-cluster.html#ndbparam-mgmd-datadir"><code class="literal">DataDir</code></a> and
          <a class="link" href="mysql-cluster.html#ndbparam-mgmd-logdestination"><code class="literal">LogDestination</code></a>
          configuration parameters. See
          <a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-definition" title="17.3.2.5. Defining a MySQL Cluster Management Server">Section 17.3.2.5, “Defining a MySQL Cluster Management Server”</a>, for more
          information about these parameters.
        </p></li><li class="listitem"><p>
          <em class="firstterm">Node logs</em> are local to each node.
        </p><p>
          Output generated by node event logging is written to the file
          <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_out.log</code>
          (where <em class="replaceable"><code>node_id</code></em> is the node's node
          ID) in the node's
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a>. Node event
          logs are generated for both management nodes and data nodes.
        </p><p>
          Node logs are intended to be used only during application
          development, or for debugging application code.
</p></li></ul>
</div>
<p>
      Both types of event logs can be set to log different subsets of
      events.
    </p><p>
      Each reportable event can be distinguished according to three
      different criteria:
</p><a class="indexterm" name="idp121934656"></a><a class="indexterm" name="idp121936144"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="emphasis"><em>Category</em></span>: This can be any one of the
          following values: <code class="literal">STARTUP</code>,
          <code class="literal">SHUTDOWN</code>, <code class="literal">STATISTICS</code>,
          <code class="literal">CHECKPOINT</code>, <code class="literal">NODERESTART</code>,
          <code class="literal">CONNECTION</code>, <code class="literal">ERROR</code>, or
          <code class="literal">INFO</code>.
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>Priority</em></span>: This is represented by one of
          the numbers from 1 to 15 inclusive, where 1 indicates
          <span class="quote">“<span class="quote">most important</span>”</span> and 15 <span class="quote">“<span class="quote">least
          important.</span>”</span>
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>Severity Level</em></span>: This can be any one of
          the following values: <code class="literal">ALERT</code>,
          <code class="literal">CRITICAL</code>, <code class="literal">ERROR</code>,
          <code class="literal">WARNING</code>, <code class="literal">INFO</code>, or
          <code class="literal">DEBUG</code>.
</p></li></ul>
</div>
<p>
      Both the cluster log and the node log can be filtered on these
      properties.
    </p><p>
      The format used in the cluster log is as shown here:
    </p><pre class="programlisting">2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 1: Data usage is 2%(60 32K pages of total 2560)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 1: Index usage is 1%(24 8K pages of total 2336)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 1: Resource 0 min: 0 max: 639 curr: 0
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 2: Data usage is 2%(76 32K pages of total 2560)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 2: Index usage is 1%(24 8K pages of total 2336)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 2: Resource 0 min: 0 max: 639 curr: 0
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 3: Data usage is 2%(58 32K pages of total 2560)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 3: Index usage is 1%(25 8K pages of total 2336)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 3: Resource 0 min: 0 max: 639 curr: 0
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 4: Data usage is 2%(74 32K pages of total 2560)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 4: Index usage is 1%(25 8K pages of total 2336)
2007-01-26 19:35:55 [MgmSrvr] INFO     -- Node 4: Resource 0 min: 0 max: 639 curr: 0
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 4: Node 9 Connected
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 1: Node 9 Connected
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 1: Node 9: API 5.6.11-ndb-7.3.3
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 2: Node 9 Connected
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 2: Node 9: API 5.6.11-ndb-7.3.3
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 3: Node 9 Connected
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 3: Node 9: API 5.6.11-ndb-7.3.3
2007-01-26 19:39:42 [MgmSrvr] INFO     -- Node 4: Node 9: API 5.6.11-ndb-7.3.3
2007-01-26 19:59:22 [MgmSrvr] ALERT    -- Node 2: Node 7 Disconnected
2007-01-26 19:59:22 [MgmSrvr] ALERT    -- Node 2: Node 7 Disconnected</pre><p>
      Each line in the cluster log contains the following information:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          A timestamp in
          <code class="literal"><em class="replaceable"><code>YYYY</code></em>-<em class="replaceable"><code>MM</code></em>-<em class="replaceable"><code>DD</code></em>
          <em class="replaceable"><code>HH</code></em>:<em class="replaceable"><code>MM</code></em>:<em class="replaceable"><code>SS</code></em></code>
          format.
        </p></li><li class="listitem"><p>
          The type of node which is performing the logging. In the
          cluster log, this is always <code class="literal">[MgmSrvr]</code>.
        </p></li><li class="listitem"><p>
          The severity of the event.
        </p></li><li class="listitem"><p>
          The ID of the node reporting the event.
        </p></li><li class="listitem"><p>
          A description of the event. The most common types of events to
          appear in the log are connections and disconnections between
          different nodes in the cluster, and when checkpoints occur. In
          some cases, the description may contain status information.
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-logging-management-commands"></a>17.5.6.1. MySQL Cluster Logging Management Commands</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp121967440"></a><a class="indexterm" name="idp121968928"></a><a class="indexterm" name="idp121970016"></a><a class="indexterm" name="idp121971088"></a><a class="indexterm" name="idp121972576"></a><a class="indexterm" name="idp121973664"></a><p>
        The following management commands are related to the cluster
        log:
</p><a class="indexterm" name="idp121975648"></a><a class="indexterm" name="idp121977136"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">CLUSTERLOG ON</code>
          </p><p>
            Turns the cluster log on.
          </p></li><li class="listitem"><p>
            <code class="literal">CLUSTERLOG OFF</code>
          </p><p>
            Turns the cluster log off.
          </p></li><li class="listitem"><p>
            <code class="literal">CLUSTERLOG INFO</code>
          </p><p>
            Provides information about cluster log settings.
          </p></li><li class="listitem"><p>
            <code class="literal"><em class="replaceable"><code>node_id</code></em> CLUSTERLOG
            <em class="replaceable"><code>category</code></em>=<em class="replaceable"><code>threshold</code></em></code>
          </p><p>
            Logs <em class="replaceable"><code>category</code></em> events with
            priority less than or equal to
            <em class="replaceable"><code>threshold</code></em> in the cluster log.
          </p></li><li class="listitem"><p>
            <code class="literal">CLUSTERLOG FILTER
            <em class="replaceable"><code>severity_level</code></em></code>
          </p><p>
            Toggles cluster logging of events of the specified
            <em class="replaceable"><code>severity_level</code></em>.
</p></li></ul>
</div>
<p>
        The following table describes the default setting (for all data
        nodes) of the cluster log category threshold. If an event has a
        priority with a value lower than or equal to the priority
        threshold, it is reported in the cluster log.
      </p><a class="indexterm" name="idp121991552"></a><a class="indexterm" name="idp121993056"></a><p>
        Note that events are reported per data node, and that the
        threshold can be set to different values on different nodes.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Category</th><th scope="col">Default threshold (All data nodes)</th></tr></thead><tbody><tr><td scope="row"><code class="literal">STARTUP</code></td><td><span class="bold"><strong>7</strong></span></td></tr><tr><td scope="row"><code class="literal">SHUTDOWN</code></td><td><span class="bold"><strong>7</strong></span></td></tr><tr><td scope="row"><code class="literal">STATISTICS</code></td><td><span class="bold"><strong>7</strong></span></td></tr><tr><td scope="row"><code class="literal">CHECKPOINT</code></td><td><span class="bold"><strong>7</strong></span></td></tr><tr><td scope="row"><code class="literal">NODERESTART</code></td><td><span class="bold"><strong>7</strong></span></td></tr><tr><td scope="row"><code class="literal">CONNECTION</code></td><td><span class="bold"><strong>7</strong></span></td></tr><tr><td scope="row"><code class="literal">ERROR</code></td><td><span class="bold"><strong>15</strong></span></td></tr><tr><td scope="row"><code class="literal">INFO</code></td><td><span class="bold"><strong>7</strong></span></td></tr></tbody></table>
</div>
<p>
        The <code class="literal">STATISTICS</code> category can provide a great
        deal of useful data. See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-log-statistics" title="17.5.6.3. Using CLUSTERLOG STATISTICS in the MySQL Cluster Management Client">Section 17.5.6.3, “Using <code class="literal">CLUSTERLOG STATISTICS</code> in the MySQL Cluster
        Management Client”</a>, for more
        information.
      </p><p>
        Thresholds are used to filter events within each category. For
        example, a <code class="literal">STARTUP</code> event with a priority of 3
        is not logged unless the threshold for
        <code class="literal">STARTUP</code> is set to 3 or higher. Only events
        with priority 3 or lower are sent if the threshold is 3.
      </p><a class="indexterm" name="idp122018432"></a><a class="indexterm" name="idp122019920"></a><p>
        The following table shows the event severity levels.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          These correspond to Unix <code class="literal">syslog</code> levels,
          except for <code class="literal">LOG_EMERG</code> and
          <code class="literal">LOG_NOTICE</code>, which are not used or mapped.
</p>
</div>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>1</strong></span></td><td><code class="literal">ALERT</code></td><td>A condition that should be corrected immediately, such as a corrupted
                system database</td></tr><tr><td scope="row"><span class="bold"><strong>2</strong></span></td><td><code class="literal">CRITICAL</code></td><td>Critical conditions, such as device errors or insufficient resources</td></tr><tr><td scope="row"><span class="bold"><strong>3</strong></span></td><td><code class="literal">ERROR</code></td><td>Conditions that should be corrected, such as configuration errors</td></tr><tr><td scope="row"><span class="bold"><strong>4</strong></span></td><td><code class="literal">WARNING</code></td><td>Conditions that are not errors, but that might require special handling</td></tr><tr><td scope="row"><span class="bold"><strong>5</strong></span></td><td><code class="literal">INFO</code></td><td>Informational messages</td></tr><tr><td scope="row"><span class="bold"><strong>6</strong></span></td><td><code class="literal">DEBUG</code></td><td>Debugging messages used for <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>
development</td></tr></tbody></table>
</div>
<p>
        Event severity levels can be turned on or off (using
        <code class="literal">CLUSTERLOG FILTER</code>—see above). If a
        severity level is turned on, then all events with a priority
        less than or equal to the category thresholds are logged. If the
        severity level is turned off then no events belonging to that
        severity level are logged.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          Cluster log levels are set on a per
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgmd" title="17.4.4. ndb_mgmd — The MySQL Cluster Management Server Daemon"><span class="command"><strong>ndb_mgmd</strong></span></a>, per subscriber basis. This means
          that, in a MySQL Cluster with multiple management servers,
          using a <code class="literal">CLUSTERLOG</code> command in an instance
          of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> connected to one management
          server affects only logs generated by that management server
          but not by any of the others. This also means that, should one
          of the management servers be restarted, only logs generated by
          that management server are affected by the resetting of log
          levels caused by the restart.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-log-events"></a>17.5.6.2. MySQL Cluster Log Events</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp122049200"></a><a class="indexterm" name="idp122050688"></a><p>
        An event report reported in the event logs has the following
        format:
      </p><pre class="programlisting"><em class="replaceable"><code>datetime</code></em> [<em class="replaceable"><code>string</code></em>] <em class="replaceable"><code>severity</code></em> -- <em class="replaceable"><code>message</code></em>
</pre><p>
        For example:
      </p><pre class="programlisting">09:19:30 2005-07-24 [NDB] INFO -- Node 4 Start phase 4 completed</pre><p>
        This section discusses all reportable events, ordered by
        category and severity level within each category.
      </p><p>
        In the event descriptions, GCP and LCP mean <span class="quote">“<span class="quote">Global
        Checkpoint</span>”</span> and <span class="quote">“<span class="quote">Local Checkpoint</span>”</span>,
        respectively.
      </p><a class="indexterm" name="idp122057568"></a><a class="indexterm" name="idp122059056"></a><a class="indexterm" name="idp122060144"></a><a class="indexterm" name="idp122061632"></a><p>
        <span class="bold"><strong><code class="literal">CONNECTION</code>
        Events</strong></span>
      </p><p>
        These events are associated with connections between Cluster
        nodes.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">Event</th><th scope="col">Priority</th><th scope="col">Severity Level</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row">data nodes connected</td><td>8</td><td><code class="literal">INFO</code></td><td>Data nodes connected</td></tr><tr><td scope="row">data nodes disconnected</td><td>8</td><td><code class="literal">INFO</code></td><td>Data nodes disconnected</td></tr><tr><td scope="row">Communication closed</td><td>8</td><td><code class="literal">INFO</code></td><td>SQL node or data node connection closed</td></tr><tr><td scope="row">Communication opened</td><td>8</td><td><code class="literal">INFO</code></td><td>SQL node or data node connection opened</td></tr></tbody></table>
</div>
<p>
        <span class="bold"><strong><code class="literal">CHECKPOINT</code>
        Events</strong></span>
      </p><a class="indexterm" name="idp122081984"></a><a class="indexterm" name="idp122083472"></a><p>
        The logging messages shown here are associated with checkpoints.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">Event</th><th scope="col">Priority</th><th scope="col">Severity Level</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row">LCP stopped in calc keep GCI</td><td>0</td><td><code class="literal">ALERT</code></td><td>LCP stopped</td></tr><tr><td scope="row">Local checkpoint fragment completed</td><td>11</td><td><code class="literal">INFO</code></td><td>LCP on a fragment has been completed</td></tr><tr><td scope="row">Global checkpoint completed</td><td>10</td><td><code class="literal">INFO</code></td><td>GCP finished</td></tr><tr><td scope="row">Global checkpoint started</td><td>9</td><td><code class="literal">INFO</code></td><td>Start of GCP: REDO log is written to disk</td></tr><tr><td scope="row">Local checkpoint completed</td><td>8</td><td><code class="literal">INFO</code></td><td>LCP completed normally</td></tr><tr><td scope="row">Local checkpoint started</td><td>7</td><td><code class="literal">INFO</code></td><td>Start of LCP: data written to disk</td></tr></tbody></table>
</div>
<p>
        <span class="bold"><strong><code class="literal">STARTUP</code>
        Events</strong></span>
      </p><a class="indexterm" name="idp122107136"></a><a class="indexterm" name="idp122108624"></a><p>
        The following events are generated in response to the startup of
        a node or of the cluster and of its success or failure. They
        also provide information relating to the progress of the startup
        process, including information concerning logging activities.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">Event</th><th scope="col">Priority</th><th scope="col">Severity Level</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row">Internal start signal received STTORRY</td><td>15</td><td><code class="literal">INFO</code></td><td>Blocks received after completion of restart</td></tr><tr><td scope="row">New REDO log started</td><td>10</td><td><code class="literal">INFO</code></td><td>GCI keep <em class="replaceable"><code>X</code></em>, newest restorable GCI
                <em class="replaceable"><code>Y</code></em></td></tr><tr><td scope="row">New log started</td><td>10</td><td><code class="literal">INFO</code></td><td>Log part <em class="replaceable"><code>X</code></em>, start MB
                <em class="replaceable"><code>Y</code></em>, stop MB
                <em class="replaceable"><code>Z</code></em></td></tr><tr><td scope="row">Node has been refused for inclusion in the cluster</td><td>8</td><td><code class="literal">INFO</code></td><td>Node cannot be included in cluster due to misconfiguration, inability to
establish communication, or other problem</td></tr><tr><td scope="row">data node neighbors</td><td>8</td><td><code class="literal">INFO</code></td><td>Shows neighboring data nodes</td></tr><tr><td scope="row">data node start phase <em class="replaceable"><code>X</code></em> completed</td><td>4</td><td><code class="literal">INFO</code></td><td>A data node start phase has been completed</td></tr><tr><td scope="row">Node has been successfully included into the cluster</td><td>3</td><td><code class="literal">INFO</code></td><td>Displays the node, managing node, and dynamic ID</td></tr><tr><td scope="row">data node start phases initiated</td><td>1</td><td><code class="literal">INFO</code></td><td>NDB Cluster nodes starting</td></tr><tr><td scope="row">data node all start phases completed</td><td>1</td><td><code class="literal">INFO</code></td><td>NDB Cluster nodes started</td></tr><tr><td scope="row">data node shutdown initiated</td><td>1</td><td><code class="literal">INFO</code></td><td>Shutdown of data node has commenced</td></tr><tr><td scope="row">data node shutdown aborted</td><td>1</td><td><code class="literal">INFO</code></td><td>Unable to shut down data node normally</td></tr></tbody></table>
</div>
<p>
        <span class="bold"><strong><code class="literal">NODERESTART</code>
        Events</strong></span>
      </p><a class="indexterm" name="idp122147088"></a><a class="indexterm" name="idp122148576"></a><p>
        The following events are generated when restarting a node and
        relate to the success or failure of the node restart process.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">Event</th><th scope="col">Priority</th><th scope="col">Severity Level</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row">Node failure phase completed</td><td>8</td><td><code class="literal">ALERT</code></td><td>Reports completion of node failure phases</td></tr><tr><td scope="row">Node has failed, node state was <em class="replaceable"><code>X</code></em></td><td>8</td><td><code class="literal">ALERT</code></td><td>Reports that a node has failed</td></tr><tr><td scope="row">Report arbitrator results</td><td>2</td><td><code class="literal">ALERT</code></td><td>There are eight different possible results for arbitration attempts:

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                      Arbitration check failed—less than 1/2 nodes
                      left
                    </p></li><li class="listitem"><p>
                      Arbitration check succeeded—node group
                      majority
                    </p></li><li class="listitem"><p>
                      Arbitration check failed—missing node group
                    </p></li><li class="listitem"><p>
                      Network partitioning—arbitration required
                    </p></li><li class="listitem"><p>
                      Arbitration succeeded—affirmative response
                      from node <em class="replaceable"><code>X</code></em>
                    </p></li><li class="listitem"><p>
                      Arbitration failed - negative response from node
                      <em class="replaceable"><code>X</code></em>
                    </p></li><li class="listitem"><p>
                      Network partitioning - no arbitrator available
                    </p></li><li class="listitem"><p>
                      Network partitioning - no arbitrator configured
</p></li></ul>
</div>
</td></tr><tr><td scope="row">Completed copying a fragment</td><td>10</td><td><code class="literal">INFO</code></td><td> </td></tr><tr><td scope="row">Completed copying of dictionary information</td><td>8</td><td><code class="literal">INFO</code></td><td> </td></tr><tr><td scope="row">Completed copying distribution information</td><td>8</td><td><code class="literal">INFO</code></td><td> </td></tr><tr><td scope="row">Starting to copy fragments</td><td>8</td><td><code class="literal">INFO</code></td><td> </td></tr><tr><td scope="row">Completed copying all fragments</td><td>8</td><td><code class="literal">INFO</code></td><td> </td></tr><tr><td scope="row">GCP takeover started</td><td>7</td><td><code class="literal">INFO</code></td><td> </td></tr><tr><td scope="row">GCP takeover completed</td><td>7</td><td><code class="literal">INFO</code></td><td> </td></tr><tr><td scope="row">LCP takeover started</td><td>7</td><td><code class="literal">INFO</code></td><td> </td></tr><tr><td scope="row">LCP takeover completed (state = <em class="replaceable"><code>X</code></em>)</td><td>7</td><td><code class="literal">INFO</code></td><td> </td></tr><tr><td scope="row">Report whether an arbitrator is found or not</td><td>6</td><td><code class="literal">INFO</code></td><td>There are seven different possible outcomes when seeking an arbitrator:

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                      Management server restarts arbitration thread
                      [state=<em class="replaceable"><code>X</code></em>]
                    </p></li><li class="listitem"><p>
                      Prepare arbitrator node
                      <em class="replaceable"><code>X</code></em>
                      [ticket=<em class="replaceable"><code>Y</code></em>]
                    </p></li><li class="listitem"><p>
                      Receive arbitrator node
                      <em class="replaceable"><code>X</code></em>
                      [ticket=<em class="replaceable"><code>Y</code></em>]
                    </p></li><li class="listitem"><p>
                      Started arbitrator node
                      <em class="replaceable"><code>X</code></em>
                      [ticket=<em class="replaceable"><code>Y</code></em>]
                    </p></li><li class="listitem"><p>
                      Lost arbitrator node <em class="replaceable"><code>X</code></em>
                      - process failure
                      [state=<em class="replaceable"><code>Y</code></em>]
                    </p></li><li class="listitem"><p>
                      Lost arbitrator node <em class="replaceable"><code>X</code></em>
                      - process exit
                      [state=<em class="replaceable"><code>Y</code></em>]
                    </p></li><li class="listitem"><p>
                      Lost arbitrator node <em class="replaceable"><code>X</code></em>
                      &lt;error msg&gt;
                      [state=<em class="replaceable"><code>Y</code></em>]
</p></li></ul>
</div>
</td></tr></tbody></table>
</div>
<p>
        <span class="bold"><strong><code class="literal">STATISTICS</code>
        Events</strong></span>
      </p><a class="indexterm" name="idp122209136"></a><a class="indexterm" name="idp122210624"></a><p>
        The following events are of a statistical nature. They provide
        information such as numbers of transactions and other
        operations, amount of data sent or received by individual nodes,
        and memory usage.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">Event</th><th scope="col">Priority</th><th scope="col">Severity Level</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row">Report job scheduling statistics</td><td>9</td><td><code class="literal">INFO</code></td><td>Mean internal job scheduling statistics</td></tr><tr><td scope="row">Sent number of bytes</td><td>9</td><td><code class="literal">INFO</code></td><td>Mean number of bytes sent to node <em class="replaceable"><code>X</code></em></td></tr><tr><td scope="row">Received # of bytes</td><td>9</td><td><code class="literal">INFO</code></td><td>Mean number of bytes received from node <em class="replaceable"><code>X</code></em></td></tr><tr><td scope="row">Report transaction statistics</td><td>8</td><td><code class="literal">INFO</code></td><td>Numbers of: transactions, commits, reads, simple reads, writes,
concurrent operations, attribute information, and aborts</td></tr><tr><td scope="row">Report operations</td><td>8</td><td><code class="literal">INFO</code></td><td>Number of operations</td></tr><tr><td scope="row">Report table create</td><td>7</td><td><code class="literal">INFO</code></td><td> </td></tr><tr><td scope="row">Memory usage</td><td>5</td><td><code class="literal">INFO</code></td><td>Data and index memory usage (80%, 90%, and 100%)</td></tr></tbody></table>
</div>
<p>
        <span class="bold"><strong><code class="literal">ERROR</code> Events</strong></span>
      </p><a class="indexterm" name="idp122237312"></a><a class="indexterm" name="idp122238800"></a><p>
        These events relate to Cluster errors and warnings. The presence
        of one or more of these generally indicates that a major
        malfunction or failure has occurred.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">Event</th><th scope="col">Priority</th><th scope="col">Severity</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row">Dead due to missed heartbeat</td><td>8</td><td><code class="literal">ALERT</code></td><td>Node <em class="replaceable"><code>X</code></em> declared <span class="quote">“<span class="quote">dead</span>”</span> due to
                missed heartbeat</td></tr><tr><td scope="row">Transporter errors</td><td>2</td><td>ERROR</td><td> </td></tr><tr><td scope="row">Transporter warnings</td><td>8</td><td><code class="literal">WARNING</code></td><td> </td></tr><tr><td scope="row">Missed heartbeats</td><td>8</td><td><code class="literal">WARNING</code></td><td>Node <em class="replaceable"><code>X</code></em> missed heartbeat
#<em class="replaceable"><code>Y</code></em></td></tr><tr><td scope="row">General warning events</td><td>2</td><td><code class="literal">WARNING</code></td><td> </td></tr></tbody></table>
</div>
<p>
        <span class="bold"><strong><code class="literal">INFO</code> Events</strong></span>
      </p><a class="indexterm" name="idp122260720"></a><a class="indexterm" name="idp122262208"></a><p>
        These events provide general information about the state of the
        cluster and activities associated with Cluster maintenance, such
        as logging and heartbeat transmission.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th scope="col">Event</th><th scope="col">Priority</th><th scope="col">Severity</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row">Sent heartbeat</td><td>12</td><td><code class="literal">INFO</code></td><td>Heartbeat sent to node <em class="replaceable"><code>X</code></em></td></tr><tr><td scope="row">Create log bytes</td><td>11</td><td><code class="literal">INFO</code></td><td>Log part, log file, MB</td></tr><tr><td scope="row">General information events</td><td>2</td><td><code class="literal">INFO</code></td><td> </td></tr></tbody></table>
</div>

</div>

<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-log-statistics"></a>17.5.6.3. Using <code class="literal">CLUSTERLOG STATISTICS</code> in the MySQL Cluster
Management Client</h4>
</div>
</div>
</div>
<a class="indexterm" name="idp122278896"></a><a class="indexterm" name="idp122280400"></a><a class="indexterm" name="idp122281504"></a><a class="indexterm" name="idp122282992"></a><a class="indexterm" name="idp122284480"></a><a class="indexterm" name="idp122285968"></a><p>
        The <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> management client's
        <code class="literal">CLUSTERLOG STATISTICS</code> command can provide a
        number of useful statistics in its output. Counters providing
        information about the state of the cluster are updated at
        5-second reporting intervals by the transaction coordinator (TC)
        and the local query handler (LQH), and written to the cluster
        log.
      </p><p><b>Transaction coordinator statistics. </b>
          Each transaction has one transaction coordinator, which is
          chosen by one of the following methods:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            In a round-robin fashion
          </p></li><li class="listitem"><p>
            By communication proximity
          </p></li><li class="listitem"><p>
            (<span class="emphasis"><em>Beginning with MySQL Cluster NDB
            6.3.4</em></span>:) By supplying a data placement hint when
            the transaction is started
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p xmlns="">
          You can determine which TC selection method is used for
          transactions started from a given SQL node using the
          <a class="link" href="mysql-cluster.html#sysvar_ndb_optimized_node_selection"><code class="literal">ndb_optimized_node_selection</code></a>
          system variable.
</p>
</div>
<p>
        All operations within the same transaction use the same
        transaction coordinator, which reports the following statistics:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b><code class="literal">Trans count</code>. </b>
              This is the number transactions started in the last
              interval using this TC as the transaction coordinator. Any
              of these transactions may have committed, have been
              aborted, or remain uncommitted at the end of the reporting
              interval.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              Transactions do not migrate between TCs.
</p>
</div>
</li><li class="listitem"><p><b><code class="literal">Commit count</code>. </b>
              This is the number of transactions using this TC as the
              transaction coordinator that were committed in the last
              reporting interval. Because some transactions committed in
              this reporting interval may have started in a previous
              reporting interval, it is possible for <code class="literal">Commit
              count</code> to be greater than <code class="literal">Trans
              count</code>.
            </p></li><li class="listitem"><p><b><code class="literal">Read count</code>. </b>
              This is the number of primary key read operations using
              this TC as the transaction coordinator that were started
              in the last reporting interval, including simple reads.
              This count also includes reads performed as part of unique
              index operations. A unique index read operation generates
              2 primary key read operations—1 for the hidden
              unique index table, and 1 for the table on which the read
              takes place.
            </p></li><li class="listitem"><p><b><code class="literal">Simple read count</code>. </b>
              This is the number of simple read operations using this TC
              as the transaction coordinator that were started in the
              last reporting interval. This is a subset of <code class="literal">Read
              count</code>. Because the value of <code class="literal">Simple read
              count</code> is incremented at a different point in
              time from <code class="literal">Read count</code>, it can lag behind
              <code class="literal">Read count</code> slightly, so it is
              conceivable that <code class="literal">Simple read count</code> is
              not equal to <code class="literal">Read count</code> for a given
              reporting interval, even if all reads made during that
              time were in fact simple reads.
            </p></li><li class="listitem"><p><b><code class="literal">Write count</code>. </b>
              This is the number of primary key write operations using
              this TC as the transaction coordinator that were started
              in the last reporting interval. This includes all inserts,
              updates, writes and deletes, as well as writes performed
              as part of unique index operations.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              A unique index update operation can generate multiple PK
              read and write operations on the index table and on the
              base table.
</p>
</div>
</li><li class="listitem"><p><b><code class="literal">AttrInfoCount</code>. </b>
              This is the number of 32-bit data words received in the
              last reporting interval for primary key operations using
              this TC as the transaction coordinator. For reads, this is
              proportional to the number of columns requested. For
              inserts and updates, this is proportional to the number of
              columns written, and the size of their data. For delete
              operations, this is usually zero.
            </p><p>
            Unique index operations generate multiple PK operations and
            so increase this count. However, data words sent to describe
            the PK operation itself, and the key information sent, are
            <span class="emphasis"><em>not</em></span> counted here. Attribute information
            sent to describe columns to read for scans, or to describe
            ScanFilters, is also not counted in
            <code class="literal">AttrInfoCount</code>.
          </p></li><li class="listitem"><p><b><code class="literal">Concurrent Operations</code>. </b>
              This is the number of primary key or scan operations using
              this TC as the transaction coordinator that were started
              during the last reporting interval but that were not
              completed. Operations increment this counter when they are
              started and decrement it when they are completed; this
              occurs after the transaction commits. Dirty reads and
              writes—as well as failed operations—decrement
              this counter.
            </p><p>
            The maximum value that <code class="literal">Concurrent
            Operations</code> can have is the maximum number of
            operations that a TC block can support; currently, this is
            <code class="literal">(2 * MaxNoOfConcurrentOperations) + 16 +
            MaxNoOfConcurrentTransactions</code>. (For more
            information about these configuration parameters, see the
            <em class="citetitle">Transaction Parameters</em> section of
            <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-definition" title="17.3.2.6. Defining MySQL Cluster Data Nodes">Section 17.3.2.6, “Defining MySQL Cluster Data Nodes”</a>.)
          </p></li><li class="listitem"><p><b><code class="literal">Abort count</code>. </b>
              This is the number of transactions using this TC as the
              transaction coordinator that were aborted during the last
              reporting interval. Because some transactions that were
              aborted in the last reporting interval may have started in
              a previous reporting interval, <code class="literal">Abort
              count</code> can sometimes be greater than
              <code class="literal">Trans count</code>.
            </p></li><li class="listitem"><p><b><code class="literal">Scans</code>. </b>
              This is the number of table scans using this TC as the
              transaction coordinator that were started during the last
              reporting interval. This does not include range scans
              (that is, ordered index scans).
            </p></li><li class="listitem"><p><b><code class="literal">Range scans</code>. </b>
              This is the number of ordered index scans using this TC as
              the transaction coordinator that were started in the last
              reporting interval.
</p></li></ul>
</div>
<p><b>Local query handler statistics (<code class="literal">Operations</code>). </b>
          There is 1 cluster event per local query handler block (that
          is, 1 per data node process). Operations are recorded in the
          LQH where the data they are operating on resides.
        </p><p>
        

</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          A single transaction may operate on data stored in multiple
          LQH blocks.
</p>
</div>
<p>
        The <code class="literal">Operations</code> statistic provides the number
        of local operations performed by this LQH block in the last
        reporting interval, and includes all types of read and write
        operations (insert, update, write, and delete operations). This
        also includes operations used to replicate writes. For example,
        in a 2-replica cluster, the write to the primary replica is
        recorded in the primary LQH, and the write to the backup will be
        recorded in the backup LQH. Unique key operations may result in
        multiple local operations; however, this does
        <span class="emphasis"><em>not</em></span> include local operations generated as a
        result of a table scan or ordered index scan, which are not
        counted.
      </p><p><b>Process scheduler statistics. </b>
          <a class="indexterm" name="idp122343488"></a>

          In addition to the statistics reported by the transaction
          coordinator and local query handler, each
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process has a scheduler which also
          provides useful metrics relating to the performance of a MySQL
          Cluster. This scheduler runs in an infinite loop; during each
          loop the scheduler performs the following tasks:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Read any incoming messages from sockets into a job buffer.
          </p></li><li class="listitem"><p>
            Check whether there are any timed messages to be executed;
            if so, put these into the job buffer as well.
          </p></li><li class="listitem"><p>
            Execute (in a loop) any messages in the job buffer.
          </p></li><li class="listitem"><p>
            Send any distributed messages that were generated by
            executing the messages in the job buffer.
          </p></li><li class="listitem"><p>
            Wait for any new incoming messages.
</p></li></ol>
</div>
<p>
        Process scheduler statistics include the following:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b><code class="literal">Mean Loop Counter</code>. </b>
              This is the number of loops executed in the third step
              from the preceding list. This statistic increases in size
              as the utilization of the TCP/IP buffer improves. You can
              use this to monitor changes in performance as you add new
              data node processes.
            </p></li><li class="listitem"><p><b><code class="literal">Mean send size</code> and <code class="literal">Mean receive
              size</code>. </b>
              These statistics enable you to gauge the efficiency of,
              respectively writes and reads between nodes. The values
              are given in bytes. Higher values mean a lower cost per
              byte sent or received; the maximum value is 64K.
</p></li></ul>
</div>
<p>
        To cause all cluster log statistics to be logged, you can use
        the following command in the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
        management client:
      </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>ALL CLUSTERLOG STATISTICS=15</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          Setting the threshold for <code class="literal">STATISTICS</code> to 15
          causes the cluster log to become very verbose, and to grow
          quite rapidly in size, in direct proportion to the number of
          cluster nodes and the amount of activity in the MySQL Cluster.
</p>
</div>
<p>
        For more information about MySQL Cluster management client
        commands relating to logging and reporting, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-logging-management-commands" title="17.5.6.1. MySQL Cluster Logging Management Commands">Section 17.5.6.1, “MySQL Cluster Logging Management Commands”</a>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-logs-ndb-messages"></a>17.5.7. MySQL Cluster Log Messages</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-logs-cluster-log">17.5.7.1. MySQL Cluster: Messages in the Cluster Log</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndb-transporter-errors">17.5.7.2. MySQL Cluster: <code class="literal">NDB</code> Transporter Errors</a></span></dt></dl>
</div>
<p>
      This section contains information about the messages written to
      the cluster log in response to different cluster log events. It
      provides additional, more specific information on
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> transporter errors.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-logs-cluster-log"></a>17.5.7.1. MySQL Cluster: Messages in the Cluster Log</h4>
</div>
</div>
</div>
<p>
        The following table lists the most common
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> cluster log messages. For
        information about the cluster log, log events, and event types,
        see <a class="xref" href="mysql-cluster.html#mysql-cluster-event-reports" title="17.5.6. Event Reports Generated in MySQL Cluster">Section 17.5.6, “Event Reports Generated in MySQL Cluster”</a>. These log
        messages also correspond to log event types in the MGM API; see
        <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mgm-ndb-logevent-type.html" target="_top">The <code class="literal">Ndb_logevent_type</code> Type</a>, for related information
        of interest to Cluster API developers.
</p>
<div class="informaltable">
<table summary="This table lists the most common
          NDB cluster log messages. The
          first column provides the log message and a description of the
          log message. The second column lists the corresponding event
          name, event type, priority, and severity." border="1"><colgroup><col><col></colgroup><tbody><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node
                    <em class="replaceable"><code>mgm_node_id</code></em>: Node
                    <em class="replaceable"><code>data_node_id</code></em>
                    Connected</code>
                  </p>

                <p><b>Description. </b>
                    The data node having node ID
                    <em class="replaceable"><code>node_id</code></em> has connected to
                    the management server (node
                    <em class="replaceable"><code>mgm_node_id</code></em>).
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">Connected</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Connection</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node
                    <em class="replaceable"><code>mgm_node_id</code></em>: Node
                    <em class="replaceable"><code>data_node_id</code></em>
                    Disconnected</code>
                  </p>

                <p><b>Description. </b>
                    The data node having node ID
                    <em class="replaceable"><code>data_node_id</code></em> has
                    disconnected from the management server (node
                    <em class="replaceable"><code>mgm_node_id</code></em>).
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">Disconnected</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Connection</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node
                    <em class="replaceable"><code>data_node_id</code></em>:
                    Communication to Node
                    <em class="replaceable"><code>api_node_id</code></em>
                    closed</code>
                  </p>

                <p><b>Description. </b>
                    The API node or SQL node having node ID
                    <em class="replaceable"><code>api_node_id</code></em> is no longer
                    communicating with data node
                    <em class="replaceable"><code>data_node_id</code></em>.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">CommunicationClosed</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Connection</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node
                    <em class="replaceable"><code>data_node_id</code></em>:
                    Communication to Node
                    <em class="replaceable"><code>api_node_id</code></em>
                    opened</code>
                  </p>

                <p><b>Description. </b>
                    The API node or SQL node having node ID
                    <em class="replaceable"><code>api_node_id</code></em> is now
                    communicating with data node
                    <em class="replaceable"><code>data_node_id</code></em>.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">CommunicationOpened</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Connection</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node
                    <em class="replaceable"><code>mgm_node_id</code></em>: Node
                    <em class="replaceable"><code>api_node_id</code></em>: API
                    <em class="replaceable"><code>version</code></em></code>
                  </p>

                <p><b>Description. </b>
                    The API node having node ID
                    <em class="replaceable"><code>api_node_id</code></em> has connected
                    to management node
                    <em class="replaceable"><code>mgm_node_id</code></em> using
                    <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> API version
                    <em class="replaceable"><code>version</code></em> (generally the
                    same as the MySQL version number).
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">ConnectedApiVersion</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Connection</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Global checkpoint <em class="replaceable"><code>gci</code></em>
                    started</code>
                  </p>

                <p><b>Description. </b>
                    A global checkpoint with the ID
                    <em class="replaceable"><code>gci</code></em> has been started;
                    node <em class="replaceable"><code>node_id</code></em> is the
                    master responsible for this global checkpoint.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">GlobalCheckpointStarted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>Priority. </b>
                    9
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Global checkpoint <em class="replaceable"><code>gci</code></em>
                    completed</code>
                  </p>

                <p><b>Description. </b>
                    The global checkpoint having the ID
                    <em class="replaceable"><code>gci</code></em> has been completed;
                    node <em class="replaceable"><code>node_id</code></em> was the
                    master responsible for this global checkpoint.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">GlobalCheckpointCompleted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>Priority. </b>
                    10
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Local checkpoint <em class="replaceable"><code>lcp</code></em>
                    started. Keep GCI =
                    <em class="replaceable"><code>current_gci</code></em> oldest
                    restorable GCI =
                    <em class="replaceable"><code>old_gci</code></em></code>
                  </p>

                <p><b>Description. </b>
                    The local checkpoint having sequence ID
                    <em class="replaceable"><code>lcp</code></em> has been started on
                    node <em class="replaceable"><code>node_id</code></em>. The most
                    recent GCI that can be used has the index
                    <em class="replaceable"><code>current_gci</code></em>, and the
                    oldest GCI from which the cluster can be restored
                    has the index <em class="replaceable"><code>old_gci</code></em>.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">LocalCheckpointStarted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>Priority. </b>
                    7
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Local checkpoint <em class="replaceable"><code>lcp</code></em>
                    completed</code>
                  </p>

                <p><b>Description. </b>
                    The local checkpoint having sequence ID
                    <em class="replaceable"><code>lcp</code></em> on node
                    <em class="replaceable"><code>node_id</code></em> has been
                    completed.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">LocalCheckpointCompleted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Local Checkpoint stopped in
                    CALCULATED_KEEP_GCI</code>
                  </p>

                <p><b>Description. </b>
                    The node was unable to determine the most recent
                    usable GCI.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">LCPStoppedInCalcKeepGci</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>Priority. </b>
                    0
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Table ID = <em class="replaceable"><code>table_id</code></em>,
                    fragment <em class="replaceable"><code>ID = fragment_id</code></em>
                    has completed LCP on Node
                    <em class="replaceable"><code>node_id</code></em> maxGciStarted:
                    <em class="replaceable"><code>started_gci</code></em>
                    maxGciCompleted:
                    <em class="replaceable"><code>completed_gci</code></em></code>
                  </p>

                <p><b>Description. </b>
                    A table fragment has been checkpointed to disk on
                    node <em class="replaceable"><code>node_id</code></em>. The GCI in
                    progress has the index
                    <em class="replaceable"><code>started_gci</code></em>, and the most
                    recent GCI to have been completed has the index
                    <em class="replaceable"><code>completed_gci</code></em>.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">LCPFragmentCompleted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>Priority. </b>
                    11
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    ACC Blocked <em class="replaceable"><code>num_1</code></em> and TUP
                    Blocked <em class="replaceable"><code>num_2</code></em> times last
                    second</code>
                  </p>

                <p><b>Description. </b>
                    Undo logging is blocked because the log buffer is
                    close to overflowing.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">UndoLogBlocked</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Checkpoint</code>
                  </p>

                <p><b>Priority. </b>
                    7
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Start initiated
                    <em class="replaceable"><code>version</code></em></code>
                  </p>

                <p><b>Description. </b>
                    Data node <em class="replaceable"><code>node_id</code></em>,
                    running <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> version
                    <em class="replaceable"><code>version</code></em>, is beginning its
                    startup process.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">NDBStartStarted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>Priority. </b>
                    1
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Started <em class="replaceable"><code>version</code></em></code>
                  </p>

                <p><b>Description. </b>
                    Data node <em class="replaceable"><code>node_id</code></em>,
                    running <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> version
                    <em class="replaceable"><code>version</code></em>, has started
                    successfully.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">NDBStartCompleted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>Priority. </b>
                    1
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    STTORRY received after restart finished</code>
                  </p>

                <p><b>Description. </b>
                    The node has received a signal indicating that a
                    cluster restart has completed.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">STTORRYRecieved</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>Priority. </b>
                    15
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Start phase <em class="replaceable"><code>phase</code></em>
                    completed
                    (<em class="replaceable"><code>type</code></em>)</code>
                  </p>

                <p><b>Description. </b>
                    The node has completed start phase
                    <em class="replaceable"><code>phase</code></em> of a
                    <em class="replaceable"><code>type</code></em> start. For a listing
                    of start phases, see
                    <a class="xref" href="mysql-cluster.html#mysql-cluster-start-phases" title="17.5.1. Summary of MySQL Cluster Start Phases">Section 17.5.1, “Summary of MySQL Cluster Start Phases”</a>.
                    (<em class="replaceable"><code>type</code></em> is one of
                    <code class="literal">initial</code>,
                    <code class="literal">system</code>, <code class="literal">node</code>,
                    <code class="literal">initial node</code>, or
                    <code class="literal">&lt;Unknown&gt;</code>.)
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">StartPhaseCompleted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>Priority. </b>
                    4
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    CM_REGCONF president =
                    <em class="replaceable"><code>president_id</code></em>, own Node =
                    <em class="replaceable"><code>own_id</code></em>, our dynamic id =
                    <em class="replaceable"><code>dynamic_id</code></em></code>
                  </p>

                <p><b>Description. </b>
                    Node <em class="replaceable"><code>president_id</code></em> has
                    been selected as <span class="quote">“<span class="quote">president</span>”</span>.
                    <em class="replaceable"><code>own_id</code></em> and
                    <em class="replaceable"><code>dynamic_id</code></em> should always
                    be the same as the ID
                    (<em class="replaceable"><code>node_id</code></em>) of the
                    reporting node.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">CM_REGCONF</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>Priority. </b>
                    3
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    CM_REGREF from Node
                    <em class="replaceable"><code>president_id</code></em> to our Node
                    <em class="replaceable"><code>node_id</code></em>. Cause =
                    <em class="replaceable"><code>cause</code></em></code>
                  </p>

                <p><b>Description. </b>
                    The reporting node (ID
                    <em class="replaceable"><code>node_id</code></em>) was unable to
                    accept node <em class="replaceable"><code>president_id</code></em>
                    as president. The <em class="replaceable"><code>cause</code></em>
                    of the problem is given as one of
                    <code class="literal">Busy</code>, <code class="literal">Election with wait
                    = false</code>, <code class="literal">Not president</code>,
                    <code class="literal">Election without selecting new
                    candidate</code>, or <code class="literal">No such
                    cause</code>.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">CM_REGREF</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>: We
                    are Node <em class="replaceable"><code>own_id</code></em> with
                    dynamic ID <em class="replaceable"><code>dynamic_id</code></em>,
                    our left neighbor is Node
                    <em class="replaceable"><code>id_1</code></em>, our right is Node
                    <em class="replaceable"><code>id_2</code></em></code>
                  </p>

                <p><b>Description. </b>
                    The node has discovered its neighboring nodes in the
                    cluster (node <em class="replaceable"><code>id_1</code></em> and
                    node <em class="replaceable"><code>id_2</code></em>).
                    <em class="replaceable"><code>node_id</code></em>,
                    <em class="replaceable"><code>own_id</code></em>, and
                    <em class="replaceable"><code>dynamic_id</code></em> should always
                    be the same; if they are not, this indicates a
                    serious misconfiguration of the cluster nodes.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">FIND_NEIGHBOURS</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    <em class="replaceable"><code>type</code></em> shutdown
                    initiated</code>
                  </p>

                <p><b>Description. </b>
                    The node has received a shutdown signal. The
                    <em class="replaceable"><code>type</code></em> of shutdown is
                    either <code class="literal">Cluster</code> or
                    <code class="literal">Node</code>.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">NDBStopStarted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>Priority. </b>
                    1
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Node shutdown completed </code>[<code class="literal">,
                    <em class="replaceable"><code>action</code></em></code>]
                    [<code class="literal">Initiated by signal
                    <em class="replaceable"><code>signal</code></em>.</code>]
                  </p>

                <p><b>Description. </b>
                    The node has been shut down. This report may include
                    an <em class="replaceable"><code>action</code></em>, which if
                    present is one of <code class="literal">restarting</code>,
                    <code class="literal">no start</code>, or
                    <code class="literal">initial</code>. The report may also
                    include a reference to an
                    <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> Protocol
                    <em class="replaceable"><code>signal</code></em>; for possible
                    signals, refer to
                    <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-ndb-protocol-operations-signals.html" target="_top">Operations and Signals</a>.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">NDBStopCompleted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>Priority. </b>
                    1
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Forced node shutdown completed </code>[<code class="literal">,
                    action</code>]<code class="literal">.</code>
                    [<code class="literal">Occured during startphase
                    <em class="replaceable"><code>start_phase</code></em>.</code>]
                    [<code class="literal"> Initiated by
                    <em class="replaceable"><code>signal</code></em>.</code>]
                    [<code class="literal">Caused by error
                    <em class="replaceable"><code>error_code</code></em>:
                    '<em class="replaceable"><code>error_message</code></em>(<em class="replaceable"><code>error_classification</code></em>).
                    <em class="replaceable"><code>error_status</code></em>'.</code>
                    [<code class="literal">(extra info
                    <em class="replaceable"><code>extra_code</code></em>)</code>]]
                  </p>

                <p><b>Description. </b>
                    The node has been forcibly shut down. The
                    <em class="replaceable"><code>action</code></em> (one of
                    <code class="literal">restarting</code>, <code class="literal">no
                    start</code>, or <code class="literal">initial</code>)
                    subsequently being taken, if any, is also reported.
                    If the shutdown occurred while the node was
                    starting, the report includes the
                    <em class="replaceable"><code>start_phase</code></em> during which
                    the node failed. If this was a result of a
                    <em class="replaceable"><code>signal</code></em> sent to the node,
                    this information is also provided (see
                    <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-ndb-protocol-operations-signals.html" target="_top">Operations and Signals</a>,
                    for more information). If the error causing the
                    failure is known, this is also included; for more
                    information about <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
                    error messages and classifications, see
                    <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-errors.html" target="_top">MySQL Cluster API Errors</a>.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">NDBStopForced</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>Priority. </b>
                    1
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Node shutdown aborted</code>
                  </p>

                <p><b>Description. </b>
                    The node shutdown process was aborted by the user.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">NDBStopAborted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>Priority. </b>
                    1
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    StartLog: [GCI Keep:
                    <em class="replaceable"><code>keep_pos</code></em> LastCompleted:
                    <em class="replaceable"><code>last_pos</code></em>
                    NewestRestorable:
                    <em class="replaceable"><code>restore_pos</code></em>]</code>
                  </p>

                <p><b>Description. </b>
                    This reports global checkpoints referenced during a
                    node start. The redo log prior to
                    <em class="replaceable"><code>keep_pos</code></em> is dropped.
                    <em class="replaceable"><code>last_pos</code></em> is the last
                    global checkpoint in which data node the
                    participated; <em class="replaceable"><code>restore_pos</code></em>
                    is the global checkpoint which is actually used to
                    restore all data nodes.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">StartREDOLog</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>Priority. </b>
                    4
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <em class="replaceable"><code>startup_message</code></em>
                    [<span class="emphasis"><em>Listed separately; see below.</em></span>]
                  </p>

                <p><b>Description. </b>
                    There are a number of possible startup messages that
                    can be logged under different circumstances.

                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">StartReport</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">StartUp</code>
                  </p>

                <p><b>Priority. </b>
                    4
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Node restart completed copy of dictionary
                    information</code>
                  </p>

                <p><b>Description. </b>
                    Copying of data dictionary information to the
                    restarted node has been completed.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">NR_CopyDict</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Node restart completed copy of distribution
                    information</code>
                  </p>

                <p><b>Description. </b>
                    Copying of data distribution information to the
                    restarted node has been completed.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">NR_CopyDistr</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Node restart starting to copy the fragments to Node
                    <em class="replaceable"><code>node_id</code></em></code>
                  </p>

                <p><b>Description. </b>
                    Copy of fragments to starting data node
                    <em class="replaceable"><code>node_id</code></em> has begun
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">NR_CopyFragsStarted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Table ID = <em class="replaceable"><code>table_id</code></em>,
                    fragment ID = <em class="replaceable"><code>fragment_id</code></em>
                    have been copied to Node
                    <em class="replaceable"><code>node_id</code></em></code>
                  </p>

                <p><b>Description. </b>
                    Fragment <em class="replaceable"><code>fragment_id</code></em> from
                    table <em class="replaceable"><code>table_id</code></em> has been
                    copied to data node
                    <em class="replaceable"><code>node_id</code></em>
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">NR_CopyFragDone</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>Priority. </b>
                    10
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Node restart completed copying the fragments to Node
                    <em class="replaceable"><code>node_id</code></em></code>
                  </p>

                <p><b>Description. </b>
                    Copying of all table fragments to restarting data
                    node <em class="replaceable"><code>node_id</code></em> has been
                    completed
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">NR_CopyFragsCompleted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    Any of the following:
                  </p>

<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                      <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                      Node <em class="replaceable"><code>node1_id</code></em> completed
                      failure of Node
                      <em class="replaceable"><code>node2_id</code></em></code>
                    </p></li><li class="listitem"><p>
                      <code class="literal">All nodes completed failure of Node
                      <em class="replaceable"><code>node_id</code></em></code>
                    </p></li><li class="listitem"><p>
                      <code class="literal">Node failure of
                      <em class="replaceable"><code>node_id</code></em><em class="replaceable"><code>block</code></em>
                      completed</code>
</p></li></ol>
</div>

                <p><b>Description. </b>
                    One of the following (each corresponding to the
                    same-numbered message listed above):
                  </p>

<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
                      Data node <em class="replaceable"><code>node1_id</code></em> has
                      detected the failure of data node
                      <em class="replaceable"><code>node2_id</code></em>
                    </p></li><li class="listitem"><p>
                      All (remaining) data nodes have detected the
                      failure of data node
                      <em class="replaceable"><code>node_id</code></em>
                    </p></li><li class="listitem"><p>
                      The failure of data node
                      <em class="replaceable"><code>node_id</code></em> has been
                      detected in the
                      <em class="replaceable"><code>block</code></em><a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
                      kernel block, where block is 1 of
                      <code class="literal">DBTC</code>,
                      <code class="literal">DBDICT</code>,
                      <code class="literal">DBDIH</code>, or
                      <code class="literal">DBLQH</code>; for more information,
                      see <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks.html" target="_top"><code class="literal">NDB</code> Kernel Blocks</a>
</p></li></ol>
</div>
</td><td><p><b>Event Name. </b>
                    <code class="literal">NodeFailCompleted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node
                    <em class="replaceable"><code>mgm_node_id</code></em>: Node
                    <em class="replaceable"><code>data_node_id</code></em> has failed.
                    The Node state at failure was
                    <em class="replaceable"><code>state_code</code></em></code>
                  </p>

                <p><b>Description. </b>
                    A data node has failed. Its state at the time of
                    failure is described by an arbitration state code
                    <em class="replaceable"><code>state_code</code></em>: possible
                    state code values can be found in the file
                    <code class="filename">include/kernel/signaldata/ArbitSignalData.hpp</code>.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">NODE_FAILREP</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">President restarts arbitration thread
                    [state=<em class="replaceable"><code>state_code</code></em>]</code>
                    or <code class="literal">Prepare arbitrator node
                    <em class="replaceable"><code>node_id</code></em>
                    [ticket=<em class="replaceable"><code>ticket_id</code></em>]</code>
                    or <code class="literal">Receive arbitrator node
                    <em class="replaceable"><code>node_id</code></em>
                    [ticket=<em class="replaceable"><code>ticket_id</code></em>]</code>
                    or <code class="literal">Started arbitrator node
                    <em class="replaceable"><code>node_id</code></em>
                    [ticket=<em class="replaceable"><code>ticket_id</code></em>]</code>
                    or <code class="literal">Lost arbitrator node
                    <em class="replaceable"><code>node_id</code></em> - process failure
                    [state=<em class="replaceable"><code>state_code</code></em>]</code>
                    or <code class="literal">Lost arbitrator node
                    <em class="replaceable"><code>node_id</code></em> - process exit
                    [state=<em class="replaceable"><code>state_code</code></em>]</code>
                    or <code class="literal">Lost arbitrator node
                    <em class="replaceable"><code>node_id</code></em> -
                    <em class="replaceable"><code>error_message</code></em>
                    [state=<em class="replaceable"><code>state_code</code></em>]</code>
                  </p>

                <p><b>Description. </b>
                    This is a report on the current state and progress
                    of arbitration in the cluster.
                    <em class="replaceable"><code>node_id</code></em> is the node ID of
                    the management node or SQL node selected as the
                    arbitrator. <em class="replaceable"><code>state_code</code></em> is
                    an arbitration state code, as found in
                    <code class="filename">include/kernel/signaldata/ArbitSignalData.hpp</code>.
                    When an error has occurred, an
                    <em class="replaceable"><code>error_message</code></em>, also
                    defined in <code class="filename">ArbitSignalData.hpp</code>,
                    is provided. <em class="replaceable"><code>ticket_id</code></em> is
                    a unique identifier handed out by the arbitrator
                    when it is selected to all the nodes that
                    participated in its selection; this is used to
                    ensure that each node requesting arbitration was one
                    of the nodes that took part in the selection
                    process.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">ArbitState</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>Priority. </b>
                    6
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Arbitration check lost - less than 1/2
                    nodes left</code> or <code class="literal">Arbitration check
                    won - all node groups and more than 1/2 nodes
                    left</code> or <code class="literal">Arbitration check won -
                    node group majority</code> or
                    <code class="literal">Arbitration check lost - missing node
                    group</code> or <code class="literal">Network partitioning -
                    arbitration required</code> or
                    <code class="literal">Arbitration won - positive reply from node
                    <em class="replaceable"><code>node_id</code></em></code> or
                    <code class="literal">Arbitration lost - negative reply from node
                    <em class="replaceable"><code>node_id</code></em></code> or
                    <code class="literal">Network partitioning - no arbitrator
                    available</code> or <code class="literal">Network partitioning
                    - no arbitrator configured</code> or
                    <code class="literal">Arbitration failure -
                    <em class="replaceable"><code>error_message</code></em>
                    [state=<em class="replaceable"><code>state_code</code></em>]</code>
                  </p>

                <p><b>Description. </b>
                    This message reports on the result of arbitration.
                    In the event of arbitration failure, an
                    <em class="replaceable"><code>error_message</code></em> and an
                    arbitration <em class="replaceable"><code>state_code</code></em>
                    are provided; definitions for both of these are
                    found in
                    <code class="filename">include/kernel/signaldata/ArbitSignalData.hpp</code>.
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">ArbitResult</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>Priority. </b>
                    2
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    GCP Take over started</code>
                  </p>

                <p><b>Description. </b>
                    This node is attempting to assume responsibility for
                    the next global checkpoint (that is, it is becoming
                    the master node)
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">GCP_TakeoverStarted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>Priority. </b>
                    7
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    GCP Take over completed</code>
                  </p>

                <p><b>Description. </b>
                    This node has become the master, and has assumed
                    responsibility for the next global checkpoint
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">GCP_TakeoverCompleted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>Priority. </b>
                    7
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    LCP Take over started</code>
                  </p>

                <p><b>Description. </b>
                    This node is attempting to assume responsibility for
                    the next set of local checkpoints (that is, it is
                    becoming the master node)
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">LCP_TakeoverStarted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>Priority. </b>
                    7
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    LCP Take over completed</code>
                  </p>

                <p><b>Description. </b>
                    This node has become the master, and has assumed
                    responsibility for the next set of local checkpoints
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">LCP_TakeoverCompleted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">NodeRestart</code>
                  </p>

                <p><b>Priority. </b>
                    7
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Trans. Count =
                    <em class="replaceable"><code>transactions</code></em>, Commit
                    Count = <em class="replaceable"><code>commits</code></em>, Read
                    Count = <em class="replaceable"><code>reads</code></em>, Simple
                    Read Count =
                    <em class="replaceable"><code>simple_reads</code></em>, Write Count
                    = <em class="replaceable"><code>writes</code></em>, AttrInfo Count
                    = <em class="replaceable"><code>AttrInfo_objects</code></em>,
                    Concurrent Operations =
                    <em class="replaceable"><code>concurrent_operations</code></em>,
                    Abort Count = <em class="replaceable"><code>aborts</code></em>,
                    Scans = <em class="replaceable"><code>scans</code></em>, Range
                    scans =
                    <em class="replaceable"><code>range_scans</code></em></code>
                  </p>

                <p><b>Description. </b>
                    This report of transaction activity is given
                    approximately once every 10 seconds
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">TransReportCounters</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Operations=<em class="replaceable"><code>operations</code></em></code>
                  </p>

                <p><b>Description. </b>
                    Number of operations performed by this node,
                    provided approximately once every 10 seconds
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">OperationReportCounters</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Table with ID = <em class="replaceable"><code>table_id</code></em>
                    created</code>
                  </p>

                <p><b>Description. </b>
                    A table having the table ID shown has been created
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">TableCreated</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>Priority. </b>
                    7
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Mean loop Counter in doJob last 8192 times =
                    <em class="replaceable"><code>count</code></em></code>
                  </p>

                <p><b>Description. </b></p></td><td><p><b>Event Name. </b>
                    <code class="literal">JobStatistic</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>Priority. </b>
                    9
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Mean send size to Node =
                    <em class="replaceable"><code>node_id</code></em> last 4096 sends =
                    <em class="replaceable"><code>bytes</code></em> bytes</code>
                  </p>

                <p><b>Description. </b>
                    This node is sending an average of
                    <em class="replaceable"><code>bytes</code></em> bytes per send to
                    node <em class="replaceable"><code>node_id</code></em>
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">SendBytesStatistic</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>Priority. </b>
                    9
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Mean receive size to Node =
                    <em class="replaceable"><code>node_id</code></em> last 4096 sends =
                    <em class="replaceable"><code>bytes</code></em> bytes</code>
                  </p>

                <p><b>Description. </b>
                    This node is receiving an average of
                    <em class="replaceable"><code>bytes</code></em> of data each time
                    it receives data from node
                    <em class="replaceable"><code>node_id</code></em>
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">ReceiveBytesStatistic</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>Priority. </b>
                    9
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Data usage is
                    <em class="replaceable"><code>data_memory_percentage</code></em>%
                    (<em class="replaceable"><code>data_pages_used</code></em> 32K
                    pages of total
                    <em class="replaceable"><code>data_pages_total</code></em>)</code>
                    / <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Index usage is
                    <em class="replaceable"><code>index_memory_percentage</code></em>%
                    (<em class="replaceable"><code>index_pages_used</code></em> 8K
                    pages of total
                    <em class="replaceable"><code>index_pages_total</code></em>)
                    </code>
                  </p>

                <p><b>Description. </b>
                    This report is generated when a <code class="literal">DUMP
                    1000</code> command is issued in the cluster
                    management client; for more information, see
                    <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-dump-command-1000.html" target="_top"><code class="literal">DUMP 1000</code></a>,
                    in <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals.html" target="_top">MySQL Cluster Internals</a>
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">MemoryUsage</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Statistic</code>
                  </p>

                <p><b>Priority. </b>
                    5
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node1_id</code></em>:
                    Transporter to node
                    <em class="replaceable"><code>node2_id</code></em> reported error
                    <em class="replaceable"><code>error_code</code></em>:
                    <em class="replaceable"><code>error_message</code></em></code>
                  </p>

                <p><b>Description. </b>
                    A transporter error occurred while communicating
                    with node <em class="replaceable"><code>node2_id</code></em>; for a
                    listing of transporter error codes and messages, see
                    <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-transporter-errors.html" target="_top"><code class="literal">NDB</code> Transporter Errors</a>, in
                    <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals.html" target="_top">MySQL Cluster Internals</a>
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">TransporterError</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Error</code>
                  </p>

                <p><b>Priority. </b>
                    2
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">ERROR</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node1_id</code></em>:
                    Transporter to node
                    <em class="replaceable"><code>node2_id</code></em> reported error
                    <em class="replaceable"><code>error_code</code></em>:
                    <em class="replaceable"><code>error_message</code></em></code>
                  </p>

                <p><b>Description. </b>
                    A warning of a potential transporter problem while
                    communicating with node
                    <em class="replaceable"><code>node2_id</code></em>; for a listing
                    of transporter error codes and messages, see
                    <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-transporter-errors.html" target="_top"><code class="literal">NDB</code> Transporter Errors</a>, for more
                    information
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">TransporterWarning</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Error</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">WARNING</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node1_id</code></em>:
                    Node <em class="replaceable"><code>node2_id</code></em> missed
                    heartbeat
                    <em class="replaceable"><code>heartbeat_id</code></em></code>
                  </p>

                <p><b>Description. </b>
                    This node missed a heartbeat from node
                    <em class="replaceable"><code>node2_id</code></em>
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">MissedHeartbeat</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Error</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">WARNING</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node1_id</code></em>:
                    Node <em class="replaceable"><code>node2_id</code></em> declared
                    dead due to missed heartbeat</code>
                  </p>

                <p><b>Description. </b>
                    This node has missed at least 3 heartbeats from node
                    <em class="replaceable"><code>node2_id</code></em>, and so has
                    declared that node <span class="quote">“<span class="quote">dead</span>”</span>
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">DeadDueToHeartbeat</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Error</code>
                  </p>

                <p><b>Priority. </b>
                    8
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node1_id</code></em>:
                    Node Sent Heartbeat to node =
                    <em class="replaceable"><code>node2_id</code></em></code>
                  </p>

                <p><b>Description. </b>
                    This node has sent a heartbeat to node
                    <em class="replaceable"><code>node2_id</code></em>
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">SentHeartbeat</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Info</code>
                  </p>

                <p><b>Priority. </b>
                    12
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Event buffer status:
                    used=<em class="replaceable"><code>bytes_used</code></em>
                    (<em class="replaceable"><code>percent_used</code></em>%)
                    alloc=<em class="replaceable"><code>bytes_allocated</code></em>
                    (<em class="replaceable"><code>percent_available</code></em>%)
                    max=<em class="replaceable"><code>bytes_available</code></em>
                    apply_gci=<em class="replaceable"><code>latest_restorable_GCI</code></em>
                    latest_gci=<em class="replaceable"><code>latest_GCI</code></em></code>
                  </p>

                <p><b>Description. </b>
                    This report is seen during heavy event buffer usage,
                    for example, when many updates are being applied in
                    a relatively short period of time; the report shows
                    the number of bytes and the percentage of event
                    buffer memory used, the bytes allocated and
                    percentage still available, and the latest and
                    latest restorable global checkpoints
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">EventBufferStatus</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Info</code>
                  </p>

                <p><b>Priority. </b>
                    7
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Entering single user mode</code>, <code class="literal">Node
                    <em class="replaceable"><code>node_id</code></em>: Entered single
                    user mode Node
                    <em class="replaceable"><code>API_node_id</code></em> has exclusive
                    access</code>, <code class="literal">Node
                    <em class="replaceable"><code>node_id</code></em>: Entering single
                    user mode</code>
                  </p>

                <p><b>Description. </b>
                    These reports are written to the cluster log when
                    entering and exiting single user mode;
                    <em class="replaceable"><code>API_node_id</code></em> is the node
                    ID of the API or SQL having exclusive access to the
                    cluster (for more information, see
                    <a class="xref" href="mysql-cluster.html#mysql-cluster-single-user-mode" title="17.5.8. MySQL Cluster Single User Mode">Section 17.5.8, “MySQL Cluster Single User Mode”</a>);
                    the message <code class="literal">Unknown single user report
                    <em class="replaceable"><code>API_node_id</code></em></code>
                    indicates an error has taken place and should never
                    be seen in normal operation
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">SingleUser</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Info</code>
                  </p>

                <p><b>Priority. </b>
                    7
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Backup <em class="replaceable"><code>backup_id</code></em> started
                    from node
                    <em class="replaceable"><code>mgm_node_id</code></em></code>
                  </p>

                <p><b>Description. </b>
                    A backup has been started using the management node
                    having <em class="replaceable"><code>mgm_node_id</code></em>; this
                    message is also displayed in the cluster management
                    client when the <code class="literal">START BACKUP</code>
                    command is issued; for more information, see
                    <a class="xref" href="mysql-cluster.html#mysql-cluster-backup-using-management-client" title="17.5.3.2. Using The MySQL Cluster Management Client to Create a Backup">Section 17.5.3.2, “Using The MySQL Cluster Management Client to Create a Backup”</a>
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">BackupStarted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Backup</code>
                  </p>

                <p><b>Priority. </b>
                    7
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Backup <em class="replaceable"><code>backup_id</code></em> started
                    from node <em class="replaceable"><code>mgm_node_id</code></em>
                    completed. StartGCP:
                    <em class="replaceable"><code>start_gcp</code></em> StopGCP:
                    <em class="replaceable"><code>stop_gcp</code></em> #Records:
                    <em class="replaceable"><code>records</code></em> #LogRecords:
                    <em class="replaceable"><code>log_records</code></em> Data:
                    <em class="replaceable"><code>data_bytes</code></em> bytes Log:
                    <em class="replaceable"><code>log_bytes</code></em> bytes</code>
                  </p>

                <p><b>Description. </b>
                    The backup having the ID
                    <em class="replaceable"><code>backup_id</code></em> has been
                    completed; for more information, see
                    <a class="xref" href="mysql-cluster.html#mysql-cluster-backup-using-management-client" title="17.5.3.2. Using The MySQL Cluster Management Client to Create a Backup">Section 17.5.3.2, “Using The MySQL Cluster Management Client to Create a Backup”</a>
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">BackupCompleted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Backup</code>
                  </p>

                <p><b>Priority. </b>
                    7
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">INFO</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Backup request from
                    <em class="replaceable"><code>mgm_node_id</code></em> failed to
                    start. Error:
                    <em class="replaceable"><code>error_code</code></em></code>
                  </p>

                <p><b>Description. </b>
                    The backup failed to start; for error codes, see
                    <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/mgm-errors.html" target="_top">MGM<code class="literal"></code> API Errors</a>
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">BackupFailedToStart</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Backup</code>
                  </p>

                <p><b>Priority. </b>
                    7
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">ALERT</code>
                  </p></td></tr><tr><td scope="row"><p><b>Log Message. </b>
                    <code class="literal">Node <em class="replaceable"><code>node_id</code></em>:
                    Backup <em class="replaceable"><code>backup_id</code></em> started
                    from <em class="replaceable"><code>mgm_node_id</code></em> has been
                    aborted. Error:
                    <em class="replaceable"><code>error_code</code></em></code>
                  </p>

                <p><b>Description. </b>
                    The backup was terminated after starting, possibly
                    due to user intervention
                  </p></td><td><p><b>Event Name. </b>
                    <code class="literal">BackupAborted</code>
                  </p>

                <p><b>Event Type. </b>
                    <code class="literal">Backup</code>
                  </p>

                <p><b>Priority. </b>
                    7
                  </p>

                <p><b>Severity. </b>
                    <code class="literal">ALERT</code>
</p></td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndb-transporter-errors"></a>17.5.7.2. MySQL Cluster: <code class="literal">NDB</code> Transporter Errors</h4>

</div>

</div>

</div>
<p>
        This section lists error codes, names, and messages that are
        written to the cluster log in the event of transporter errors.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Error Code</th><th scope="col">Error Name</th><th scope="col">Error Text</th></tr></thead><tbody><tr><td scope="row"><span class="errorcode">0x00</span></td><td><span class="errorname">TE_NO_ERROR</span></td><td><span class="errortext">No error</span></td></tr><tr><td scope="row"><span class="errorcode">0x01</span></td><td><span class="errorname">TE_ERROR_CLOSING_SOCKET</span></td><td><span class="errortext">Error found during closing of socket</span></td></tr><tr><td scope="row"><span class="errorcode">0x02</span></td><td><span class="errorname">TE_ERROR_IN_SELECT_BEFORE_ACCEPT</span></td><td><span class="errortext">Error found before accept. The transporter will
                retry</span></td></tr><tr><td scope="row"><span class="errorcode">0x03</span></td><td><span class="errorname">TE_INVALID_MESSAGE_LENGTH</span></td><td><span class="errortext">Error found in message (invalid message length)</span></td></tr><tr><td scope="row"><span class="errorcode">0x04</span></td><td><span class="errorname">TE_INVALID_CHECKSUM</span></td><td><span class="errortext">Error found in message (checksum)</span></td></tr><tr><td scope="row"><span class="errorcode">0x05</span></td><td><span class="errorname">TE_COULD_NOT_CREATE_SOCKET</span></td><td><span class="errortext">Error found while creating socket(can't create
                socket)</span></td></tr><tr><td scope="row"><span class="errorcode">0x06</span></td><td><span class="errorname">TE_COULD_NOT_BIND_SOCKET</span></td><td><span class="errortext">Error found while binding server socket</span></td></tr><tr><td scope="row"><span class="errorcode">0x07</span></td><td><span class="errorname">TE_LISTEN_FAILED</span></td><td><span class="errortext">Error found while listening to server socket</span></td></tr><tr><td scope="row"><span class="errorcode">0x08</span></td><td><span class="errorname">TE_ACCEPT_RETURN_ERROR</span></td><td><span class="errortext">Error found during accept(accept return error)</span></td></tr><tr><td scope="row"><span class="errorcode">0x0b</span></td><td><span class="errorname">TE_SHM_DISCONNECT</span></td><td><span class="errortext">The remote node has disconnected</span></td></tr><tr><td scope="row"><span class="errorcode">0x0c</span></td><td><span class="errorname">TE_SHM_IPC_STAT</span></td><td><span class="errortext">Unable to check shm segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x0d</span></td><td><span class="errorname">TE_SHM_UNABLE_TO_CREATE_SEGMENT</span></td><td><span class="errortext">Unable to create shm segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x0e</span></td><td><span class="errorname">TE_SHM_UNABLE_TO_ATTACH_SEGMENT</span></td><td><span class="errortext">Unable to attach shm segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x0f</span></td><td><span class="errorname">TE_SHM_UNABLE_TO_REMOVE_SEGMENT</span></td><td><span class="errortext">Unable to remove shm segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x10</span></td><td><span class="errorname">TE_TOO_SMALL_SIGID</span></td><td><span class="errortext">Sig ID too small</span></td></tr><tr><td scope="row"><span class="errorcode">0x11</span></td><td><span class="errorname">TE_TOO_LARGE_SIGID</span></td><td><span class="errortext">Sig ID too large</span></td></tr><tr><td scope="row"><span class="errorcode">0x12</span></td><td><span class="errorname">TE_WAIT_STACK_FULL</span></td><td><span class="errortext">Wait stack was full</span></td></tr><tr><td scope="row"><span class="errorcode">0x13</span></td><td><span class="errorname">TE_RECEIVE_BUFFER_FULL</span></td><td><span class="errortext">Receive buffer was full</span></td></tr><tr><td scope="row"><span class="errorcode">0x14</span></td><td><span class="errorname">TE_SIGNAL_LOST_SEND_BUFFER_FULL</span></td><td><span class="errortext">Send buffer was full,and trying to force send
                fails</span></td></tr><tr><td scope="row"><span class="errorcode">0x15</span></td><td><span class="errorname">TE_SIGNAL_LOST</span></td><td><span class="errortext">Send failed for unknown reason(signal lost)</span></td></tr><tr><td scope="row"><span class="errorcode">0x16</span></td><td><span class="errorname">TE_SEND_BUFFER_FULL</span></td><td><span class="errortext">The send buffer was full, but sleeping for a while
                solved</span></td></tr><tr><td scope="row"><span class="errorcode">0x0017</span></td><td><span class="errorname">TE_SCI_LINK_ERROR</span></td><td><span class="errortext">There is no link from this node to the switch</span></td></tr><tr><td scope="row"><span class="errorcode">0x18</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_START_SEQUENCE</span></td><td><span class="errortext">Could not start a sequence, because system resources are
                exumed or no sequence has been created</span></td></tr><tr><td scope="row"><span class="errorcode">0x19</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_REMOVE_SEQUENCE</span></td><td><span class="errortext">Could not remove a sequence</span></td></tr><tr><td scope="row"><span class="errorcode">0x1a</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_CREATE_SEQUENCE</span></td><td><span class="errortext">Could not create a sequence, because system resources are
                exempted. Must reboot</span></td></tr><tr><td scope="row"><span class="errorcode">0x1b</span></td><td><span class="errorname">TE_SCI_UNRECOVERABLE_DATA_TFX_ERROR</span></td><td><span class="errortext">Tried to send data on redundant link but failed</span></td></tr><tr><td scope="row"><span class="errorcode">0x1c</span></td><td><span class="errorname">TE_SCI_CANNOT_INIT_LOCALSEGMENT</span></td><td><span class="errortext">Cannot initialize local segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x1d</span></td><td><span class="errorname">TE_SCI_CANNOT_MAP_REMOTESEGMENT</span></td><td><span class="errortext">Cannot map remote segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x1e</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_UNMAP_SEGMENT</span></td><td><span class="errortext">Cannot free the resources used by this segment (step
                1)</span></td></tr><tr><td scope="row"><span class="errorcode">0x1f</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_REMOVE_SEGMENT</span></td><td><span class="errortext">Cannot free the resources used by this segment (step
                2)</span></td></tr><tr><td scope="row"><span class="errorcode">0x20</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_DISCONNECT_SEGMENT</span></td><td><span class="errortext">Cannot disconnect from a remote segment</span></td></tr><tr><td scope="row"><span class="errorcode">0x21</span></td><td><span class="errorname">TE_SHM_IPC_PERMANENT</span></td><td><span class="errortext">Shm ipc Permanent error</span></td></tr><tr><td scope="row"><span class="errorcode">0x22</span></td><td><span class="errorname">TE_SCI_UNABLE_TO_CLOSE_CHANNEL</span></td><td><span class="errortext">Unable to close the sci channel and the resources
allocated</span></td></tr></tbody></table>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-single-user-mode"></a>17.5.8. MySQL Cluster Single User Mode</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp123247920"></a><a class="indexterm" name="idp123249408"></a><p>
      <em class="firstterm">Single user mode</em> enables the database
      administrator to restrict access to the database system to a
      single API node, such as a MySQL server (SQL node) or an instance
      of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>. When entering single user mode,
      connections to all other API nodes are closed gracefully and all
      running transactions are aborted. No new transactions are
      permitted to start.
    </p><p>
      Once the cluster has entered single user mode, only the designated
      API node is granted access to the database.
    </p><p>
      You can use the <span class="command"><strong>ALL STATUS</strong></span> command in the
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client to see when the cluster has
      entered single user mode. You can also check the
      <code class="literal">status</code> column of the
      <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-nodes" title="17.5.10.13. The ndbinfo nodes Table"><code class="literal">ndbinfo.nodes</code></a> table (see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo-nodes" title="17.5.10.13. The ndbinfo nodes Table">Section 17.5.10.13, “The <code class="literal">ndbinfo nodes</code> Table”</a>, for more
      information).
    </p><p>
      Example:
    </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>ENTER SINGLE USER MODE 5</code></strong>
</pre><p>
      After this command has executed and the cluster has entered single
      user mode, the API node whose node ID is <code class="literal">5</code>
      becomes the cluster's only permitted user.
    </p><p>
      The node specified in the preceding command must be an API node;
      attempting to specify any other type of node will be rejected.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        When the preceding command is invoked, all transactions running
        on the designated node are aborted, the connection is closed,
        and the server must be restarted.
</p>
</div>
<p>
      The command <span class="command"><strong>EXIT SINGLE USER MODE</strong></span> changes the
      state of the cluster's data nodes from single user mode to normal
      mode. API nodes—such as MySQL Servers—waiting for a
      connection (that is, waiting for the cluster to become ready and
      available), are again permitted to connect. The API node denoted
      as the single-user node continues to run (if still connected)
      during and after the state change.
    </p><p>
      Example:
    </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>EXIT SINGLE USER MODE</code></strong>
</pre><a class="indexterm" name="idp123265600"></a><p>
      There are two recommended ways to handle a node failure when
      running in single user mode:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Method 1:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
              Finish all single user mode transactions
            </p></li><li class="listitem"><p>
              Issue the <span class="command"><strong>EXIT SINGLE USER MODE</strong></span> command
            </p></li><li class="listitem"><p>
              Restart the cluster's data nodes
</p></li></ol>
</div>
</li><li class="listitem"><p>
          Method 2:
        </p><p>
          Restart database nodes prior to entering single user mode.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-sql-statements"></a>17.5.9. Quick Reference: MySQL Cluster SQL Statements</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp123275392"></a><a class="indexterm" name="idp123276896"></a><p>
      This section discusses several SQL statements that can prove
      useful in managing and monitoring a MySQL server that is connected
      to a MySQL Cluster, and in some cases provide information about
      the cluster itself.
</p>
<div class="itemizedlist">
<a class="indexterm" name="idp123278896"></a><a class="indexterm" name="idp123280384"></a><a class="indexterm" name="idp123281456"></a><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="link" href="sql-syntax.html#show-engine" title="13.7.5.16. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE NDB
          STATUS</code></a>,
          <a class="link" href="sql-syntax.html#show-engine" title="13.7.5.16. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE
          NDBCLUSTER STATUS</code></a>
        </p><p>
          The output of this statement contains information about the
          server's connection to the cluster, creation and usage of
          MySQL Cluster objects, and binary logging for MySQL Cluster
          replication.
        </p><p>
          See <a class="xref" href="sql-syntax.html#show-engine" title="13.7.5.16. SHOW ENGINE Syntax">Section 13.7.5.16, “<code class="literal">SHOW ENGINE</code> Syntax”</a>, for a usage example and
          more detailed information.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp123287184"></a>

          <a class="link" href="sql-syntax.html#show-engines" title="13.7.5.17. SHOW ENGINES Syntax"><code class="literal">SHOW ENGINES</code></a>
        </p><p>
          This statement can be used to determine whether or not
          clustering support is enabled in the MySQL server, and if so,
          whether it is active.
        </p><p>
          See <a class="xref" href="sql-syntax.html#show-engines" title="13.7.5.17. SHOW ENGINES Syntax">Section 13.7.5.17, “<code class="literal">SHOW ENGINES</code> Syntax”</a>, for more detailed
          information.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
            This statement does not support a
            <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a> clause. However, you can
            use <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a> to filter queries
            against the
            <a class="link" href="information-schema.html#engines-table" title="20.6. The INFORMATION_SCHEMA ENGINES Table"><code class="literal">INFORMATION_SCHEMA.ENGINES</code></a>
            table, as discussed in the next item.
</p>
</div>
</li><li class="listitem"><p>
          <a class="indexterm" name="idp123295360"></a>

          <code class="literal">SELECT * FROM INFORMATION_SCHEMA.ENGINES [WHERE
          ENGINE LIKE 'NDB%']</code>
        </p><p>
          This is the equivalent of <a class="link" href="sql-syntax.html#show-engines" title="13.7.5.17. SHOW ENGINES Syntax"><code class="literal">SHOW
          ENGINES</code></a>, but uses the
          <a class="link" href="information-schema.html#engines-table" title="20.6. The INFORMATION_SCHEMA ENGINES Table"><code class="literal">ENGINES</code></a> table of the
          <code class="literal">INFORMATION_SCHEMA</code> database. Unlike the
          case with the <a class="link" href="sql-syntax.html#show-engines" title="13.7.5.17. SHOW ENGINES Syntax"><code class="literal">SHOW ENGINES</code></a>
          statement, it is possible to filter the results using a
          <a class="link" href="functions.html#operator_like"><code class="literal">LIKE</code></a> clause, and to select
          specific columns to obtain information that may be of use in
          scripts. For example, the following query shows whether the
          server was built with <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> support
          and, if so, whether it is enabled:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SUPPORT FROM INFORMATION_SCHEMA.ENGINES</code></strong>
    -&gt;   <strong class="userinput"><code>WHERE ENGINE LIKE 'NDB%';</code></strong>
+---------+
| support |
+---------+
| ENABLED |
+---------+
</pre><p>
          See <a class="xref" href="information-schema.html#engines-table" title="20.6. The INFORMATION_SCHEMA ENGINES Table">Section 20.6, “The <code class="literal">INFORMATION_SCHEMA ENGINES</code> Table”</a>, for more information.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp123307312"></a>

          <code class="literal">SHOW VARIABLES LIKE 'NDB%'</code>
        </p><p>
          This statement provides a list of most server system variables
          relating to the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage
          engine, and their values, as shown here:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'NDB%';</code></strong>
+-------------------------------------+-------+
| Variable_name                       | Value |
+-------------------------------------+-------+
| ndb_autoincrement_prefetch_sz       | 32    |
| ndb_cache_check_time                | 0     |
| ndb_extra_logging                   | 0     |
| ndb_force_send                      | ON    |
| ndb_index_stat_cache_entries        | 32    |
| ndb_index_stat_enable               | OFF   |
| ndb_index_stat_update_freq          | 20    |
| ndb_report_thresh_binlog_epoch_slip | 3     |
| ndb_report_thresh_binlog_mem_usage  | 10    |
| ndb_use_copying_alter_table         | OFF   |
| ndb_use_exact_count                 | ON    |
| ndb_use_transactions                | ON    |
+-------------------------------------+-------+
</pre><p>
          See <a class="xref" href="server-administration.html#server-system-variables" title="5.1.4. Server System Variables">Section 5.1.4, “Server System Variables”</a>, for more
          information.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp123314816"></a>

          <code class="literal">SELECT * FROM INFORMATION_SCHEMA.GLOBAL_VARIABLES
          WHERE VARIABLE_NAME LIKE 'NDB%';</code>
        </p><p>
          This statement is the equivalent of the
          <code class="literal">SHOW</code> command described
          in the previous item, and provides almost identical output, as
          shown here:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM INFORMATION_SCHEMA.GLOBAL_VARIABLES</code></strong>
    -&gt;   <strong class="userinput"><code>WHERE VARIABLE_NAME LIKE 'NDB%';</code></strong>
+-------------------------------------+----------------+
| VARIABLE_NAME                       | VARIABLE_VALUE |
+-------------------------------------+----------------+
| NDB_AUTOINCREMENT_PREFETCH_SZ       | 32             |
| NDB_CACHE_CHECK_TIME                | 0              |
| NDB_EXTRA_LOGGING                   | 0              |
| NDB_FORCE_SEND                      | ON             |
| NDB_INDEX_STAT_CACHE_ENTRIES        | 32             |
| NDB_INDEX_STAT_ENABLE               | OFF            |
| NDB_INDEX_STAT_UPDATE_FREQ          | 20             |
| NDB_REPORT_THRESH_BINLOG_EPOCH_SLIP | 3              |
| NDB_REPORT_THRESH_BINLOG_MEM_USAGE  | 10             |
| NDB_USE_COPYING_ALTER_TABLE         | OFF            |
| NDB_USE_EXACT_COUNT                 | ON             |
| NDB_USE_TRANSACTIONS                | ON             |
+-------------------------------------+----------------+
</pre><p>
          Unlike the case with the
          <code class="literal">SHOW</code> command, it is
          possible to select individual columns. For example:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT VARIABLE_VALUE </code></strong>
    -&gt;   <strong class="userinput"><code>FROM INFORMATION_SCHEMA.GLOBAL_VARIABLES</code></strong>
    -&gt;   <strong class="userinput"><code>WHERE VARIABLE_NAME = 'ndb_force_send';</code></strong>
+----------------+
| VARIABLE_VALUE |
+----------------+
| ON             |
+----------------+
</pre><p>
          See <a class="xref" href="information-schema.html#variables-table" title="20.10. The INFORMATION_SCHEMA GLOBAL_VARIABLES and SESSION_VARIABLES Tables">Section 20.10, “The <code class="literal">INFORMATION_SCHEMA GLOBAL_VARIABLES</code> and
      <code class="literal">SESSION_VARIABLES</code>
      Tables”</a>, and
          <a class="xref" href="server-administration.html#server-system-variables" title="5.1.4. Server System Variables">Section 5.1.4, “Server System Variables”</a>, for more
          information.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp123328560"></a>

          <code class="literal">SHOW STATUS LIKE 'NDB%'</code>
        </p><p>
          This statement shows at a glance whether or not the MySQL
          server is acting as a cluster SQL node, and if so, it provides
          the MySQL server's cluster node ID, the host name and port for
          the cluster management server to which it is connected, and
          the number of data nodes in the cluster, as shown here:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'NDB%';</code></strong>
+--------------------------+---------------+
| Variable_name            | Value         |
+--------------------------+---------------+
| Ndb_cluster_node_id      | 10            |
| Ndb_config_from_host     | 192.168.0.103 |
| Ndb_config_from_port     | 1186          |
| Ndb_number_of_data_nodes | 4             |
+--------------------------+---------------+
</pre><p>
          If the MySQL server was built with clustering support, but it
          is not connected to a cluster, all rows in the output of this
          statement contain a zero or an empty string:
        </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'NDB%';</code></strong>
+--------------------------+-------+
| Variable_name            | Value |
+--------------------------+-------+
| Ndb_cluster_node_id      | 0     |
| Ndb_config_from_host     |       |
| Ndb_config_from_port     | 0     |
| Ndb_number_of_data_nodes | 0     |
+--------------------------+-------+
</pre><p>
          See also <a class="xref" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax">Section 13.7.5.36, “<code class="literal">SHOW STATUS</code> Syntax”</a>.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp123337328"></a>

          <code class="literal">SELECT * FROM INFORMATION_SCHEMA.GLOBAL_STATUS WHERE
          VARIABLE_NAME LIKE 'NDB%';</code>
        </p><p>
          This statement provides similar output to the
          <code class="literal">SHOW</code> command discussed
          in the previous item. However, unlike the case with
          <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a>, it is possible
          using the <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> to extract
          values in SQL for use in scripts for monitoring and automation
          purposes.
        </p><p>
          See <a class="xref" href="information-schema.html#status-table" title="20.9. The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables">Section 20.9, “The <code class="literal">INFORMATION_SCHEMA GLOBAL_STATUS</code> and
      <code class="literal">SESSION_STATUS</code>
      Tables”</a>, for more information.
</p></li></ul>
</div>
<p>
      You can also query the tables in the
      <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo" title="17.5.10. The ndbinfo MySQL Cluster Information Database"><code class="literal">ndbinfo</code></a> information database for
      real-time data about many MySQL Cluster operations. See
      <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbinfo" title="17.5.10. The ndbinfo MySQL Cluster Information Database">Section 17.5.10, “The <code class="literal">ndbinfo</code> MySQL Cluster Information Database”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-ndbinfo"></a>17.5.10. The <code class="literal">ndbinfo</code> MySQL Cluster Information Database</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-arbitrator-validity-detail">17.5.10.1. The <code class="literal">ndbinfo arbitrator_validity_detail</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-arbitrator-validity-summary">17.5.10.2. The <code class="literal">ndbinfo arbitrator_validity_summary</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-blocks">17.5.10.3. The <code class="literal">ndbinfo blocks</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-cluster-operations">17.5.10.4. The <code class="literal">ndbinfo cluster_operations</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-cluster-transactions">17.5.10.5. The <code class="literal">ndbinfo cluster_transactions</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-config-params">17.5.10.6. The <code class="literal">ndbinfo config_params</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-counters">17.5.10.7. The <code class="literal">ndbinfo counters</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-diskpagebuffer">17.5.10.8. The <code class="literal">ndbinfo diskpagebuffer</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-logbuffers">17.5.10.9. The <code class="literal">ndbinfo logbuffers</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-logspaces">17.5.10.10. The <code class="literal">ndbinfo logspaces</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-membership">17.5.10.11. The <code class="literal">ndbinfo membership</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-memoryusage">17.5.10.12. The <code class="literal">ndbinfo memoryusage</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-nodes">17.5.10.13. The <code class="literal">ndbinfo nodes</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-resources">17.5.10.14. The <code class="literal">ndbinfo resources</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-server-operations">17.5.10.15. The <code class="literal">ndbinfo server_operations</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-server-transactions">17.5.10.16. The <code class="literal">ndbinfo server_transactions</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-threadblocks">17.5.10.17. The <code class="literal">ndbinfo threadblocks</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-threadstat">17.5.10.18. The <code class="literal">ndbinfo threadstat</code> Table</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-ndbinfo-transporters">17.5.10.19. The <code class="literal">ndbinfo transporters</code> Table</a></span></dt></dl>
</div>
<a class="indexterm" name="idp123348064"></a><p>
      <code class="literal">ndbinfo</code> is a database storing containing
      information specific to MySQL Cluster.
    </p><p>
      This database contains a number of tables, each providing a
      different sort of data about MySQL Cluster node status, resource
      usage, and operations. You can find more detailed information
      about each of these tables in the next several sections.
    </p><a class="indexterm" name="idp123350976"></a><p>
      <code class="literal">ndbinfo</code> is included with MySQL Cluster support
      in the MySQL Server; no special compilation or configuration steps
      are required; the tables are created by the MySQL Server when it
      connects to the cluster. You can verify that
      <code class="literal">ndbinfo</code> support is active in a given MySQL
      Server instance using <a class="link" href="sql-syntax.html#show-plugins" title="13.7.5.26. SHOW PLUGINS Syntax"><code class="literal">SHOW PLUGINS</code></a>;
      if <code class="literal">ndbinfo</code> support is enabled, you should see a
      row containing <code class="literal">ndbinfo</code> in the
      <code class="literal">Name</code> column and <code class="literal">ACTIVE</code> in
      the <code class="literal">Status</code> column, as shown here (emphasized
      text):
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW PLUGINS;</code></strong>
+----------------------------------+--------+--------------------+---------+---------+
| Name                             | Status | Type               | Library | License |
+----------------------------------+--------+--------------------+---------+---------+
| binlog                           | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| mysql_native_password            | ACTIVE | AUTHENTICATION     | NULL    | GPL     |
| mysql_old_password               | ACTIVE | AUTHENTICATION     | NULL    | GPL     |
| CSV                              | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| MEMORY                           | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| MRG_MYISAM                       | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| MyISAM                           | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| PERFORMANCE_SCHEMA               | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| BLACKHOLE                        | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| ARCHIVE                          | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| ndbcluster                       | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
<span class="emphasis"><em>| ndbinfo                          | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |</em></span>
| ndb_transid_mysql_connection_map | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| InnoDB                           | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
| INNODB_TRX                       | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_LOCKS                     | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_LOCK_WAITS                | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_CMP                       | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_CMP_RESET                 | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_CMPMEM                    | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| INNODB_CMPMEM_RESET              | ACTIVE | INFORMATION SCHEMA | NULL    | GPL     |
| partition                        | ACTIVE | STORAGE ENGINE     | NULL    | GPL     |
+----------------------------------+--------+--------------------+---------+---------+
22 rows in set (0.00 sec)
</pre><p>
      You can also do this by checking the output of
      <a class="link" href="sql-syntax.html#show-engines" title="13.7.5.17. SHOW ENGINES Syntax"><code class="literal">SHOW ENGINES</code></a> for a line including
      <code class="literal">ndbinfo</code> in the <code class="literal">Engine</code> column
      and <code class="literal">YES</code> in the <code class="literal">Support</code>
      column, as shown here (emphasized text):
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW ENGINES\G</code></strong>
*************************** 1. row ***************************
      Engine: ndbcluster
     Support: YES
     Comment: Clustered, fault-tolerant tables
Transactions: YES
          XA: NO
  Savepoints: NO
*************************** 2. row ***************************
      Engine: MRG_MYISAM
     Support: YES
     Comment: Collection of identical MyISAM tables
Transactions: NO
          XA: NO
  Savepoints: NO
<span class="emphasis"><em>*************************** 3. row ***************************
      Engine: ndbinfo
     Support: YES
     Comment: MySQL Cluster system information storage engine
Transactions: NO
          XA: NO
  Savepoints: NO</em></span>
*************************** 4. row ***************************
      Engine: CSV
     Support: YES
     Comment: CSV storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 5. row ***************************
      Engine: MEMORY
     Support: YES
     Comment: Hash based, stored in memory, useful for temporary tables
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 6. row ***************************
      Engine: FEDERATED
     Support: NO
     Comment: Federated MySQL storage engine
Transactions: NULL
          XA: NULL
  Savepoints: NULL
*************************** 7. row ***************************
      Engine: ARCHIVE
     Support: YES
     Comment: Archive storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 8. row ***************************
      Engine: InnoDB
     Support: YES
     Comment: Supports transactions, row-level locking, and foreign keys
Transactions: YES
          XA: YES
  Savepoints: YES
*************************** 9. row ***************************
      Engine: MyISAM
     Support: DEFAULT
     Comment: Default engine as of MySQL 3.23 with great performance
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 10. row ***************************
      Engine: BLACKHOLE
     Support: YES
     Comment: /dev/null storage engine (anything you write to it disappears)
Transactions: NO
          XA: NO
  Savepoints: NO
10 rows in set (0.00 sec)
</pre><p>
      If <code class="literal">ndbinfo</code> support is enabled, then you can
      access <code class="literal">ndbinfo</code> using SQL statements in
      <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> or another MySQL client. For example, you
      can see <code class="literal">ndbinfo</code> listed in the output of
      <a class="link" href="sql-syntax.html#show-databases" title="13.7.5.15. SHOW DATABASES Syntax"><code class="literal">SHOW DATABASES</code></a>, as shown here:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW DATABASES;</code></strong>
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| ndbinfo            |
| test               |
+--------------------+
4 rows in set (0.00 sec)
</pre><p>
      If the <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process was not started with the
      <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a> option,
      <code class="literal">ndbinfo</code> is not available and is not displayed
      by <a class="link" href="sql-syntax.html#show-databases" title="13.7.5.15. SHOW DATABASES Syntax"><code class="literal">SHOW DATABASES</code></a>. If
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> was formerly connected to a MySQL
      Cluster but the cluster becomes unavailable (due to events such as
      cluster shutdown, loss of network connectivity, and so forth),
      <code class="literal">ndbinfo</code> and its tables remain visible, but an
      attempt to access any tables (other than <code class="literal">blocks</code>
      or <code class="literal">config_params</code>) fails with <span class="errortext">Got
      error 157 'Connection to NDB failed' from NDBINFO</span>.
    </p><p>
      With the exception of the <code class="literal">blocks</code> and
      <code class="literal">config_params</code> tables, what we refer to as
      <code class="literal">ndbinfo</code> <span class="quote">“<span class="quote">tables</span>”</span> are actually
      views generated from internal <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
      tables not normally visible to the MySQL Server.
    </p><p>
      All <code class="literal">ndbinfo</code> tables are read-only, and are
      generated on demand when queried. Because many of them are
      generated in parallel by the data nodes while other are specific
      to a given SQL node, they are not guaranteed to provide a
      consistent snapshot.
    </p><p>
      In addition, pushing down of joins is not supported on
      <code class="literal">ndbinfo</code> tables; so joining large
      <code class="literal">ndbinfo</code> tables can require transfer of a large
      amount of data to the requesting API node, even when the query
      makes use of a <code class="literal">WHERE</code> clause.
    </p><a class="indexterm" name="idp123395600"></a><a class="indexterm" name="idp123397088"></a><p>
      <code class="literal">ndbinfo</code> tables are not included in the query
      cache. (Bug #59831)
    </p><p>
      You can select the <code class="literal">ndbinfo</code> database with a
      <a class="link" href="sql-syntax.html#use" title="13.8.4. USE Syntax"><code class="literal">USE</code></a> statement, and then issue a
      <a class="link" href="sql-syntax.html#show-tables" title="13.7.5.38. SHOW TABLES Syntax"><code class="literal">SHOW TABLES</code></a> statement to obtain a
      list of tables, just as for any other database, like this:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>USE ndbinfo;</code></strong>
Database changed

mysql&gt; <strong class="userinput"><code>SHOW TABLES;</code></strong>
+----------------------+
| Tables_in_ndbinfo    |
+----------------------+
| blocks               |
| cluster_operations   |
| cluster_transactions |
| config_params        |
| counters             |
| diskpagebuffer       |
| logbuffers           |
| logspaces            |
| memoryusage          |
| nodes                |
| resources            |
| server_operations    |
| server_transactions  |
| threadblocks         |
| threadstat           |
| transporters         |
+----------------------+
16 rows in set (0.04 sec)
</pre><a class="indexterm" name="idp123405296"></a><p>
      You can execute <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statements
      against these tables, just as you would normally expect:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM memoryusage;</code></strong>
+---------+--------------+------+-------+
| node_id | DATA_MEMORY  | used | max   |
+---------+--------------+------+-------+
|       1 | DATA_MEMORY  | 3230 |  6408 |
|       2 | DATA_MEMORY  | 3230 |  6408 |
|       1 | INDEX_MEMORY |   16 | 12832 |
|       2 | INDEX_MEMORY |   16 | 12832 |
+---------+--------------+------+-------+
4 rows in set (0.37 sec)
</pre><p>
      More complex queries, such as the two following
      <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statements using the
      <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-memoryusage" title="17.5.10.12. The ndbinfo memoryusage Table"><code class="literal">memoryusage</code></a> table, are possible:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT SUM(used) as 'Data Memory Used, All Nodes'</code></strong> 
     &gt;     <strong class="userinput"><code>FROM memoryusage</code></strong> 
     &gt;     <strong class="userinput"><code>WHERE DATA_MEMORY = 'DATA_MEMORY';</code></strong>
+-----------------------------+
| Data Memory Used, All Nodes |
+-----------------------------+
|                        6460 |
+-----------------------------+
1 row in set (0.37 sec)

mysql&gt; <strong class="userinput"><code>SELECT SUM(max) as 'Total IndexMemory Available'</code></strong> 
     &gt;     <strong class="userinput"><code>FROM memoryusage</code></strong> 
     &gt;     <strong class="userinput"><code>WHERE DATA_MEMORY = 'INDEX_MEMORY';</code></strong>
+-----------------------------+
| Total IndexMemory Available |
+-----------------------------+
|                       25664 |
+-----------------------------+
1 row in set (0.33 sec)
</pre><p>
      <code class="literal">ndbinfo</code> table and column names are case
      sensitive (as is the name of the <code class="literal">ndbinfo</code>
      database itself). These identifiers are in lowercase. Trying to
      use the wrong lettercase results in an error, as shown in this
      example:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM nodes;</code></strong>
+---------+--------+---------+-------------+
| node_id | uptime | status  | start_phase |
+---------+--------+---------+-------------+
|       1 |  13602 | STARTED |           0 |
|       2 |     16 | STARTED |           0 |
+---------+--------+---------+-------------+
2 rows in set (0.04 sec)

mysql&gt; <strong class="userinput"><code>SELECT * FROM Nodes;</code></strong>
<span class="errortext">ERROR 1146 (42S02): Table 'ndbinfo.Nodes' doesn't exist</span>
</pre><p>
      <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> ignores the
      <code class="literal">ndbinfo</code> database entirely, and excludes it from
      any output. This is true even when using the
      <a class="link" href="programs.html#option_mysqldump_databases"><code class="option">--databases</code></a> or
      <a class="link" href="programs.html#option_mysqldump_all-databases"><code class="option">--all-databases</code></a> option.
    </p><p>
      MySQL Cluster also maintains tables in the
      <code class="literal">INFORMATION_SCHEMA</code> information database,
      including the <a class="link" href="information-schema.html#files-table" title="20.8. The INFORMATION_SCHEMA FILES Table"><code class="literal">FILES</code></a> table which
      contains information about files used for MySQL Cluster Disk Data
      storage. For more information, see
      <a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/mysql-cluster-i_s-tables.html" target="_top"><code class="literal">INFORMATION_SCHEMA</code> Tables for MySQL Cluster</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-arbitrator-validity-detail"></a>17.5.10.1. The <code class="literal">ndbinfo arbitrator_validity_detail</code> Table</h4>
</div>
</div>
</div>
<a class="indexterm" name="idp123431632"></a><p>
        The <code class="literal">arbitrator_validity_detail</code> table shows
        the view that each data node in the cluster of the arbitrator.
        It is a subset of the
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-membership" title="17.5.10.11. The ndbinfo membership Table"><code class="literal">membership</code></a> table.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">arbitrator_validity_detail</code> table. For
        each column, the table shows the name, data type, and a brief
        description. Additional information can be found in the notes
        following the table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>This node's node ID</td></tr><tr><td scope="row"><code class="literal">arbitrator</code></td><td>integer</td><td>Node ID of arbitrator</td></tr><tr><td scope="row"><code class="literal">arb_ticket</code></td><td>string</td><td>Internal identifier used to track arbitration</td></tr><tr><td scope="row"><code class="literal">arb_connected</code></td><td><code class="literal">Yes</code> or <code class="literal">No</code></td><td>Whether this node is connected to the arbitrator</td></tr><tr><td scope="row"><code class="literal">arb_state</code></td><td>Enumeration (see text)</td><td>Arbitration state</td></tr></tbody></table>
</div>
<p>
        The node ID is the same as that reported by <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm -e
        "SHOW"</strong></span></a>.
      </p><p>
        All nodes should show the same <code class="literal">arbitrator</code> and
        <code class="literal">arb_ticket</code> values as well as the same
        <code class="literal">arb_state</code> value. Possible
        <code class="literal">arb_state</code> values are
        <code class="literal">ARBIT_NULL</code>, <code class="literal">ARBIT_INIT</code>,
        <code class="literal">ARBIT_FIND</code>, <code class="literal">ARBIT_PREP1</code>,
        <code class="literal">ARBIT_PREP2</code>, <code class="literal">ARBIT_START</code>,
        <code class="literal">ARBIT_RUN</code>, <code class="literal">ARBIT_CHOOSE</code>,
        <code class="literal">ARBIT_CRASH</code>, and <code class="literal">UNKNOWN</code>.
      </p><p>
        <code class="literal">arb_connected</code> shows whether the current node
        is connected to the <code class="literal">arbitrator</code>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-arbitrator-validity-summary"></a>17.5.10.2. The <code class="literal">ndbinfo arbitrator_validity_summary</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp123468304"></a><p>
        The <code class="literal">arbitrator_validity_summary</code> table
        provides a composite view of the arbitrator with regard to the
        cluster's data nodes.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">arbitrator_validity_detail</code> table. For
        each column, the table shows the name, data type, and a brief
        description. Additional information can be found in the notes
        following the table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">arbitrator</code></td><td>integer</td><td>Node ID of arbitrator</td></tr><tr><td scope="row"><code class="literal">arb_ticket</code></td><td>string</td><td>Internal identifier used to track arbitration</td></tr><tr><td scope="row"><code class="literal">arb_connected</code></td><td><code class="literal">Yes</code> or <code class="literal">No</code></td><td>Whether this arbitrator is connected to the cluster</td></tr><tr><td scope="row"><code class="literal">consensus_count</code></td><td>integer</td><td>Number of data nodes that see this node as arbitrator</td></tr></tbody></table>
</div>
<p>
        In normal operations, this table should have only 1 row for any
        appreciable length of time. If it has more than 1 row for longer
        than a few moments, then either not all nodes are connected to
        the arbitrator, or all nodes are connected, but do not agree on
        the same arbitrator.
      </p><p>
        The <code class="literal">arbitrator</code> column shows the
        arbitrator's node ID.
      </p><p>
        <code class="literal">arb_ticket</code> is the internal identifier used by
        this arbitrator.
      </p><p>
        <code class="literal">arb_connected</code> shows whether this node is
        connected to the cluster as an arbitrator.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-blocks"></a>17.5.10.3. The <code class="literal">ndbinfo blocks</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp123492640"></a><p>
        The <code class="literal">blocks</code> table is a static table which
        simply contains the names and internal IDs of all NDB kernel
        blocks (see <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks.html" target="_top"><code class="literal">NDB</code> Kernel Blocks</a>). It
        is for use by the other
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo" title="17.5.10. The ndbinfo MySQL Cluster Information Database"><code class="literal">ndbinfo</code></a> tables (most of which
        are actually views) in mapping block numbers to block names for
        producing human-readable output.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">blocks</code> table. For each column, the table
        shows the name, data type, and a brief description. Additional
        information can be found in the notes following the table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">block_number</code></td><td>integer</td><td>Block number</td></tr><tr><td scope="row"><code class="literal">block_name</code></td><td>string</td><td>Block name</td></tr></tbody></table>
</div>
<p>
        To obtain a list of all block names, simply execute
        <code class="literal">SELECT block_name FROM ndbinfo.blocks</code>.
        Although this is a static table, its content can vary between
        different MySQL Cluster releases.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-cluster-operations"></a>17.5.10.4. The <code class="literal">ndbinfo cluster_operations</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp123510880"></a><p>
        The <code class="literal">cluster_operations</code> table provides a
        per-operation (stateful primary key op) view of all activity in
        the MySQL Cluster from the point of view of the local data
        management (LQH) blocks (see
        <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks-dblqh.html" target="_top">The <code class="literal">DBLQH</code> Block</a>).
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">cluster_operations</code> table. For each
        column, the table shows the name, data type, and a brief
        description. Additional information can be found in the notes
        following the table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>Node ID of reporting LQH block</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>integer</td><td>LQH block instance</td></tr><tr><td scope="row"><code class="literal">transid</code></td><td>integer</td><td>Transaction ID</td></tr><tr><td scope="row"><code class="literal">operation_type</code></td><td>string</td><td>Operation type (see text for possible values)</td></tr><tr><td scope="row"><code class="literal">state</code></td><td>string</td><td>Operation state (see text for possible values)</td></tr><tr><td scope="row"><code class="literal">tableid</code></td><td>integer</td><td>Table ID</td></tr><tr><td scope="row"><code class="literal">fragmentid</code></td><td>integer</td><td>Fragment ID</td></tr><tr><td scope="row"><code class="literal">client_node_id</code></td><td>integer</td><td>Client node ID</td></tr><tr><td scope="row"><code class="literal">client_block_ref</code></td><td>integer</td><td>Client block reference</td></tr><tr><td scope="row"><code class="literal">tc_node_id</code></td><td>integer</td><td>Transaction coordinator node ID</td></tr><tr><td scope="row"><code class="literal">tc_block_no</code></td><td>integer</td><td>Transaction coordinator block number</td></tr><tr><td scope="row"><code class="literal">tc_block_instance</code></td><td>integer</td><td>Transaction coordinator block instance</td></tr></tbody></table>
</div>
<p>
        The transaction ID is a unique 64-bit number which can be
        obtained using the NDB API's
        <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndbtransaction-methods.html#ndb-ndbtransaction-gettransactionid" target="_top"><code class="literal">getTransactionId()</code></a>
        method. (Currently, the MySQL Server does not expose the NDB API
        transaction ID of an ongoing transaction.)
      </p><p>
        The <code class="literal">operation_type</code> column can take any one of
        the values <code class="literal">READ</code>, <code class="literal">READ-SH</code>,
        <code class="literal">READ-EX</code>, <code class="literal">INSERT</code>,
        <code class="literal">UPDATE</code>, <code class="literal">DELETE</code>,
        <code class="literal">WRITE</code>, <code class="literal">UNLOCK</code>,
        <code class="literal">REFRESH</code>, <code class="literal">SCAN</code>,
        <code class="literal">SCAN-SH</code>, <code class="literal">SCAN-EX</code>, or
        <code class="literal">&lt;unknown&gt;</code>.
      </p><p>
        The <code class="literal">state</code> column can have any one of the
        values <code class="literal">ABORT_QUEUED</code>,
        <code class="literal">ABORT_STOPPED</code>, <code class="literal">COMMITTED</code>,
        <code class="literal">COMMIT_QUEUED</code>,
        <code class="literal">COMMIT_STOPPED</code>,
        <code class="literal">COPY_CLOSE_STOPPED</code>,
        <code class="literal">COPY_FIRST_STOPPED</code>,
        <code class="literal">COPY_STOPPED</code>, <code class="literal">COPY_TUPKEY</code>,
        <code class="literal">IDLE</code>, <code class="literal">LOG_ABORT_QUEUED</code>,
        <code class="literal">LOG_COMMIT_QUEUED</code>,
        <code class="literal">LOG_COMMIT_QUEUED_WAIT_SIGNAL</code>,
        <code class="literal">LOG_COMMIT_WRITTEN</code>,
        <code class="literal">LOG_COMMIT_WRITTEN_WAIT_SIGNAL</code>,
        <code class="literal">LOG_QUEUED</code>, <code class="literal">PREPARED</code>,
        <code class="literal">PREPARED_RECEIVED_COMMIT</code>,
        <code class="literal">SCAN_CHECK_STOPPED</code>,
        <code class="literal">SCAN_CLOSE_STOPPED</code>,
        <code class="literal">SCAN_FIRST_STOPPED</code>,
        <code class="literal">SCAN_RELEASE_STOPPED</code>,
        <code class="literal">SCAN_STATE_USED</code>,
        <code class="literal">SCAN_STOPPED</code>, <code class="literal">SCAN_TUPKEY</code>,
        <code class="literal">STOPPED</code>, <code class="literal">TC_NOT_CONNECTED</code>,
        <code class="literal">WAIT_ACC</code>, <code class="literal">WAIT_ACC_ABORT</code>,
        <code class="literal">WAIT_AI_AFTER_ABORT</code>,
        <code class="literal">WAIT_ATTR</code>, <code class="literal">WAIT_SCAN_AI</code>,
        <code class="literal">WAIT_TUP</code>, <code class="literal">WAIT_TUPKEYINFO</code>,
        <code class="literal">WAIT_TUP_COMMIT</code>, or
        <code class="literal">WAIT_TUP_TO_ABORT</code>. (If the MySQL Server is
        running with
        <a class="link" href="mysql-cluster.html#sysvar_ndbinfo_show_hidden"><code class="literal">ndbinfo_show_hidden</code></a> enabled,
        you can view this list of states by selecting from the
        <code class="literal">ndb$dblqh_tcconnect_state</code> table, which is
        normally hidden.)
      </p><p>
        You can obtain the name of an <code class="literal">NDB</code> table from
        its table ID by checking the output of
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-show-tables" title="17.4.23. ndb_show_tables — Display List of NDB Tables"><span class="command"><strong>ndb_show_tables</strong></span></a>.
      </p><p>
        The <code class="literal">fragid</code> is the same as the partition
        number seen in the output of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a>
        <a class="link" href="mysql-cluster.html#option_ndb_desc_extra-partition-info"><code class="option">--extra-partition-info</code></a> (short
        form <code class="option">-p</code>).
      </p><p>
        In <code class="literal">client_node_id</code> and
        <code class="literal">client_block_ref</code>, <code class="literal">client</code>
        refers to a MySQL Cluster API or SQL node (that is, an NDB API
        client or a MySQL Server attached to the cluster).
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-cluster-transactions"></a>17.5.10.5. The <code class="literal">ndbinfo cluster_transactions</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp123596016"></a><p>
        The <code class="literal">cluster_transactions</code> table shows
        information about all ongoing transactions in a MySQL Cluster.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">cluster_transactions</code> table. For each
        column, the table shows the name, data type, and a brief
        description. Additional information can be found in the notes
        following the table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>Node ID of transaction coordinator</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>integer</td><td>TC block instance</td></tr><tr><td scope="row"><code class="literal">transid</code></td><td>integer</td><td>Transaction ID</td></tr><tr><td scope="row"><code class="literal">state</code></td><td>string</td><td>Operation state (see text for possible values)</td></tr><tr><td scope="row"><code class="literal">count_operations</code></td><td>integer</td><td>Number of stateful primary key operations in transaction (includes reads
with locks, as well as DML operations)</td></tr><tr><td scope="row"><code class="literal">outstanding_operations</code></td><td>integer</td><td>Operations still being executed in local data management blocks</td></tr><tr><td scope="row"><code class="literal">inactive_seconds</code></td><td>integer</td><td>Time spent waiting for API</td></tr><tr><td scope="row"><code class="literal">client_node_id</code></td><td>integer</td><td>Client node ID</td></tr><tr><td scope="row"><code class="literal">client_block_ref</code></td><td>integer</td><td>Client block reference</td></tr></tbody></table>
</div>
<p>
        The transaction ID is a unique 64-bit number which can be
        obtained using the NDB API's
        <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndbtransaction-methods.html#ndb-ndbtransaction-gettransactionid" target="_top"><code class="literal">getTransactionId()</code></a>
        method. (Currently, the MySQL Server does not expose the NDB API
        transaction ID of an ongoing transaction.)
      </p><p>
        The <code class="literal">state</code> column can have any one of the
        values <code class="literal">CS_ABORTING</code>,
        <code class="literal">CS_COMMITTING</code>,
        <code class="literal">CS_COMMIT_SENT</code>,
        <code class="literal">CS_COMPLETE_SENT</code>,
        <code class="literal">CS_COMPLETING</code>,
        <code class="literal">CS_CONNECTED</code>,
        <code class="literal">CS_DISCONNECTED</code>,
        <code class="literal">CS_FAIL_ABORTED</code>,
        <code class="literal">CS_FAIL_ABORTING</code>,
        <code class="literal">CS_FAIL_COMMITTED</code>,
        <code class="literal">CS_FAIL_COMMITTING</code>,
        <code class="literal">CS_FAIL_COMPLETED</code>,
        <code class="literal">CS_FAIL_PREPARED</code>,
        <code class="literal">CS_PREPARE_TO_COMMIT</code>,
        <code class="literal">CS_RECEIVING</code>,
        <code class="literal">CS_REC_COMMITTING</code>,
        <code class="literal">CS_RESTART</code>,
        <code class="literal">CS_SEND_FIRE_TRIG_REQ</code>,
        <code class="literal">CS_STARTED</code>,
        <code class="literal">CS_START_COMMITTING</code>,
        <code class="literal">CS_START_SCAN</code>,
        <code class="literal">CS_WAIT_ABORT_CONF</code>,
        <code class="literal">CS_WAIT_COMMIT_CONF</code>,
        <code class="literal">CS_WAIT_COMPLETE_CONF</code>,
        <code class="literal">CS_WAIT_FIRE_TRIG_REQ</code>. (If the MySQL Server
        is running with
        <a class="link" href="mysql-cluster.html#sysvar_ndbinfo_show_hidden"><code class="literal">ndbinfo_show_hidden</code></a> enabled,
        you can view this list of states by selecting from the
        <code class="literal">ndb$dbtc_apiconnect_state</code> table, which is
        normally hidden.)
      </p><p>
        In <code class="literal">client_node_id</code> and
        <code class="literal">client_block_ref</code>, <code class="literal">client</code>
        refers to a MySQL Cluster API or SQL node (that is, an NDB API
        client or a MySQL Server attached to the cluster).
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-config-params"></a>17.5.10.6. The <code class="literal">ndbinfo config_params</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp123650432"></a><p>
        The <code class="literal">config_params</code> table is a static table
        which provides the names and internal ID numbers of all MySQL
        Cluster configuration parameters.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">config_params</code> table. For each column, the
        table shows the name, data type, and a brief description.
        Additional information can be found in the notes following the
        table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">param_number</code></td><td>integer</td><td>The parameter's internal ID number</td></tr><tr><td scope="row"><code class="literal">param_name</code></td><td>string</td><td>The name of the parameter</td></tr></tbody></table>
</div>
<p>
        Although this is a static table, its content can vary between
        MySQL Cluster installations, since supported parameters can vary
        due to differences between software releases, cluster hardware
        configurations, and other factors.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-counters"></a>17.5.10.7. The <code class="literal">ndbinfo counters</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp123666032"></a><p>
        The <code class="literal">counters</code> table provides running totals of
        events such as reads and writes for specific kernel blocks and
        data nodes. Counts are kept from the most recent node start or
        restart; a node start or restart resets all counters on that
        node. Not all kernel blocks have all types of counters.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">counters</code> table. For each column, the
        table shows the name, data type, and a brief description.
        Additional information can be found in the notes following the
        table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>The data node ID</td></tr><tr><td scope="row"><code class="literal">block_name</code></td><td>string</td><td>Name of the associated NDB kernel block (see
                <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks.html" target="_top"><code class="literal">NDB</code> Kernel Blocks</a>).</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>integer</td><td>Block instance</td></tr><tr><td scope="row"><code class="literal">counter_id</code></td><td>integer</td><td>The counter's internal ID number; normally an integer between 1 and
                10, inclusive.</td></tr><tr><td scope="row"><code class="literal">counter_name</code></td><td>string</td><td>The name of the counter. See text for names of individual counters and
                the NDB kernel block with which each counter is
associated.</td></tr><tr><td scope="row"><code class="literal">val</code></td><td>integer</td><td>The counter's value</td></tr></tbody></table>
</div>
<p>
        Each counter is associated with a particular NDB kernel block.
      </p><p>
        The <code class="literal">OPERATIONS</code> counter is associated with the
        <code class="literal">DBLQH</code> (local query handler) kernel block (see
        <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks-dblqh.html" target="_top">The <code class="literal">DBLQH</code> Block</a>).
      </p><p>
        The <code class="literal">ATTRINFO</code>,
        <code class="literal">TRANSACTIONS</code>, <code class="literal">COMMITS</code>,
        <code class="literal">READS</code>, <code class="literal">SIMPLE_READS</code>,
        <code class="literal">WRITES</code>, <code class="literal">ABORTS</code>,
        <code class="literal">TABLE_SCANS</code>, and
        <code class="literal">RANGE_SCANS</code> counters are associated with the
        DBTC (transaction co-ordinator) kernel block (see
        <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks-dbtc.html" target="_top">The <code class="literal">DBTC</code> Block</a>).
      </p><p>
        The <code class="literal">LOCAL_TABLE_SCANS_SENT</code>,
        <code class="literal">READS_RECEIVED</code>,
        <code class="literal">PRUNED_RANGE_SCANS_RECEIVED</code>,
        <code class="literal">RANGE_SCANS_RECEIVED</code>,
        <code class="literal">LOCAL_READS_SENT</code>,
        <code class="literal">CONST_PRUNED_RANGE_SCANS_RECEIVED</code>,
        <code class="literal">LOCAL_RANGE_SCANS_SENT</code>,
        <code class="literal">REMOTE_READS_SENT</code>,
        <code class="literal">REMOTE_RANGE_SCANS_SENT</code>,
        <code class="literal">READS_NOT_FOUND</code>,
        <code class="literal">SCAN_BATCHES_RETURNED</code>,
        <code class="literal">TABLE_SCANS_RECEIVED</code>, and
        <code class="literal">SCAN_ROWS_RETURNED</code> counters are associated
        with the <code class="literal">DBSPJ</code> (select push-down join) kernel
        block (see <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-kernel-blocks-dbspj.html" target="_top">The <code class="literal">DBSPJ</code> Block</a>).
      </p><p>
        A number of counters provide information about transporter
        overload and send buffer sizing when troubleshooting such
        issues. For each LQH instance, there is one instance of each
        counter in the following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <code class="literal">LQHKEY_OVERLOAD</code>: Number of primary key
            requests rejected at the LQH block instance due to
            transporter overload
          </p></li><li class="listitem"><p>
            <code class="literal">LQHKEY_OVERLOAD_TC</code>: Count of instances of
            <code class="literal">LQHKEY_OVERLOAD</code> where the TC node
            transporter was overloaded
          </p></li><li class="listitem"><p>
            <code class="literal">LQHKEY_OVERLOAD_READER</code>: Count of
            instances of <code class="literal">LQHKEY_OVERLOAD</code> where the
            API reader (reads only) node was overloaded.
          </p></li><li class="listitem"><p>
            <code class="literal">LQHKEY_OVERLOAD_NODE_PEER</code>: Count of
            instances of <code class="literal">LQHKEY_OVERLOAD</code> where the
            next backup data node (writes only) was overloaded
          </p></li><li class="listitem"><p>
            <code class="literal">LQHKEY_OVERLOAD_SUBSCRIBER</code>: Count of
            instances of <code class="literal">LQHKEY_OVERLOAD</code> where a
            event subscriber (writes only) was overloaded.
          </p></li><li class="listitem"><p>
            <code class="literal">LQHSCAN_SLOWDOWNS</code>: Count of instances
            where a fragment scan batch size was reduced due to scanning
            API transporter overload.
</p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-diskpagebuffer"></a>17.5.10.8. The <code class="literal">ndbinfo diskpagebuffer</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp123728384"></a><p>
        The <code class="literal">diskpagebuffer</code> table provides statistics
        about disk page buffer usage by MySQL Cluster Disk Data tables.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">diskpagebuffer</code> table. For each column,
        the table shows the name, data type, and a brief description.
        Additional information can be found in the notes following the
        table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>The data node ID</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>integer</td><td>Block instance</td></tr><tr><td scope="row"><code class="literal">pages_written</code></td><td>integer</td><td>Number of pages written to disk.</td></tr><tr><td scope="row"><code class="literal">pages_written_lcp</code></td><td>integer</td><td>Number of pages written by local checkpoints.</td></tr><tr><td scope="row"><code class="literal">pages_read</code></td><td>integer</td><td>Number of pages read from disk</td></tr><tr><td scope="row"><code class="literal">log_waits</code></td><td>integer</td><td>Number of page writes waiting for log to be written to disk</td></tr><tr><td scope="row"><code class="literal">page_requests_direct_return</code></td><td>integer</td><td>Number of requests for pages that were available in buffer</td></tr><tr><td scope="row"><code class="literal">page_requests_wait_queue</code></td><td>integer</td><td>Number of requests that had to wait for pages to become available in
                buffer</td></tr><tr><td scope="row"><code class="literal">page_requests_wait_io</code></td><td>integer</td><td>Number of requests that had to be read from pages on disk (pages were
unavailable in buffer)</td></tr></tbody></table>
</div>
<p>
        You can use this table with MySQL Cluster Disk Data tables to
        determine whether
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskpagebuffermemory"><code class="literal">DiskPageBufferMemory</code></a> is
        sufficiently large to allow data to be read from the buffer
        rather from disk; minimizing disk seeks can help improve
        performance of such tables.
      </p><p>
        You can determine the proportion of reads from
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskpagebuffermemory"><code class="literal">DiskPageBufferMemory</code></a> to
        the total number of reads using a query such as this one, which
        obtains this ratio as a percentage:
      </p><pre class="programlisting">SELECT  
  node_id, 
  100 * page_requests_direct_return / 
    (page_requests_direct_return + page_requests_wait_io) 
      AS hit_ratio 
FROM ndbinfo.diskpagebuffer;</pre><p>
        The result from this query should be similar to what is shown
        here, with one row for each data node in the cluster (in this
        example, the cluster has 4 data nodes):
      </p><pre class="programlisting">+---------+-----------+
| node_id | hit_ratio |
+---------+-----------+
|       5 |   97.6744 |
|       6 |   97.6879 |
|       7 |   98.1776 |
|       8 |   98.1343 |
+---------+-----------+
4 rows in set (0.00 sec)</pre><p>
        <code class="literal">hit_ratio</code> values approaching 100% indicate
        that only a very small number of reads are being made from disk
        rather than from the buffer, which means that Disk Data read
        performance is approaching an optimum level. If any of these
        values are less than 95%, this is a strong indicator that the
        setting for
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskpagebuffermemory"><code class="literal">DiskPageBufferMemory</code></a>
        needs to be increased in the <code class="filename">config.ini</code>
        file.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          A change in
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskpagebuffermemory"><code class="literal">DiskPageBufferMemory</code></a>
          requires a rolling restart of all of the cluster's data
          nodes before it takes effect.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-logbuffers"></a>17.5.10.9. The <code class="literal">ndbinfo logbuffers</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp123767936"></a><p>
        The <code class="literal">logbuffer</code> table provides information on
        MySQL Cluster log buffer usage.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">logbuffers</code> table. For each column, the
        table shows the name, data type, and a brief description.

        

</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>The ID of this data node.</td></tr><tr><td scope="row"><code class="literal">log_type</code></td><td>string</td><td>Type of log; one of: <code class="literal">REDO</code> or
<code class="literal">DD-UNDO</code>.</td></tr><tr><td scope="row"><code class="literal">log_id</code></td><td>integer</td><td>The log ID.</td></tr><tr><td scope="row"><code class="literal">log_part</code></td><td>integer</td><td>The log part number.</td></tr><tr><td scope="row"><code class="literal">total</code></td><td>integer</td><td>Total space available for this log.</td></tr><tr><td scope="row"><code class="literal">used</code></td><td>integer</td><td>Space used by this log.</td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-logspaces"></a>17.5.10.10. The <code class="literal">ndbinfo logspaces</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp123792992"></a><p>
        This table provides information about MySQL Cluster log space
        usage.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">logspaces</code> table. For each column, the
        table shows the name, data type, and a brief description.

        

</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>The ID of this data node.</td></tr><tr><td scope="row"><code class="literal">log_type</code></td><td>string</td><td>Type of log; one of: <code class="literal">REDO</code> or
<code class="literal">DD-UNDO</code>.</td></tr><tr><td scope="row"><code class="literal">log_id</code></td><td>integer</td><td>The log ID.</td></tr><tr><td scope="row"><code class="literal">log_part</code></td><td>integer</td><td>The log part number.</td></tr><tr><td scope="row"><code class="literal">total</code></td><td>integer</td><td>Total space available for this log.</td></tr><tr><td scope="row"><code class="literal">used</code></td><td>integer</td><td>Space used by this log.</td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-membership"></a>17.5.10.11. The <code class="literal">ndbinfo membership</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp123817344"></a><p>
        The <code class="literal">membership</code> table describes the view that
        each data node has of all the others in the cluster, including
        node group membership, president node, arbitrator, arbitrator
        successor, arbitrator connection states, and other information.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">membership</code> table. For each column, the
        table shows the name, data type, and a brief description.
        Additional information can be found in the notes following the
        table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>This node's node ID</td></tr><tr><td scope="row"><code class="literal">group_id</code></td><td>integer</td><td>Node group to which this node belongs</td></tr><tr><td scope="row"><code class="literal">left node</code></td><td>integer</td><td>Node ID of the previous node</td></tr><tr><td scope="row"><code class="literal">right_node</code></td><td>integer</td><td>Node ID of the next node</td></tr><tr><td scope="row"><code class="literal">president</code></td><td>integer</td><td>President's node ID</td></tr><tr><td scope="row"><code class="literal">successor</code></td><td>integer</td><td>Node ID of successor to president</td></tr><tr><td scope="row"><code class="literal">succession_order</code></td><td>integer</td><td>Order in which this node succeeds to presidency</td></tr><tr><td scope="row"><code class="literal">Conf_HB_order</code></td><td>integer</td><td>-</td></tr><tr><td scope="row"><code class="literal">arbitrator</code></td><td>integer</td><td>Node ID of arbitrator</td></tr><tr><td scope="row"><code class="literal">arb_ticket</code></td><td>string</td><td>Internal identifier used to track arbitration</td></tr><tr><td scope="row"><code class="literal">arb_state</code></td><td>Enumeration (see text)</td><td>Arbitration state</td></tr><tr><td scope="row"><code class="literal">arb_connected</code></td><td><code class="literal">Yes</code> or <code class="literal">No</code></td><td>Whether this node is connected to the arbitrator</td></tr><tr><td scope="row"><code class="literal">connected_rank1_arbs</code></td><td>List of node IDs</td><td>Connected arbitrators of rank 1</td></tr><tr><td scope="row"><code class="literal">connected_rank2_arbs</code></td><td>List of node IDs</td><td>Connected arbitrators of rank 1</td></tr></tbody></table>
</div>
<p>
        The node ID and node group ID are the same as reported by
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm -e "SHOW"</strong></span></a>.
      </p><p>
        <code class="literal">left_node</code> and <code class="literal">right_node</code>
        are defined in terms of a model that connects all data nodes in
        a circle, in order of their node IDs, similar to the ordering of
        the numbers on a clock dial, as shown here:
</p>
<div class="mediaobject">
<img src="images/cluster-left-right.png" width="275" height="250" alt="Arrangement of nodes in a circle">
</div>
<p>
        In this example, we have 8 data nodes, numbered 5, 6, 7, 8, 12,
        13, 14, and 15, ordered clockwise in a circle. We determine
        <span class="quote">“<span class="quote">left</span>”</span> and <span class="quote">“<span class="quote">right</span>”</span> from the interior
        of the circle. The node to the left of node 5 is node 15, and
        the node to the right of node 5 is node 6. You can see all these
        relationships by running the following query and observing the
        output:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT node_id,left_node,right_node</code></strong> 
    -&gt; <strong class="userinput"><code>FROM ndbinfo.membership;</code></strong>
+---------+-----------+------------+
| node_id | left_node | right_node |
+---------+-----------+------------+
|       5 |        15 |          6 |
|       6 |         5 |          7 |
|       7 |         6 |          8 |
|       8 |         7 |         12 |
|      12 |         8 |         13 |
|      13 |        12 |         14 |
|      14 |        13 |         15 |
|      15 |        14 |          5 |
+---------+-----------+------------+
8 rows in set (0.00 sec)
</pre><p>
        The designations <span class="quote">“<span class="quote">left</span>”</span> and <span class="quote">“<span class="quote">right</span>”</span>
        are used in the event log in the same way.
      </p><p>
        The <code class="literal">president</code> node is the node viewed by the
        current node as responsible for setting an arbitrator (see
        <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-internals-start-phases.html" target="_top">MySQL Cluster Start Phases</a>). If the president
        fails or becomes disconnected, the current node expects the node
        whose ID is shown in the <code class="literal">successor</code> column to
        become the new president. The
        <code class="literal">succession_order</code> column shows the place in
        the succession queue that the current node views itself as
        having.
      </p><p>
        In a normal MySQL Cluster, all data nodes should see the same
        node as <code class="literal">president</code>, and the same node (other
        than the president) as its <code class="literal">successor</code>. In
        addition, the current president should see itself as
        <code class="literal">1</code> in the order of succession, the
        <code class="literal">successor</code> node should see itself as
        <code class="literal">2</code>, and so on.
      </p><p>
        All nodes should show the same <code class="literal">arb_ticket</code>
        values as well as the same <code class="literal">arb_state</code> values.
        Possible <code class="literal">arb_state</code> values are
        <code class="literal">ARBIT_NULL</code>, <code class="literal">ARBIT_INIT</code>,
        <code class="literal">ARBIT_FIND</code>, <code class="literal">ARBIT_PREP1</code>,
        <code class="literal">ARBIT_PREP2</code>, <code class="literal">ARBIT_START</code>,
        <code class="literal">ARBIT_RUN</code>, <code class="literal">ARBIT_CHOOSE</code>,
        <code class="literal">ARBIT_CRASH</code>, and <code class="literal">UNKNOWN</code>.
      </p><p>
        <code class="literal">arb_connected</code> shows whether this node is
        connected to the node shown as this node's
        <code class="literal">arbitrator</code>.
      </p><p>
        The <code class="literal">connected_rank1_arbs</code> and
        <code class="literal">connected_rank2_arbs</code> columns each display a
        list of 0 or more arbitrators having an
        <a class="link" href="mysql-cluster.html#ndbparam-mgmd-arbitrationrank"><code class="literal">ArbitrationRank</code></a> equal to
        1, or to 2, respectively.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          Both management nodes and API nodes are eligible to become
          arbitrators.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-memoryusage"></a>17.5.10.12. The <code class="literal">ndbinfo memoryusage</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp123895232"></a><p>
        Querying this table provides information similar to that
        provided by the <code class="literal">ALL REPORT MemoryUsage</code>
        command in the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client, or logged by
        <code class="literal">ALL DUMP 1000</code>.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">memoryusage</code> table. For each column, the
        table shows the name, data type, and a brief description.
        Additional information can be found in the notes following the
        table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>The node ID of this data node.</td></tr><tr><td scope="row"><code class="literal">memory_type</code></td><td>string</td><td>One of <code class="literal">DATA_MEMORY</code> or
                <code class="literal">INDEX_MEMORY</code>.</td></tr><tr><td scope="row"><code class="literal">used</code></td><td>integer</td><td>Number of bytes currently used for data memory or index memory by this
                data node.</td></tr><tr><td scope="row"><code class="literal">used_pages</code></td><td>integer</td><td>Number of pages currently used for data memory or index memory by this
                data node; see text.</td></tr><tr><td scope="row"><code class="literal">total</code></td><td>integer</td><td>Total number of bytes of data memory or index memory available for this
                data node; see text.</td></tr><tr><td scope="row"><code class="literal">total_pages</code></td><td>integer</td><td>Total number of memory pages available for data memory or index memory
on this data node; see text.</td></tr></tbody></table>
</div>
<p>
        The <code class="literal">total</code> column represents the total amount
        of memory in bytes available for the given resource (data memory
        or index memory) on a particular data node. This number should
        be approximately equal to the setting of the corresponding
        configuration parameter in the <code class="filename">config.ini</code>
        file.
      </p><p>
        Suppose that the cluster has 2 data nodes having node IDs
        <code class="literal">1</code> and <code class="literal">2</code>, and the
        <code class="filename">config.ini</code> file contains the following:
      </p><pre class="programlisting">[ndbd default]
DataMemory = 100M
IndexMemory = 100M</pre><p>
        The following query shows approximately the same values:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT node_id, memory_type, total</code></strong> 
     &gt; <strong class="userinput"><code>FROM ndbinfo.memoryusage;</code></strong>
+---------+--------------+-----------+
| node_id | memory_type  | total     |
+---------+--------------+-----------+
|       1 | Data memory  | 104857600 |
|       1 | Index memory | 105119744 |
|       2 | Data memory  | 104857600 |
|       2 | Index memory | 105119744 |
+---------+--------------+-----------+
4 rows in set (0.30 sec)
</pre><p>
        In this case, the <code class="literal">total</code> column values for
        index memory are slightly higher than the value set of
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a> due to
        internal rounding.
      </p><p>
        For the <code class="literal">used_pages</code> and
        <code class="literal">total_pages</code> columns, resources are measured
        in pages, which are 32K in size for
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> and 8K for
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-indexmemory"><code class="literal">IndexMemory</code></a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-nodes"></a>17.5.10.13. The <code class="literal">ndbinfo nodes</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp123935792"></a><p>
        This table contains information on the status of data nodes. For
        each data node that is running in the cluster, a corresponding
        row in this table provides the node's node ID, status, and
        uptime. For nodes that are starting, it also shows the current
        start phase.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">nodes</code> table. For each column, the table
        shows the name, data type, and a brief description. Additional
        information can be found in the notes following the table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>The data node's unique node ID in the cluster.</td></tr><tr><td scope="row"><code class="literal">uptime</code></td><td>integer</td><td>Time since the node was last started, in seconds.</td></tr><tr><td scope="row"><code class="literal">status</code></td><td>string</td><td>Current status of the data node; see text for possible values.</td></tr><tr><td scope="row"><code class="literal">start_phase</code></td><td>integer</td><td>If the data node is starting, the current start phase.</td></tr><tr><td scope="row"><code class="literal">config_generation</code></td><td>integer</td><td>The version of the cluster configuration file in use on this data node.</td></tr></tbody></table>
</div>
<p>
        The <code class="literal">uptime</code> column shows the time in seconds
        that this node has been running since it was last started or
        restarted. This is a <a class="link" href="data-types.html#integer-types" title="11.2.1. Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>
        value. This figure includes the time actually needed to start
        the node; in other words, this counter starts running the moment
        that <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> is
        first invoked; thus, even for a node that has not yet finished
        starting, <code class="literal">uptime</code> may show a non-zero value.
      </p><p>
        The <code class="literal">status</code> column shows the node's
        current status. This is one of: <code class="literal">NOTHING</code>,
        <code class="literal">CMVMI</code>, <code class="literal">STARTING</code>,
        <code class="literal">STARTED</code>, <code class="literal">SINGLEUSER</code>,
        <code class="literal">STOPPING_1</code>, <code class="literal">STOPPING_2</code>,
        <code class="literal">STOPPING_3</code>, or <code class="literal">STOPPING_4</code>.
        When the status is <code class="literal">STARTING</code>, you can see the
        current start phase in the <code class="literal">start_phase</code> column
        (see later in this section). <code class="literal">SINGLEUSER</code> is
        displayed in the <code class="literal">status</code> column for all data
        nodes when the cluster is in single user mode (see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-single-user-mode" title="17.5.8. MySQL Cluster Single User Mode">Section 17.5.8, “MySQL Cluster Single User Mode”</a>). Seeing one of
        the <code class="literal">STOPPING</code> states does not necessarily mean
        that the node is shutting down but can mean rather that it is
        entering a new state; for example, if you put the cluster in
        single user mode, you can sometimes see data nodes report their
        state briefly as <code class="literal">STOPPING_2</code> before the status
        changes to <code class="literal">SINGLEUSER</code>.
      </p><p>
        The <code class="literal">start_phase</code> column uses the same range of
        values as those used in the output of the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client
        <code class="literal"><em class="replaceable"><code>node_id</code></em> STATUS</code>
        command (see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-mgm-client-commands" title="17.5.2. Commands in the MySQL Cluster Management Client">Section 17.5.2, “Commands in the MySQL Cluster Management Client”</a>). If the
        node is not currently starting, then this column shows
        <code class="literal">0</code>. For a listing of MySQL Cluster start
        phases with descriptions, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-start-phases" title="17.5.1. Summary of MySQL Cluster Start Phases">Section 17.5.1, “Summary of MySQL Cluster Start Phases”</a>.
      </p><p>
        The <code class="literal">config_generation</code> column shows which
        version of the cluster configuration is in effect on each data
        node. This can be useful when performing a rolling restart of
        the cluster in order to make changes in configuration
        parameters. For example, from the output of the following
        <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statement, you can see
        that node 3 is not yet using the latest version of the cluster
        configuration (<code class="literal">6</code>) although nodes 1, 2, and 4
        are doing so:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>USE ndbinfo;</code></strong>
Database changed
mysql&gt; <strong class="userinput"><code>SELECT * FROM nodes;</code></strong>
+---------+--------+---------+-------------+-------------------+
| node_id | uptime | status  | start_phase | config_generation |
+---------+--------+---------+-------------+-------------------+
|       1 |  10462 | STARTED |           0 |                 6 |
|       2 |  10460 | STARTED |           0 |                 6 |
|       3 |  10457 | STARTED |           0 |                 5 |
|       4 |  10455 | STARTED |           0 |                 6 |
+---------+--------+---------+-------------+-------------------+
2 rows in set (0.04 sec)
</pre><p>
        Therefore, for the case just shown, you should restart node 3 to
        complete the rolling restart of the cluster.
      </p><p>
        Nodes that are stopped are not accounted for in this table.
        Suppose that you have a MySQL Cluster with 4 data nodes (node
        IDs 1, 2, 3 and 4), and all nodes are running normally, then
        this table contains 4 rows, 1 for each data node:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>USE ndbinfo;</code></strong>
Database changed
mysql&gt; <strong class="userinput"><code>SELECT * FROM nodes;</code></strong>
+---------+--------+---------+-------------+-------------------+
| node_id | uptime | status  | start_phase | config_generation |
+---------+--------+---------+-------------+-------------------+
|       1 |  11776 | STARTED |           0 |                 6 |
|       2 |  11774 | STARTED |           0 |                 6 |
|       3 |  11771 | STARTED |           0 |                 6 |
|       4 |  11769 | STARTED |           0 |                 6 |
+---------+--------+---------+-------------+-------------------+
4 rows in set (0.04 sec)
</pre><p>
        If you shut down one of the nodes, only the nodes that are still
        running are represented in the output of this
        <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statement, as shown here:
      </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>2 STOP</code></strong>
Node 2: Node shutdown initiated
Node 2: Node shutdown completed.
Node 2 has shutdown.
</pre><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM nodes;</code></strong>
+---------+--------+---------+-------------+-------------------+
| node_id | uptime | status  | start_phase | config_generation |
+---------+--------+---------+-------------+-------------------+
|       1 |  11807 | STARTED |           0 |                 6 |
|       3 |  11802 | STARTED |           0 |                 6 |
|       4 |  11800 | STARTED |           0 |                 6 |
+---------+--------+---------+-------------+-------------------+
3 rows in set (0.02 sec)
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-resources"></a>17.5.10.14. The <code class="literal">ndbinfo resources</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp123994336"></a><p>
        This table provides information about data node resource
        availability and usage.
      </p><p>
        These resources are sometimes known as
        <em class="firstterm">super-pools</em>.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">resources</code> table. For each column, the
        table shows the name, data type, and a brief description.
        Additional information can be found in the notes following the
        table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>The unique node ID of this data node.</td></tr><tr><td scope="row"><code class="literal">resource_name</code></td><td>string</td><td>Name of the resource; see text.</td></tr><tr><td scope="row"><code class="literal">reserved</code></td><td>integer</td><td>The amount reserved for this resource.</td></tr><tr><td scope="row"><code class="literal">used</code></td><td>integer</td><td>The amount actually used by this resource.</td></tr><tr><td scope="row"><code class="literal">max</code></td><td>integer</td><td>The maximum amount of this resource used, since the node was last
started.</td></tr></tbody></table>
</div>
<p>
        The <code class="literal">resource_name</code> can be one of
        <code class="literal">RESERVED</code>, <code class="literal">DISK_OPERATIONS</code>,
        <code class="literal">DISK_RECORDS</code>, <code class="literal">DATA_MEMORY</code>,
        <code class="literal">JOBBUFFER</code>, <code class="literal">FILE_BUFFERS</code>,
        or <code class="literal">TRANSPORTER_BUFFERS</code>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-server-operations"></a>17.5.10.15. The <code class="literal">ndbinfo server_operations</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp124022480"></a><p>
        The <code class="literal">server_operations</code> table contains entries
        for all ongoing <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> operations that
        the current SQL node (MySQL Server) is currently involved in. It
        effectively is a subset of the the
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-cluster-operations" title="17.5.10.4. The ndbinfo cluster_operations Table"><code class="literal">cluster_operations</code></a> table, in
        which operations for other SQL and API nodes are not shown.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">server_operations</code> table. For each column,
        the table shows the name, data type, and a brief description.
        Additional information can be found in the notes following the
        table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">mysql_connection_id</code></td><td>integer</td><td>MySQL Server connection ID</td></tr><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>Node ID</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>integer</td><td>Block instance</td></tr><tr><td scope="row"><code class="literal">transid</code></td><td>integer</td><td>Transaction ID</td></tr><tr><td scope="row"><code class="literal">operation_type</code></td><td>string</td><td>Operation type (see text for possible values)</td></tr><tr><td scope="row"><code class="literal">state</code></td><td>string</td><td>Operation state (see text for possible values)</td></tr><tr><td scope="row"><code class="literal">tableid</code></td><td>integer</td><td>Table ID</td></tr><tr><td scope="row"><code class="literal">fragmentid</code></td><td>integer</td><td>Fragment ID</td></tr><tr><td scope="row"><code class="literal">client_node_id</code></td><td>integer</td><td>Client node ID</td></tr><tr><td scope="row"><code class="literal">client_block_ref</code></td><td>integer</td><td>Client block reference</td></tr><tr><td scope="row"><code class="literal">tc_node_id</code></td><td>integer</td><td>Transaction coordinator node ID</td></tr><tr><td scope="row"><code class="literal">tc_block_no</code></td><td>integer</td><td>Transaction coordinator block number</td></tr><tr><td scope="row"><code class="literal">tc_block_instance</code></td><td>integer</td><td>Transaction coordinator block instance</td></tr></tbody></table>
</div>
<p>
        The <code class="literal">mysql_connection_id</code> is the same as the
        connection or session ID shown in the output of
        <a class="link" href="sql-syntax.html#show-processlist" title="13.7.5.30. SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a>. It is obtained
        from the <code class="literal">INFORMATION_SCHEMA</code> table
        <a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/ndb-transid-mysql-connection-map-table.html" target="_top"><code class="literal">NDB_TRANSID_MYSQL_CONNECTION_MAP</code></a>.
      </p><p>
        The transaction ID is a unique 64-bit number which can be
        obtained using the NDB API's
        <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndbtransaction-methods.html#ndb-ndbtransaction-gettransactionid" target="_top"><code class="literal">getTransactionId()</code></a>
        method. (Currently, the MySQL Server does not expose the NDB API
        transaction ID of an ongoing transaction.)
      </p><p>
        The <code class="literal">operation_type</code> column can take any one of
        the values <code class="literal">READ</code>, <code class="literal">READ-SH</code>,
        <code class="literal">READ-EX</code>, <code class="literal">INSERT</code>,
        <code class="literal">UPDATE</code>, <code class="literal">DELETE</code>,
        <code class="literal">WRITE</code>, <code class="literal">UNLOCK</code>,
        <code class="literal">REFRESH</code>, <code class="literal">SCAN</code>,
        <code class="literal">SCAN-SH</code>, <code class="literal">SCAN-EX</code>, or
        <code class="literal">&lt;unknown&gt;</code>.
      </p><p>
        The <code class="literal">state</code> column can have any one of the
        values <code class="literal">ABORT_QUEUED</code>,
        <code class="literal">ABORT_STOPPED</code>, <code class="literal">COMMITTED</code>,
        <code class="literal">COMMIT_QUEUED</code>,
        <code class="literal">COMMIT_STOPPED</code>,
        <code class="literal">COPY_CLOSE_STOPPED</code>,
        <code class="literal">COPY_FIRST_STOPPED</code>,
        <code class="literal">COPY_STOPPED</code>, <code class="literal">COPY_TUPKEY</code>,
        <code class="literal">IDLE</code>, <code class="literal">LOG_ABORT_QUEUED</code>,
        <code class="literal">LOG_COMMIT_QUEUED</code>,
        <code class="literal">LOG_COMMIT_QUEUED_WAIT_SIGNAL</code>,
        <code class="literal">LOG_COMMIT_WRITTEN</code>,
        <code class="literal">LOG_COMMIT_WRITTEN_WAIT_SIGNAL</code>,
        <code class="literal">LOG_QUEUED</code>, <code class="literal">PREPARED</code>,
        <code class="literal">PREPARED_RECEIVED_COMMIT</code>,
        <code class="literal">SCAN_CHECK_STOPPED</code>,
        <code class="literal">SCAN_CLOSE_STOPPED</code>,
        <code class="literal">SCAN_FIRST_STOPPED</code>,
        <code class="literal">SCAN_RELEASE_STOPPED</code>,
        <code class="literal">SCAN_STATE_USED</code>,
        <code class="literal">SCAN_STOPPED</code>, <code class="literal">SCAN_TUPKEY</code>,
        <code class="literal">STOPPED</code>, <code class="literal">TC_NOT_CONNECTED</code>,
        <code class="literal">WAIT_ACC</code>, <code class="literal">WAIT_ACC_ABORT</code>,
        <code class="literal">WAIT_AI_AFTER_ABORT</code>,
        <code class="literal">WAIT_ATTR</code>, <code class="literal">WAIT_SCAN_AI</code>,
        <code class="literal">WAIT_TUP</code>, <code class="literal">WAIT_TUPKEYINFO</code>,
        <code class="literal">WAIT_TUP_COMMIT</code>, or
        <code class="literal">WAIT_TUP_TO_ABORT</code>. (If the MySQL Server is
        running with
        <a class="link" href="mysql-cluster.html#sysvar_ndbinfo_show_hidden"><code class="literal">ndbinfo_show_hidden</code></a> enabled,
        you can view this list of states by selecting from the
        <code class="literal">ndb$dblqh_tcconnect_state</code> table, which is
        normally hidden.)
      </p><p>
        You can obtain the name of an <code class="literal">NDB</code> table from
        its table ID by checking the output of
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-show-tables" title="17.4.23. ndb_show_tables — Display List of NDB Tables"><span class="command"><strong>ndb_show_tables</strong></span></a>.
      </p><p>
        The <code class="literal">fragid</code> is the same as the partition
        number seen in the output of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a>
        <a class="link" href="mysql-cluster.html#option_ndb_desc_extra-partition-info"><code class="option">--extra-partition-info</code></a> (short
        form <code class="option">-p</code>).
      </p><p>
        In <code class="literal">client_node_id</code> and
        <code class="literal">client_block_ref</code>, <code class="literal">client</code>
        refers to a MySQL Cluster API or SQL node (that is, an NDB API
        client or a MySQL Server attached to the cluster).
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-server-transactions"></a>17.5.10.16. The <code class="literal">ndbinfo server_transactions</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp124113856"></a><p>
        The <code class="literal">server_transactions</code> table is subset of
        the <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-cluster-transactions" title="17.5.10.5. The ndbinfo cluster_transactions Table"><code class="literal">cluster_transactions</code></a>
        table, but includes only those transactions in which the current
        SQL node (MySQL Server) is a participant, while including the
        relevant connection IDs.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">server_transactions</code> table. For each
        column, the table shows the name, data type, and a brief
        description. Additional information can be found in the notes
        following the table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">mysql_connection_id</code></td><td>integer</td><td>MySQL Server connection ID</td></tr><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>Transaction coordinator node ID</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>integer</td><td>Transaction coordinator block instance</td></tr><tr><td scope="row"><code class="literal">transid</code></td><td>integer</td><td>Transaction ID</td></tr><tr><td scope="row"><code class="literal">state</code></td><td>string</td><td>Operation state (see text for possible values)</td></tr><tr><td scope="row"><code class="literal">count_operations</code></td><td>integer</td><td>Number of stateful operations in the transaction</td></tr><tr><td scope="row"><code class="literal">outstanding_operations</code></td><td>integer</td><td>Operations still being executed by local data management layer (LQH
blocks)</td></tr><tr><td scope="row"><code class="literal">inactive_seconds</code></td><td>integer</td><td>Time spent waiting for API</td></tr><tr><td scope="row"><code class="literal">client_node_id</code></td><td>integer</td><td>Client node ID</td></tr><tr><td scope="row"><code class="literal">client_block_ref</code></td><td>integer</td><td>Client block reference</td></tr></tbody></table>
</div>
<p>
        The <code class="literal">mysql_connection_id</code> is the same as the
        connection or session ID shown in the output of
        <a class="link" href="sql-syntax.html#show-processlist" title="13.7.5.30. SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a>. It is obtained
        from the <code class="literal">INFORMATION_SCHEMA</code> table
        <a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/ndb-transid-mysql-connection-map-table.html" target="_top"><code class="literal">NDB_TRANSID_MYSQL_CONNECTION_MAP</code></a>.
      </p><p>
        The transaction ID is a unique 64-bit number which can be
        obtained using the NDB API's
        <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndbtransaction-methods.html#ndb-ndbtransaction-gettransactionid" target="_top"><code class="literal">getTransactionId()</code></a>
        method. (Currently, the MySQL Server does not expose the NDB API
        transaction ID of an ongoing transaction.)
      </p><p>
        The <code class="literal">state</code> column can have any one of the
        values <code class="literal">CS_ABORTING</code>,
        <code class="literal">CS_COMMITTING</code>,
        <code class="literal">CS_COMMIT_SENT</code>,
        <code class="literal">CS_COMPLETE_SENT</code>,
        <code class="literal">CS_COMPLETING</code>,
        <code class="literal">CS_CONNECTED</code>,
        <code class="literal">CS_DISCONNECTED</code>,
        <code class="literal">CS_FAIL_ABORTED</code>,
        <code class="literal">CS_FAIL_ABORTING</code>,
        <code class="literal">CS_FAIL_COMMITTED</code>,
        <code class="literal">CS_FAIL_COMMITTING</code>,
        <code class="literal">CS_FAIL_COMPLETED</code>,
        <code class="literal">CS_FAIL_PREPARED</code>,
        <code class="literal">CS_PREPARE_TO_COMMIT</code>,
        <code class="literal">CS_RECEIVING</code>,
        <code class="literal">CS_REC_COMMITTING</code>,
        <code class="literal">CS_RESTART</code>,
        <code class="literal">CS_SEND_FIRE_TRIG_REQ</code>,
        <code class="literal">CS_STARTED</code>,
        <code class="literal">CS_START_COMMITTING</code>,
        <code class="literal">CS_START_SCAN</code>,
        <code class="literal">CS_WAIT_ABORT_CONF</code>,
        <code class="literal">CS_WAIT_COMMIT_CONF</code>,
        <code class="literal">CS_WAIT_COMPLETE_CONF</code>,
        <code class="literal">CS_WAIT_FIRE_TRIG_REQ</code>. (If the MySQL Server
        is running with
        <a class="link" href="mysql-cluster.html#sysvar_ndbinfo_show_hidden"><code class="literal">ndbinfo_show_hidden</code></a> enabled,
        you can view this list of states by selecting from the
        <code class="literal">ndb$dbtc_apiconnect_state</code> table, which is
        normally hidden.)
      </p><p>
        In <code class="literal">client_node_id</code> and
        <code class="literal">client_block_ref</code>, <code class="literal">client</code>
        refers to a MySQL Cluster API or SQL node (that is, an NDB API
        client or a MySQL Server attached to the cluster).
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-threadblocks"></a>17.5.10.17. The <code class="literal">ndbinfo threadblocks</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp124174976"></a><p>
        The <code class="literal">threadblocks</code> table associates data nodes,
        threads, and instances of <code class="literal">NDB</code> kernel blocks.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">threadblocks</code> table. For each column, the
        table shows the name, data type, and a brief description.
        Additional information can be found in the notes following the
        table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>Node ID</td></tr><tr><td scope="row"><code class="literal">thr_no</code></td><td>integer</td><td>Thread ID</td></tr><tr><td scope="row"><code class="literal">block_name</code></td><td>string</td><td>Block name</td></tr><tr><td scope="row"><code class="literal">block_instance</code></td><td>integer</td><td>Block instance number</td></tr></tbody></table>
</div>
<p>
        The <code class="literal">block_name</code> is one of the values found in
        the <code class="literal">block_name</code> column when selecting from the
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-blocks" title="17.5.10.3. The ndbinfo blocks Table"><code class="literal">ndbinfo.blocks</code></a> table. Although
        the list of possible values is static for a given MySQL Cluster
        release, the list may vary between releases.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-threadstat"></a>17.5.10.18. The <code class="literal">ndbinfo threadstat</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp124197456"></a><p>
        The <code class="literal">threadstat</code> table provides a rough
        snapshot of statistics for threads running in the
        <code class="literal">NDB</code> kernel.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">threadstat</code> table. For each column, the
        table shows the name, data type, and a brief description.
        Additional information can be found in the notes following the
        table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>Node ID</td></tr><tr><td scope="row"><code class="literal">thr_no</code></td><td>integer</td><td>Thread ID</td></tr><tr><td scope="row"><code class="literal">thr_nm</code></td><td>string</td><td>Thread name</td></tr><tr><td scope="row"><code class="literal">c_loop</code></td><td>string</td><td>Number of loops in main loop</td></tr><tr><td scope="row"><code class="literal">c_exec</code></td><td>string</td><td>Number of signals executed</td></tr><tr><td scope="row"><code class="literal">c_wait</code></td><td>string</td><td>Number of times waiting for additional input</td></tr><tr><td scope="row"><code class="literal">c_l_sent_prioa</code></td><td>integer</td><td>Number of priority A signals sent to own node</td></tr><tr><td scope="row"><code class="literal">c_l_sent_priob</code></td><td>integer</td><td>Number of priority B signals sent to own node</td></tr><tr><td scope="row"><code class="literal">c_r_sent_prioa</code></td><td>integer</td><td>Number of priority A signals sent to remote node</td></tr><tr><td scope="row"><code class="literal">c_r_sent_priob</code></td><td>integer</td><td>Number of priority B signals sent to remote node</td></tr><tr><td scope="row"><code class="literal">os_tid</code></td><td>integer</td><td>OS thread ID</td></tr><tr><td scope="row"><code class="literal">os_now</code></td><td>integer</td><td>OS time (ms)</td></tr><tr><td scope="row"><code class="literal">os_ru_utime</code></td><td>integer</td><td>OS user CPU time (µs)</td></tr><tr><td scope="row"><code class="literal">os_ru_stime</code></td><td>integer</td><td>OS system CPU time (µs)</td></tr><tr><td scope="row"><code class="literal">os_ru_minflt</code></td><td>integer</td><td>OS page reclaims (soft page faults)</td></tr><tr><td scope="row"><code class="literal">os_ru_majflt</code></td><td>integer</td><td>OS page faults (hard page faults)</td></tr><tr><td scope="row"><code class="literal">os_ru_nvcsw</code></td><td>integer</td><td>OS voluntary context switches</td></tr><tr><td scope="row"><code class="literal">os_ru_nivcsw</code></td><td>integer</td><td>OS involuntary context switches</td></tr></tbody></table>
</div>
<p>
        <code class="literal">os_time</code> uses the system
        <code class="function">gettimeofday()</code> call.
      </p><p>
        The values of the <code class="literal">os_ru_utime</code>,
        <code class="literal">os_ru_stime</code>, <code class="literal">os_ru_minflt</code>,
        <code class="literal">os_ru_majflt</code>, <code class="literal">os_ru_nvcsw</code>,
        and <code class="literal">os_ru_nivcsw</code> columns are obtained using
        the system <code class="function">getrusage()</code> call, or the
        equivalent.
      </p><p>
        Since this table contains counts taken at a given point in time,
        for best results it is necessary to query this table
        periodically and store the results in an intermediate table or
        tables. The MySQL Server's Event Scheduler can be employed
        to automate such monitoring. For more information, see
        <a class="xref" href="stored-programs-views.html#events" title="19.4. Using the Event Scheduler">Section 19.4, “Using the Event Scheduler”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-ndbinfo-transporters"></a>17.5.10.19. The <code class="literal">ndbinfo transporters</code> Table</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp124254448"></a><p>
        This table contains information about NDB transporters.
      </p><p>
        The following table provides information about the columns in
        the <code class="literal">transporters</code> table. For each column, the
        table shows the name, data type, and a brief description.
        Additional information can be found in the notes following the
        table.
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Column Name</th><th scope="col">Type</th><th scope="col">Remarks</th></tr></thead><tbody><tr><td scope="row"><code class="literal">node_id</code></td><td>integer</td><td>This data node's unique node ID in the cluster.</td></tr><tr><td scope="row"><code class="literal">remote_node_id</code></td><td>integer</td><td>The remote data node's node ID.</td></tr><tr><td scope="row"><code class="literal">status</code></td><td>string</td><td>Status of the connection.</td></tr><tr><td scope="row"><code class="literal">remote_address</code></td><td>string</td><td>Name or IP address of the remote host</td></tr><tr><td scope="row"><code class="literal">bytes_sent</code></td><td>integer</td><td>Number of bytes sent using this connection</td></tr><tr><td scope="row"><code class="literal">bytes_received</code></td><td> </td><td>Number of bytes received using this connection</td></tr><tr><td scope="row"><code class="literal">connect_count</code></td><td> </td><td>Number of times connection established on this transporter</td></tr><tr><td scope="row"><code class="literal">overloaded</code></td><td> </td><td>1 if this transporter is currently overloaded, otherwise 0</td></tr><tr><td scope="row"><code class="literal">overload_count</code></td><td> </td><td>Number of times this transporter has entered overload state since
                connecting</td></tr><tr><td scope="row"><code class="literal">slowdown</code></td><td> </td><td>1 if this transporter is in scan slowdown state, otherwise 0</td></tr><tr><td scope="row"><code class="literal">slowdown_count</code></td><td> </td><td>Number of times this transporter has entered scan slowdown state since
connecting</td></tr></tbody></table>
</div>
<p>
        For each running data node in the cluster, the
        <code class="literal">transporters</code> table displays a row showing the
        status of each of that node's connections with all nodes in
        the cluster, <span class="emphasis"><em>including itself</em></span>. This
        information is shown in the table's
        <span class="emphasis"><em>status</em></span> column, which can have any one of
        the following values: <code class="literal">CONNECTING</code>,
        <code class="literal">CONNECTED</code>, <code class="literal">DISCONNECTING</code>,
        or <code class="literal">DISCONNECTED</code>.
      </p><p>
        Connections to API and management nodes which are configured but
        not currently connected to the cluster are shown with status
        <code class="literal">DISCONNECTED</code>. Rows where the
        <code class="literal">node_id</code> is that of a data nodes which is not
        currently connected are not shown in this table. (This is
        similar omission of disconnected nodes in the
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-nodes" title="17.5.10.13. The ndbinfo nodes Table"><code class="literal">ndbinfo.nodes</code></a> table.
      </p><p>
        The <code class="literal">remote_address</code> is the the host name or
        address for the node whose ID is shown in the
        <code class="literal">remote_node_id</code> column. The
        <code class="literal">bytes_sent</code> from this node and
        <code class="literal">bytes_received</code> by this node are the numbers,
        respectively, of bytes sent and received by the node using this
        connection since it was established. For nodes whose status is
        <code class="literal">CONNECTING</code> or
        <code class="literal">DISCONNECTED</code>, these columns always display
        <code class="literal">0</code>.
      </p><p>
        The <code class="literal">connect_count</code>,
        <code class="literal">overloaded</code>, <code class="literal">overload_count</code>
        ,<code class="literal">slowdown</code>, and
        <code class="literal">slowdown_count</code> counters are reset on
        connection, and retain their values after the remote node
        disconnects. The <code class="literal">bytes_send</code> and
        <code class="literal">bytes_received</code> counters are also reset on
        connection, and so retain their values following disconnection
        (until the next connection resets them).
      </p><p>
        Assume you have a 5-node cluster consisting of 2 data nodes, 2
        SQL nodes, and 1 management node, as shown in the output of the
        <code class="literal">SHOW</code> command in the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client:
      </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: localhost:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=1    @10.100.10.1  (5.6.11-ndb-7.3.3, Nodegroup: 0, Master)
id=2    @10.100.10.2  (5.6.11-ndb-7.3.3, Nodegroup: 0)

[ndb_mgmd(MGM)] 1 node(s)
id=10   @10.100.10.10  (5.6.11-ndb-7.3.3)

[mysqld(API)]   2 node(s)
id=20   @10.100.10.20  (5.6.11-ndb-7.3.3)
id=21   @10.100.10.21  (5.6.11-ndb-7.3.3)
</pre><p>
        There are 10 rows in the <code class="literal">transporters</code>
        table—5 for the first data node, and 5 for the
        second—assuming that all data nodes are running, as shown
        here:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT node_id, remote_node_id, status</code></strong>
    -&gt;   <strong class="userinput"><code>FROM ndbinfo.transporters;</code></strong>
+---------+----------------+---------------+
| node_id | remote_node_id | status        |
+---------+----------------+---------------+
|       1 |              1 | DISCONNECTED  |
|       1 |              2 | CONNECTED     |
|       1 |             10 | CONNECTED     |
|       1 |             20 | CONNECTED     |
|       1 |             21 | CONNECTED     |
|       2 |              1 | CONNECTED     |
|       2 |              2 | DISCONNECTED  |
|       2 |             10 | CONNECTED     |
|       2 |             20 | CONNECTED     |
|       2 |             21 | CONNECTED     |
+---------+----------------+---------------+
10 rows in set (0.04 sec)
</pre><p>
        If you shut down one of the data nodes in this cluster using the
        command <code class="literal">2 STOP</code> in the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client, then repeat the previous
        query (again using the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client), this
        table now shows only 5 rows—1 row for each connection from
        the remaining management node to another node, including both
        itself and the data node that is currently offline—and
        displays <code class="literal">CONNECTING</code> for the status of each
        remaining connection to the data node that is currently offline,
        as shown here:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT node_id, remote_node_id, status</code></strong>
    -&gt;   <strong class="userinput"><code>FROM ndbinfo.transporters;</code></strong>
+---------+----------------+---------------+
| node_id | remote_node_id | status        |
+---------+----------------+---------------+
|       1 |              1 | DISCONNECTED  |
|       1 |              2 | CONNECTING    |
|       1 |             10 | CONNECTED     |
|       1 |             20 | CONNECTED     |
|       1 |             21 | CONNECTED     |
+---------+----------------+---------------+
5 rows in set (0.02 sec)
</pre>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-security"></a>17.5.11. MySQL Cluster Security Issues</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-security-networking-issues">17.5.11.1. MySQL Cluster Security and Networking Issues</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-security-mysql-privileges">17.5.11.2. MySQL Cluster and MySQL Privileges</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-security-mysql-security-procedures">17.5.11.3. MySQL Cluster and MySQL Security Procedures</a></span></dt></dl>
</div>
<a class="indexterm" name="idp124320256"></a><p>
      This section discusses security considerations to take into
      account when setting up and running MySQL Cluster.
    </p><p>
      Topics covered in this section include the following:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          MySQL Cluster and network security issues
        </p></li><li class="listitem"><p>
          Configuration issues relating to running MySQL Cluster
          securely
        </p></li><li class="listitem"><p>
          MySQL Cluster and the MySQL privilege system
        </p></li><li class="listitem"><p>
          MySQL standard security procedures as applicable to MySQL
          Cluster
</p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-security-networking-issues"></a>17.5.11.1. MySQL Cluster Security and Networking Issues</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp124327584"></a><p>
        In this section, we discuss basic network security issues as
        they relate to MySQL Cluster. It is extremely important to
        remember that MySQL Cluster <span class="quote">“<span class="quote">out of the box</span>”</span> is not
        secure; you or your network administrator must take the proper
        steps to ensure that your cluster cannot be compromised over the
        network.
      </p><a class="indexterm" name="idp124330672"></a><p>
        Cluster communication protocols are inherently insecure, and no
        encryption or similar security measures are used in
        communications between nodes in the cluster. Because network
        speed and latency have a direct impact on the cluster's
        efficiency, it is also not advisable to employ SSL or other
        encryption to network connections between nodes, as such schemes
        will effectively slow communications.
      </p><p>
        It is also true that no authentication is used for controlling
        API node access to a MySQL Cluster. As with encryption, the
        overhead of imposing authentication requirements would have an
        adverse impact on Cluster performance.
      </p><p>
        In addition, there is no checking of the source IP address for
        either of the following when accessing the cluster:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            SQL or API nodes using <span class="quote">“<span class="quote">free slots</span>”</span> created by
            empty <code class="literal">[mysqld]</code> or
            <code class="literal">[api]</code> sections in the
            <code class="filename">config.ini</code> file
          </p><p>
            This means that, if there are any empty
            <code class="literal">[mysqld]</code> or <code class="literal">[api]</code>
            sections in the <code class="filename">config.ini</code> file, then
            any API nodes (including SQL nodes) that know the management
            server's host name (or IP address) and port can connect to
            the cluster and access its data without restriction. (See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-security-mysql-privileges" title="17.5.11.2. MySQL Cluster and MySQL Privileges">Section 17.5.11.2, “MySQL Cluster and MySQL Privileges”</a>,
            for more information about this and related issues.)
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              <a class="indexterm" name="idp124341856"></a>

              <a class="indexterm" name="idp124343760"></a>

              <a class="indexterm" name="idp124345664"></a>

              You can exercise some control over SQL and API node access
              to the cluster by specifying a <code class="literal">HostName</code>
              parameter for all <code class="literal">[mysqld]</code> and
              <code class="literal">[api]</code> sections in the
              <code class="filename">config.ini</code> file. However, this also
              means that, should you wish to connect an API node to the
              cluster from a previously unused host, you need to add an
              <code class="literal">[api]</code> section containing its host name
              to the <code class="filename">config.ini</code> file.
            </p><p xmlns="">
              More information is available
              <a class="link" href="mysql-cluster.html#ndbparam-api-hostname">elsewhere in this
              chapter</a> about the <code class="literal">HostName</code>
              parameter. Also see <a class="xref" href="mysql-cluster.html#mysql-cluster-quick" title="17.3.1. Quick Test Setup of MySQL Cluster">Section 17.3.1, “Quick Test Setup of MySQL Cluster”</a>,
              for configuration examples using
              <code class="literal">HostName</code> with API nodes.
</p>
</div>
</li><li class="listitem"><p>
            Any <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client
          </p><p>
            This means that any cluster management client that is given
            the management server's host name (or IP address) and port
            (if not the standard port) can connect to the cluster and
            execute any management client command. This includes
            commands such as <code class="literal">ALL STOP</code> and
            <code class="literal">SHUTDOWN</code>.
</p></li></ul>
</div>
<p>
        <a class="indexterm" name="idp124359312"></a>

        <a class="indexterm" name="idp124361232"></a>

        For these reasons, it is necessary to protect the cluster on the
        network level. The safest network configuration for Cluster is
        one which isolates connections between Cluster nodes from any
        other network communications. This can be accomplished by any of
        the following methods:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Keeping Cluster nodes on a network that is physically
            separate from any public networks. This option is the most
            dependable; however, it is the most expensive to implement.
          </p><p>
            We show an example of a MySQL Cluster setup using such a
            physically segregated network here:
</p>
<div class="mediaobject">
<img src="images/cluster-security-network-1.png" width="550" height="347" alt="MySQL Cluster on a private network protected with a hardware firewall">
</div>
<p>
            This setup has two networks, one private (solid box) for the
            Cluster management servers and data nodes, and one public
            (dotted box) where the SQL nodes reside. (We show the
            management and data nodes connected using a gigabit switch
            since this provides the best performance.) Both networks are
            protected from the outside by a hardware firewall, sometimes
            also known as a <em class="firstterm">network-based
            firewall</em>.
          </p><p>
            This network setup is safest because no packets can reach
            the cluster's management or data nodes from outside the
            network—and none of the cluster's internal
            communications can reach the outside—without going
            through the SQL nodes, as long as the SQL nodes do not
            permit any packets to be forwarded. This means, of course,
            that all SQL nodes must be secured against hacking attempts.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              With regard to potential security vulnerabilities, an SQL
              node is no different from any other MySQL server. See
              <a class="xref" href="security.html#security-against-attack" title="6.1.3. Making MySQL Secure Against Attackers">Section 6.1.3, “Making MySQL Secure Against Attackers”</a>, for a
              description of techniques you can use to secure MySQL
              servers.
</p>
</div>
</li><li class="listitem"><p>
            <a class="indexterm" name="idp124375792"></a>

            <a class="indexterm" name="idp124377696"></a>

            Using one or more software firewalls (also known as
            <em class="firstterm">host-based firewalls</em>) to control
            which packets pass through to the cluster from portions of
            the network that do not require access to it. In this type
            of setup, a software firewall must be installed on every
            host in the cluster which might otherwise be accessible from
            outside the local network.
          </p><p>
            The host-based option is the least expensive to implement,
            but relies purely on software to provide protection and so
            is the most difficult to keep secure.
          </p><p>
            This type of network setup for MySQL Cluster is illustrated
            here:
</p>
<div class="mediaobject">
<img src="images/cluster-security-network-2.png" width="550" height="489" alt="MySQL Cluster deployed on a network using software firewalls to create public and private zones">
</div>
<p>
            Using this type of network setup means that there are two
            zones of MySQL Cluster hosts. Each cluster host must be able
            to communicate with all of the other machines in the
            cluster, but only those hosting SQL nodes (dotted box) can
            be permitted to have any contact with the outside, while
            those in the zone containing the data nodes and management
            nodes (solid box) must be isolated from any machines that
            are not part of the cluster. Applications using the cluster
            and user of those applications must <span class="emphasis"><em>not</em></span>
            be permitted to have direct access to the management and
            data node hosts.
          </p><p>
            To accomplish this, you must set up software firewalls that
            limit the traffic to the type or types shown in the
            following table, according to the type of node that is
            running on each cluster host computer:
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Type of Node to be Accessed</th><th scope="col">Traffic to Permit</th></tr></thead><tbody><tr><td scope="row">SQL or API node</td><td>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                          It originates from the IP address of a
                          management or data node (using any TCP or UDP
                          port).
                        </p></li><li class="listitem"><p>
                          It originates from within the network in which
                          the cluster resides and is on the port that
                          your application is using.
</p></li></ul>
</div>
</td></tr><tr><td scope="row">Data node or Management node</td><td>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                          It originates from the IP address of a
                          management or data node (using any TCP or UDP
                          port).
                        </p></li><li class="listitem"><p>
                          It originates from the IP address of an SQL or
                          API node.
</p></li></ul>
</div>
</td></tr></tbody></table>
</div>
<p>
            Any traffic other than that shown in the table for a given
            node type should be denied.
          </p><p>
            The specifics of configuring a firewall vary from firewall
            application to firewall application, and are beyond the
            scope of this Manual. <span class="command"><strong>iptables</strong></span> is a very
            common and reliable firewall application, which is often
            used with <span class="command"><strong>APF</strong></span> as a front end to make
            configuration easier. You can (and should) consult the
            documentation for the software firewall that you employ,
            should you choose to implement a MySQL Cluster network setup
            of this type, or of a <span class="quote">“<span class="quote">mixed</span>”</span> type as discussed
            under the next item.
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idp124403200"></a>

            <a class="indexterm" name="idp124405104"></a>

            It is also possible to employ a combination of the first two
            methods, using both hardware and software to secure the
            cluster—that is, using both network-based and
            host-based firewalls. This is between the first two schemes
            in terms of both security level and cost. This type of
            network setup keeps the cluster behind the hardware
            firewall, but permits incoming packets to travel beyond the
            router connecting all cluster hosts to reach the SQL nodes.
          </p><p>
            One possible network deployment of a MySQL Cluster using
            hardware and software firewalls in combination is shown
            here:
</p>
<div class="mediaobject">
<img src="images/cluster-security-network-3.png" width="550" height="410" alt="Network setup for MySQL Cluster using a combination of hardware and software firewalls to provide protection">
</div>
<p>
            In this case, you can set the rules in the hardware firewall
            to deny any external traffic except to SQL nodes and API
            nodes, and then permit traffic to them only on the ports
            required by your application.
</p></li></ol>
</div>
<p>
        Whatever network configuration you use, remember that your
        objective from the viewpoint of keeping the cluster secure
        remains the same—to prevent any unessential traffic from
        reaching the cluster while ensuring the most efficient
        communication between the nodes in the cluster.
      </p><p>
        <a class="indexterm" name="idp124415696"></a>

        <a class="indexterm" name="idp124417600"></a>

        Because MySQL Cluster requires large numbers of ports to be open
        for communications between nodes, the recommended option is to
        use a segregated network. This represents the simplest way to
        prevent unwanted traffic from reaching the cluster.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          <a class="indexterm" name="idp124420032"></a>

          <a class="indexterm" name="idp124421952"></a>

          If you wish to administer a MySQL Cluster remotely (that is,
          from outside the local network), the recommended way to do
          this is to use <span class="command"><strong>ssh</strong></span> or another secure login
          shell to access an SQL node host. From this host, you can then
          run the management client to access the management server
          safely, from within the Cluster's own local network.
        </p><p xmlns="">
          Even though it is possible to do so in theory, it is
          <span class="emphasis"><em>not</em></span> recommended to use
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> to manage a Cluster directly from
          outside the local network on which the Cluster is running.
          Since neither authentication nor encryption takes place
          between the management client and the management server, this
          represents an extremely insecure means of managing the
          cluster, and is almost certain to be compromised sooner or
          later.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-security-mysql-privileges"></a>17.5.11.2. MySQL Cluster and MySQL Privileges</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp124428064"></a><p>
        In this section, we discuss how the MySQL privilege system works
        in relation to MySQL Cluster and the implications of this for
        keeping a MySQL Cluster secure.
      </p><p>
        <a class="indexterm" name="idp124430400"></a>

        Standard MySQL privileges apply to MySQL Cluster tables. This
        includes all MySQL privilege types
        (<a class="link" href="security.html#priv_select"><code class="literal">SELECT</code></a> privilege,
        <a class="link" href="security.html#priv_update"><code class="literal">UPDATE</code></a> privilege,
        <a class="link" href="security.html#priv_delete"><code class="literal">DELETE</code></a> privilege, and so on)
        granted on the database, table, and column level. As with any
        other MySQL Server, user and privilege information is stored in
        the <code class="literal">mysql</code> system database. The SQL statements
        used to grant and revoke privileges on
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables, databases containing
        such tables, and columns within such tables are identical in all
        respects with the <a class="link" href="sql-syntax.html#grant" title="13.7.1.4. GRANT Syntax"><code class="literal">GRANT</code></a> and
        <a class="link" href="sql-syntax.html#revoke" title="13.7.1.6. REVOKE Syntax"><code class="literal">REVOKE</code></a> statements used in
        connection with database objects involving any (other) MySQL
        storage engine. The same thing is true with respect to the
        <a class="link" href="sql-syntax.html#create-user" title="13.7.1.2. CREATE USER Syntax"><code class="literal">CREATE USER</code></a> and
        <a class="link" href="sql-syntax.html#drop-user" title="13.7.1.3. DROP USER Syntax"><code class="literal">DROP USER</code></a> statements.
      </p><p>
        <a class="indexterm" name="idp124440384"></a>

        It is important to keep in mind that, by default, the MySQL
        grant tables use the <a class="link" href="storage-engines.html#myisam-storage-engine" title="14.3. The MyISAM Storage Engine"><code class="literal">MyISAM</code></a> storage
        engine. Because of this, those tables are not normally
        duplicated or shared among MySQL servers acting as SQL nodes in
        a MySQL Cluster. In other words, changes in users and their
        privileges do not automatically propagate between SQL nodes by
        default. If you wish, you can enable automatic distribution of
        MySQL users and privileges across MySQL Cluster SQL nodes; see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-privilege-distribution" title="17.5.14. Distributed MySQL Privileges for MySQL Cluster">Section 17.5.14, “Distributed MySQL Privileges for MySQL Cluster”</a>, for
        details.
      </p><p>
        <a class="indexterm" name="idp124444224"></a>

        <a class="indexterm" name="idp124445712"></a>

        Conversely, because there is no way in MySQL to deny privileges
        (privileges can either be revoked or not granted in the first
        place, but not denied as such), there is no special protection
        for <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables on one SQL node from
        users that have privileges on another SQL node; (This is true
        even if you are not using automatic distribution of user
        privileges. The definitive example of this is the MySQL
        <code class="literal">root</code> account, which can perform any action on
        any database object. In combination with empty
        <code class="literal">[mysqld]</code> or <code class="literal">[api]</code> sections
        of the <code class="filename">config.ini</code> file, this account can be
        especially dangerous. To understand why, consider the following
        scenario:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            The <code class="filename">config.ini</code> file contains at least
            one empty <code class="literal">[mysqld]</code> or
            <code class="literal">[api]</code> section. This means that the MySQL
            Cluster management server performs no checking of the host
            from which a MySQL Server (or other API node) accesses the
            MySQL Cluster.
          </p></li><li class="listitem"><p>
            There is no firewall, or the firewall fails to protect
            against access to the MySQL Cluster from hosts external to
            the network.
          </p></li><li class="listitem"><p>
            The host name or IP address of the MySQL Cluster's
            management server is known or can be determined from outside
            the network.
</p></li></ul>
</div>
<p>
        If these conditions are true, then anyone, anywhere can start a
        MySQL Server with <a class="link" href="mysql-cluster.html#option_mysqld_ndbcluster"><code class="option">--ndbcluster</code></a>
        <a class="link" href="mysql-cluster.html#option_mysqld_ndb-connectstring"><code class="option">--ndb-connectstring=<em class="replaceable"><code>management_host</code></em></code></a>
        and access this MySQL Cluster. Using the MySQL
        <code class="literal">root</code> account, this person can then perform
        the following actions:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Execute metadata statements such as
            <a class="link" href="sql-syntax.html#show-databases" title="13.7.5.15. SHOW DATABASES Syntax"><code class="literal">SHOW DATABASES</code></a> statement (to
            obtain a list of all <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
            databases on the server) or
            <a class="link" href="sql-syntax.html#show-tables" title="13.7.5.38. SHOW TABLES Syntax"><code class="literal">SHOW TABLES
            FROM <em class="replaceable"><code>some_ndb_database</code></em></code></a>
            statement to obtain a list of all
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables in a given database
          </p></li><li class="listitem"><p>
            <a class="indexterm" name="idp124465888"></a>

            <a class="indexterm" name="idp124467392"></a>

            Run any legal MySQL statements on any of the discovered
            tables, such as:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                <code class="literal">SELECT * FROM
                <em class="replaceable"><code>some_table</code></em></code> to read
                all the data from any table
              </p></li><li class="listitem"><p>
                <code class="literal">DELETE FROM
                <em class="replaceable"><code>some_table</code></em></code> to
                delete all the data from a table
              </p></li><li class="listitem"><p>
                <code class="literal">DESCRIBE
                <em class="replaceable"><code>some_table</code></em></code> or
                <code class="literal">SHOW CREATE TABLE
                <em class="replaceable"><code>some_table</code></em></code> to
                determine the table schema
              </p></li><li class="listitem"><p>
                <code class="literal">UPDATE <em class="replaceable"><code>some_table</code></em>
                SET <em class="replaceable"><code>column1</code></em> =
                <em class="replaceable"><code>some_value</code></em></code> to fill
                a table column with <span class="quote">“<span class="quote">garbage</span>”</span> data; this
                could actually cause much greater damage than simply
                deleting all the data
              </p><p>
                More insidious variations might include statements like
                these:
              </p><pre class="programlisting">UPDATE <em class="replaceable"><code>some_table</code></em> SET <em class="replaceable"><code>an_int_column</code></em> = <em class="replaceable"><code>an_int_column</code></em> + 1
</pre><p>
                or
              </p><pre class="programlisting">UPDATE <em class="replaceable"><code>some_table</code></em> SET <em class="replaceable"><code>a_varchar_column</code></em> = REVERSE(<em class="replaceable"><code>a_varchar_column</code></em>)
</pre><p>
                Such malicious statements are limited only by the
                imagination of the attacker.
</p></li></ul>
</div>
<p>
            The only tables that would be safe from this sort of mayhem
            would be those tables that were created using storage
            engines other than <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>, and so
            not visible to a <span class="quote">“<span class="quote">rogue</span>”</span> SQL node.
          </p><p>
            <a class="indexterm" name="idp124486928"></a>

            <a class="indexterm" name="idp124488416"></a>

            A user who can log in as <code class="literal">root</code> can also
            access the <code class="literal">INFORMATION_SCHEMA</code> database
            and its tables, and so obtain information about databases,
            tables, stored routines, scheduled events, and any other
            database objects for which metadata is stored in
            <code class="literal">INFORMATION_SCHEMA</code>.
          </p><p>
            It is also a very good idea to use different passwords for
            the <code class="literal">root</code> accounts on different MySQL
            Cluster SQL nodes unless you are using distributed
            privileges.
</p></li></ul>
</div>
<p>
        In sum, you cannot have a safe MySQL Cluster if it is directly
        accessible from outside your local network.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          <span class="emphasis"><em>Never leave the MySQL root account password
          empty</em></span>. This is just as true when running MySQL as a
          MySQL Cluster SQL node as it is when running it as a
          standalone (non-Cluster) MySQL Server, and should be done as
          part of the MySQL installation process before configuring the
          MySQL Server as an SQL node in a MySQL Cluster.
</p>
</div>
<p>
        If you wish to employ MySQL Cluster's distributed privilege
        capabilities, you should not simply convert the system tables in
        the <code class="literal">mysql</code> database to use the
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine manually. Use
        the stored procedure provided for this purpose instead; see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-privilege-distribution" title="17.5.14. Distributed MySQL Privileges for MySQL Cluster">Section 17.5.14, “Distributed MySQL Privileges for MySQL Cluster”</a>.
      </p><p>
        Otherwise, if you need to synchronize <code class="literal">mysql</code>
        system tables between SQL nodes, you can use standard MySQL
        replication to do so, or employ a script to copy table entries
        between the MySQL servers.
      </p><p><b>Summary. </b>
          The most important points to remember regarding the MySQL
          privilege system with regard to MySQL Cluster are listed here:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Users and privileges established on one SQL node do not
            automatically exist or take effect on other SQL nodes in the
            cluster. Conversely, removing a user or privilege on one SQL
            node in the cluster does not remove the user or privilege
            from any other SQL nodes.
          </p></li><li class="listitem"><p>
            You can distribute MySQL users and privileges among SQL
            nodes using the SQL script, and the stored procedures it
            contains, that are supplied for this purpose in the MySQL
            Cluster distribution.
          </p></li><li class="listitem"><p>
            Once a MySQL user is granted privileges on an
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table from one SQL node in
            a MySQL Cluster, that user can <span class="quote">“<span class="quote">see</span>”</span> any data
            in that table regardless of the SQL node from which the data
            originated, even if you are not using privilege
            distribution.
</p></li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-security-mysql-security-procedures"></a>17.5.11.3. MySQL Cluster and MySQL Security Procedures</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp124508112"></a><a class="indexterm" name="idp124509600"></a><p>
        In this section, we discuss MySQL standard security procedures
        as they apply to running MySQL Cluster.
      </p><p>
        In general, any standard procedure for running MySQL securely
        also applies to running a MySQL Server as part of a MySQL
        Cluster. First and foremost, you should always run a MySQL
        Server as the <code class="literal">mysql</code> system user; this is no
        different from running MySQL in a standard (non-Cluster)
        environment. The <code class="literal">mysql</code> system account should
        be uniquely and clearly defined. Fortunately, this is the
        default behavior for a new MySQL installation. You can verify
        that the <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process is running as the
        system user <code class="literal">mysql</code> by using the system command
        such as the one shown here:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ps aux | grep mysql</code></strong>
root     10467  0.0  0.1   3616  1380 pts/3    S    11:53   0:00 \
  /bin/sh ./mysqld_safe --ndbcluster --ndb-connectstring=localhost:1186
mysql    10512  0.2  2.5  58528 26636 pts/3    Sl   11:53   0:00 \
  /usr/local/mysql/libexec/mysqld --basedir=/usr/local/mysql \
  --datadir=/usr/local/mysql/var --user=mysql --ndbcluster \
  --ndb-connectstring=localhost:1186 --pid-file=/usr/local/mysql/var/mothra.pid \
  --log-error=/usr/local/mysql/var/mothra.err
jon      10579  0.0  0.0   2736   688 pts/0    S+   11:54   0:00 grep mysql
</pre><p>
        If the <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process is running as any other
        user than <code class="literal">mysql</code>, you should immediately shut
        it down and restart it as the <code class="literal">mysql</code> user. If
        this user does not exist on the system, the
        <code class="literal">mysql</code> user account should be created, and
        this user should be part of the <code class="literal">mysql</code> user
        group; in this case, you should also make sure that the MySQL
        data directory on this system (as set using the
        <a class="link" href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> option for
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>) is owned by the
        <code class="literal">mysql</code> user, and that the SQL node's
        <code class="filename">my.cnf</code> file includes
        <code class="literal">user=mysql</code> in the <code class="literal">[mysqld]</code>
        section. Alternatively, you can start the MySQL server process
        with <a class="link" href="server-administration.html#option_mysqld_user"><code class="option">--user=mysql</code></a> on the command
        line, but it is preferable to use the
        <code class="filename">my.cnf</code> option, since you might forget to
        use the command-line option and so have
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> running as another user
        unintentionally. The <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> startup
        script forces MySQL to run as the <code class="literal">mysql</code> user.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          Never run <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> as the system root user.
          Doing so means that potentially any file on the system can be
          read by MySQL, and thus—should MySQL be
          compromised—by an attacker.
</p>
</div>
<p>
        <a class="indexterm" name="idp124532704"></a>

        As mentioned in the previous section (see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-security-mysql-privileges" title="17.5.11.2. MySQL Cluster and MySQL Privileges">Section 17.5.11.2, “MySQL Cluster and MySQL Privileges”</a>), you
        should always set a root password for the MySQL Server as soon
        as you have it running. You should also delete the anonymous
        user account that is installed by default. You can accomplish
        these tasks using the following statements:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -u root</code></strong>

mysql&gt; <strong class="userinput"><code>UPDATE mysql.user</code></strong>
    -&gt;     <strong class="userinput"><code>SET Password=PASSWORD('<em class="replaceable"><code>secure_password</code></em>')</code></strong>
    -&gt;     <strong class="userinput"><code>WHERE User='root';</code></strong>

mysql&gt; <strong class="userinput"><code>DELETE FROM mysql.user</code></strong>
    -&gt;     <strong class="userinput"><code>WHERE User='';</code></strong>

mysql&gt; <strong class="userinput"><code>FLUSH PRIVILEGES;</code></strong>
</pre><p>
        Be very careful when executing the
        <a class="link" href="sql-syntax.html#delete" title="13.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statement not to omit the
        <code class="literal">WHERE</code> clause, or you risk deleting
        <span class="emphasis"><em>all</em></span> MySQL users. Be sure to run the
        <a class="link" href="sql-syntax.html#flush" title="13.7.6.3. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a> statement as soon as you have modified the
        <code class="literal">mysql.user</code> table, so that the changes take
        immediate effect. Without
        <a class="link" href="sql-syntax.html#flush" title="13.7.6.3. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a>, the changes do not take effect until the
        next time that the server is restarted.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          <a class="indexterm" name="idp124546976"></a>

          <a class="indexterm" name="idp124548464"></a>

          Many of the MySQL Cluster utilities such as
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-show-tables" title="17.4.23. ndb_show_tables — Display List of NDB Tables"><span class="command"><strong>ndb_show_tables</strong></span></a>,
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a>, and
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-select-all" title="17.4.20. ndb_select_all — Print Rows from an NDB Table"><span class="command"><strong>ndb_select_all</strong></span></a> also work without
          authentication and can reveal table names, schemas, and data.
          By default these are installed on Unix-style systems with the
          permissions <code class="literal">wxr-xr-x</code> (755), which means
          they can be executed by any user that can access the
          <code class="filename">mysql/bin</code> directory.
        </p><p xmlns="">
          See <a class="xref" href="mysql-cluster.html#mysql-cluster-programs" title="17.4. MySQL Cluster Programs">Section 17.4, “MySQL Cluster Programs”</a>, for more
          information about these utilities.
</p>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-disk-data"></a>17.5.12. MySQL Cluster Disk Data Tables</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-disk-data-objects">17.5.12.1. MySQL Cluster Disk Data Objects</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-disk-data-symlinks">17.5.12.2. Using Symbolic Links with Disk Data Objects</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-disk-data-storage-requirements">17.5.12.3. MySQL Cluster Disk Data Storage Requirements</a></span></dt></dl>
</div>
<a class="indexterm" name="idp124556816"></a><a class="indexterm" name="idp124557888"></a><a class="indexterm" name="idp124559792"></a><p>
      It is possible to store the nonindexed columns of
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables on disk, rather than in
      RAM.
    </p><p>
      As part of implementing MySQL Cluster Disk Data work, a number of
      improvements were made in MySQL Cluster for the efficient handling
      of very large amounts (terabytes) of data during node recovery and
      restart. These include a <span class="quote">“<span class="quote">no-steal</span>”</span> algorithm for
      synchronizing a starting node with very large data sets. For more
      information, see the paper
      <em class="citetitle"><a class="ulink" href="http://www.vldb2005.org/program/paper/wed/p1108-ronstrom.pdf" target="_top">Recovery
      Principles of MySQL Cluster 5.1</a></em>, by MySQL
      Cluster developers Mikael Ronström and Jonas Oreland.
    </p><p>
      MySQL Cluster Disk Data performance can be influenced by a number
      of configuration parameters. For information about these
      parameters and their effects, see
      <em class="citetitle"><a class="link" href="mysql-cluster.html#mysql-cluster-ndbd-definition-disk-data-parameters" title="Disk Data Configuration Parameters">MySQL
      Cluster Disk Data configuration parameters</a></em> and
      <em class="citetitle"><a class="link" href="mysql-cluster.html#mysql-cluster-ndbd-definition-gcp-stop-errors" title="Disk Data and GCP Stop errors">MySQL
      Cluster Disk Data storage and <span class="errortext">GCP Stop</span>
      errors</a></em>
    </p><p>
      The performance of a MySQL Cluster that uses Disk Data storage can
      also be greatly improved by separating data node file systems from
      undo log files and tablespace data files, which can be done using
      symbolic links. For more information, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data-symlinks" title="17.5.12.2. Using Symbolic Links with Disk Data Objects">Section 17.5.12.2, “Using Symbolic Links with Disk Data Objects”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-disk-data-objects"></a>17.5.12.1. MySQL Cluster Disk Data Objects</h4>
</div>
</div>
</div>
<p>
        MySQL Cluster Disk Data storage is implemented using a number of
        <em class="firstterm">Disk Data objects</em>. These include the
        following:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <em class="firstterm">Tablespaces</em> act as containers for
            other Disk Data objects.
          </p></li><li class="listitem"><p>
            <em class="firstterm">Undo log files</em> undo information
            required for rolling back transactions.
          </p></li><li class="listitem"><p>
            One or more undo log files are assigned to a <em class="firstterm">log
            file group</em>, which is then assigned to a
            tablespace.
          </p></li><li class="listitem"><p>
            <em class="firstterm">Data files</em> store Disk Data table
            data. A data file is assigned directly to a tablespace.
</p></li></ul>
</div>
<p>
        Undo log files and data files are actual files in the file
        system of each data node; by default they are placed in
        <code class="literal">ndb_<em class="replaceable"><code>node_id</code></em>_fs</code> in
        the <em class="replaceable"><code>DataDir</code></em> specified in the MySQL
        Cluster <code class="filename">config.ini</code> file, and where
        <em class="replaceable"><code>node_id</code></em> is the data node's node
        ID. It is possible to place these elsewhere by specifying either
        an absolute or relative path as part of the filename when
        creating the undo log or data file. Statements that create these
        files are shown later in this section.
      </p><p>
        MySQL Cluster tablespaces and log file groups are not
        implemented as files.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          Although not all Disk Data objects are implemented as files,
          they all share the same namespace. This means that
          <span class="emphasis"><em>each Disk Data object</em></span> must be uniquely
          named (and not merely each Disk Data object of a given type).
          For example, you cannot have a tablespace and a log file group
          both named <code class="literal">dd1</code>.
</p>
</div>
<p>
        Assuming that you have already set up a MySQL Cluster with all
        nodes (including management and SQL nodes), the basic steps for
        creating a MySQL Cluster table on disk are as follows:
</p><a class="indexterm" name="idp124583440"></a>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Create a log file group, and assign one or more undo log
            files to it (an undo log file is also sometimes referred to
            as an <em class="firstterm">undofile</em>).
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              Undo log files are necessary only for Disk Data tables;
              they are not used for
              <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> tables that are
              stored only in memory.
</p>
</div>
</li><li class="listitem"><p>
            Create a tablespace; assign the log file group, as well as
            one or more data files, to the tablespace.
          </p></li><li class="listitem"><p>
            Create a Disk Data table that uses this tablespace for data
            storage.
</p></li></ol>
</div>
<p>
        Each of these tasks can be accomplished using SQL statements in
        the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client or other MySQL client
        application, as shown in the example that follows.
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            <a class="indexterm" name="idp124593600"></a>

            We create a log file group named <code class="literal">lg_1</code>
            using <a class="link" href="sql-syntax.html#create-logfile-group" title="13.1.14. CREATE LOGFILE GROUP Syntax"><code class="literal">CREATE LOGFILE GROUP</code></a>.
            This log file group is to be made up of two undo log files,
            which we name <code class="filename">undo_1.log</code> and
            <code class="filename">undo_2.log</code>, whose initial sizes are 16
            MB and 12 MB, respectively. (The default initial size for an
            undo log file is 128 MB.) Optionally, you can also specify a
            size for the log file group's undo buffer, or permit it to
            assume the default value of 8 MB. In this example, we set
            the UNDO buffer's size at 2 MB. A log file group must be
            created with an undo log file; so we add
            <code class="filename">undo_1.log</code> to <code class="literal">lg_1</code>
            in this <a class="link" href="sql-syntax.html#create-logfile-group" title="13.1.14. CREATE LOGFILE GROUP Syntax"><code class="literal">CREATE LOGFILE GROUP</code></a>
            statement:
          </p><pre class="programlisting">CREATE LOGFILE GROUP lg_1
    ADD UNDOFILE 'undo_1.log'
    INITIAL_SIZE 16M
    UNDO_BUFFER_SIZE 2M
    ENGINE NDBCLUSTER;</pre><p>
            To add <code class="filename">undo_2.log</code> to the log file
            group, use the following <a class="link" href="sql-syntax.html#alter-logfile-group" title="13.1.3. ALTER LOGFILE GROUP Syntax"><code class="literal">ALTER LOGFILE
            GROUP</code></a> statement:
          </p><pre class="programlisting">ALTER LOGFILE GROUP lg_1
    ADD UNDOFILE 'undo_2.log'
    INITIAL_SIZE 12M
    ENGINE NDBCLUSTER;</pre><p>
            Some items of note:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                The <code class="filename">.log</code> file extension used here
                is not required. We use it merely to make the log files
                easily recognisable.
              </p></li><li class="listitem"><p>
                Every <a class="link" href="sql-syntax.html#create-logfile-group" title="13.1.14. CREATE LOGFILE GROUP Syntax"><code class="literal">CREATE LOGFILE
                GROUP</code></a> and <a class="link" href="sql-syntax.html#alter-logfile-group" title="13.1.3. ALTER LOGFILE GROUP Syntax"><code class="literal">ALTER LOGFILE
                GROUP</code></a> statement must include an
                <code class="literal">ENGINE</code> clause. In MySQL Cluster NDB
                7.3, the only permitted values for this clause are
                <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> and
                <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
                  There can exist at most one log file group in the same
                  MySQL Cluster at any given time.
</p>
</div>
</li><li class="listitem"><p>
                When you add an undo log file to a log file group using
                <code class="literal">ADD UNDOFILE
                '<em class="replaceable"><code>filename</code></em>'</code>, a file
                with the name <em class="replaceable"><code>filename</code></em> is
                created in the
                <code class="literal">ndb_<em class="replaceable"><code>node_id</code></em>_fs</code>
                directory within the
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a> of each
                data node in the cluster, where
                <em class="replaceable"><code>node_id</code></em> is the node ID of the
                data node. Each undo log file is of the size specified
                in the SQL statement. For example, if a MySQL Cluster
                has 4 data nodes, then the <a class="link" href="sql-syntax.html#alter-logfile-group" title="13.1.3. ALTER LOGFILE GROUP Syntax"><code class="literal">ALTER
                LOGFILE GROUP</code></a> statement just shown creates 4
                undo log files, 1 each on in the data directory of each
                of the 4 data nodes; each of these files is named
                <code class="filename">undo_2.log</code> and each file is 12 MB
                in size.
              </p></li><li class="listitem"><p>
                <code class="literal">UNDO_BUFFER_SIZE</code> is limited by the
                amount of system memory available.
              </p></li><li class="listitem"><p>
                For more information about the
                <a class="link" href="sql-syntax.html#create-logfile-group" title="13.1.14. CREATE LOGFILE GROUP Syntax"><code class="literal">CREATE LOGFILE GROUP</code></a>
                statement, see <a class="xref" href="sql-syntax.html#create-logfile-group" title="13.1.14. CREATE LOGFILE GROUP Syntax">Section 13.1.14, “<code class="literal">CREATE LOGFILE GROUP</code> Syntax”</a>.
                For more information about <a class="link" href="sql-syntax.html#alter-logfile-group" title="13.1.3. ALTER LOGFILE GROUP Syntax"><code class="literal">ALTER
                LOGFILE GROUP</code></a>, see
                <a class="xref" href="sql-syntax.html#alter-logfile-group" title="13.1.3. ALTER LOGFILE GROUP Syntax">Section 13.1.3, “<code class="literal">ALTER LOGFILE GROUP</code> Syntax”</a>.
</p></li></ul>
</div>
</li><li class="listitem"><p>
            <a class="indexterm" name="idp124626144"></a>

            Now we can create a tablespace, which contains files to be
            used by MySQL Cluster Disk Data tables for storing their
            data. A tablespace is also associated with a particular log
            file group. When creating a new tablespace, you must specify
            the log file group which it is to use for undo logging; you
            must also specify a data file. You can add more data files
            to the tablespace after the tablespace is created; it is
            also possible to drop data files from a tablespace (an
            example of dropping data files is provided later in this
            section).
          </p><p>
            Assume that we wish to create a tablespace named
            <code class="literal">ts_1</code> which uses <code class="literal">lg_1</code>
            as its log file group. This tablespace is to contain two
            data files named <code class="filename">data_1.dat</code> and
            <code class="filename">data_2.dat</code>, whose initial sizes are 32
            MB and 48 MB, respectively. (The default value for
            <code class="literal">INITIAL_SIZE</code> is 128 MB.) We can do this
            using two SQL statements, as shown here:
          </p><pre class="programlisting">CREATE TABLESPACE ts_1
    ADD DATAFILE 'data_1.dat'
    USE LOGFILE GROUP lg_1
    INITIAL_SIZE 32M
    ENGINE NDBCLUSTER;

ALTER TABLESPACE ts_1
    ADD DATAFILE 'data_2.dat'
    INITIAL_SIZE 48M
    ENGINE NDBCLUSTER;</pre><p>
            The <a class="link" href="sql-syntax.html#create-tablespace" title="13.1.18. CREATE TABLESPACE Syntax"><code class="literal">CREATE TABLESPACE</code></a>
            statement creates a tablespace <code class="literal">ts_1</code> with
            the data file <code class="filename">data_1.dat</code>, and
            associates <code class="literal">ts_1</code> with log file group
            <code class="literal">lg_1</code>. The <a class="link" href="sql-syntax.html#alter-tablespace" title="13.1.8. ALTER TABLESPACE Syntax"><code class="literal">ALTER
            TABLESPACE</code></a> adds the second data file
            (<code class="filename">data_2.dat</code>).
          </p><p>
            Some items of note:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                As is the case with the <code class="filename">.log</code> file
                extension used in this example for undo log files, there
                is no special significance for the
                <code class="filename">.dat</code> file extension; it is used
                merely for easy recognition of data files.
              </p></li><li class="listitem"><p>
                When you add a data file to a tablespace using
                <code class="literal">ADD DATAFILE
                '<em class="replaceable"><code>filename</code></em>'</code>, a file
                with the name <em class="replaceable"><code>filename</code></em> is
                created in the
                <code class="literal">ndb_<em class="replaceable"><code>node_id</code></em>_fs</code>
                directory within the
                <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a> of each
                data node in the cluster, where
                <em class="replaceable"><code>node_id</code></em> is the node ID of the
                data node. Each undo log file is of the size specified
                in the SQL statement. For example, if a MySQL Cluster
                has 4 data nodes, then the <a class="link" href="sql-syntax.html#alter-tablespace" title="13.1.8. ALTER TABLESPACE Syntax"><code class="literal">ALTER
                TABLESPACE</code></a> statement just shown creates 4 undo
                log files, 1 each on in the data directory of each of
                the 4 data nodes; each of these files is named
                <code class="filename">data_2.dat</code> and each file is 48 MB
                in size.
              </p></li><li class="listitem"><p>
                All <a class="link" href="sql-syntax.html#create-tablespace" title="13.1.18. CREATE TABLESPACE Syntax"><code class="literal">CREATE TABLESPACE</code></a> and
                <a class="link" href="sql-syntax.html#alter-tablespace" title="13.1.8. ALTER TABLESPACE Syntax"><code class="literal">ALTER TABLESPACE</code></a>
                statements must contain an <code class="literal">ENGINE</code>
                clause; only tables using the same storage engine as the
                tablespace can be created in the tablespace. In MySQL
                MySQL Cluster NDB 7.3, the only permitted values for
                this clause are <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>
                and <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>.
              </p></li><li class="listitem"><p>
                For more information about the
                <a class="link" href="sql-syntax.html#create-tablespace" title="13.1.18. CREATE TABLESPACE Syntax"><code class="literal">CREATE TABLESPACE</code></a> and
                <a class="link" href="sql-syntax.html#alter-tablespace" title="13.1.8. ALTER TABLESPACE Syntax"><code class="literal">ALTER TABLESPACE</code></a>
                statements, see <a class="xref" href="sql-syntax.html#create-tablespace" title="13.1.18. CREATE TABLESPACE Syntax">Section 13.1.18, “<code class="literal">CREATE TABLESPACE</code> Syntax”</a>, and
                <a class="xref" href="sql-syntax.html#alter-tablespace" title="13.1.8. ALTER TABLESPACE Syntax">Section 13.1.8, “<code class="literal">ALTER TABLESPACE</code> Syntax”</a>.
</p></li></ul>
</div>
</li><li class="listitem"><p>
            <a class="indexterm" name="idp124659328"></a>

            Now it is possible to create a table whose nonindexed
            columns are stored on disk in the tablespace
            <code class="literal">ts_1</code>:
          </p><pre class="programlisting">CREATE TABLE dt_1 (
    member_id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
    last_name VARCHAR(50) NOT NULL,
    first_name VARCHAR(50) NOT NULL,
    dob DATE NOT NULL,
    joined DATE NOT NULL,
    INDEX(last_name, first_name)
    )
    TABLESPACE ts_1 STORAGE DISK
    ENGINE NDBCLUSTER;</pre><p>
            The <code class="literal">TABLESPACE ... STORAGE DISK</code> option
            tells the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> storage
            engine to use tablespace <code class="literal">ts_1</code> for disk
            data storage.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              It is also possible to specify whether an individual
              column is stored on disk or in memory by using a
              <code class="literal">STORAGE</code> clause as part of the column's
              definition in a <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE
              TABLE</code></a> or <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER
              TABLE</code></a> statement. <code class="literal">STORAGE DISK</code>
              causes the column to be stored on disk, and
              <code class="literal">STORAGE MEMORY</code> causes in-memory storage
              to be used. See <a class="xref" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax">Section 13.1.17, “<code class="literal">CREATE TABLE</code> Syntax”</a>, for more
              information.
</p>
</div>
<p>
            Once table <code class="literal">ts_1</code> has been created as
            shown, you can perform
            <a class="link" href="sql-syntax.html#insert" title="13.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>,
            <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>,
            <a class="link" href="sql-syntax.html#update" title="13.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a>, and
            <a class="link" href="sql-syntax.html#delete" title="13.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements on it just
            as you would with any other MySQL table.
          </p><p>
            For table <code class="literal">dt_1</code> as it has been defined
            here, only the <code class="literal">dob</code> and
            <code class="literal">joined</code> columns are stored on disk. This
            is because there are indexes on the <code class="literal">id</code>,
            <code class="literal">last_name</code>, and
            <code class="literal">first_name</code> columns, and so data belonging
            to these columns is stored in RAM. In MySQL Cluster NDB 7.3,
            only nonindexed columns can be held on disk; indexes and
            indexed column data continue to be stored in memory. This
            tradeoff between the use of indexes and conservation of RAM
            is something you must keep in mind as you design Disk Data
            tables.
</p></li></ol>
</div>
<p><b>Performance note. </b>
          The performance of a cluster using Disk Data storage is
          greatly improved if Disk Data files are kept on a separate
          physical disk from the data node file system. This must be
          done for each data node in the cluster to derive any
          noticeable benefit.
        </p><p>
        You may use absolute and relative file system paths with
        <code class="literal">ADD UNDOFILE</code> and <code class="literal">ADD
        DATAFILE</code>. Relative paths are calculated relative to
        the data node's data directory. You may also use symbolic links;
        see <a class="xref" href="mysql-cluster.html#mysql-cluster-disk-data-symlinks" title="17.5.12.2. Using Symbolic Links with Disk Data Objects">Section 17.5.12.2, “Using Symbolic Links with Disk Data Objects”</a>, for more
        information and examples.
      </p><p>
        A log file group, a tablespace, and any Disk Data tables using
        these must be created in a particular order. The same is true
        for dropping any of these objects:
</p><a class="indexterm" name="idp124685984"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            A log file group cannot be dropped as long as any
            tablespaces are using it.
          </p></li><li class="listitem"><p>
            A tablespace cannot be dropped as long as it contains any
            data files.
          </p></li><li class="listitem"><p>
            You cannot drop any data files from a tablespace as long as
            there remain any tables which are using the tablespace.
          </p></li><li class="listitem"><p>
            It is not possible to drop files created in association with
            a different tablespace than the one with which the files
            were created. (Bug #20053)
</p></li></ul>
</div>
<p>
        For example, to drop all the objects created so far in this
        section, you would use the following statements:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>DROP TABLE dt_1;</code></strong>

mysql&gt; <strong class="userinput"><code>ALTER TABLESPACE ts_1</code></strong>
    -&gt; <strong class="userinput"><code>DROP DATAFILE 'data_2.dat'</code></strong>
    -&gt; <strong class="userinput"><code>ENGINE NDBCLUSTER;</code></strong>

mysql&gt; <strong class="userinput"><code>ALTER TABLESPACE ts_1</code></strong>
    -&gt; <strong class="userinput"><code>DROP DATAFILE 'data_1.dat'</code></strong>
    -&gt; <strong class="userinput"><code>ENGINE NDBCLUSTER;</code></strong>

mysql&gt; <strong class="userinput"><code>DROP TABLESPACE ts_1</code></strong>
    -&gt; <strong class="userinput"><code>ENGINE NDBCLUSTER;</code></strong>

mysql&gt; <strong class="userinput"><code>DROP LOGFILE GROUP lg_1</code></strong>
    -&gt; <strong class="userinput"><code>ENGINE NDBCLUSTER;</code></strong>
</pre><p>
        These statements must be performed in the order shown, except
        that the two <code class="literal">ALTER TABLESPACE ... DROP
        DATAFILE</code> statements may be executed in either order.
      </p><p>
        You can obtain information about data files used by Disk Data
        tables by querying the <a class="link" href="information-schema.html#files-table" title="20.8. The INFORMATION_SCHEMA FILES Table"><code class="literal">FILES</code></a> table
        in the <code class="literal">INFORMATION_SCHEMA</code> database. An extra
        <span class="quote">“<span class="quote"><code class="literal">NULL</code> row</span>”</span> provides additional
        information about undo log files. For more information and
        examples, see <a class="xref" href="information-schema.html#files-table" title="20.8. The INFORMATION_SCHEMA FILES Table">Section 20.8, “The <code class="literal">INFORMATION_SCHEMA FILES</code> Table”</a>.
      </p><p>
        It is also possible to view information about allocated and free
        disk space for each Disk Data table or table partition using the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a> utility. For more information, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables">Section 17.4.10, “<span class="command"><strong>ndb_desc</strong></span> — Describe NDB Tables”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-disk-data-symlinks"></a>17.5.12.2. Using Symbolic Links with Disk Data Objects</h4>

</div>

</div>

</div>
<p>
        The performance of a MySQL Cluster that uses Disk Data storage
        can be greatly improved by separating data node file systems
        from undo log files and tablespace data files and placing these
        on different disks. In early versions of MySQL Cluster, there
        was no direct support for this in MySQL Cluster, but it was
        possible to achieve this separation using symbolic links as
        described in this section. MySQL Cluster supports the data node
        configuration parameters
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdd"><code class="literal">FileSystemPathDD</code></a>,
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathdatafiles"><code class="literal">FileSystemPathDataFiles</code></a>,
        and
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-filesystempathundofiles"><code class="literal">FileSystemPathUndoFiles</code></a>,
        which make the use of symbolic links for this purpose
        unnecessary. For more information about these parameters, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-ndbd-disk-data-filesystem-parameters" title="Disk Data file system parameters">Disk Data file system parameters</a>.
      </p><p>
        Each data node in the cluster creates a file system in the
        directory named
        <code class="filename">ndb_<em class="replaceable"><code>node_id</code></em>_fs</code>
        under the data node's
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datadir"><code class="literal">DataDir</code></a> as defined in
        the <code class="filename">config.ini</code> file. In this example, we
        assume that each data node host has 3 disks, aliased as
        <code class="filename">/data0</code>, <code class="filename">/data1</code>, and
        <code class="filename">/data2</code>, and that the cluster's
        <code class="filename">config.ini</code> includes the following:
      </p><pre class="programlisting">[ndbd default]
DataDir= /data0</pre><p>
        Our objective is to place all Disk Data log files in
        <code class="filename">/data1</code>, and all Disk Data data files in
        <code class="filename">/data2</code>, on each data node host.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          In this example, we assume that the cluster's data node
          hosts are all using Linux operating systems. For other
          platforms, you may need to substitute you operating
          system's commands for those shown here.
</p>
</div>
<p>
        To accomplish this, perform the following steps:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Under the data node file system create symbolic links
            pointing to the other drives:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /data0/ndb_2_fs</code></strong>
shell&gt; <strong class="userinput"><code>ls</code></strong>
D1  D10  D11  D2  D8  D9  LCP
shell&gt; <strong class="userinput"><code>ln -s /data0 dnlogs</code></strong>
shell&gt; <strong class="userinput"><code>ln -s /data1 dndata</code></strong>
</pre><p>
            You should now have two symbolic links:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ls -l --hide=D*</code></strong>
lrwxrwxrwx 1 user group   30 2007-03-19 13:58 dndata -&gt; /data1
lrwxrwxrwx 1 user group   30 2007-03-19 13:59 dnlogs -&gt; /data2
</pre><p>
            We show this only for the data node with node ID 2; however,
            you must do this for <span class="emphasis"><em>each</em></span> data node.
          </p></li><li class="listitem"><p>
            Now, in the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client, create a log
            file group and tablespace using the symbolic links, as shown
            here:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE LOGFILE GROUP lg1</code></strong>
    -&gt;    <strong class="userinput"><code>ADD UNDOFILE 'dnlogs/undo1.log'</code></strong>
    -&gt;    <strong class="userinput"><code>INITIAL_SIZE 150M</code></strong>
    -&gt;    <strong class="userinput"><code>UNDO_BUFFER_SIZE = 1M</code></strong>
    -&gt;    <strong class="userinput"><code>ENGINE=NDBCLUSTER;</code></strong>

mysql&gt; <strong class="userinput"><code>CREATE TABLESPACE ts1</code></strong>
    -&gt;    <strong class="userinput"><code>ADD DATAFILE 'dndata/data1.log'</code></strong>
    -&gt;    <strong class="userinput"><code>USE LOGFILE GROUP lg1</code></strong>
    -&gt;    <strong class="userinput"><code>INITIAL_SIZE 1G</code></strong>
    -&gt;    <strong class="userinput"><code>ENGINE=NDBCLUSTER;</code></strong>
</pre><p>
            Verify that the files were created and placed correctly as
            shown here:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /data1</code></strong>
shell&gt; <strong class="userinput"><code>ls -l</code></strong>
total 2099304
-rw-rw-r--  1 user group 157286400 2007-03-19 14:02 undo1.dat

shell&gt; <strong class="userinput"><code>cd /data2</code></strong>
shell&gt; <strong class="userinput"><code>ls -l</code></strong>
total 2099304
-rw-rw-r--  1 user group 1073741824 2007-03-19 14:02 data1.dat
</pre></li><li class="listitem"><p>
            If you are running multiple data nodes on one host, you must
            take care to avoid having them try to use the same space for
            Disk Data files. You can make this easier by creating a
            symbolic link in each data node file system. Suppose you are
            using <code class="filename">/data0</code> for both data node file
            systems, but you wish to have the Disk Data files for both
            nodes on <code class="filename">/data1</code>. In this case, you can
            do something similar to what is shown here:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /data0</code></strong>
shell&gt; <strong class="userinput"><code>ln -s /data1/dn2 ndb_2_fs/dd</code></strong>
shell&gt; <strong class="userinput"><code>ln -s /data1/dn3 ndb_3_fs/dd</code></strong>
shell&gt; <strong class="userinput"><code>ls -l --hide=D* ndb_2_fs</code></strong>
lrwxrwxrwx 1 user group   30 2007-03-19 14:22 dd -&gt; /data1/dn2
shell&gt; <strong class="userinput"><code>ls -l --hide=D* ndb_3_fs</code></strong>
lrwxrwxrwx 1 user group   30 2007-03-19 14:22 dd -&gt; /data1/dn3
</pre></li><li class="listitem"><p>
            Now you can create a logfile group and tablespace using the
            symbolic link, like this:
          </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>CREATE LOGFILE GROUP lg1</code></strong>
    -&gt;    <strong class="userinput"><code>ADD UNDOFILE 'dd/undo1.log'</code></strong>
    -&gt;    <strong class="userinput"><code>INITIAL_SIZE 150M</code></strong>
    -&gt;    <strong class="userinput"><code>UNDO_BUFFER_SIZE = 1M</code></strong>
    -&gt;    <strong class="userinput"><code>ENGINE=NDBCLUSTER;</code></strong>

mysql&gt; <strong class="userinput"><code>CREATE TABLESPACE ts1</code></strong>
    -&gt;    <strong class="userinput"><code>ADD DATAFILE 'dd/data1.log'</code></strong>
    -&gt;    <strong class="userinput"><code>USE LOGFILE GROUP lg1</code></strong>
    -&gt;    <strong class="userinput"><code>INITIAL_SIZE 1G</code></strong>
    -&gt;    <strong class="userinput"><code>ENGINE=NDBCLUSTER;</code></strong>
</pre><p>
            Verify that the files were created and placed correctly as
            shown here:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>cd /data1</code></strong>
shell&gt; <strong class="userinput"><code>ls</code></strong>
dn2        dn3
shell&gt; <strong class="userinput"><code>ls dn2</code></strong>
undo1.log        data1.log
shell&gt; <strong class="userinput"><code>ls dn3</code></strong>
undo1.log        data1.log
</pre></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-disk-data-storage-requirements"></a>17.5.12.3. MySQL Cluster Disk Data Storage Requirements</h4>

</div>

</div>

</div>
<p>
        <a class="indexterm" name="idp124768576"></a>

        The following items apply to Disk Data storage requirements:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Variable-length columns of Disk Data tables take up a fixed
            amount of space. For each row, this is equal to the space
            required to store the largest possible value for that
            column.
          </p><p>
            For general information about calculating these values, see
            <a class="xref" href="data-types.html#storage-requirements" title="11.6. Data Type Storage Requirements">Section 11.6, “Data Type Storage Requirements”</a>.
          </p><p>
            You can obtain an estimate the amount of space available in
            data files and undo log files by querying the
            <a class="link" href="information-schema.html#files-table" title="20.8. The INFORMATION_SCHEMA FILES Table"><code class="literal">INFORMATION_SCHEMA.FILES</code></a> table.
            For more information and examples, see
            <a class="xref" href="information-schema.html#files-table" title="20.8. The INFORMATION_SCHEMA FILES Table">Section 20.8, “The <code class="literal">INFORMATION_SCHEMA FILES</code> Table”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              The <a class="link" href="sql-syntax.html#optimize-table" title="13.7.2.4. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>
              statement does not have any effect on Disk Data tables.
</p>
</div>
</li><li class="listitem"><p>
            In a Disk Data table, the first 256 bytes of a
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> or
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> column are stored in
            memory; only the remainder is stored on disk.
          </p></li><li class="listitem"><p>
            Each row in a Disk Data table uses 8 bytes in memory to
            point to the data stored on disk. This means that, in some
            cases, converting an in-memory column to the disk-based
            format can actually result in greater memory usage. For
            example, converting a <code class="literal">CHAR(4)</code> column from
            memory-based to disk-based format increases the amount of
            <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> used per
            row from 4 to 8 bytes.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Important
</div>
<p xmlns="">
          Starting the cluster with the <code class="option">--initial</code>
          option does <span class="emphasis"><em>not</em></span> remove Disk Data files.
          You must remove these manually prior to performing an initial
          restart of the cluster.
</p>
</div>
<p>
        Performance of Disk Data tables can be improved by minimizing
        the number of disk seeks by making sure that
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-diskpagebuffermemory"><code class="literal">DiskPageBufferMemory</code></a> is
        of sufficient size. You can query the
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-diskpagebuffer" title="17.5.10.8. The ndbinfo diskpagebuffer Table"><code class="literal">diskpagebuffer</code></a> table to help
        determine whether the value for this parameter needs to be
        increased.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-online-add-node"></a>17.5.13. Adding MySQL Cluster Data Nodes Online</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-online-add-node-remarks">17.5.13.1. Adding MySQL Cluster Data Nodes Online: General Issues</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-online-add-node-basics">17.5.13.2. Adding MySQL Cluster Data Nodes Online: Basic procedure</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-online-add-node-example">17.5.13.3. Adding MySQL Cluster Data Nodes Online: Detailed Example</a></span></dt></dl>
</div>
<p>
      This section describes how to add MySQL Cluster data nodes
      <span class="quote">“<span class="quote">online</span>”</span>—that is, without needing to shut down
      the cluster completely and restart it as part of the process.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        Currently, you must add new data nodes to a MySQL Cluster as
        part of a new node group. In addition, it is not possible to
        change the number of replicas (or the number of nodes per node
        group) online.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-online-add-node-remarks"></a>17.5.13.1. Adding MySQL Cluster Data Nodes Online: General Issues</h4>

</div>

</div>

</div>
<p>
        This section provides general information about the behavior of
        and current limitations in adding MySQL Cluster nodes online.
      </p><p><b>Redistribution of Data. </b>
          The ability to add new nodes online includes a means to
          reorganize <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> table data
          and indexes so that they are distributed across all data
          nodes, including the new ones. Table reorganization of both
          in-memory and Disk Data tables is supported. This
          redistribution does not currently include unique indexes (only
          ordered indexes are redistributed) or <code class="literal">BLOB</code>
          table data.
        </p><p>
        The redistribution for <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>
        tables already existing before the new data nodes were added is
        not automatic, but can be accomplished using simple SQL
        statements in <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> or another MySQL client
        application. However, all data and indexes added to tables
        created after a new node group has been added are distributed
        automatically among all cluster data nodes, including those
        added as part of the new node group.
      </p><p><b>Partial starts. </b>
          It is possible to add a new node group without all of the new
          data nodes being started. It is also possible to add a new
          node group to a degraded cluster—that is, a cluster that
          is only partially started, or where one or more data nodes are
          not running. In the latter case, the cluster must have enough
          nodes running to be viable before the new node group can be
          added.
        </p><p><b>Effects on ongoing operations. </b>
          Normal DML operations using MySQL Cluster data are not
          prevented by the creation or addition of a new node group, or
          by table reorganization. However, it is not possible to
          perform DDL concurrently with table reorganization—that
          is, no other DDL statements can be issued while an
          <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE ...
          REORGANIZE PARTITION</code></a> statement is executing. In
          addition, during the execution of <code class="literal">ALTER TABLE ...
          REORGANIZE PARTITION</code> (or the execution of any other
          DDL statement), it is not possible to restart cluster data
          nodes.
        </p><p><b>Failure handling. </b>
          Failures of data nodes during node group creation and table
          reorganization are handled as hown in the following table:
</p>
<div class="informaltable">
<table border="1"><colgroup><col><col class="2"><col><col class="4"></colgroup><thead><tr><th scope="col" rowspan="2">Failure occurs during:</th><th scope="col" colspan="3">Failure occurs in:</th></tr><tr><th scope="col"><span class="quote">“<span class="quote">Old</span>”</span> data nodes</th><th scope="col"><span class="quote">“<span class="quote">New</span>”</span> data nodes</th><th scope="col">System</th></tr></thead><tbody><tr><td scope="row">Node group creation</td><td>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>If a node other than the master fails: </b>
                        The creation of the node group is always rolled
                        forward.
</p></li><li class="listitem"><p><b>If the master fails: </b></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b>If the internal commit point has been reached: </b>
                            The creation of the node group is rolled
                            forward.
                          </p></li><li class="listitem"><p><b>If the internal commit point has not yet been reached. </b>
                            The creation of the node group is rolled
                            back
</p></li></ul>
</div>
</li></ul>
</div>
</td><td>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>If a node other than the master fails: </b>
                        The creation of the node group is always rolled
                        forward.
</p></li><li class="listitem"><p><b>If the master fails: </b></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b>If the internal commit point has been reached: </b>
                            The creation of the node group is rolled
                            forward.
                          </p></li><li class="listitem"><p><b>If the internal commit point has not yet been reached. </b>
                            The creation of the node group is rolled
                            back
</p></li></ul>
</div>
</li></ul>
</div>
</td><td>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>If the execution of <code class="literal">CREATE NODEGROUP</code> has reached the
                        internal commit point: </b>
                        When restarted, the cluster includes the new
                        node group. Otherwise it without.
                      </p></li><li class="listitem"><p><b>If the execution of <code class="literal">CREATE NODEGROUP</code> has not yet
                        reached the internal commit point: </b>
                        When restarted, the cluster does not include the
                        new node group.
</p></li></ul>
</div>
</td></tr><tr><td scope="row">Table reorganization</td><td>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>If a node other than the master fails: </b>
                        The table reorganization is always rolled
                        forward.
</p></li><li class="listitem"><p><b>If the master fails: </b></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b>If the internal commit point has been reached: </b>
                            The table reorganization is rolled forward.
                          </p></li><li class="listitem"><p><b>If the internal commit point has not yet been reached. </b>
                            The table reorganization is rolled back.
</p></li></ul>
</div>
</li></ul>
</div>
</td><td>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>If a node other than the master fails: </b>
                        The table reorganization is always rolled
                        forward.
</p></li><li class="listitem"><p><b>If the master fails: </b></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><b>If the internal commit point has been reached: </b>
                            The table reorganization is rolled forward.
                          </p></li><li class="listitem"><p><b>If the internal commit point has not yet been reached. </b>
                            The table reorganization is rolled back.
</p></li></ul>
</div>
</li></ul>
</div>
</td><td>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>If the execution of an <code class="literal">ALTER ONLINE TABLE
                        <em class="replaceable"><code>table</code></em> REORGANIZE
                        PARTITION</code> statement has reached the
                        internal commit point: </b>
                        When the cluster is restarted, the data and
                        indexes belonging to
                        <em class="replaceable"><code>table</code></em> are distributed
                        using the <span class="quote">“<span class="quote">new</span>”</span> data nodes.
                      </p></li><li class="listitem"><p><b>If the execution of an <code class="literal">ALTER ONLINE TABLE
                        <em class="replaceable"><code>table</code></em> REORGANIZE
                        PARTITION</code> statement has not yet
                        reached the internal commit point: </b>
                        When the cluster is restarted, the data and
                        indexes belonging to
                        <em class="replaceable"><code>table</code></em> are distributed
                        using only the <span class="quote">“<span class="quote">old</span>”</span> data nodes.
</p></li></ul>
</div>
</td></tr></tbody></table>
</div>
<p><b>Dropping node groups. </b>
          The <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client supports a <code class="literal">DROP
          NODEGROUP</code> command, but it is possible to drop a node
          group only when no data nodes in the node group contain any
          data. Since there is currently no way to <span class="quote">“<span class="quote">empty</span>”</span>
          a specific data node or node group, this command works only
          the following two cases:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            After issuing <code class="literal">CREATE NODEGROUP</code> in the
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client, but before issuing any
            <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER ONLINE
            TABLE ... REORGANIZE PARTITION</code></a> statements in the
            <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client.
          </p></li><li class="listitem"><p>
            After dropping all <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>
            tables using <a class="link" href="sql-syntax.html#drop-table" title="13.1.28. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a>.
          </p><p>
            <a class="link" href="sql-syntax.html#truncate-table" title="13.1.33. TRUNCATE TABLE Syntax"><code class="literal">TRUNCATE TABLE</code></a> does not work
            for this purpose because the data nodes continue to store
            the table definitions.
</p></li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-online-add-node-basics"></a>17.5.13.2. Adding MySQL Cluster Data Nodes Online: Basic procedure</h4>

</div>

</div>

</div>
<p>
        In this section, we list the basic steps required to add new
        data nodes to a MySQL Cluster. This procedure applies whether
        you are using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> or
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> binaries for the data node processes.
        For a more detailed example, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-online-add-node-example" title="17.5.13.3. Adding MySQL Cluster Data Nodes Online: Detailed Example">Section 17.5.13.3, “Adding MySQL Cluster Data Nodes Online: Detailed Example”</a>.
      </p><p>
        Assuming that you already have a running MySQL Cluster, adding
        data nodes online requires the following steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Edit the cluster configuration
            <code class="filename">config.ini</code> file, adding new
            <code class="literal">[ndbd]</code> sections corresponding to the
            nodes to be added. In the case where the cluster uses
            multiple management servers, these changes need to be made
            to all <code class="filename">config.ini</code> files used by the
            management servers.
          </p><p>
            You must be careful that node IDs for any new data nodes
            added in the <code class="filename">config.ini</code> file do not
            overlap node IDs used by existing nodes. In the event that
            you have API nodes using dynamically allocated node IDs and
            these IDs match node IDs that you want to use for new data
            nodes, it is possible to force any such API nodes to
            <span class="quote">“<span class="quote">migrate</span>”</span>, as described later in this
            procedure.
          </p></li><li class="listitem"><p>
            Perform a rolling restart of all MySQL Cluster management
            servers.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
              All management servers must be restarted with the
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_reload"><code class="option">--reload</code></a> or
              <a class="link" href="mysql-cluster.html#option_ndb_mgmd_initial"><code class="option">--initial</code></a> option to force
              the reading of the new configuration.
</p>
</div>
</li><li class="listitem"><p>
            Perform a rolling restart of all existing MySQL Cluster data
            nodes. It is not necessary (or usually even desirable) to
            use <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> when restarting
            the existing data nodes.
          </p><p>
            If you are using API nodes with dynamically allocated IDs
            matching any node IDs that you wish to assign to new data
            nodes, you must restart all API nodes (including SQL nodes)
            before restarting any of the data nodes processes in this
            step. This causes any API nodes with node IDs that were
            previously not explicitly assigned to relinquish those node
            IDs and acquire new ones.
          </p></li><li class="listitem"><p>
            Perform a rolling restart of any SQL or API nodes connected
            to the MySQL Cluster.
          </p></li><li class="listitem"><p>
            Start the new data nodes.
          </p><p>
            The new data nodes may be started in any order. They can
            also be started concurrently, as long as they are started
            after the rolling restarts of all existing data nodes have
            been completed, and before proceeding to the next step.
          </p></li><li class="listitem"><p>
            Execute one or more <code class="literal">CREATE NODEGROUP</code>
            commands in the MySQL Cluster management client to create
            the new node group or node groups to which the new data
            nodes will belong.
          </p></li><li class="listitem"><p>
            Redistribute the cluster's data among all data nodes
            (including the new ones) by issuing an
            <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER ONLINE
            TABLE ... REORGANIZE PARTITION</code></a> statement in the
            <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client for each
            <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> table.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              This needs to be done only for tables already existing at
              the time the new node group is added. Data in tables
              created after the new node group is added is distributed
              automatically; however, data added to any given table
              <code class="literal">tbl</code> that existed before the new nodes
              were added is not distributed using the new nodes until
              that table has been reorganized using
              <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER ONLINE
              TABLE tbl REORGANIZE PARTITION</code></a>.
</p>
</div>
</li><li class="listitem"><p>
            Reclaim the space freed on the <span class="quote">“<span class="quote">old</span>”</span> nodes by
            issuing, for each <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>
            table, an <a class="link" href="sql-syntax.html#optimize-table" title="13.7.2.4. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>
            statement in the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client.
</p></li></ol>
</div>
<p>
        You can add all the nodes desired, then issue several
        <code class="literal">CREATE NODEGROUP</code> commands in succession to
        add the new node groups to the cluster.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-online-add-node-example"></a>17.5.13.3. Adding MySQL Cluster Data Nodes Online: Detailed Example</h4>

</div>

</div>

</div>
<p>
        In this section we provide a detailed example illustrating how
        to add new MySQL Cluster data nodes online, starting with a
        MySQL Cluster having 2 data nodes in a single node group and
        concluding with a cluster having 4 data nodes in 2 node groups.
      </p><p><b>Starting configuration. </b>
          For purposes of illustration, we assume a minimal
          configuration, and that the cluster uses a
          <code class="filename">config.ini</code> file containing only the
          following information:
        </p><pre class="programlisting">[ndbd default]
DataMemory = 100M
IndexMemory = 100M
NoOfReplicas = 2
DataDir = /usr/local/mysql/var/mysql-cluster

[ndbd]
Id = 1
HostName = 192.168.0.1

[ndbd]
Id = 2
HostName = 192.168.0.2

[mgm]
HostName = 192.168.0.10
Id = 10

[api]
Id=20
HostName = 192.168.0.20

[api]
Id=21
HostName = 192.168.0.21</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          We have left a gap in the sequence between data node IDs and
          other nodes. This make it easier later to assign node IDs that
          are not already in use to data nodes which are newly added.
</p>
</div>
<p>
        We also assume that you have already started the cluster using
        the appropriate command line or <code class="filename">my.cnf</code>
        options, and that running
        <code class="literal">SHOW</code> in the management
        client produces output similar to what is shown here:
      </p><pre class="programlisting">-- NDB Cluster -- Management Client --
ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: 192.168.0.10:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=1    @192.168.0.1  (5.6.11-ndb-7.3.3, Nodegroup: 0, Master)
id=2    @192.168.0.2  (5.6.11-ndb-7.3.3, Nodegroup: 0)

[ndb_mgmd(MGM)] 1 node(s)
id=10   @192.168.0.10  (5.6.11-ndb-7.3.3)

[mysqld(API)]   2 node(s)
id=20   @192.168.0.20  (5.6.11-ndb-7.3.3)
id=21   @192.168.0.21  (5.6.11-ndb-7.3.3)
</pre><p>
        Finally, we assume that the cluster contains a single
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> table created as shown
        here:
      </p><pre class="programlisting">USE n;

CREATE TABLE ips (
    id BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    country_code CHAR(2) NOT NULL,
    type CHAR(4) NOT NULL,
    ip_address varchar(15) NOT NULL,
    addresses BIGINT UNSIGNED DEFAULT NULL,
    date BIGINT UNSIGNED DEFAULT NULL
)   ENGINE NDBCLUSTER;</pre><p>
        The memory usage and related information shown later in this
        section was generated after inserting approximately 50000 rows
        into this table.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          In this example, we show the single-threaded
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> being used for the data node
          processes. However—beginning with MySQL Cluster NDB
          7.0.4—you can also apply this example, if you are using
          the multi-threaded <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> by substituting
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a> for <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> wherever
          it appears in the steps that follow. (Bug #43108)
</p>
</div>
<p><b>Step 1: Update configuration file. </b>
          Open the cluster global configuration file in a text editor
          and add <code class="literal">[ndbd]</code> sections corresponding to
          the 2 new data nodes. (We give these data nodes IDs 3 and 4,
          and assume that they are to be run on host machines at
          addresses 192.168.0.3 and 192.168.0.4, respectively.) After
          you have added the new sections, the contents of the
          <code class="filename">config.ini</code> file should look like what is
          shown here, where the additions to the file are shown in bold
          type:
        </p><pre class="programlisting">[ndbd default]
DataMemory = 100M
IndexMemory = 100M
NoOfReplicas = 2
DataDir = /usr/local/mysql/var/mysql-cluster

[ndbd]
Id = 1
HostName = 192.168.0.1

[ndbd]
Id = 2
HostName = 192.168.0.2
<span class="bold"><strong>[ndbd]
Id = 3
HostName = 192.168.0.3

[ndbd]
Id = 4
HostName = 192.168.0.4</strong></span>

[mgm]
HostName = 192.168.0.10
Id = 10

[api]
Id=20
HostName = 192.168.0.20

[api]
Id=21
HostName = 192.168.0.21
</pre><p>
        Once you have made the necessary changes, save the file.
      </p><p><b>Step 2: Restart the management server. </b>
          Restarting the cluster management server requires that you
          issue separate commands to stop the management server and then
          to start it again, as follows:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Stop the management server using the management client
            <code class="literal">STOP</code> command, as shown here:
          </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>10 STOP</code></strong>
Node 10 has shut down.
Disconnecting to allow Management Server to shutdown

shell&gt;
</pre></li><li class="listitem"><p>
            Because shutting down the management server causes the
            management client to terminate, you must start the
            management server from the system shell. For simplicity, we
            assume that <code class="filename">config.ini</code> is in the same
            directory as the management server binary, but in practice,
            you must supply the correct path to the configuration file.
            You must also supply the
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_reload"><code class="option">--reload</code></a> or
            <a class="link" href="mysql-cluster.html#option_ndb_mgmd_initial"><code class="option">--initial</code></a> option so that
            the management server reads the new configuration from the
            file rather than its configuration cache. If your
            shell's current directory is also the same as the
            directory where the management server binary is located,
            then you can invoke the management server as shown here:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_mgmd -f config.ini --reload</code></strong>
2008-12-08 17:29:23 [MgmSrvr] INFO     -- NDB Cluster Management Server. 5.6.11-ndb-7.3.3
2008-12-08 17:29:23 [MgmSrvr] INFO     -- Reading cluster configuration from 'config.ini'
</pre></li></ol>
</div>
<p>
        If you check the output of
        <code class="literal">SHOW</code> in the management
        client after restarting the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> process,
        you should now see something like this:
      </p><pre class="programlisting">-- NDB Cluster -- Management Client --
ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: 192.168.0.10:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=1    @192.168.0.1  (5.6.11-ndb-7.3.3, Nodegroup: 0, Master)
id=2    @192.168.0.2  (5.6.11-ndb-7.3.3, Nodegroup: 0)
id=3 (not connected, accepting connect from 192.168.0.3)
id=4 (not connected, accepting connect from 192.168.0.4)

[ndb_mgmd(MGM)] 1 node(s)
id=10   @192.168.0.10  (5.6.11-ndb-7.3.3)

[mysqld(API)]   2 node(s)
id=20   @192.168.0.20  (5.6.11-ndb-7.3.3)
id=21   @192.168.0.21  (5.6.11-ndb-7.3.3)
</pre><p><b>Step 3: Perform a rolling restart of the existing data nodes. </b>
          This step can be accomplished entirely within the cluster
          management client using the <code class="literal">RESTART</code>
          command, as shown here:
        </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>1 RESTART</code></strong>
Node 1: Node shutdown initiated
Node 1: Node shutdown completed, restarting, no start.
Node 1 is being restarted

ndb_mgm&gt; Node 1: Start initiated (version 7.3.3)
Node 1: Started (version 7.1.29)

ndb_mgm&gt; <strong class="userinput"><code>2 RESTART</code></strong>
Node 2: Node shutdown initiated
Node 2: Node shutdown completed, restarting, no start.
Node 2 is being restarted

ndb_mgm&gt; Node 2: Start initiated (version 7.3.3)

ndb_mgm&gt; Node 2: Started (version 7.3.3)
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
          After issuing each <code class="literal"><em class="replaceable"><code>X</code></em>
          RESTART</code> command, wait until the management client
          reports <code class="literal">Node <em class="replaceable"><code>X</code></em>: Started
          (version ...)</code> <span class="emphasis"><em>before</em></span> proceeding
          any further.
</p>
</div>
<p>
        You can verify that all existing data nodes were restarted using
        the updated configuration by checking the
        <a class="link" href="mysql-cluster.html#mysql-cluster-ndbinfo-nodes" title="17.5.10.13. The ndbinfo nodes Table"><code class="literal">ndbinfo.nodes</code></a> table in the
        <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client.
      </p><p><b>Step 4: Perform a rolling restart of all cluster API nodes. </b>
          Shut down and restart each MySQL server acting as an SQL node
          in the cluster using <a class="link" href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span class="command"><strong>mysqladmin shutdown</strong></span></a>
          followed by <a class="link" href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span class="command"><strong>mysqld_safe</strong></span></a> (or another startup
          script). This should be similar to what is shown here, where
          <em class="replaceable"><code>password</code></em> is the MySQL
          <code class="literal">root</code> password for a given MySQL server
          instance:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqladmin -uroot -p<em class="replaceable"><code>password</code></em> shutdown</code></strong>
081208 20:19:56 mysqld_safe mysqld from pid file
/usr/local/mysql/var/tonfisk.pid ended
shell&gt; <strong class="userinput"><code>mysqld_safe --ndbcluster --ndb-connectstring=192.168.0.10 &amp;</code></strong>
081208 20:20:06 mysqld_safe Logging to '/usr/local/mysql/var/tonfisk.err'.
081208 20:20:06 mysqld_safe Starting mysqld daemon with databases
from /usr/local/mysql/var
</pre><p>
        Of course, the exact input and output depend on how and where
        MySQL is installed on the system, as well as which options you
        choose to start it (and whether or not some or all of these
        options are specified in a <code class="filename">my.cnf</code> file).
      </p><p><b>Step 5: Perform an initial start of the new data nodes. </b>
          From a system shell on each of the hosts for the new data
          nodes, start the data nodes as shown here, using the
          <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> option:
        </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndbd -c 192.168.0.10 --initial</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          Unlike the case with restarting the existing data nodes, you
          can start the new data nodes concurrently; you do not need to
          wait for one to finish starting before starting the other.
</p>
</div>
<p>
        <span class="emphasis"><em>Wait until both of the new data nodes have started
        before proceeding with the next step</em></span>. Once the new
        data nodes have started, you can see in the output of the
        management client <code class="literal">SHOW</code>
        command that they do not yet belong to any node group (as
        indicated with bold type here):
      </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: 192.168.0.10:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=1    @192.168.0.1  (5.6.11-ndb-7.3.3, Nodegroup: 0, Master)
id=2    @192.168.0.2  (5.6.11-ndb-7.3.3, Nodegroup: 0)
id=3    @192.168.0.3  (5.6.11-ndb-7.3.3, <span class="bold"><strong>no nodegroup</strong></span>)
id=4    @192.168.0.4  (5.6.11-ndb-7.3.3, <span class="bold"><strong>no nodegroup</strong></span>)

[ndb_mgmd(MGM)] 1 node(s)
id=10   @192.168.0.10  (5.6.11-ndb-7.3.3)

[mysqld(API)]   2 node(s)
id=20   @192.168.0.20  (5.6.11-ndb-7.3.3)
id=21   @192.168.0.21  (5.6.11-ndb-7.3.3)
</pre><p><b>Step 6: Create a new node group. </b>
          You can do this by issuing a <code class="literal">CREATE
          NODEGROUP</code> command in the cluster management client.
          This command takes as its argument a comma-separated list of
          the node IDs of the data nodes to be included in the new node
          group, as shown here:
        </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>CREATE NODEGROUP 3,4</code></strong>
Nodegroup 1 created
</pre><p>
        By issuing <code class="literal">SHOW</code> again, you
        can verify that data nodes 3 and 4 have joined the new node
        group (again indicated in bold type):
      </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>SHOW</code></strong>
Connected to Management Server at: 192.168.0.10:1186
Cluster Configuration
---------------------
[ndbd(NDB)]     2 node(s)
id=1    @192.168.0.1  (5.6.11-ndb-7.3.3, Nodegroup: 0, Master)
id=2    @192.168.0.2  (5.6.11-ndb-7.3.3, Nodegroup: 0)
id=3    @192.168.0.3  (5.6.11-ndb-7.3.3, <span class="bold"><strong>Nodegroup: 1</strong></span>)
id=4    @192.168.0.4  (5.6.11-ndb-7.3.3, <span class="bold"><strong>Nodegroup: 1</strong></span>)

[ndb_mgmd(MGM)] 1 node(s)
id=10   @192.168.0.10  (5.6.11-ndb-7.3.3)

[mysqld(API)]   2 node(s)
id=20   @192.168.0.20  (5.6.11-ndb-7.3.3)
id=21   @192.168.0.21  (5.6.11-ndb-7.3.3)
</pre><p><b>Step 7: Redistribute cluster data. </b>
          When a node group is created, existing data and indexes are
          not automatically distributed to the new node group's
          data nodes, as you can see by issuing the appropriate
          <code class="literal">REPORT</code> command in the management client:
        </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>ALL REPORT MEMORY</code></strong>

Node 1: Data usage is 5%(177 32K pages of total 3200)
Node 1: Index usage is 0%(108 8K pages of total 12832)
Node 2: Data usage is 5%(177 32K pages of total 3200)
Node 2: Index usage is 0%(108 8K pages of total 12832)
<span class="bold"><strong>Node 3: Data usage is 0%(0 32K pages of total 3200)
Node 3: Index usage is 0%(0 8K pages of total 12832)
Node 4: Data usage is 0%(0 32K pages of total 3200)
Node 4: Index usage is 0%(0 8K pages of total 12832)</strong></span>
</pre><p>
        By using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a> with the
        <code class="option">-p</code> option, which causes the output to include
        partitioning information, you can see that the table still uses
        only 2 partitions (in the <code class="literal">Per partition info</code>
        section of the output, shown here in bold text):
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_desc -c 192.168.0.10 -d n ips -p</code></strong>
-- ips --
Version: 1
Fragment type: 9
K Value: 6
Min load factor: 78
Max load factor: 80
Temporary table: no
Number of attributes: 6
Number of primary keys: 1
Length of frm data: 340
Row Checksum: 1
Row GCI: 1
SingleUserMode: 0
ForceVarPart: 1
FragmentCount: 2
TableStatus: Retrieved
-- Attributes --
id Bigint PRIMARY KEY DISTRIBUTION KEY AT=FIXED ST=MEMORY AUTO_INCR
country_code Char(2;latin1_swedish_ci) NOT NULL AT=FIXED ST=MEMORY
type Char(4;latin1_swedish_ci) NOT NULL AT=FIXED ST=MEMORY
ip_address Varchar(15;latin1_swedish_ci) NOT NULL AT=SHORT_VAR ST=MEMORY
addresses Bigunsigned NULL AT=FIXED ST=MEMORY
date Bigunsigned NULL AT=FIXED ST=MEMORY

-- Indexes --
PRIMARY KEY(id) - UniqueHashIndex
PRIMARY(id) - OrderedIndex

<span class="bold"><strong>-- Per partition info --
Partition   Row count   Commit count  Frag fixed memory   Frag varsized memory
0           26086       26086         1572864             557056
1           26329       26329         1605632             557056</strong></span>

NDBT_ProgramExit: 0 - OK
</pre><p>
        You can cause the data to be redistributed among all of the data
        nodes by performing, for each
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> table, an
        <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER ONLINE TABLE
        ... REORGANIZE PARTITION</code></a> statement in the
        <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client. After issuing the statement
        <code class="literal">ALTER ONLINE TABLE ips REORGANIZE PARTITION</code>,
        you can see using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-desc" title="17.4.10. ndb_desc — Describe NDB Tables"><span class="command"><strong>ndb_desc</strong></span></a> that the data for
        this table is now stored using 4 partitions, as shown here (with
        the relevant portions of the output in bold type):
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_desc -c 192.168.0.10 -d n ips -p</code></strong>
-- ips --
Version: 16777217
Fragment type: 9
K Value: 6
Min load factor: 78
Max load factor: 80
Temporary table: no
Number of attributes: 6
Number of primary keys: 1
Length of frm data: 341
Row Checksum: 1
Row GCI: 1
SingleUserMode: 0
ForceVarPart: 1
FragmentCount: 4
TableStatus: Retrieved
-- Attributes --
id Bigint PRIMARY KEY DISTRIBUTION KEY AT=FIXED ST=MEMORY AUTO_INCR
country_code Char(2;latin1_swedish_ci) NOT NULL AT=FIXED ST=MEMORY
type Char(4;latin1_swedish_ci) NOT NULL AT=FIXED ST=MEMORY
ip_address Varchar(15;latin1_swedish_ci) NOT NULL AT=SHORT_VAR ST=MEMORY
addresses Bigunsigned NULL AT=FIXED ST=MEMORY
date Bigunsigned NULL AT=FIXED ST=MEMORY

-- Indexes --
PRIMARY KEY(id) - UniqueHashIndex
PRIMARY(id) - OrderedIndex

<span class="bold"><strong>-- Per partition info --
Partition   Row count   Commit count  Frag fixed memory   Frag varsized memory
0           12981       52296         1572864             557056
1           13236       52515         1605632             557056
2           13105       13105         819200              294912
3           13093       13093         819200              294912</strong></span>

NDBT_ProgramExit: 0 - OK
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          Normally, <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER
          [ONLINE] TABLE <em class="replaceable"><code>table_name</code></em>
          REORGANIZE PARTITION</code></a> is used with a list of
          partition identifiers and a set of partition definitions to
          create a new partitioning scheme for a table that has already
          been explicitly partitioned. Its use here to redistribute data
          onto a new MySQL Cluster node group is an exception in this
          regard; when used in this way, only the name of the table is
          used following the <code class="literal">TABLE</code> keyword, and no
          other keywords or identifiers follow <code class="literal">REORGANIZE
          PARTITION</code>.
        </p><p xmlns="">
          For more information, see <a class="xref" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax">Section 13.1.7, “<code class="literal">ALTER TABLE</code> Syntax”</a>.
</p>
</div>
<p>
        In addition, for each table, the
        <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER ONLINE
        TABLE</code></a> statement should be followed by an
        <a class="link" href="sql-syntax.html#optimize-table" title="13.7.2.4. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> to reclaim wasted
        space. You can obtain a list of all
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> tables using the
        following query against the
        <a class="link" href="information-schema.html#tables-table" title="20.23. The INFORMATION_SCHEMA TABLES Table"><code class="literal">INFORMATION_SCHEMA.TABLES</code></a> table:
      </p><pre class="programlisting">SELECT TABLE_SCHEMA, TABLE_NAME
    FROM INFORMATION_SCHEMA.TABLES
WHERE ENGINE = 'NDBCLUSTER';</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          The <code class="literal">INFORMATION_SCHEMA.TABLES.ENGINE</code> value
          for a MySQL Cluster table is always
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>, regardless of whether
          the <code class="literal">CREATE TABLE</code> statement used to create
          the table (or <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
          statement used to convert an existing table from a different
          storage engine) used <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> or
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> in its
          <code class="literal">ENGINE</code> option.
</p>
</div>
<p>
        You can see after performing these statements in the output of
        <code class="literal">ALL REPORT MEMORY</code> that the data and indexes
        are now redistributed between all cluster data nodes, as shown
        here:
      </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>ALL REPORT MEMORY</code></strong>

Node 1: Data usage is 5%(176 32K pages of total 3200)
Node 1: Index usage is 0%(76 8K pages of total 12832)
Node 2: Data usage is 5%(176 32K pages of total 3200)
Node 2: Index usage is 0%(76 8K pages of total 12832)
Node 3: Data usage is 2%(80 32K pages of total 3200)
Node 3: Index usage is 0%(51 8K pages of total 12832)
Node 4: Data usage is 2%(80 32K pages of total 3200)
Node 4: Index usage is 0%(50 8K pages of total 12832)
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          Since only one DDL operation on
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> tables can be executed
          at a time, you must wait for each
          <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER ONLINE
          TABLE ... REORGANIZE PARTITION</code></a> statement to finish
          before issuing the next one.
</p>
</div>
<p>
        It is not necessary to issue
        <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER ONLINE TABLE
        ... REORGANIZE PARTITION</code></a> statements for
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> tables created
        <span class="emphasis"><em>after</em></span> the new data nodes have been added;
        data added to such tables is distributed among all data nodes
        automatically. However, in
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> tables that existed
        <span class="emphasis"><em>prior to</em></span> the addition of the new nodes,
        neither existing nor new data is distributed using the new nodes
        until these tables have been reorganized using
        <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER ONLINE TABLE
        ... REORGANIZE PARTITION</code></a>.
      </p><p><b>Alternative procedure, without rolling restart. </b>
          It is possible to avoid the need for a rolling restart by
          configuring the extra data nodes, but not starting them, when
          first starting the cluster. We assume, as before, that you
          wish to start with two data nodes—nodes 1 and 2—in
          one node group and later to expand the cluster to four data
          nodes, by adding a second node group consisting of nodes 3 and
          4:
        </p><pre class="programlisting">[ndbd default]
DataMemory = 100M
IndexMemory = 100M
NoOfReplicas = 2
DataDir = /usr/local/mysql/var/mysql-cluster

[ndbd]
Id = 1
HostName = 192.168.0.1

[ndbd]
Id = 2
HostName = 192.168.0.2

[ndbd]
Id = 3
HostName = 192.168.0.3
Nodegroup = 65536   

[ndbd]
Id = 4
HostName = 192.168.0.4
Nodegroup = 65536   

[mgm]
HostName = 192.168.0.10
Id = 10

[api]
Id=20
HostName = 192.168.0.20

[api]
Id=21
HostName = 192.168.0.21</pre><p>
        The data nodes to be brought online at a later time (nodes 3 and
        4) can be configured with
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-nodegroup"><code class="literal">NodeGroup = 65536</code></a>, in
        which case nodes 1 and 2 can each be started as shown here:
      </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndbd -c 192.168.0.10 --initial</code></strong>
</pre><p>
        The data nodes configured with
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-nodegroup"><code class="literal">NodeGroup = 65536</code></a> are
        treated by the management server as though you had started nodes
        1 and 2 using <a class="link" href="mysql-cluster.html#option_ndbd_nowait-nodes"><code class="option">--nowait-nodes=3,4</code></a>
        after waiting for a period of time determined by the setting for
        the
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startnonodegrouptimeout"><code class="literal">StartNoNodeGroupTimeout</code></a>
        data node configuration parameter. By default, this is 15
        seconds (15000 milliseconds).
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-startnonodegrouptimeout"><code class="literal">StartNoNodegroupTimeout</code></a>
          must be the same for all data nodes in the cluster; for this
          reason, you should always set it in the <code class="literal">[ndbd
          default]</code> section of the
          <code class="filename">config.ini</code> file, rather than for
          individual data nodes.
</p>
</div>
<p>
        When you are ready to add the second node group, you need only
        perform the following additional steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Start data nodes 3 and 4, invoking the data node process
            once for each new node:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndbd -c 192.168.0.10 --initial</code></strong>
</pre></li><li class="listitem"><p>
            Issue the appropriate <code class="literal">CREATE NODEGROUP</code>
            command in the management client:
          </p><pre class="programlisting">ndb_mgm&gt; <strong class="userinput"><code>CREATE NODEGROUP 3,4</code></strong>
</pre></li><li class="listitem"><p>
            In the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client, issue
            <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER ONLINE
            TABLE ... REORGANIZE PARTITION</code></a> and
            <a class="link" href="sql-syntax.html#optimize-table" title="13.7.2.4. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> statements for
            each existing <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a> table.
            (As noted elsewhere in this section, existing MySQL Cluster
            tables cannot use the new nodes for data distribution until
            this has been done.)
</p></li></ol>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-privilege-distribution"></a>17.5.14. Distributed MySQL Privileges for MySQL Cluster</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp125050384"></a><a class="indexterm" name="idp125051472"></a><p>
      MySQL Cluster supports distribution of MySQL users and privileges
      across all SQL nodes in a MySQL Cluster. This support is not
      enabled by default; you should follow the procedure outlined in
      this section in order to do so.
    </p><a class="indexterm" name="idp125053232"></a><p>
      Normally, each MySQL server's user privilege tables in the
      <code class="literal">mysql</code> database must use the
      <a class="link" href="storage-engines.html#myisam-storage-engine" title="14.3. The MyISAM Storage Engine"><code class="literal">MyISAM</code></a> storage engine, which means
      that a user account and its associated privileges created on one
      SQL node are not available on the cluster's other SQL nodes.
      An SQL file <code class="filename">ndb_dist_priv.sql</code> is provided
      with the MySQL Cluster NDB 7.3 distribution. This file can be
      found in the <code class="filename">share</code> directory in the MySQL
      installation directory.
    </p><p>
      The first step in enabling distributed privileges is to load this
      script into a MySQL Server that functions as an SQL node (which we
      refer to after this as the <em class="firstterm">target</em> SQL node
      or MySQL Server). You can do this by executing the following
      command from the system shell on the target SQL node after
      changing to its MySQL installation directory (where
      <em class="replaceable"><code>options</code></em> stands for any additional
      options needed to connect to this SQL node):
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql <em class="replaceable"><code>options</code></em> -uroot &lt; share/ndb_dist_priv.sql</code></strong>
</pre><p>
      Importing <code class="filename">ndb_dist_priv.sql</code> creates a number
      of stored routines (six stored procedures and one stored function)
      in the <code class="literal">mysql</code> database on the target SQL node.
      After connecting to the SQL node in the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>
      client (as the MySQL <code class="literal">root</code> user), you can verify
      that these were created as shown here:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT ROUTINE_NAME, ROUTINE_SCHEMA, ROUTINE_TYPE</code></strong> 
    -&gt;     <strong class="userinput"><code>FROM INFORMATION_SCHEMA.ROUTINES</code></strong> 
    -&gt;     <strong class="userinput"><code>WHERE ROUTINE_NAME LIKE 'mysql_cluster%'</code></strong>
    -&gt;     <strong class="userinput"><code>ORDER BY ROUTINE_TYPE</code></strong>;
+---------------------------------------------+----------------+--------------+
| ROUTINE_NAME                                | ROUTINE_SCHEMA | ROUTINE_TYPE |
+---------------------------------------------+----------------+--------------+
| mysql_cluster_privileges_are_distributed    | mysql          | FUNCTION     |
| mysql_cluster_backup_privileges             | mysql          | PROCEDURE    |
| mysql_cluster_move_grant_tables             | mysql          | PROCEDURE    |
| mysql_cluster_move_privileges               | mysql          | PROCEDURE    |
| mysql_cluster_restore_local_privileges      | mysql          | PROCEDURE    |
| mysql_cluster_restore_privileges            | mysql          | PROCEDURE    |
| mysql_cluster_restore_privileges_from_local | mysql          | PROCEDURE    |
+---------------------------------------------+----------------+--------------+

7 rows in set (0.01 sec)
</pre><a class="indexterm" name="idp125069936"></a><p>
      The stored procedure named
      <code class="literal">mysql_cluster_move_privileges</code> creates backup
      copies of the existing privilege tables, then converts them to
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>. Two sets of copies are created
      in the <code class="literal">mysql</code> database:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          A set of local copies that use the
          <a class="link" href="storage-engines.html#myisam-storage-engine" title="14.3. The MyISAM Storage Engine"><code class="literal">MyISAM</code></a> storage engine, and named
          by adding the suffix <code class="literal">_backup</code> to the
          original privilege table names.
        </p></li><li class="listitem"><p>
          A set of distributed copies (using
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDBCLUSTER</code></a>). These tables are
          named by prefixing <code class="literal">ndb_</code> and appending
          <code class="literal">_backup</code> to the names of the original
          tables.
</p></li></ul>
</div>
<p>
      Although the original privilege tables are backed up
      automatically, it is always a good idea to create backups manually
      of the existing privilege tables on all affected SQL nodes before
      proceeding. You can do this using <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> in
      a manner similar to what is shown here:
    </p><pre class="programlisting">shell&gt; mysqldump <em class="replaceable"><code>options</code></em> -uroot \
    mysql host user db tables_priv columns_priv procs_priv proxies_priv &gt; <em class="replaceable"><code>backup_file</code></em>
</pre><p>
      To perform the conversion, you must be connected to the target SQL
      node using the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client (again, as the
      MySQL <code class="literal">root</code> user). Invoke the stored procedure
      like this:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>CALL mysql.mysql_cluster_move_privileges();</code></strong>
Query OK, 0 rows affected (22.32 sec)
</pre><a class="indexterm" name="idp125086816"></a><p>
      Depending on the number of rows in the privilege tables, this
      procedure may take some time to execute. If some of the privilege
      tables are empty, you may see one or more <span class="errortext">No data -
      zero rows fetched, selected, or processed</span> warnings
      when <code class="literal">mysql_cluster_move_privileges</code> returns. In
      such cases, the warnings may be safely ignored. To verify that the
      conversion was successful, you can use the stored function
      <code class="literal">mysql_cluster_privileges_are_distributed</code> as
      shown here:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT CONCAT(</code></strong>
    -&gt;    <strong class="userinput"><code>'Conversion ',</code></strong> 
    -&gt;    <strong class="userinput"><code>IF(mysql.mysql_cluster_privileges_are_distributed(), 'succeeded', 'failed'),</code></strong> 
    -&gt;    <strong class="userinput"><code>'.')</code></strong> 
    -&gt;    <strong class="userinput"><code>AS Result;</code></strong>
+-----------------------+
| Result                |
+-----------------------+
| Conversion succeeded. |
+-----------------------+
1 row in set (0.00 sec)
</pre><p>
      <code class="literal">mysql_cluster_privileges_are_distributed</code> checks
      for the existence of the distributed privilege tables and returns
      <code class="literal">1</code> if all of the privilege tables are
      distributed; otherwise, it returns <code class="literal">0</code>.
    </p><p>
      You can verify that the backups have been created using a query
      such as this one:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT TABLE_NAME, ENGINE FROM INFORMATION_SCHEMA.TABLES</code></strong> 
    -&gt;     <strong class="userinput"><code>WHERE TABLE_SCHEMA = 'mysql' AND TABLE_NAME LIKE '%backup'</code></strong> 
    -&gt;     <strong class="userinput"><code>ORDER BY ENGINE;</code></strong>
+-------------------------+------------+
| TABLE_NAME              | ENGINE     |
+-------------------------+------------+
| host_backup             | MyISAM     |
| db_backup               | MyISAM     |
| columns_priv_backup     | MyISAM     |
| user_backup             | MyISAM     |
| tables_priv_backup      | MyISAM     |
| proxies_priv_backup     | MyISAM     |
| procs_priv_backup       | MyISAM     |
| ndb_user_backup         | ndbcluster |
| ndb_tables_priv_backup  | ndbcluster |
| ndb_proxies_priv_backup | ndbcluster |
| ndb_procs_priv_backup   | ndbcluster |
| ndb_host_backup         | ndbcluster |
| ndb_db_backup           | ndbcluster |
| ndb_columns_priv_backup | ndbcluster |
+-------------------------+------------+
14 rows in set (0.00 sec)
</pre><p>
      Once the conversion to distributed privileges has been made, any
      time a MySQL user account is created, dropped, or has its
      privileges updated on any SQL node, the changes take effect
      immediately on all other MySQL servers attached to the cluster.
      Once privileges are distributed, any new MySQL Servers that
      connect to the cluster automatically participate in the
      distribution.
    </p><p>
      All MySQL user privileges are distributed across all connected
      MySQL Servers. This includes privileges associated with views and
      stored routines. While automatic distribution of views and stored
      routines is not currently supported, you can attempt to distribute
      stored routines by issuing a statement such as
      <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE
      mysql.proc ENGINE = NDB</code></a>, but you must verify manually
      that any tables referenced by the stored routines exist on all SQL
      nodes, since MySQL Cluster has no support at the present time for
      doing this automatically. There is currently no way to distribute
      views among MySQL Cluster SQL nodes, other than by creating them
      manually on each SQL node. If you do this, you must make certain
      that all base tables referenced by the views use the
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine; otherwise, the
      views are likely to diverge very quickly.
    </p><p>
      In the event that an SQL node becomes disconnected from the
      cluster while <code class="literal">mysql_cluster_move_privileges</code> is
      running, you must drop its privilege tables after reconnecting to
      the cluster, using a statement such as
      <a class="link" href="sql-syntax.html#drop-table" title="13.1.28. DROP TABLE Syntax"><code class="literal">DROP TABLE IF EXISTS
      mysql.user mysql.db mysql.tables_priv mysql.columns_priv
      mysql.procs_priv</code></a>. This causes the SQL node to use the
      shared privilege tables rather than its own local versions of
      them. This is not needed when connecting a new SQL node to the
      cluster for the first time.
    </p><p>
      In the event of an initial restart of the entire cluster (all data
      nodes shut down, then started again with
      <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a>), the shared privilege
      tables are lost. If this happens, you can restore them using the
      original target SQL node either from the backups made by
      <code class="literal">mysql_cluster_move_privileges</code> or from a dump
      file created with <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>. If you need to use
      a new MySQL Server to perform the restoration, you should start it
      with <a class="link" href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a> when
      connecting to the cluster for the first time; after this, you can
      restore the privilege tables locally, then distribute them again
      using <code class="literal">mysql_cluster_move_privileges</code>. After
      restoring and distributing the tables, you should restart this
      MySQL Server without the
      <a class="link" href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a> option.
    </p><p>
      You can also restore the distributed tables using
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>
      <a class="link" href="mysql-cluster.html#option_ndb_restore_restore-privilege-tables"><code class="option">--restore-privilege-tables</code></a>
      from a backup made using <code class="literal">START BACKUP</code> in the
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client. (The
      <a class="link" href="storage-engines.html#myisam-storage-engine" title="14.3. The MyISAM Storage Engine"><code class="literal">MyISAM</code></a> tables created by
      <code class="literal">mysql_cluster_move_privileges</code> are not backed up
      by the <code class="literal">START BACKUP</code> command.)
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> does not restore the privilege
      tables by default; the
      <a class="link" href="mysql-cluster.html#option_ndb_restore_restore-privilege-tables"><code class="option">--restore-privilege-tables</code></a>
      option causes it to do so.
</p><a class="indexterm" name="idp125122112"></a><a class="indexterm" name="idp125123616"></a><a class="indexterm" name="idp125125120"></a>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        Applications that access MySQL Cluster data directly, including
        NDB API and ClusterJ applications, are not subject to the MySQL
        privilege system. This means that, once you have distributed the
        grant tables, they can be freely accessed by such applications,
        just as they can any other <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
        tables. In particular, you should keep in mind that
        <span class="emphasis"><em>NDB API and ClusterJ applications can read and write
        user names, host names, password hashes, and any other contents
        of the distributed grant tables without any
        restrictions</em></span>.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-ndb-api-statistics"></a>17.5.15. NDB API Statistics Counters and Variables</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp125130352"></a><a class="indexterm" name="idp125131840"></a><a class="indexterm" name="idp125132928"></a><p>
      A number of types of statistical counters relating to actions
      performed by or affecting <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb.html" target="_top"><code class="literal">Ndb</code></a>
      objects are available. Such actions include starting and closing
      (or aborting) transactions; primary key and unique key operations;
      table, range, and pruned scans; threads blocked while waiting for
      the completion of various operations; and data and events sent and
      received by <code class="literal">NDBCLUSTER</code>. The counters are
      incremented inside the NDB kernel whenever NDB API calls are made
      or data is sent to or received by the data nodes.
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> exposes these counters as system status
      variables; their values can be read in the output of
      <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a>, or by querying the
      <a class="link" href="information-schema.html#status-table" title="20.9. The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables"><code class="literal">INFORMATION_SCHEMA.SESSION_STATUS</code></a>
      or
      <a class="link" href="information-schema.html#status-table" title="20.9. The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables"><code class="literal">INFORMATION_SCHEMA.GLOBAL_STATUS</code></a>
      table. By comparing the values before and after statements
      operating on <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables, you can
      observe the corresponding actions taken on the API level, and thus
      the cost of performing the statement.
    </p><p>
      You can list all of these status variables using the following
      <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> statement:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb_api%';</code></strong>
+--------------------------------------------+----------+
| Variable_name                              | Value    |
+--------------------------------------------+----------+
| Ndb_api_wait_exec_complete_count_session   | 0        |
| Ndb_api_wait_scan_result_count_session     | 0        |
| Ndb_api_wait_meta_request_count_session    | 0        |
| Ndb_api_wait_nanos_count_session           | 0        |
| Ndb_api_bytes_sent_count_session           | 0        |
| Ndb_api_bytes_received_count_session       | 0        |
| Ndb_api_trans_start_count_session          | 0        |
| Ndb_api_trans_commit_count_session         | 0        |
| Ndb_api_trans_abort_count_session          | 0        |
| Ndb_api_trans_close_count_session          | 0        |
| Ndb_api_pk_op_count_session                | 0        |
| Ndb_api_uk_op_count_session                | 0        |
| Ndb_api_table_scan_count_session           | 0        |
| Ndb_api_range_scan_count_session           | 0        |
| Ndb_api_pruned_scan_count_session          | 0        |
| Ndb_api_scan_batch_count_session           | 0        |
| Ndb_api_read_row_count_session             | 0        |
| Ndb_api_trans_local_read_row_count_session | 0        |
| Ndb_api_event_data_count_injector          | 0        |
| Ndb_api_event_nondata_count_injector       | 0        |
| Ndb_api_event_bytes_count_injector         | 0        |
| Ndb_api_wait_exec_complete_count_slave     | 0        |
| Ndb_api_wait_scan_result_count_slave       | 0        |
| Ndb_api_wait_meta_request_count_slave      | 0        |
| Ndb_api_wait_nanos_count_slave             | 0        |
| Ndb_api_bytes_sent_count_slave             | 0        |
| Ndb_api_bytes_received_count_slave         | 0        |
| Ndb_api_trans_start_count_slave            | 0        |
| Ndb_api_trans_commit_count_slave           | 0        |
| Ndb_api_trans_abort_count_slave            | 0        |
| Ndb_api_trans_close_count_slave            | 0        |
| Ndb_api_pk_op_count_slave                  | 0        |
| Ndb_api_uk_op_count_slave                  | 0        |
| Ndb_api_table_scan_count_slave             | 0        |
| Ndb_api_range_scan_count_slave             | 0        |
| Ndb_api_pruned_scan_count_slave            | 0        |
| Ndb_api_scan_batch_count_slave             | 0        |
| Ndb_api_read_row_count_slave               | 0        |
| Ndb_api_trans_local_read_row_count_slave   | 0        |
| Ndb_api_wait_exec_complete_count           | 2        |
| Ndb_api_wait_scan_result_count             | 3        |
| Ndb_api_wait_meta_request_count            | 27       |
| Ndb_api_wait_nanos_count                   | 45612023 |
| Ndb_api_bytes_sent_count                   | 992      |
| Ndb_api_bytes_received_count               | 9640     |
| Ndb_api_trans_start_count                  | 2        |
| Ndb_api_trans_commit_count                 | 1        |
| Ndb_api_trans_abort_count                  | 0        |
| Ndb_api_trans_close_count                  | 2        |
| Ndb_api_pk_op_count                        | 1        |
| Ndb_api_uk_op_count                        | 0        |
| Ndb_api_table_scan_count                   | 1        |
| Ndb_api_range_scan_count                   | 0        |
| Ndb_api_pruned_scan_count                  | 0        |
| Ndb_api_scan_batch_count                   | 0        |
| Ndb_api_read_row_count                     | 1        |
| Ndb_api_trans_local_read_row_count         | 1        |
| Ndb_api_event_data_count                   | 0        |
| Ndb_api_event_nondata_count                | 0        |
| Ndb_api_event_bytes_count                  | 0        |
+--------------------------------------------+----------+
60 rows in set (0.02 sec)
</pre><p>
      These status variables are also available from the
      <a class="link" href="information-schema.html#status-table" title="20.9. The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables"><code class="literal">SESSION_STATUS</code></a> and
      <a class="link" href="information-schema.html#status-table" title="20.9. The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables"><code class="literal">GLOBAL_STATUS</code></a>
      tables of the <code class="literal">INFORMATION_SCHEMA</code> database, as
      shown here:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM INFORMATION_SCHEMA.SESSION_STATUS </code></strong>
    -&gt;   <strong class="userinput"><code>WHERE VARIABLE_NAME LIKE 'ndb_api%';</code></strong>
+--------------------------------------------+----------------+
| VARIABLE_NAME                              | VARIABLE_VALUE |
+--------------------------------------------+----------------+
| NDB_API_WAIT_EXEC_COMPLETE_COUNT_SESSION   | 2              |
| NDB_API_WAIT_SCAN_RESULT_COUNT_SESSION     | 0              |
| NDB_API_WAIT_META_REQUEST_COUNT_SESSION    | 1              |
| NDB_API_WAIT_NANOS_COUNT_SESSION           | 8144375        |
| NDB_API_BYTES_SENT_COUNT_SESSION           | 68             |
| NDB_API_BYTES_RECEIVED_COUNT_SESSION       | 84             |
| NDB_API_TRANS_START_COUNT_SESSION          | 1              |
| NDB_API_TRANS_COMMIT_COUNT_SESSION         | 1              |
| NDB_API_TRANS_ABORT_COUNT_SESSION          | 0              |
| NDB_API_TRANS_CLOSE_COUNT_SESSION          | 1              |
| NDB_API_PK_OP_COUNT_SESSION                | 1              |
| NDB_API_UK_OP_COUNT_SESSION                | 0              |
| NDB_API_TABLE_SCAN_COUNT_SESSION           | 0              |
| NDB_API_RANGE_SCAN_COUNT_SESSION           | 0              |
| NDB_API_PRUNED_SCAN_COUNT_SESSION          | 0              |
| NDB_API_SCAN_BATCH_COUNT_SESSION           | 0              |
| NDB_API_READ_ROW_COUNT_SESSION             | 1              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT_SESSION | 1              |
| NDB_API_EVENT_DATA_COUNT_INJECTOR          | 0              |
| NDB_API_EVENT_NONDATA_COUNT_INJECTOR       | 0              |
| NDB_API_EVENT_BYTES_COUNT_INJECTOR         | 0              |
| NDB_API_WAIT_EXEC_COMPLETE_COUNT_SLAVE     | 0              |
| NDB_API_WAIT_SCAN_RESULT_COUNT_SLAVE       | 0              |
| NDB_API_WAIT_META_REQUEST_COUNT_SLAVE      | 0              |
| NDB_API_WAIT_NANOS_COUNT_SLAVE             | 0              |
| NDB_API_BYTES_SENT_COUNT_SLAVE             | 0              |
| NDB_API_BYTES_RECEIVED_COUNT_SLAVE         | 0              |
| NDB_API_TRANS_START_COUNT_SLAVE            | 0              |
| NDB_API_TRANS_COMMIT_COUNT_SLAVE           | 0              |
| NDB_API_TRANS_ABORT_COUNT_SLAVE            | 0              |
| NDB_API_TRANS_CLOSE_COUNT_SLAVE            | 0              |
| NDB_API_PK_OP_COUNT_SLAVE                  | 0              |
| NDB_API_UK_OP_COUNT_SLAVE                  | 0              |
| NDB_API_TABLE_SCAN_COUNT_SLAVE             | 0              |
| NDB_API_RANGE_SCAN_COUNT_SLAVE             | 0              |
| NDB_API_PRUNED_SCAN_COUNT_SLAVE            | 0              |
| NDB_API_SCAN_BATCH_COUNT_SLAVE             | 0              |
| NDB_API_READ_ROW_COUNT_SLAVE               | 0              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT_SLAVE   | 0              |
| NDB_API_WAIT_EXEC_COMPLETE_COUNT           | 4              |
| NDB_API_WAIT_SCAN_RESULT_COUNT             | 3              |
| NDB_API_WAIT_META_REQUEST_COUNT            | 28             |
| NDB_API_WAIT_NANOS_COUNT                   | 53756398       |
| NDB_API_BYTES_SENT_COUNT                   | 1060           |
| NDB_API_BYTES_RECEIVED_COUNT               | 9724           |
| NDB_API_TRANS_START_COUNT                  | 3              |
| NDB_API_TRANS_COMMIT_COUNT                 | 2              |
| NDB_API_TRANS_ABORT_COUNT                  | 0              |
| NDB_API_TRANS_CLOSE_COUNT                  | 3              |
| NDB_API_PK_OP_COUNT                        | 2              |
| NDB_API_UK_OP_COUNT                        | 0              |
| NDB_API_TABLE_SCAN_COUNT                   | 1              |
| NDB_API_RANGE_SCAN_COUNT                   | 0              |
| NDB_API_PRUNED_SCAN_COUNT                  | 0              |
| NDB_API_SCAN_BATCH_COUNT                   | 0              |
| NDB_API_READ_ROW_COUNT                     | 2              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT         | 2              |
| NDB_API_EVENT_DATA_COUNT                   | 0              |
| NDB_API_EVENT_NONDATA_COUNT                | 0              |
| NDB_API_EVENT_BYTES_COUNT                  | 0              |
+--------------------------------------------+----------------+
60 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>SELECT * FROM INFORMATION_SCHEMA.GLOBAL_STATUS</code></strong> 
    -&gt;     <strong class="userinput"><code>WHERE VARIABLE_NAME LIKE 'ndb_api%';</code></strong>
+--------------------------------------------+----------------+
| VARIABLE_NAME                              | VARIABLE_VALUE |
+--------------------------------------------+----------------+
| NDB_API_WAIT_EXEC_COMPLETE_COUNT_SESSION   | 2              |
| NDB_API_WAIT_SCAN_RESULT_COUNT_SESSION     | 0              |
| NDB_API_WAIT_META_REQUEST_COUNT_SESSION    | 1              |
| NDB_API_WAIT_NANOS_COUNT_SESSION           | 8144375        |
| NDB_API_BYTES_SENT_COUNT_SESSION           | 68             |
| NDB_API_BYTES_RECEIVED_COUNT_SESSION       | 84             |
| NDB_API_TRANS_START_COUNT_SESSION          | 1              |
| NDB_API_TRANS_COMMIT_COUNT_SESSION         | 1              |
| NDB_API_TRANS_ABORT_COUNT_SESSION          | 0              |
| NDB_API_TRANS_CLOSE_COUNT_SESSION          | 1              |
| NDB_API_PK_OP_COUNT_SESSION                | 1              |
| NDB_API_UK_OP_COUNT_SESSION                | 0              |
| NDB_API_TABLE_SCAN_COUNT_SESSION           | 0              |
| NDB_API_RANGE_SCAN_COUNT_SESSION           | 0              |
| NDB_API_PRUNED_SCAN_COUNT_SESSION          | 0              |
| NDB_API_SCAN_BATCH_COUNT_SESSION           | 0              |
| NDB_API_READ_ROW_COUNT_SESSION             | 1              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT_SESSION | 1              |
| NDB_API_EVENT_DATA_COUNT_INJECTOR          | 0              |
| NDB_API_EVENT_NONDATA_COUNT_INJECTOR       | 0              |
| NDB_API_EVENT_BYTES_COUNT_INJECTOR         | 0              |
| NDB_API_WAIT_EXEC_COMPLETE_COUNT_SLAVE     | 0              |
| NDB_API_WAIT_SCAN_RESULT_COUNT_SLAVE       | 0              |
| NDB_API_WAIT_META_REQUEST_COUNT_SLAVE      | 0              |
| NDB_API_WAIT_NANOS_COUNT_SLAVE             | 0              |
| NDB_API_BYTES_SENT_COUNT_SLAVE             | 0              |
| NDB_API_BYTES_RECEIVED_COUNT_SLAVE         | 0              |
| NDB_API_TRANS_START_COUNT_SLAVE            | 0              |
| NDB_API_TRANS_COMMIT_COUNT_SLAVE           | 0              |
| NDB_API_TRANS_ABORT_COUNT_SLAVE            | 0              |
| NDB_API_TRANS_CLOSE_COUNT_SLAVE            | 0              |
| NDB_API_PK_OP_COUNT_SLAVE                  | 0              |
| NDB_API_UK_OP_COUNT_SLAVE                  | 0              |
| NDB_API_TABLE_SCAN_COUNT_SLAVE             | 0              |
| NDB_API_RANGE_SCAN_COUNT_SLAVE             | 0              |
| NDB_API_PRUNED_SCAN_COUNT_SLAVE            | 0              |
| NDB_API_SCAN_BATCH_COUNT_SLAVE             | 0              |
| NDB_API_READ_ROW_COUNT_SLAVE               | 0              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT_SLAVE   | 0              |
| NDB_API_WAIT_EXEC_COMPLETE_COUNT           | 4              |
| NDB_API_WAIT_SCAN_RESULT_COUNT             | 3              |
| NDB_API_WAIT_META_REQUEST_COUNT            | 28             |
| NDB_API_WAIT_NANOS_COUNT                   | 53756398       |
| NDB_API_BYTES_SENT_COUNT                   | 1060           |
| NDB_API_BYTES_RECEIVED_COUNT               | 9724           |
| NDB_API_TRANS_START_COUNT                  | 3              |
| NDB_API_TRANS_COMMIT_COUNT                 | 2              |
| NDB_API_TRANS_ABORT_COUNT                  | 0              |
| NDB_API_TRANS_CLOSE_COUNT                  | 3              |
| NDB_API_PK_OP_COUNT                        | 2              |
| NDB_API_UK_OP_COUNT                        | 0              |
| NDB_API_TABLE_SCAN_COUNT                   | 1              |
| NDB_API_RANGE_SCAN_COUNT                   | 0              |
| NDB_API_PRUNED_SCAN_COUNT                  | 0              |
| NDB_API_SCAN_BATCH_COUNT                   | 0              |
| NDB_API_READ_ROW_COUNT                     | 2              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT         | 2              |
| NDB_API_EVENT_DATA_COUNT                   | 0              |
| NDB_API_EVENT_NONDATA_COUNT                | 0              |
| NDB_API_EVENT_BYTES_COUNT                  | 0              |
+--------------------------------------------+----------------+
60 rows in set (0.00 sec)
</pre><a class="indexterm" name="idp125175040"></a><a class="indexterm" name="idp125176544"></a><p>
      Each <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb.html" target="_top"><code class="literal">Ndb</code></a> object has its own
      counters. NDB API applications can read the values of the counters
      for use in optimization or monitoring. For multi-threaded clients
      which use more than one <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb.html" target="_top"><code class="literal">Ndb</code></a>
      object concurrently, it is also possible to obtain a summed view
      of counters from all <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb.html" target="_top"><code class="literal">Ndb</code></a> objects
      belonging to a given
      <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb-cluster-connection.html" target="_top"><code class="literal">Ndb_cluster_connection</code></a>.
    </p><p>
      Four sets of these counters are exposed. One set applies to the
      current session only; the other 3 are global. <span class="emphasis"><em>This is in
      spite of the fact that their values can be obtained as either
      session or global status variables in the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>
      client</em></span>. This means that specifying the
      <code class="literal">SESSION</code> or <code class="literal">GLOBAL</code> keyword
      with <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> has no effect on
      the values reported for NDB API statistics status variables, and
      the value for each of these variables is the same whether the
      value is obtained from the equivalent column of the
      <a class="link" href="information-schema.html#status-table" title="20.9. The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables"><code class="literal">SESSION_STATUS</code></a> or
      the <a class="link" href="information-schema.html#status-table" title="20.9. The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables"><code class="literal">GLOBAL_STATUS</code></a>
      table.
</p><a class="indexterm" name="idp125188352"></a><a class="indexterm" name="idp125189856"></a>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <span class="emphasis"><em>Session counters (session specific)</em></span>
        </p><p>
          Session counters relate to the
          <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb.html" target="_top"><code class="literal">Ndb</code></a> objects in use by (only)
          the current session. Use of such objects by other MySQL
          clients does not influence these counts.
        </p><p>
          In order to minimize confusion with standard MySQL session
          variables, we refer to the variables that correspond to these
          NDB API session counters as <span class="quote">“<span class="quote"><code class="literal">_session</code>
          variables</span>”</span>, with a leading underscore.
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>Slave counters (global)</em></span>
        </p><p>
          This set of counters relates to the
          <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb.html" target="_top"><code class="literal">Ndb</code></a> objects used by the
          replication slave SQL thread, if any. If this
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> does not act as a replication slave,
          or does not use <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables, then
          all of these counts are 0.
        </p><p>
          We refer to the related status variables as
          <span class="quote">“<span class="quote"><code class="literal">_slave</code> variables</span>”</span> (with a
          leading underscore).
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>Injector counters (global)</em></span>
        </p><p>
          Injector counters relate to the
          <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb.html" target="_top"><code class="literal">Ndb</code></a> object used to listen to
          cluster events by the binlog injector thread. Even when not
          writing a binary log, <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> processes
          attached to a MySQL Cluster continue to listen for some
          events, such as schema changes.
        </p><p>
          We refer to the status variables that correspond to NDB API
          injector counters as <span class="quote">“<span class="quote"><code class="literal">_injector</code>
          variables</span>”</span> (with a leading underscore).
        </p></li><li class="listitem"><p>
          <span class="emphasis"><em>Server (Global) counters (global)</em></span>
        </p><p>
          This set of counters relates to all
          <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndb.html" target="_top"><code class="literal">Ndb</code></a> objects currently used by
          this <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. This includes all MySQL client
          applications, the slave SQL thread (if any), the binlog
          injector, and the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> utility
          thread.
        </p><p>
          We refer to the status variables that correspond to these
          counters as <span class="quote">“<span class="quote">global variables</span>”</span> or
          <span class="quote">“<span class="quote"><a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>-level variables</span>”</span>.
</p></li></ul>
</div>
<p>
      You can obtain values for a particular set of variables by
      additionally filtering for the substring
      <code class="literal">session</code>, <code class="literal">slave</code>, or
      <code class="literal">injector</code> in the variable name (along with the
      common prefix <code class="literal">Ndb_api</code>). For
      <code class="literal">_session</code> variables, this can be done as shown
      here:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb_api%session';</code></strong>
+--------------------------------------------+---------+
| Variable_name                              | Value   |
+--------------------------------------------+---------+
| Ndb_api_wait_exec_complete_count_session   | 2       |
| Ndb_api_wait_scan_result_count_session     | 0       |
| Ndb_api_wait_meta_request_count_session    | 1       |
| Ndb_api_wait_nanos_count_session           | 8144375 |
| Ndb_api_bytes_sent_count_session           | 68      |
| Ndb_api_bytes_received_count_session       | 84      |
| Ndb_api_trans_start_count_session          | 1       |
| Ndb_api_trans_commit_count_session         | 1       |
| Ndb_api_trans_abort_count_session          | 0       |
| Ndb_api_trans_close_count_session          | 1       |
| Ndb_api_pk_op_count_session                | 1       |
| Ndb_api_uk_op_count_session                | 0       |
| Ndb_api_table_scan_count_session           | 0       |
| Ndb_api_range_scan_count_session           | 0       |
| Ndb_api_pruned_scan_count_session          | 0       |
| Ndb_api_scan_batch_count_session           | 0       |
| Ndb_api_read_row_count_session             | 1       |
| Ndb_api_trans_local_read_row_count_session | 1       |
+--------------------------------------------+---------+
18 rows in set (0.50 sec)
</pre><p>
      To obtain a listing of the NDB API <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>-level
      status variables, filter for variable names beginning with
      <code class="literal">ndb_api</code> and ending in
      <code class="literal">_count</code>, like this:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM INFORMATION_SCHEMA.SESSION_STATUS</code></strong> 
    -&gt;     <strong class="userinput"><code>WHERE VARIABLE_NAME LIKE 'ndb_api%count';</code></strong>
+------------------------------------+----------------+
| VARIABLE_NAME                      | VARIABLE_VALUE |
+------------------------------------+----------------+
| NDB_API_WAIT_EXEC_COMPLETE_COUNT   | 4              |
| NDB_API_WAIT_SCAN_RESULT_COUNT     | 3              |
| NDB_API_WAIT_META_REQUEST_COUNT    | 28             |
| NDB_API_WAIT_NANOS_COUNT           | 53756398       |
| NDB_API_BYTES_SENT_COUNT           | 1060           |
| NDB_API_BYTES_RECEIVED_COUNT       | 9724           |
| NDB_API_TRANS_START_COUNT          | 3              |
| NDB_API_TRANS_COMMIT_COUNT         | 2              |
| NDB_API_TRANS_ABORT_COUNT          | 0              |
| NDB_API_TRANS_CLOSE_COUNT          | 3              |
| NDB_API_PK_OP_COUNT                | 2              |
| NDB_API_UK_OP_COUNT                | 0              |
| NDB_API_TABLE_SCAN_COUNT           | 1              |
| NDB_API_RANGE_SCAN_COUNT           | 0              |
| NDB_API_PRUNED_SCAN_COUNT          | 0              |
| NDB_API_SCAN_BATCH_COUNT           | 0              |
| NDB_API_READ_ROW_COUNT             | 2              |
| NDB_API_TRANS_LOCAL_READ_ROW_COUNT | 2              |
| NDB_API_EVENT_DATA_COUNT           | 0              |
| NDB_API_EVENT_NONDATA_COUNT        | 0              |
| NDB_API_EVENT_BYTES_COUNT          | 0              |
+------------------------------------+----------------+
21 rows in set (0.09 sec)
</pre><p>
      Not all counters are reflected in all 4 sets of status variables.
      For the event counters <code class="literal">DataEventsRecvdCount</code>,
      <code class="literal">NondataEventsRecvdCount</code>, and
      <code class="literal">EventBytesRecvdCount</code>, only
      <code class="literal">_injector</code> and <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>-level
      NDB API status variables are available:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb_api%event%';</code></strong>
+--------------------------------------+-------+
| Variable_name                        | Value |
+--------------------------------------+-------+
| Ndb_api_event_data_count_injector    | 0     |
| Ndb_api_event_nondata_count_injector | 0     |
| Ndb_api_event_bytes_count_injector   | 0     |
| Ndb_api_event_data_count             | 0     |
| Ndb_api_event_nondata_count          | 0     |
| Ndb_api_event_bytes_count            | 0     |
+--------------------------------------+-------+
6 rows in set (0.00 sec)
</pre><p>
      <code class="literal">_injector</code> status variables are not implemented
      for any other NDB API counters, as shown here:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb_api%injector%';</code></strong>
+--------------------------------------+-------+
| Variable_name                        | Value |
+--------------------------------------+-------+
| Ndb_api_event_data_count_injector    | 0     |
| Ndb_api_event_nondata_count_injector | 0     |
| Ndb_api_event_bytes_count_injector   | 0     |
+--------------------------------------+-------+
3 rows in set (0.00 sec)
</pre><a class="indexterm" name="idp125237136"></a><a class="indexterm" name="idp125238656"></a><p>
      The names of the status variables can easily be associated with
      the names of the corresponding counters. Each NDB API statistics
      counter is listed in the following table with a description as
      well as the names of any MySQL server status variables
      corresponding to this counter.
</p>
<div class="informaltable">
<table border="1"><colgroup><col class="c1"><col class="c2"></colgroup><thead><tr><th scope="col" rowspan="2" valign="middle">Counter Name</th><th scope="col">Description</th></tr><tr><th scope="col">Status Variables (by statistic type):

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    Session
                  </p></li><li class="listitem"><p>
                    Slave
                  </p></li><li class="listitem"><p>
                    Injector
                  </p></li><li class="listitem"><p>
                    Server
</p></li></ul>
</div>
</th></tr></thead><tbody><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">WaitExecCompleteCount</code></td><td>Number of times thread has been blocked while waiting for execution of
              an operation to complete. Includes all
              <a class="ulink" href="http://dev.mysql.com/doc/ndbapi/en/ndb-ndbtransaction-methods.html#ndb-ndbtransaction-execute" target="_top"><code class="literal">execute()</code></a>
              calls as well as implicit executes for blob operations and
auto-increment not visible to clients.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_exec_complete_count_session"><code class="literal">Ndb_api_wait_exec_complete_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_exec_complete_count_slave"><code class="literal">Ndb_api_wait_exec_complete_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_exec_complete_count"><code class="literal">Ndb_api_wait_exec_complete_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">WaitScanResultCount</code></td><td>Number of times thread has been blocked while waiting for a scan-based
              signal, such waiting for additional results, or for a scan
to close.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_scan_result_count_session"><code class="literal">Ndb_api_wait_scan_result_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_scan_result_count_slave"><code class="literal">Ndb_api_wait_scan_result_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_scan_result_count"><code class="literal">Ndb_api_wait_scan_result_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">WaitMetaRequestCount</code></td><td>Number of times thread has been blocked waiting for a metadata-based
              signal; this can occur when waiting for a DDL operation or
for an epoch to be started (or ended).</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_meta_request_count_session"><code class="literal">Ndb_api_wait_meta_request_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_meta_request_count_slave"><code class="literal">Ndb_api_wait_meta_request_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_meta_request_count"><code class="literal">Ndb_api_wait_meta_request_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">WaitNanosCount</code></td><td>Total time (in nanoseconds) spent waiting for some type of signal from
the data nodes.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count_session"><code class="literal">Ndb_api_wait_nanos_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count_slave"><code class="literal">Ndb_api_wait_nanos_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count"><code class="literal">Ndb_api_wait_nanos_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">BytesSentCount</code></td><td>Amount of data (in bytes) sent to the data nodes</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_sent_count_session"><code class="literal">Ndb_api_bytes_sent_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_sent_count_slave"><code class="literal">Ndb_api_bytes_sent_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_sent_count"><code class="literal">Ndb_api_bytes_sent_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">BytesRecvdCount</code></td><td>Amount of data (in bytes) received from the data nodes</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_received_count_session"><code class="literal">Ndb_api_bytes_received_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_received_count_slave"><code class="literal">Ndb_api_bytes_received_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_bytes_received_count"><code class="literal">Ndb_api_bytes_received_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">TransStartCount</code></td><td>Number of transactions started.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_start_count_session"><code class="literal">Ndb_api_trans_start_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_start_count_slave"><code class="literal">Ndb_api_trans_start_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_start_count"><code class="literal">Ndb_api_trans_start_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">TransCommitCount</code></td><td>Number of transactions committed.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count_session"><code class="literal">Ndb_api_trans_commit_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count_slave"><code class="literal">Ndb_api_trans_commit_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_commit_count"><code class="literal">Ndb_api_trans_commit_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">TransAbortCount</code></td><td>Number of transactions aborted.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count_session"><code class="literal">Ndb_api_trans_abort_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count_slave"><code class="literal">Ndb_api_trans_abort_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_abort_count"><code class="literal">Ndb_api_trans_abort_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">TransCloseCount</code></td><td>Number of transactions aborted. (This value may be greater than the sum
              of <code class="literal">TransCommitCount</code> and
<code class="literal">TransAbortCount</code>.)</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_close_count_session"><code class="literal">Ndb_api_trans_close_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_close_count_slave"><code class="literal">Ndb_api_trans_close_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_close_count"><code class="literal">Ndb_api_trans_close_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">PkOpCount</code></td><td>Number of operations based on or using primary keys. This count includes
              blob-part table operations, implicit unlocking operations,
              and auto-increment operations, as well as primary key
operations normally visible to MySQL clients.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_pk_op_count_session"><code class="literal">Ndb_api_pk_op_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_pk_op_count_slave"><code class="literal">Ndb_api_pk_op_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_pk_op_count"><code class="literal">Ndb_api_pk_op_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">UkOpCount</code></td><td>Number of operations based on or using unique keys.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_uk_op_count_session"><code class="literal">Ndb_api_uk_op_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_uk_op_count_slave"><code class="literal">Ndb_api_uk_op_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_uk_op_count"><code class="literal">Ndb_api_uk_op_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">TableScanCount</code></td><td>Number of table scans that have been started. This includes scans of
internal tables.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_table_scan_count_session"><code class="literal">Ndb_api_table_scan_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_table_scan_count_slave"><code class="literal">Ndb_api_table_scan_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_table_scan_count"><code class="literal">Ndb_api_table_scan_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">RangeScanCount</code></td><td>Number of range scans that have been started.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_range_scan_count_session"><code class="literal">Ndb_api_range_scan_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_range_scan_count_slave"><code class="literal">Ndb_api_range_scan_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_range_scan_count"><code class="literal">Ndb_api_range_scan_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">PrunedScanCount</code></td><td>Number of scans that have been pruned to a single partition.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_pruned_scan_count_session"><code class="literal">Ndb_api_pruned_scan_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_pruned_scan_count_slave"><code class="literal">Ndb_api_pruned_scan_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_pruned_scan_count"><code class="literal">Ndb_api_pruned_scan_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">ScanBatchCount</code></td><td>Number of batches of rows received. (A <em class="firstterm">batch</em> in
              this context is a set of scan results from a single
fragment.)</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_scan_batch_count_session"><code class="literal">Ndb_api_scan_batch_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_scan_batch_count_slave"><code class="literal">Ndb_api_scan_batch_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_scan_batch_count"><code class="literal">Ndb_api_scan_batch_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">ReadRowCount</code></td><td>Total number of rows that have been read. Includes rows read using
primary key, unique key, and scan operations.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_read_row_count_session"><code class="literal">Ndb_api_read_row_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_read_row_count_slave"><code class="literal">Ndb_api_read_row_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_read_row_count"><code class="literal">Ndb_api_read_row_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">TransLocalReadRowCount</code></td><td>Number of rows read from the data same node on which the transaction was
being run.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_local_read_row_count_session"><code class="literal">Ndb_api_trans_local_read_row_count_session</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_local_read_row_count_slave"><code class="literal">Ndb_api_trans_local_read_row_count_slave</code></a>
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_local_read_row_count"><code class="literal">Ndb_api_trans_local_read_row_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">DataEventsRecvdCount</code></td><td>Number of row change events received.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_data_count_injector"><code class="literal">Ndb_api_event_data_count_injector</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_data_count"><code class="literal">Ndb_api_event_data_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">NondataEventsRecvdCount</code></td><td>Number of events received, other than row change events.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_nondata_count_injector"><code class="literal">Ndb_api_event_nondata_count_injector</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_nondata_count"><code class="literal">Ndb_api_event_nondata_count</code></a>
</p></li></ul>
</div>
</td></tr><tr><td scope="row" rowspan="2" valign="middle"><code class="literal">EventBytesRecvdCount</code></td><td>Number of bytes of events received.</td></tr><tr><td scope="row">
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    [none]
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_bytes_count_injector"><code class="literal">Ndb_api_event_bytes_count_injector</code></a>
                  </p></li><li class="listitem"><p>
                    <a class="link" href="mysql-cluster.html#statvar_Ndb_api_event_bytes_count"><code class="literal">Ndb_api_event_bytes_count</code></a>
</p></li></ul>
</div>
</td></tr></tbody></table>
</div>
<p>
      To see all counts of committed transactions—that is, all
      <code class="literal">TransCommitCount</code> counter status
      variables—you can filter the results of
      <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> for the substring
      <code class="literal">trans_commit_count</code>, like this:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE '%trans_commit_count%';</code></strong>
+------------------------------------+-------+
| Variable_name                      | Value |
+------------------------------------+-------+
| Ndb_api_trans_commit_count_session | 1     |
| Ndb_api_trans_commit_count_slave   | 0     |
| Ndb_api_trans_commit_count         | 2     |
+------------------------------------+-------+
3 rows in set (0.00 sec)
</pre><p>
      From this you can determine that 1 transaction has been committed
      in the current <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client session, and 2
      transactions have been committed on this <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
      since it was last restarted.
    </p><p>
      You can see how various NDB API counters are incremented by a
      given SQL statement by comparing the values of the corresponding
      <code class="literal">_session</code> status variables immediately before
      and after performing the statement. In this example, after getting
      the initial values from <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW
      STATUS</code></a>, we create in the <code class="literal">test</code>
      database an <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table, named
      <code class="literal">t</code>, that has a single column:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb_api%session%';</code></strong>
+--------------------------------------------+--------+
| Variable_name                              | Value  |
+--------------------------------------------+--------+
| Ndb_api_wait_exec_complete_count_session   | 2      |
| Ndb_api_wait_scan_result_count_session     | 0      |
| Ndb_api_wait_meta_request_count_session    | 3      |
| Ndb_api_wait_nanos_count_session           | 820705 |
| Ndb_api_bytes_sent_count_session           | 132    |
| Ndb_api_bytes_received_count_session       | 372    |
| Ndb_api_trans_start_count_session          | 1      |
| Ndb_api_trans_commit_count_session         | 1      |
| Ndb_api_trans_abort_count_session          | 0      |
| Ndb_api_trans_close_count_session          | 1      |
| Ndb_api_pk_op_count_session                | 1      |
| Ndb_api_uk_op_count_session                | 0      |
| Ndb_api_table_scan_count_session           | 0      |
| Ndb_api_range_scan_count_session           | 0      |
| Ndb_api_pruned_scan_count_session          | 0      |
| Ndb_api_scan_batch_count_session           | 0      |
| Ndb_api_read_row_count_session             | 1      |
| Ndb_api_trans_local_read_row_count_session | 1      |
+--------------------------------------------+--------+
18 rows in set (0.00 sec)

mysql&gt; <strong class="userinput"><code>USE test;</code></strong>
Database changed
mysql&gt; <strong class="userinput"><code>CREATE TABLE t (c INT) ENGINE NDBCLUSTER;</code></strong>
Query OK, 0 rows affected (0.85 sec)
</pre><p>
      Now you can execute a new <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW
      STATUS</code></a> statement and observe the changes, as shown here
      (with the changed rows highlighted in the output):
    </p><pre class="programlisting">mysql&gt; SHOW STATUS LIKE 'ndb_api%session%';
+--------------------------------------------+-----------+
| Variable_name                              | Value     |
+--------------------------------------------+-----------+<span class="emphasis"><em>
| Ndb_api_wait_exec_complete_count_session   | 8         |</em></span>
| Ndb_api_wait_scan_result_count_session     | 0         |
<span class="emphasis"><em>| Ndb_api_wait_meta_request_count_session    | 17        |</em></span>
<span class="emphasis"><em>| Ndb_api_wait_nanos_count_session           | 706871709 |</em></span>
<span class="emphasis"><em>| Ndb_api_bytes_sent_count_session           | 2376      |</em></span>
<span class="emphasis"><em>| Ndb_api_bytes_received_count_session       | 3844      |</em></span>
<span class="emphasis"><em>| Ndb_api_trans_start_count_session          | 4         |</em></span>
<span class="emphasis"><em>| Ndb_api_trans_commit_count_session         | 4         |</em></span>
| Ndb_api_trans_abort_count_session          | 0         |
<span class="emphasis"><em>| Ndb_api_trans_close_count_session          | 4         |</em></span>
<span class="emphasis"><em>| Ndb_api_pk_op_count_session                | 6         |</em></span>
| Ndb_api_uk_op_count_session                | 0         |
| Ndb_api_table_scan_count_session           | 0         |
| Ndb_api_range_scan_count_session           | 0         |
| Ndb_api_pruned_scan_count_session          | 0         |
| Ndb_api_scan_batch_count_session           | 0         |
<span class="emphasis"><em>| Ndb_api_read_row_count_session             | 2         |</em></span>
| Ndb_api_trans_local_read_row_count_session | 1         |
+--------------------------------------------+-----------+
18 rows in set (0.00 sec)
</pre><p>
      Similarly, you can see the changes in the NDB API statistics
      counters caused by inserting a row into <code class="literal">t</code>:
      Insert the row, then run the same <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW
      STATUS</code></a> statement used in the previous example, as shown
      here:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>INSERT INTO t VALUES (100);</code></strong>
Query OK, 1 row affected (0.00 sec)

mysql&gt; <strong class="userinput"><code>SHOW STATUS LIKE 'ndb_api%session%';</code></strong>
+--------------------------------------------+-----------+
| Variable_name                              | Value     |
+--------------------------------------------+-----------+
<span class="emphasis"><em>| Ndb_api_wait_exec_complete_count_session   | 11        |</em></span>
<span class="emphasis"><em>| Ndb_api_wait_scan_result_count_session     | 6         |</em></span>
<span class="emphasis"><em>| Ndb_api_wait_meta_request_count_session    | 20        |</em></span>
<span class="emphasis"><em>| Ndb_api_wait_nanos_count_session           | 707370418 |</em></span>
<span class="emphasis"><em>| Ndb_api_bytes_sent_count_session           | 2724      |</em></span>
<span class="emphasis"><em>| Ndb_api_bytes_received_count_session       | 4116      |</em></span>
<span class="emphasis"><em>| Ndb_api_trans_start_count_session          | 7         |</em></span>
<span class="emphasis"><em>| Ndb_api_trans_commit_count_session         | 6         |</em></span>
| Ndb_api_trans_abort_count_session          | 0         |
<span class="emphasis"><em>| Ndb_api_trans_close_count_session          | 7         |</em></span>
<span class="emphasis"><em>| Ndb_api_pk_op_count_session                | 8         |</em></span>
| Ndb_api_uk_op_count_session                | 0         |
<span class="emphasis"><em>| Ndb_api_table_scan_count_session           | 1         |</em></span>
| Ndb_api_range_scan_count_session           | 0         |
| Ndb_api_pruned_scan_count_session          | 0         |
| Ndb_api_scan_batch_count_session           | 0         |
<span class="emphasis"><em>| Ndb_api_read_row_count_session             | 3         |</em></span>
<span class="emphasis"><em>| Ndb_api_trans_local_read_row_count_session | 2         |</em></span>
+--------------------------------------------+-----------+
18 rows in set (0.00 sec)
</pre><p>
      We can make a number of observations from these results:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Although we created <code class="literal">t</code> with no explicit
          primary key, 5 primary key operations were performed in doing
          so (the difference in the <span class="quote">“<span class="quote">before</span>”</span> and
          <span class="quote">“<span class="quote">after</span>”</span> values of
          <a class="link" href="mysql-cluster.html#statvar_Ndb_api_pk_op_count_session"><code class="literal">Ndb_api_pk_op_count_session</code></a>,
          or 6 minus 1). This reflects the creation of the hidden
          primary key that is a feature of all tables using the
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine.
        </p></li><li class="listitem"><p>
          By comparing successive values for
          <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count_session"><code class="literal">Ndb_api_wait_nanos_count_session</code></a>,
          we can see that the NDB API operations implementing the
          <a class="link" href="sql-syntax.html#create-table" title="13.1.17. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> statement waited
          much longer (706871709 - 820705 = 706051004 nanoseconds, or
          approximately 0.7 second) for responses from the data nodes
          than those executed by the
          <a class="link" href="sql-syntax.html#insert" title="13.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> (707370418 - 706871709 =
          498709 ns or roughly .0005 second). The execution times
          reported for these statements in the <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>
          client correlate roughly with these figures.
        </p><p>
          On platforms with without sufficient (nanosecond) time
          resolution, small changes in the value of the
          <code class="literal">WaitNanosCount</code> NDB API counter due to SQL
          statements that execute very quickly may not always be visible
          in the values of
          <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count_session"><code class="literal">Ndb_api_wait_nanos_count_session</code></a>,
          <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count_slave"><code class="literal">Ndb_api_wait_nanos_count_slave</code></a>,
          or <a class="link" href="mysql-cluster.html#statvar_Ndb_api_wait_nanos_count"><code class="literal">Ndb_api_wait_nanos_count</code></a>.
        </p></li><li class="listitem"><p>
          The <a class="link" href="sql-syntax.html#insert" title="13.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement
          incremented both the <code class="literal">ReadRowCount</code> and
          <code class="literal">TransLocalReadRowCount</code> NDB API statistics
          counters, as reflected by the increased values of
          <a class="link" href="mysql-cluster.html#statvar_Ndb_api_read_row_count_session"><code class="literal">Ndb_api_read_row_count_session</code></a>
          and
          <a class="link" href="mysql-cluster.html#statvar_Ndb_api_trans_local_read_row_count_session"><code class="literal">Ndb_api_trans_local_read_row_count_session</code></a>.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="mysql-cluster-replication"></a>17.6. MySQL Cluster Replication</h2>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-abbreviations">17.6.1. MySQL Cluster Replication: Abbreviations and Symbols</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-general">17.6.2. General Requirements for MySQL Cluster Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-issues">17.6.3. Known Issues in MySQL Cluster Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-schema">17.6.4. MySQL Cluster Replication Schema and Tables</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-preparation">17.6.5. Preparing the MySQL Cluster for Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-starting">17.6.6. Starting MySQL Cluster Replication (Single Replication Channel)</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-two-channels">17.6.7. Using Two Replication Channels for MySQL Cluster Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-failover">17.6.8. Implementing Failover with MySQL Cluster Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-backups">17.6.9. MySQL Cluster Backups With MySQL Cluster Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-multi-master">17.6.10. MySQL Cluster Replication: Multi-Master and Circular Replication</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution">17.6.11. MySQL Cluster Replication Conflict Resolution</a></span></dt></dl>
</div>
<a class="indexterm" name="idp125494816"></a><a class="indexterm" name="idp125496736"></a><a class="indexterm" name="idp125498656"></a><a class="indexterm" name="idp125499744"></a><a class="indexterm" name="idp125501264"></a><p>
    MySQL Cluster supports <em class="firstterm">asynchronous
    replication</em>, more usually referred to simply as
    <span class="quote">“<span class="quote">replication</span>”</span>. This section explains how to set up and
    manage a configuration in which one group of computers operating as
    a MySQL Cluster replicates to a second computer or group of
    computers. We assume some familiarity on the part of the reader with
    standard MySQL replication as discussed elsewhere in this Manual.
    (See <a class="xref" href="replication.html" title="Chapter 16. Replication">Chapter 16, <i>Replication</i></a>).
  </p><p>
    Normal (non-clustered) replication involves a <span class="quote">“<span class="quote">master</span>”</span>
    server and a <span class="quote">“<span class="quote">slave</span>”</span> server, the master being the
    source of the operations and data to be replicated and the slave
    being the recipient of these. In MySQL Cluster, replication is
    conceptually very similar but can be more complex in practice, as it
    may be extended to cover a number of different configurations
    including replicating between two complete clusters. Although a
    MySQL Cluster itself depends on the <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
    storage engine for clustering functionality, it is not necessary to
    use <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> as the storage engine for the
    slave's copies of the replicated tables (see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-non-ndb" title="Replication from NDB to non-NDB tables">Replication from <code class="literal">NDB</code> to non-<code class="literal">NDB</code>
      tables</a>). However,
    for maximum availability, it is possible (and preferable) to
    replicate from one MySQL Cluster to another, and it is this scenario
    that we discuss, as shown in the following figure:
</p>
<div class="mediaobject">
<img src="images/cluster-replication-overview.png" width="640" height="360" alt="MySQL Cluster-to-Cluster Replication Layout">
</div>
<p>
    In this scenario, the replication process is one in which successive
    states of a master cluster are logged and saved to a slave cluster.
    This process is accomplished by a special thread known as the NDB
    binlog injector thread, which runs on each MySQL server and produces
    a binary log (<code class="literal">binlog</code>). This thread ensures that
    all changes in the cluster producing the binary log—and not
    just those changes that are effected through the MySQL
    Server—are inserted into the binary log with the correct
    serialization order. We refer to the MySQL replication master and
    replication slave servers as replication servers or replication
    nodes, and the data flow or line of communication between them as a
    <em class="firstterm">replication channel</em>.
  </p><p>
    For information about performing point-in-time recovery with MySQL
    Cluster and MySQL Cluster Replication, see
    <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-pitr" title="17.6.9.2. Point-In-Time Recovery Using MySQL Cluster Replication">Section 17.6.9.2, “Point-In-Time Recovery Using MySQL Cluster Replication”</a>.
  </p><a class="indexterm" name="idp125518128"></a><a class="indexterm" name="idp125519648"></a><p><b>NDB API <code class="literal">_slave</code> status variables. </b>
      NDB API counters can provide enhanced monitoring capabilities on
      MySQL Cluster replication slaves. These are implemented as NDB
      statistics <code class="literal">_slave</code> status variables, as seen in
      the output of <a class="link" href="sql-syntax.html#show-status" title="13.7.5.36. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a>, or in
      the results of queries against the
      <a class="link" href="information-schema.html#status-table" title="20.9. The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables"><code class="literal">SESSION_STATUS</code></a> or
      <a class="link" href="information-schema.html#status-table" title="20.9. The INFORMATION_SCHEMA GLOBAL_STATUS and SESSION_STATUS Tables"><code class="literal">GLOBAL_STATUS</code></a>
      table in a <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client session connected to a
      MySQL Server that is acting as a slave in MySQL Cluster
      Replication. By comparing the values of these status variables
      before and after the execution of statements affecting replicated
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables, you can observe the
      corresponding actions taken on the NDB API level by the slave,
      which can be useful when monitoring or troubleshooting MySQL
      Cluster Replication.
      <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-api-statistics" title="17.5.15. NDB API Statistics Counters and Variables">Section 17.5.15, “NDB API Statistics Counters and Variables”</a>, provides
      additional information.
    </p><p><a name="mysql-cluster-replication-ndb-non-ndb"></a><b>Replication from <code class="literal">NDB</code> to non-<code class="literal">NDB</code>
      tables. </b>
      It is possible to replicate <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
      tables from a MySQL Cluster acting as the master to tables using
      other MySQL storage engines such as
      <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> or
      <a class="link" href="storage-engines.html#myisam-storage-engine" title="14.3. The MyISAM Storage Engine"><code class="literal">MyISAM</code></a> on a slave
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>. However, because of differences between
      the version of <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> provided with MySQL
      Cluster and that included with MySQL Server 5.6, the
      slave server must also use a <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> binary from
      the MySQL Cluster distribution. See
      <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-general" title="17.6.2. General Requirements for MySQL Cluster Replication">Section 17.6.2, “General Requirements for MySQL Cluster Replication”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-replication-abbreviations"></a>17.6.1. MySQL Cluster Replication: Abbreviations and Symbols</h3>
</div>
</div>
</div>
<a class="indexterm" name="idp125539072"></a><p>
      Throughout this section, we use the following abbreviations or
      symbols for referring to the master and slave clusters, and to
      processes and commands run on the clusters or cluster nodes:
</p>
<div class="informaltable">
<table summary="This table lists abbreviations used throughout this
        section for symbols referring to master and slave clusters, and
        to processes and commands run on the clusters or cluster
        nodes." border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Symbol or Abbreviation</th><th scope="col">Description (Refers to...)</th></tr></thead><tbody><tr><td scope="row"><em class="replaceable"><code>M</code></em></td><td>The cluster serving as the (primary) replication master</td></tr><tr><td scope="row"><em class="replaceable"><code>S</code></em></td><td>The cluster acting as the (primary) replication slave</td></tr><tr><td scope="row"><code class="literal">shell<em class="replaceable"><code>M</code></em>&gt;</code></td><td>Shell command to be issued on the master cluster</td></tr><tr><td scope="row"><code class="literal">mysql<em class="replaceable"><code>M</code></em>&gt;</code></td><td>MySQL client command issued on a single MySQL server running as an SQL
              node on the master cluster</td></tr><tr><td scope="row"><code class="literal">mysql<em class="replaceable"><code>M*</code></em>&gt;</code></td><td>MySQL client command to be issued on all SQL nodes participating in the
              replication master cluster</td></tr><tr><td scope="row"><code class="literal">shell<em class="replaceable"><code>S</code></em>&gt;</code></td><td>Shell command to be issued on the slave cluster</td></tr><tr><td scope="row"><code class="literal">mysql<em class="replaceable"><code>S</code></em>&gt;</code></td><td>MySQL client command issued on a single MySQL server running as an SQL
              node on the slave cluster</td></tr><tr><td scope="row"><code class="literal">mysql<em class="replaceable"><code>S*</code></em>&gt;</code></td><td>MySQL client command to be issued on all SQL nodes participating in the
replication slave cluster</td></tr><tr><td scope="row"><em class="replaceable"><code>C</code></em></td><td>Primary replication channel</td></tr><tr><td scope="row"><em class="replaceable"><code>C'</code></em></td><td>Secondary replication channel</td></tr><tr><td scope="row"><em class="replaceable"><code>M'</code></em></td><td>Secondary replication master</td></tr><tr><td scope="row"><em class="replaceable"><code>S'</code></em></td><td>Secondary replication slave</td></tr></tbody></table>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-replication-general"></a>17.6.2. General Requirements for MySQL Cluster Replication</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp125568032"></a><a class="indexterm" name="idp125569536"></a><p>
      A replication channel requires two MySQL servers acting as
      replication servers (one each for the master and slave). For
      example, this means that in the case of a replication setup with
      two replication channels (to provide an extra channel for
      redundancy), there will be a total of four replication nodes, two
      per cluster.
    </p><p>
      Replication of a MySQL Cluster as described in this section and
      those following is dependent on row-based replication. This means
      that the replication master MySQL server must be running with
      <a class="link" href="server-administration.html#option_mysqld_binlog-format"><code class="option">--binlog-format=ROW</code></a> or
      <a class="link" href="server-administration.html#option_mysqld_binlog-format"><code class="option">--binlog-format=MIXED</code></a>, as described
      in <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-starting" title="17.6.6. Starting MySQL Cluster Replication (Single Replication Channel)">Section 17.6.6, “Starting MySQL Cluster Replication (Single Replication Channel)”</a>. For
      general information about row-based replication, see
      <a class="xref" href="replication.html#replication-formats" title="16.1.2. Replication Formats">Section 16.1.2, “Replication Formats”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        If you attempt to use MySQL Cluster Replication with
        <a class="link" href="server-administration.html#option_mysqld_binlog-format"><code class="option">--binlog-format=STATEMENT</code></a>,
        replication fails to work properly because the
        <code class="literal">ndb_binlog_index</code> table on the master and the
        <code class="literal">epoch</code> column of the
        <code class="literal">ndb_apply_status</code> table on the slave are not
        updated (see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-schema" title="17.6.4. MySQL Cluster Replication Schema and Tables">Section 17.6.4, “MySQL Cluster Replication Schema and Tables”</a>). Instead,
        only updates on the MySQL server acting as the replication
        master propagate to the slave, and no updates from any other SQL
        nodes on the master cluster are replicated.
      </p><p xmlns="">
        The default value for the
        <a class="link" href="server-administration.html#option_mysqld_binlog-format"><code class="option">--binlog-format</code></a> option in MySQL
        Cluster NDB 7.3 is <code class="literal">MIXED</code>.
</p>
</div>
<p>
      Each MySQL server used for replication in either cluster must be
      uniquely identified among all the MySQL replication servers
      participating in either cluster (you cannot have replication
      servers on both the master and slave clusters sharing the same
      ID). This can be done by starting each SQL node using the
      <code class="option">--server-id=<em class="replaceable"><code>id</code></em></code> option,
      where <em class="replaceable"><code>id</code></em> is a unique integer. Although
      it is not strictly necessary, we will assume for purposes of this
      discussion that all MySQL Cluster binaries are of the same release
      version.
    </p><p>
      It is generally true in MySQL Replication that both MySQL servers
      (<a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> processes) involved must be compatible
      with one another with respect to both the version of the
      replication protocol used and the SQL feature sets which they
      support (see <a class="xref" href="replication.html#replication-compatibility" title="16.4.2. Replication Compatibility Between MySQL Versions">Section 16.4.2, “Replication Compatibility Between MySQL Versions”</a>). It is
      due to such differences between the binaries in the MySQL Cluster
      and MySQL Server 5.6 distributions that MySQL Cluster
      Replication has the additional requirement that both
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> binaries come from a MySQL Cluster
      distribution. The simplest and easiest way to assure that the
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> servers are compatible is to use the
      same MySQL Cluster distribution for all master and slave
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> binaries.
    </p><p>
      We assume that the slave server or cluster is dedicated to
      replication of the master, and that no other data is being stored
      on it.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        It is possible to replicate a MySQL Cluster using
        statement-based replication. However, in this case, the
        following restrictions apply:
</p>
<div xmlns="" class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            All updates to data rows on the cluster acting as the master
            must be directed to a single MySQL server.
          </p></li><li class="listitem"><p>
            It is not possible to replicate a cluster using multiple
            simultaneous MySQL replication processes.
          </p></li><li class="listitem"><p>
            Only changes made at the SQL level are replicated.
</p></li></ul>
</div>
<p xmlns="">
        These are in addition to the other limitations of
        statement-based replication as opposed to row-based replication;
        see <a class="xref" href="replication.html#replication-sbr-rbr" title="16.1.2.1. Advantages and Disadvantages of Statement-Based and Row-Based Replication">Section 16.1.2.1, “Advantages and Disadvantages of Statement-Based and Row-Based
        Replication”</a>, for more specific
        information concerning the differences between the two
        replication formats.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-replication-issues"></a>17.6.3. Known Issues in MySQL Cluster Replication</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp125596160"></a><p>
      This section discusses known problems or issues when using
      replication with MySQL Cluster NDB 7.3.
    </p><p><b>Loss of master-slave connection. </b>
        <a class="indexterm" name="idp125599120"></a>

        A loss of connection can occur either between the replication
        master SQL node and the replication slave SQL node, or between
        the replication master SQL node and the data nodes in the master
        cluster. In the latter case, this can occur not only as a result
        of loss of physical connection (for example, a broken network
        cable), but due to the overflow of data node event buffers; if
        the SQL node is too slow to respond, it may be dropped by the
        cluster (this is controllable to some degree by adjusting the
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-maxbufferedepochs"><code class="literal">MaxBufferedEpochs</code></a> and
        <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochs"><code class="literal">TimeBetweenEpochs</code></a>
        configuration parameters). If this occurs, <span class="emphasis"><em>it is
        entirely possible for new data to be inserted into the master
        cluster without being recorded in the replication master's
        binary log</em></span>. For this reason, to guarantee high
        availability, it is extremely important to maintain a backup
        replication channel, to monitor the primary channel, and to fail
        over to the secondary replication channel when necessary to keep
        the slave cluster synchronized with the master. MySQL Cluster is
        not designed to perform such monitoring on its own; for this, an
        external application is required.
      </p><p>
      <a class="indexterm" name="idp125604512"></a>

      <a class="indexterm" name="idp125606016"></a>

      The replication master issues a <span class="quote">“<span class="quote">gap</span>”</span> event when
      connecting or reconnecting to the master cluster. (A gap event is
      a type of <span class="quote">“<span class="quote">incident event,</span>”</span> which indicates an
      incident that occurs that affects the contents of the database but
      that cannot easily be represented as a set of changes. Examples of
      incidents are server crashes, database resynchronization, (some)
      software updates, and (some) hardware changes.) When the slave
      encounters a gap in the replication log, it stops with an error
      message. This message is available in the output of
      <a class="link" href="sql-syntax.html#show-slave-status" title="13.7.5.35. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a>, and indicates
      that the SQL thread has stopped due to an incident registered in
      the replication stream, and that manual intervention is required.
      See <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-failover" title="17.6.8. Implementing Failover with MySQL Cluster Replication">Section 17.6.8, “Implementing Failover with MySQL Cluster Replication”</a>, for more
      information about what to do in such circumstances.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        Because MySQL Cluster is not designed on its own to monitor
        replication status or provide failover, if high availability is
        a requirement for the slave server or cluster, then you must set
        up multiple replication lines, monitor the master
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> on the primary replication line, and
        be prepared fail over to a secondary line if and as necessary.
        This must be done manually, or possibly by means of a
        third-party application. For information about implementing this
        type of setup, see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-two-channels" title="17.6.7. Using Two Replication Channels for MySQL Cluster Replication">Section 17.6.7, “Using Two Replication Channels for MySQL Cluster Replication”</a>, and
        <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-failover" title="17.6.8. Implementing Failover with MySQL Cluster Replication">Section 17.6.8, “Implementing Failover with MySQL Cluster Replication”</a>.
      </p><p xmlns="">
        However, if you are replicating from a standalone MySQL server
        to a MySQL Cluster, one channel is usually sufficient.
</p>
</div>
<p><b>Circular replication. </b>
        <a class="indexterm" name="idp125615104"></a>

        <a class="indexterm" name="idp125616592"></a>

        <a class="indexterm" name="idp125618080"></a>

        MySQL Cluster Replication supports circular replication, as
        shown in the next example. The replication setup involves three
        MySQL Clusters numbered 1, 2, and 3, in which Cluster 1 acts as
        the replication master for Cluster 2, Cluster 2 acts as the
        master for Cluster 3, and Cluster 3 acts as the master for
        Cluster 1, thus completing the circle. Each MySQL Cluster has
        two SQL nodes, with SQL nodes A and B belonging to Cluster 1,
        SQL nodes C and D belonging to Cluster 2, and SQL nodes E and F
        belonging to Cluster 3.
      </p><p>
      Circular replication using these clusters is supported as long as
      the following conditions are met:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          The SQL nodes on all masters and slaves are the same
        </p></li><li class="listitem"><p>
          All SQL nodes acting as replication masters and slaves are
          started using the
          <a class="link" href="replication.html#option_mysqld_log-slave-updates"><code class="option">--log-slave-updates</code></a> option
</p></li></ul>
</div>
<p>
      This type of circular replication setup is shown in the following
      diagram:
</p>
<div class="mediaobject">
<img src="images/cluster-circular-replication-1.png" width="550" height="646" alt="MySQL Cluster circular replication scheme in which all master SQL nodes are also slaves.">
</div>
<p>
      In this scenario, SQL node A in Cluster 1 replicates to SQL node C
      in Cluster 2; SQL node C replicates to SQL node E in Cluster 3;
      SQL node E replicates to SQL node A. In other words, the
      replication line (indicated by the red arrows in the diagram)
      directly connects all SQL nodes used as replication masters and
      slaves.
    </p><p>
      It should also be possible to set up circular replication in which
      not all master SQL nodes are also slaves, as shown here:
</p>
<div class="mediaobject">
<img src="images/cluster-circular-replication-2.png" width="550" height="622" alt="MySQL Cluster circular replication scheme in which all master SQL nodes are not also necessarily slaves.">
</div>
<p>
      In this case, different SQL nodes in each cluster are used as
      replication masters and slaves. However, you must
      <span class="emphasis"><em>not</em></span> start any of the SQL nodes using
      <a class="link" href="replication.html#option_mysqld_log-slave-updates"><code class="option">--log-slave-updates</code></a>. This type of
      circular replication scheme for MySQL Cluster, in which the line
      of replication (again indicated by the red arrows in the diagram)
      is discontinuous, should be possible, but it should be noted that
      it has not yet been thoroughly tested and must therefore still be
      considered experimental.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        The <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine uses
        <em class="firstterm">idempotent execution mode</em>, which
        suppresses duplicate-key and other errors that otherwise break
        circular replication of MySQL Cluster. This is equivalent to
        setting the global
        <a class="link" href="replication.html#sysvar_slave_exec_mode"><code class="literal">slave_exec_mode</code></a> system variable
        to <code class="literal">IDEMPOTENT</code>. This is also required for
        multi-master replication when using MySQL Cluster. (Bug #31609)
      </p><p xmlns="">
        It is not necessary to set
        <a class="link" href="replication.html#sysvar_slave_exec_mode"><code class="literal">slave_exec_mode</code></a> in MySQL
        Cluster replication; MySQL Cluster does this automatically for
        all <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables and ignores any
        attempts to set this variable explicitly.
</p>
</div>
<p><b>MySQL Cluster replication and primary keys. </b>
        <a class="indexterm" name="idp125645456"></a>

        In the event of a node failure, errors in replication of
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables without primary keys can
        still occur, due to the possibility of duplicate rows being
        inserted in such cases. For this reason, it is highly
        recommended that all <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables
        being replicated have primary keys.
      </p><p><b>MySQL Cluster Replication and Unique Keys. </b>
        <a class="indexterm" name="idp125650128"></a>

        In older versions of MySQL Cluster, operations that updated
        values of unique key columns of <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
        tables could result in duplicate-key errors when replicated.
        This issue is solved for replication between
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables by deferring unique key
        checks until after all table row updates have been performed.
      </p><p>
      Deferring constraints in this way is currently supported only by
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>. Thus, updates of unique keys
      when replicating from <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> to a
      different storage engine such as
      <a class="link" href="storage-engines.html#myisam-storage-engine" title="14.3. The MyISAM Storage Engine"><code class="literal">MyISAM</code></a> or
      <a class="link" href="storage-engines.html#innodb-storage-engine" title="14.2. The InnoDB Storage Engine"><code class="literal">InnoDB</code></a> are still not supported.
    </p><p>
      The problem encountered when replicating without deferred checking
      of unique key updates can be illustrated using
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table such as
      <code class="literal">t</code>, is created and populated on the master (and
      replicated to a slave that does not support deferred unique key
      updates) as shown here:
    </p><pre class="programlisting">CREATE TABLE t (
    p INT PRIMARY KEY, 
    c INT, 
    UNIQUE KEY u (c)
)   ENGINE NDB;

INSERT INTO t 
    VALUES (1,1), (2,2), (3,3), (4,4), (5,5);</pre><p>
      The following <a class="link" href="sql-syntax.html#update" title="13.2.11. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement on
      <code class="literal">t</code> succeeded on the master, since the rows
      affected are processed in the order determined by the
      <code class="literal">ORDER BY</code> option, performed over the entire
      table:
    </p><pre class="programlisting">UPDATE t SET c = c - 1 ORDER BY p;</pre><p>
      However, the same statement failed with a duplicate key error or
      other constraint violation on the slave, because the ordering of
      the row updates was done for one partition at a time, rather than
      for the table as a whole.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        Every <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table is implicitly
        partitioned by key when it is created. See
        <a class="xref" href="partitioning.html#partitioning-key" title="18.2.5. KEY Partitioning">Section 18.2.5, “<code class="literal">KEY</code> Partitioning”</a>, for more information.
</p>
</div>
<p><b>Restarting with <code class="option">--initial</code>. </b>
        <a class="indexterm" name="idp125668368"></a>

        Restarting the cluster with the
        <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> option causes the
        sequence of GCI and epoch numbers to start over from
        <code class="literal">0</code>. (This is generally true of MySQL Cluster
        and not limited to replication scenarios involving Cluster.) The
        MySQL servers involved in replication should in this case be
        restarted. After this, you should use the
        <a class="link" href="sql-syntax.html#reset-master" title="13.4.1.2. RESET MASTER Syntax"><code class="literal">RESET MASTER</code></a> and
        <a class="link" href="sql-syntax.html#reset-slave" title="13.4.2.3. RESET SLAVE Syntax"><code class="literal">RESET SLAVE</code></a> statements to clear
        the invalid <code class="literal">ndb_binlog_index</code> and
        <code class="literal">ndb_apply_status</code> tables, respectively.
      </p><p><a name="mysql-cluster-replication-ndb-to-non-ndb"></a><b>Replication from <code class="literal">NDB</code> to other storage
        engines. </b>
        It is possible to replicate an <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
        table on the master to a table using a different storage engine
        on the slave, taking into account the restrictions listed here:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Multi-master and circular replication are not supported
          (tables on both the master and the slave must use the
          <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine for this to
          work).
        </p></li><li class="listitem"><p>
          Using a storage engine does not perform binary logging for
          slave tables requires special handling.
        </p></li><li class="listitem"><p>
          Use of a nontransactional storage engine for slave tables also
          requires special handling.
</p></li></ul>
</div>
<p>
      The next few paragraphs provide additional information about each
      of the issues just described.
    </p><p><b>Multiple masters not supported when replicating
        <code class="literal">NDB</code> to other storage engines. </b>
        For replication from <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> to a
        different storage engine, the relationship between the two
        databases must be a simple master-slave one. This means that
        circular or master-master replication is not supported between
        MySQL Cluster and other storage engines.
      </p><p>
      In addition, it is not possible to configure more than one
      replication channel when replicating between
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> and a different storage engine.
      (However, a MySQL Cluster database <span class="emphasis"><em>can</em></span>
      simultaneously replicate to multiple slave MySQL Cluster
      databases.) If the master uses <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>
      tables, it is still possible to have more than one MySQL Server
      maintain a binary log of all changes; however, for the slave to
      change masters (fail over), the new master-slave relationship must
      be explicitly defined on the slave.
    </p><p><b>Replicating <code class="literal">NDB</code> to a slave storage engine
        that does not perform binary logging. </b>
        <a class="indexterm" name="idp125689760"></a>

        If you attempt to replicate from a MySQL Cluster to a slave that
        uses a storage engine that does not handle its own binary
        logging, the replication process aborts with the error
        <span class="errortext">Binary logging not possible ... Statement cannot be
        written atomically since more than one engine involved and at
        least one engine is self-logging</span> (Error
        <span class="errorcode">1595</span>). It is possible to work around this
        issue in one of the following ways:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Turn off binary logging on the slave. </b>
            This can be accomplished by setting
            <a class="link" href="server-administration.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin = 0</code></a>.
          </p></li><li class="listitem"><p><b>Change the storage engine used for the
            <code class="literal">mysql.ndb_apply_status</code> table. </b>
            Causing this table to use an engine that does not handle its
            own binary logging can also eliminate the conflict. This can
            be done by issuing a statement such as
            <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE
            mysql.ndb_apply_status ENGINE=MyISAM</code></a> on the slave.
            It is safe to do this when using a
            non-<a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine on the
            slave, since you do not then need to worry about keeping
            multiple slave SQL nodes synchronized.
          </p></li><li class="listitem"><p><b>Filter out changes to the <code class="literal">mysql.ndb_apply_status</code>
            table on the slave. </b>
            This can be done by starting the slave SQL node with
            <a class="link" href="replication.html#option_mysqld_replicate-ignore-table"><code class="option">--replicate-ignore-table=mysql.ndb_apply_status</code></a>.
            If you need for other tables to be ignored by replication,
            you might wish to use an appropriate
            <a class="link" href="replication.html#option_mysqld_replicate-wild-ignore-table"><code class="option">--replicate-wild-ignore-table</code></a>
            option instead.
</p></li></ul>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Important
</div>
<p xmlns="">
        You should <span class="emphasis"><em>not</em></span> disable replication or
        binary logging of <code class="literal">mysql.ndb_apply_status</code> or
        change the storage engine used for this table when replicating
        from one MySQL Cluster to another. See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-issues-filtering" title="Replication and binary log filtering rules with replication between MySQL Clusters">Replication and binary log filtering rules with replication between
        MySQL Clusters</a>,
        for details.
</p>
</div>
<p><a name="mysql-cluster-replication-ndb-to-nontransactional"></a><b>Replication from <code class="literal">NDB</code> to a nontransactional storage
        engine. </b>
        When replicating from <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> to a
        nontransactional storage engine such as
        <a class="link" href="storage-engines.html#myisam-storage-engine" title="14.3. The MyISAM Storage Engine"><code class="literal">MyISAM</code></a>, you may encounter
        unnecessary duplicate key errors when replicating
        <a class="link" href="sql-syntax.html#insert-on-duplicate" title="13.2.5.3. INSERT ... ON DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> statements. You can suppress
        these by using
        <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-update-as-write"><code class="option">--ndb-log-update-as-write=0</code></a>,
        which forces updates to be logged as writes (rather than as
        updates).
      </p><p>
      In addition, when replicating from
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> to a storage engine that does not
      implement transactions, if the slave fails to apply any row
      changes from a given transaction, it does not roll back the rest
      of the transaction. (This is true when replicating tables using
      any transactional storage engine—not only
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>—to a nontransactional
      storage engine.) Because of this, it cannot be guaranteed that
      transactional consistency will be maintained on the slave in such
      cases.
    </p><p><a name="mysql-cluster-replication-issues-filtering"></a><b>Replication and binary log filtering rules with replication between
        MySQL Clusters. </b>
        If you are using any of the options
        <code class="option">--replicate-do-*</code>,
        <code class="option">--replicate-ignore-*</code>,
        <a class="link" href="replication.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db</code></a>, or
        <a class="link" href="replication.html#option_mysqld_binlog-ignore-db"><code class="option">--binlog-ignore-db</code></a> to filter
        databases or tables being replicated, care must be taken not to
        block replication or binary logging of the
        <code class="literal">mysql.ndb_apply_status</code>, which is required for
        replication between MySQL Clusters to operate properly. In
        particular, you must keep in mind the following:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Using
          <a class="link" href="replication.html#option_mysqld_replicate-do-db"><code class="option">--replicate-do-db=<em class="replaceable"><code>db_name</code></em></code></a>
          (and no other <code class="option">--replicate-do-*</code> or
          <code class="option">--replicate-ignore-*</code> options) means that
          <span class="emphasis"><em>only</em></span> tables in database
          <em class="replaceable"><code>db_name</code></em> are replicated. In this
          case, you should also use
          <a class="link" href="replication.html#option_mysqld_replicate-do-db"><code class="option">--replicate-do-db=mysql</code></a>,
          <a class="link" href="replication.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db=mysql</code></a>, or
          <a class="link" href="replication.html#option_mysqld_replicate-do-table"><code class="option">--replicate-do-table=mysql.ndb_apply_status</code></a>
          to ensure that <code class="literal">mysql.ndb_apply_status</code> is
          populated on slaves.
        </p><p>
          Using
          <a class="link" href="replication.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db=<em class="replaceable"><code>db_name</code></em></code></a>
          (and no other <a class="link" href="replication.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db</code></a>
          options) means that changes <span class="emphasis"><em>only</em></span> to
          tables in database <em class="replaceable"><code>db_name</code></em> are
          written to the binary log. In this case, you should also use
          <a class="link" href="replication.html#option_mysqld_replicate-do-db"><code class="option">--replicate-do-db=mysql</code></a>,
          <a class="link" href="replication.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db=mysql</code></a>, or
          <a class="link" href="replication.html#option_mysqld_replicate-do-table"><code class="option">--replicate-do-table=mysql.ndb_apply_status</code></a>
          to ensure that <code class="literal">mysql.ndb_apply_status</code> is
          populated on slaves.
        </p></li><li class="listitem"><p>
          Using
          <a class="link" href="replication.html#option_mysqld_replicate-ignore-db"><code class="option">--replicate-ignore-db=mysql</code></a>
          means that no tables in the <code class="literal">mysql</code> database
          are replicated. In this case, you should also use
          <a class="link" href="replication.html#option_mysqld_replicate-do-table"><code class="option">--replicate-do-table=mysql.ndb_apply_status</code></a>
          to ensure that <code class="literal">mysql.ndb_apply_status</code> is
          replicated.
        </p><p>
          Using <a class="link" href="replication.html#option_mysqld_binlog-ignore-db"><code class="option">--binlog-ignore-db=mysql</code></a>
          means that no changes to tables in the
          <code class="literal">mysql</code> database are written to the binary
          log. In this case, you should also use
          <a class="link" href="replication.html#option_mysqld_replicate-do-table"><code class="option">--replicate-do-table=mysql.ndb_apply_status</code></a>
          to ensure that <code class="literal">mysql.ndb_apply_status</code> is
          replicated.
</p></li></ol>
</div>
<p>
      You should also remember that each replication rule requires the
      following:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Its own <code class="option">--replicate-do-*</code> or
          <code class="option">--replicate-ignore-*</code> option, and that
          multiple rules cannot be expressed in a single replication
          filtering option. For information about these rules, see
          <a class="xref" href="replication.html#replication-options" title="16.1.4. Replication and Binary Logging Options and Variables">Section 16.1.4, “Replication and Binary Logging Options and Variables”</a>.
        </p></li><li class="listitem"><p>
          Its own <a class="link" href="replication.html#option_mysqld_binlog-do-db"><code class="option">--binlog-do-db</code></a> or
          <a class="link" href="replication.html#option_mysqld_binlog-ignore-db"><code class="option">--binlog-ignore-db</code></a> option, and
          that multiple rules cannot be expressed in a single binary log
          filtering option. For information about these rules, see
          <a class="xref" href="server-administration.html#binary-log" title="5.2.4. The Binary Log">Section 5.2.4, “The Binary Log”</a>.
</p></li></ol>
</div>
<p>
      If you are replicating a MySQL Cluster to a slave that uses a
      storage engine other than <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a>, the
      considerations just given previously may not apply, as discussed
      elsewhere in this section.
    </p><p><b>MySQL Cluster Replication and IPv6. </b>
        Currently, the NDB API and MGM API do not support IPv6. However,
        MySQL Servers—including those acting as SQL nodes in a
        MySQL Cluster—can use IPv6 to contact other MySQL Servers.
        This means that you can replicate between MySQL Clusters using
        IPv6 to connect the master and slave SQL nodes as shown by the
        dotted arrow in the following diagram:
</p>
<div class="mediaobject">
<img src="images/cluster-replication-ipv6.png" width="625" height="400" alt="IPv6 Used to Connect Between MySQL Cluster SQL Nodes in Replication">
</div>
<p>
      However, all connections originating <span class="emphasis"><em>within</em></span>
      the MySQL Cluster—represented in the preceding diagram by
      solid arrows—must use IPv4. In other words, all MySQL
      Cluster data nodes, management servers, and management clients
      must be accessible from one another using IPv4. In addition, SQL
      nodes must use IPv4 to communicate with the cluster.
    </p><p>
      Since there is currently no support in the NDB and MGM APIs for
      IPv6, any applications written using these APIs must also make all
      connections using IPv4.
    </p><p><b>Attribute promotion and demotion. </b>
        MySQL Cluster Replication includes support for attribute
        promotion and demotion. The implementation of the latter
        distinguishes between lossy and non-lossy type conversions, and
        their use on the slave can be controlled by setting the
        <a class="link" href="replication.html#sysvar_slave_type_conversions"><code class="literal">slave_type_conversions</code></a> global
        server system variable.
      </p><p>
      For more information about attribute promotion and demotion in
      MySQL Cluster, see
      <a class="xref" href="replication.html#replication-features-attribute-promotion" title="Row-based replication: attribute promotion and demotion">Row-based replication: attribute promotion and demotion</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-replication-schema"></a>17.6.4. MySQL Cluster Replication Schema and Tables</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp125766768"></a><a class="indexterm" name="idp125768272"></a><a class="indexterm" name="idp125769792"></a><a class="indexterm" name="idp125771312"></a><a class="indexterm" name="idp125772832"></a><a class="indexterm" name="idp125774368"></a><a class="indexterm" name="idp125775888"></a><p>
      Replication in MySQL Cluster makes use of a number of dedicated
      tables in the <code class="literal">mysql</code> database on each MySQL
      Server instance acting as an SQL node in both the cluster being
      replicated and the replication slave (whether the slave is a
      single server or a cluster). These tables are created during the
      MySQL installation process by the
      <a class="link" href="programs.html#mysql-install-db" title="4.4.3. mysql_install_db — Initialize MySQL Data Directory"><span class="command"><strong>mysql_install_db</strong></span></a> script, and include a table
      for storing the binary log's indexing data. Since the
      <code class="literal">ndb_binlog_index</code> table is local to each MySQL
      server and does not participate in clustering, it uses the
      <code class="literal">MyISAM</code> storage engine. This means that it must
      be created separately on each <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>
      participating in the master cluster. (However, the binary log
      itself contains updates from all MySQL servers in the cluster to
      be replicated.) This table is defined as follows:
    </p><pre class="programlisting">CREATE TABLE `ndb_binlog_index` (
    `Position` BIGINT(20) UNSIGNED NOT NULL,
    `File` VARCHAR(255) NOT NULL,
    `epoch` BIGINT(20) UNSIGNED NOT NULL,
    `inserts` INT(10) UNSIGNED NOT NULL,
    `updates` INT(10) UNSIGNED NOT NULL,
    `deletes` INT(10) UNSIGNED NOT NULL,
    `schemaops` INT(10) UNSIGNED NOT NULL,
    `orig_server_id` INT(10) UNSIGNED NOT NULL,
    `orig_epoch` BIGINT(20) UNSIGNED NOT NULL,
    `gci` INT(10) UNSIGNED NOT NULL,
    `next_position` bigint(20) unsigned NOT NULL,
    `next_file` varchar(255) NOT NULL,
    PRIMARY KEY (`epoch`,`orig_server_id`,`orig_epoch`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;</pre><p>
      The size of this table is dependent on the number of epochs per
      binary log file and the number of binary log files. The number of
      epochs per binlog file normally depends on the amount of binary
      log generated per epoch and the size of the binary log file, with
      smaller epochs resulting in more epochs per file. It should be
      noted that, when the
      <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-empty-epochs"><code class="option">--ndb-log-empty-epochs</code></a> option is
      <code class="literal">ON</code>, then even empty epochs result in inserts to
      the <code class="filename">ndb_binlog_index</code> file, meaning that the
      number of entries per file depends on the length of time that the
      file is in use; that is,
    </p><pre class="programlisting">[number of epochs per file] = [time spent per file / <code class="literal">TimeBetweenEpochs</code>  
</pre><p>
      A busy MySQL Cluster writes to the binary log regularly and
      presumably rotates binary log files more quickly than a quiet one.
      This means that a <span class="quote">“<span class="quote">quiet</span>”</span> MySQL Cluster with
      <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-empty-epochs"><code class="option">--ndb-log-empty-epochs=ON</code></a> can
      actually have a much higher number of
      <code class="literal">ndb_binlog_index</code> rows per file than one with a
      great deal of activity.
    </p><p>
      When <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is started with the
      <a class="ulink" href="http://dev.mysql.com/doc/refman/5.5/en/mysql-cluster-program-options-mysqld.html#option_mysqld_ndb-log-orig" target="_top"><code class="option">--ndb-log-orig</code></a> option, the
      <code class="literal">orig_server_id</code> and
      <code class="literal">orig_epoch</code> columns store, respectively, the ID
      of the server on which the event originated and the epoch in which
      the event took place on the originating server, which is useful in
      MySQL Cluster replication setups employing multiple masters. The
      <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statement used to to find
      the closest binlog position to the highest applied epoch on the
      slave in a multi-master setup (see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-multi-master" title="17.6.10. MySQL Cluster Replication: Multi-Master and Circular Replication">Section 17.6.10, “MySQL Cluster Replication: Multi-Master and Circular Replication”</a>) employs
      these two columns, which are not indexed. This can lead to
      performance issues when trying to fail over, since the query must
      perform a table scan, especially when the master has been running
      with <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-empty-epochs"><code class="option">--ndb-log-empty-epochs=ON</code></a>. You
      can improve multi-master failover times by adding an index to
      these columns, as shown here:
    </p><pre class="programlisting">ALTER TABLE mysql.ndb_binlog_index 
    ADD INDEX orig_lookup USING BTREE (orig_server_id, orig_epoch);</pre><p>
      Adding this index provides no benefit when replicating from a
      single master to a single slave, since the query used to get the
      binary log position in such cases makes no use of
      <code class="literal">orig_server_id</code> or
      <code class="literal">orig_epoch</code>.
    </p><p>
      See <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-failover" title="17.6.8. Implementing Failover with MySQL Cluster Replication">Section 17.6.8, “Implementing Failover with MySQL Cluster Replication”</a>, for more
      information about using the <code class="literal">next_position</code> and
      <code class="literal">next_file</code> columns.
    </p><p>
      The following figure shows the relationship of the MySQL Cluster
      replication master server, its binlog injector thread, and the
      <code class="literal">mysql.ndb_binlog_index</code> table.
</p>
<div class="mediaobject">
<img src="images/cluster-replication-binlog-injector.png" width="640" height="481" alt="The replication master cluster, the binlog injector thread, and the ndb_binlog_index table">
</div>
<a class="indexterm" name="idp125810400"></a><a class="indexterm" name="idp125811936"></a><p>
      An additional table, named <code class="literal">ndb_apply_status</code>, is
      used to keep a record of the operations that have been replicated
      from the master to the slave. Unlike the case with
      <code class="literal">ndb_binlog_index</code>, the data in this table is not
      specific to any one SQL node in the (slave) cluster, and so
      <code class="literal">ndb_apply_status</code> can use the
      <code class="literal">NDBCLUSTER</code> storage engine, as shown here:
    </p><pre class="programlisting">CREATE TABLE `ndb_apply_status` (
    `server_id`   INT(10) UNSIGNED NOT NULL,
    `epoch`       BIGINT(20) UNSIGNED NOT NULL,
    `log_name`    VARCHAR(255) CHARACTER SET latin1 COLLATE latin1_bin NOT NULL,
    `start_pos`   BIGINT(20) UNSIGNED NOT NULL,
    `end_pos`     BIGINT(20) UNSIGNED NOT NULL,
    PRIMARY KEY (`server_id`) USING HASH
) ENGINE=NDBCLUSTER   DEFAULT CHARSET=latin1;</pre><p>
      This table is populated only on slaves; on the master, no
      <a class="link" href="mysql-cluster.html#ndbparam-ndbd-datamemory"><code class="literal">DataMemory</code></a> is allocated to
      it. Since this table is populated from data originating on the
      master, it should be allowed to replicate; any replication
      filtering or binary log filtering rules that inadvertently prevent
      the slave from updating <code class="literal">ndb_apply_status</code> or the
      master from writing into the binary log may prevent replication
      between clusters from operating properly. For more information
      about potential problems arising from such filtering rules, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-issues-filtering" title="Replication and binary log filtering rules with replication between MySQL Clusters">Replication and binary log filtering rules with replication between
        MySQL Clusters</a>.
    </p><a class="indexterm" name="idp125821152"></a><p>
      The <code class="literal">ndb_binlog_index</code> and
      <code class="literal">ndb_apply_status</code> tables are created in the
      <code class="literal">mysql</code> database because they should not be
      explicitly replicated by the user. User intervention is normally
      not required to create or maintain either of these tables, since
      both <code class="literal">ndb_binlog_index</code> and the
      <code class="literal">ndb_apply_status</code> are maintained by the
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> binary log (binlog) injector
      thread. This keeps the master <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process
      updated to changes performed by the
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine. The
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> <em class="firstterm">binlog injector
      thread</em> receives events directly from the
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine. The
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> injector is responsible for
      capturing all the data events within the cluster, and ensures that
      all events which change, insert, or delete data are recorded in
      the <code class="literal">ndb_binlog_index</code> table. The slave I/O
      thread transfers the events from the master's binary log to the
      slave's relay log.
    </p><p>
      However, it is advisable to check for the existence and integrity
      of these tables as an initial step in preparing a MySQL Cluster
      for replication. It is possible to view event data recorded in the
      binary log by querying the
      <code class="literal">mysql.ndb_binlog_index</code> table directly on the
      master. This can be also be accomplished using the
      <a class="link" href="sql-syntax.html#show-binlog-events" title="13.7.5.3. SHOW BINLOG EVENTS Syntax"><code class="literal">SHOW BINLOG EVENTS</code></a> statement on
      either the replication master or slave MySQL servers. (See
      <a class="xref" href="sql-syntax.html#show-binlog-events" title="13.7.5.3. SHOW BINLOG EVENTS Syntax">Section 13.7.5.3, “<code class="literal">SHOW BINLOG EVENTS</code> Syntax”</a>.)
    </p><p>
      You can also obtain useful information from the output of
      <a class="link" href="sql-syntax.html#show-engine" title="13.7.5.16. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE NDB
      STATUS</code></a>.
    </p><a class="indexterm" name="idp125837232"></a><p>
      The <code class="literal">ndb_schema</code> table is used to track schema
      changes made to <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables. It is
      defined as shown here:
    </p><pre class="programlisting">CREATE TABLE ndb_schema (
    `db` VARBINARY(63) NOT NULL,
    `name` VARBINARY(63) NOT NULL,
    `slock` BINARY(32) NOT NULL,
    `query` BLOB NOT NULL,
    `node_id` INT UNSIGNED NOT NULL,
    `epoch` BIGINT UNSIGNED NOT NULL,
    `id` INT UNSIGNED NOT NULL,
    `version` INT UNSIGNED NOT NULL,
    `type` INT UNSIGNED NOT NULL,
    PRIMARY KEY USING HASH (db,name)
) ENGINE=NDB   DEFAULT CHARSET=latin1;</pre><p>
      Unlike the two tables previously mentioned in this section, the
      <code class="literal">ndb_schema</code> table is not visible either to MySQL
      <a class="link" href="sql-syntax.html#show" title="13.7.5. SHOW Syntax"><code class="literal">SHOW</code></a> statements, or in any
      <code class="literal">INFORMATION_SCHEMA</code> tables; however, it can be
      seen in the output of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-show-tables" title="17.4.23. ndb_show_tables — Display List of NDB Tables"><span class="command"><strong>ndb_show_tables</strong></span></a>, as shown
      here:
    </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>ndb_show_tables -t 2</code></strong>
id    type                 state    logging database     schema   name
4     UserTable            Online   Yes     mysql        def      ndb_apply_status
5     UserTable            Online   Yes     ndbworld     def      City
6     UserTable            Online   Yes     ndbworld     def      Country
3     UserTable            Online   Yes     mysql        def      NDB$BLOB_2_3
7     UserTable            Online   Yes     ndbworld     def      CountryLanguage
<span class="emphasis"><em>2     UserTable            Online   Yes     mysql        def      ndb_schema</em></span>

NDBT_ProgramExit: 0 - OK
</pre><p>
      It is also possible to <a class="link" href="sql-syntax.html#select" title="13.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> from
      this table in <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> and other MySQL client
      applications, as shown here:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT * FROM mysql.ndb_schema WHERE name='City' \G</code></strong>
*************************** 1. row ***************************
     db: ndbworld
   name: City
  slock:
  query: alter table City engine=ndb
node_id: 4
  epoch: 0
     id: 0
version: 0
   type: 7
1 row in set (0.00 sec)
</pre><p>
      This can sometimes be useful when debugging applications.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        When performing schema changes on
        <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> tables, applications should
        wait until the <a class="link" href="sql-syntax.html#alter-table" title="13.1.7. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
        statement has returned in the MySQL client connection that
        issued the statement before attempting to use the updated
        definition of the table.
</p>
</div>
<p>
      If the <code class="literal">ndb_apply_status</code> table or the
      <code class="literal">ndb_schema</code> table does not exist on the slave,
      <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> re-creates the missing table or
      tables (Bug #14612).
    </p><p>
      Conflict resolution for MySQL Cluster Replication requires the
      presence of an additional <code class="literal">mysql.ndb_replication</code>
      table. Currently, this table must be created manually. For
      information about how to do this, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-conflict-resolution" title="17.6.11. MySQL Cluster Replication Conflict Resolution">Section 17.6.11, “MySQL Cluster Replication Conflict Resolution”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-replication-preparation"></a>17.6.5. Preparing the MySQL Cluster for Replication</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp125861264"></a><a class="indexterm" name="idp125862768"></a><p>
      Preparing the MySQL Cluster for replication consists of the
      following steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Check all MySQL servers for version compatibility (see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-general" title="17.6.2. General Requirements for MySQL Cluster Replication">Section 17.6.2, “General Requirements for MySQL Cluster Replication”</a>).
        </p></li><li class="listitem"><p>
          Create a slave account on the master Cluster with the
          appropriate privileges:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>GRANT REPLICATION SLAVE</code></strong>
     -&gt; <strong class="userinput"><code>ON *.* TO '<em class="replaceable"><code>slave_user</code></em>'@'<em class="replaceable"><code>slave_host</code></em>'</code></strong>
     -&gt; <strong class="userinput"><code>IDENTIFIED BY '<em class="replaceable"><code>slave_password</code></em>';</code></strong>
</pre><p>
          In the previous statement,
          <em class="replaceable"><code>slave_user</code></em> is the slave account
          user name, <em class="replaceable"><code>slave_host</code></em> is the host
          name or IP address of the replication slave, and
          <em class="replaceable"><code>slave_password</code></em> is the password to
          assign to this account.
        </p><p>
          For example, to create a slave user account with the name
          <span class="quote">“<span class="quote"><code class="literal">myslave</code>,</span>”</span> logging in from the
          host named <span class="quote">“<span class="quote"><code class="literal">rep-slave</code>,</span>”</span> and
          using the password <span class="quote">“<span class="quote"><code class="literal">53cr37</code>,</span>”</span>
          use the following <a class="link" href="sql-syntax.html#grant" title="13.7.1.4. GRANT Syntax"><code class="literal">GRANT</code></a>
          statement:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>GRANT REPLICATION SLAVE</code></strong>
     -&gt; <strong class="userinput"><code>ON *.* TO 'myslave'@'rep-slave'</code></strong>
     -&gt; <strong class="userinput"><code>IDENTIFIED BY '53cr37';</code></strong>
</pre><p>
          For security reasons, it is preferable to use a unique user
          account—not employed for any other purpose—for the
          replication slave account.
        </p></li><li class="listitem"><p>
          <a class="indexterm" name="idp125883184"></a>

          Configure the slave to use the master. Using the MySQL
          Monitor, this can be accomplished with the
          <a class="link" href="sql-syntax.html#change-master-to" title="13.4.2.1. CHANGE MASTER TO Syntax"><code class="literal">CHANGE MASTER TO</code></a> statement:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>CHANGE MASTER TO</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_HOST='<em class="replaceable"><code>master_host</code></em>',</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_PORT=<em class="replaceable"><code>master_port</code></em>,</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_USER='<em class="replaceable"><code>slave_user</code></em>',</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_PASSWORD='<em class="replaceable"><code>slave_password</code></em>';</code></strong>
</pre><p>
          In the previous statement,
          <em class="replaceable"><code>master_host</code></em> is the host name or IP
          address of the replication master,
          <em class="replaceable"><code>master_port</code></em> is the port for the
          slave to use for connecting to the master,
          <em class="replaceable"><code>slave_user</code></em> is the user name set up
          for the slave on the master, and
          <em class="replaceable"><code>slave_password</code></em> is the password set
          for that user account in the previous step.
        </p><p>
          For example, to tell the slave to replicate from the MySQL
          server whose host name is
          <span class="quote">“<span class="quote"><code class="literal">rep-master</code>,</span>”</span> using the
          replication slave account created in the previous step, use
          the following statement:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>CHANGE MASTER TO</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_HOST='rep-master',</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_PORT=3306,</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_USER='myslave',</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_PASSWORD='53cr37';</code></strong>
</pre><p>
          For a complete list of options that can be used with this
          statement, see <a class="xref" href="sql-syntax.html#change-master-to" title="13.4.2.1. CHANGE MASTER TO Syntax">Section 13.4.2.1, “<code class="literal">CHANGE MASTER TO</code> Syntax”</a>.
        </p><p>
          To provide replication backup capability, you also need to add
          an <a class="link" href="mysql-cluster.html#option_mysqld_ndb-connectstring"><code class="option">--ndb-connectstring</code></a> option
          to the slave's <code class="filename">my.cnf</code> file prior to
          starting the replication process. See
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-backups" title="17.6.9. MySQL Cluster Backups With MySQL Cluster Replication">Section 17.6.9, “MySQL Cluster Backups With MySQL Cluster Replication”</a>, for
          details.
        </p><p>
          For additional options that can be set in
          <code class="filename">my.cnf</code> for replication slaves, see
          <a class="xref" href="replication.html#replication-options" title="16.1.4. Replication and Binary Logging Options and Variables">Section 16.1.4, “Replication and Binary Logging Options and Variables”</a>.
        </p></li><li class="listitem"><p>
          If the master cluster is already in use, you can create a
          backup of the master and load this onto the slave to cut down
          on the amount of time required for the slave to synchronize
          itself with the master. If the slave is also running MySQL
          Cluster, this can be accomplished using the backup and restore
          procedure described in
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-backups" title="17.6.9. MySQL Cluster Backups With MySQL Cluster Replication">Section 17.6.9, “MySQL Cluster Backups With MySQL Cluster Replication”</a>.
        </p><pre class="programlisting">ndb-connectstring=<em class="replaceable"><code>management_host</code></em>[:<em class="replaceable"><code>port</code></em>]
</pre><p>
          In the event that you are <span class="emphasis"><em>not</em></span> using MySQL
          Cluster on the replication slave, you can create a backup with
          this command on the replication master:
        </p><pre class="programlisting">shell<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>mysqldump --master-data=1</code></strong>
</pre><p>
          Then import the resulting data dump onto the slave by copying
          the dump file over to the slave. After this, you can use the
          <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client to import the data from the
          dumpfile into the slave database as shown here, where
          <em class="replaceable"><code>dump_file</code></em> is the name of the file
          that was generated using <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> on the
          master, and <em class="replaceable"><code>db_name</code></em> is the name of
          the database to be replicated:
        </p><pre class="programlisting">shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>mysql -u root -p <em class="replaceable"><code>db_name</code></em> &lt; <em class="replaceable"><code>dump_file</code></em></code></strong>
</pre><p>
          For a complete list of options to use with
          <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>, see <a class="xref" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program">Section 4.5.4, “<span class="command"><strong>mysqldump</strong></span> — A Database Backup Program”</a>.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
            If you copy the data to the slave in this fashion, you
            should make sure that the slave is started with the
            <a class="link" href="replication.html#option_mysqld_skip-slave-start"><code class="option">--skip-slave-start</code></a> option on
            the command line, or else include
            <code class="literal">skip-slave-start</code> in the slave's
            <code class="filename">my.cnf</code> file to keep it from trying to
            connect to the master to begin replicating before all the
            data has been loaded. Once the data loading has completed,
            follow the additional steps outlined in the next two
            sections.
</p>
</div>
</li><li class="listitem"><p>
          Ensure that each MySQL server acting as a replication master
          is configured with a unique server ID, and with binary logging
          enabled, using the row format. (See
          <a class="xref" href="replication.html#replication-formats" title="16.1.2. Replication Formats">Section 16.1.2, “Replication Formats”</a>.) These options can be
          set either in the master server's <code class="filename">my.cnf</code>
          file, or on the command line when starting the master
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process. See
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-starting" title="17.6.6. Starting MySQL Cluster Replication (Single Replication Channel)">Section 17.6.6, “Starting MySQL Cluster Replication (Single Replication Channel)”</a>, for
          information regarding the latter option.
</p></li></ol>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-replication-starting"></a>17.6.6. Starting MySQL Cluster Replication (Single Replication Channel)</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp125929120"></a><p>
      This section outlines the procedure for starting MySQL Cluster
      replication using a single replication channel.
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Start the MySQL replication master server by issuing this
          command:
        </p><pre class="programlisting">shell<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>mysqld --ndbcluster --server-id=<em class="replaceable"><code>id</code></em> \</code></strong>
        <strong class="userinput"><code>--log-bin &amp;</code></strong>
</pre><p>
          In the previous statement, <em class="replaceable"><code>id</code></em> is
          this server's unique ID (see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-general" title="17.6.2. General Requirements for MySQL Cluster Replication">Section 17.6.2, “General Requirements for MySQL Cluster Replication”</a>). This
          starts the server's <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> process with
          binary logging enabled using the proper logging format.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
            You can also start the master with
            <a class="link" href="server-administration.html#option_mysqld_binlog-format"><code class="option">--binlog-format=MIXED</code></a>, in
            which case row-based replication is used automatically when
            replicating between clusters. <code class="literal">STATEMENT</code>
            based binary logging is not supported for MySQL Cluster
            Replication (see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-general" title="17.6.2. General Requirements for MySQL Cluster Replication">Section 17.6.2, “General Requirements for MySQL Cluster Replication”</a>).
</p>
</div>
</li><li class="listitem"><p>
          Start the MySQL replication slave server as shown here:
        </p><pre class="programlisting">shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>mysqld --ndbcluster --server-id=<em class="replaceable"><code>id</code></em> &amp;</code></strong>
</pre><p>
          In the command just shown, <em class="replaceable"><code>id</code></em> is
          the slave server's unique ID. It is not necessary to enable
          logging on the replication slave.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
            You should use the
            <a class="link" href="replication.html#option_mysqld_skip-slave-start"><code class="option">--skip-slave-start</code></a> option
            with this command or else you should include
            <code class="literal">skip-slave-start</code> in the slave server's
            <code class="filename">my.cnf</code> file, unless you want
            replication to begin immediately. With the use of this
            option, the start of replication is delayed until the
            appropriate <a class="link" href="sql-syntax.html#start-slave" title="13.4.2.5. START SLAVE Syntax"><code class="literal">START SLAVE</code></a>
            statement has been issued, as explained in Step 4 below.
</p>
</div>
</li><li class="listitem"><p>
          It is necessary to synchronize the slave server with the
          master server's replication binary log. If binary logging has
          not previously been running on the master, run the following
          statement on the slave:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>CHANGE MASTER TO</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_LOG_FILE='',</code></strong>
     -&gt; <strong class="userinput"><code>MASTER_LOG_POS=4;</code></strong>
</pre><p>
          This instructs the slave to begin reading the master's binary
          log from the log's starting point. Otherwise—that is, if
          you are loading data from the master using a backup—see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-failover" title="17.6.8. Implementing Failover with MySQL Cluster Replication">Section 17.6.8, “Implementing Failover with MySQL Cluster Replication”</a>, for
          information on how to obtain the correct values to use for
          <code class="literal">MASTER_LOG_FILE</code> and
          <code class="literal">MASTER_LOG_POS</code> in such cases.
        </p></li><li class="listitem"><p>
          Finally, you must instruct the slave to begin applying
          replication by issuing this command from the
          <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a> client on the replication slave:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>START SLAVE;</code></strong>
</pre><p>
          This also initiates the transmission of replication data from
          the master to the slave.
</p></li></ol>
</div>
<p>
      It is also possible to use two replication channels, in a manner
      similar to the procedure described in the next section; the
      differences between this and using a single replication channel
      are covered in
      <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-two-channels" title="17.6.7. Using Two Replication Channels for MySQL Cluster Replication">Section 17.6.7, “Using Two Replication Channels for MySQL Cluster Replication”</a>.
    </p><a class="indexterm" name="idp125962304"></a><p>
      It is also possible to improve cluster replication performance by
      enabling <em class="firstterm">batched updates</em>. This can be
      accomplished by setting the
      <a class="link" href="replication.html#sysvar_slave_allow_batching"><code class="literal">slave_allow_batching</code></a> system
      variable on the slave <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> processes.
      Normally, updates are applied as soon as they are received.
      However, the use of batching causes updates to be applied in 32 KB
      batches, which can result in higher throughput and less CPU usage,
      particularly where individual updates are relatively small.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        Slave batching works on a per-epoch basis; updates belonging to
        more than one transaction can be sent as part of the same batch.
      </p><p xmlns="">
        All outstanding updates are applied when the end of an epoch is
        reached, even if the updates total less than 32 KB.
</p>
</div>
<a class="indexterm" name="idp125967872"></a><p>
      Batching can be turned on and off at runtime. To activate it at
      runtime, you can use either of these two statements:
    </p><pre class="programlisting">SET GLOBAL slave_allow_batching = 1;
SET GLOBAL slave_allow_batching = ON;</pre><p>
      If a particular batch causes problems (such as a statement whose
      effects do not appear to be replicated correctly), slave batching
      can be deactivated using either of the following statements:
    </p><pre class="programlisting">SET GLOBAL slave_allow_batching = 0;
SET GLOBAL slave_allow_batching = OFF;</pre><p>
      You can check whether slave batching is currently being used by
      means of an appropriate <a class="link" href="sql-syntax.html#show-variables" title="13.7.5.40. SHOW VARIABLES Syntax"><code class="literal">SHOW
      VARIABLES</code></a> statement, like this one:
    </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SHOW VARIABLES LIKE 'slave%';</code></strong>
+---------------------------+-------+
| Variable_name             | Value |
+---------------------------+-------+
| slave_allow_batching      | ON    |
| slave_compressed_protocol | OFF   |
| slave_load_tmpdir         | /tmp  |
| slave_net_timeout         | 3600  |
| slave_skip_errors         | OFF   |
| slave_transaction_retries | 10    |
+---------------------------+-------+
6 rows in set (0.00 sec)
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-replication-two-channels"></a>17.6.7. Using Two Replication Channels for MySQL Cluster Replication</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp125975888"></a><a class="indexterm" name="idp125977408"></a><p>
      In a more complete example scenario, we envision two replication
      channels to provide redundancy and thereby guard against possible
      failure of a single replication channel. This requires a total of
      four replication servers, two masters for the master cluster and
      two slave servers for the slave cluster. For purposes of the
      discussion that follows, we assume that unique identifiers are
      assigned as shown here:
</p>
<div class="informaltable">
<table summary="This table lists server IDs (unique identifiers) for the
        MySQL cluster replication servers described in the preceding
        text. The table also provides a description of each cluster
replication server." border="1"><colgroup><col><col></colgroup><thead><tr><th scope="col">Server ID</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row">1</td><td>Master - primary replication channel (<span class="emphasis"><em>M</em></span>)</td></tr><tr><td scope="row">2</td><td>Master - secondary replication channel (<span class="emphasis"><em>M'</em></span>)</td></tr><tr><td scope="row">3</td><td>Slave - primary replication channel (<span class="emphasis"><em>S</em></span>)</td></tr><tr><td scope="row">4</td><td>Slave - secondary replication channel (<span class="emphasis"><em>S'</em></span>)</td></tr></tbody></table>
</div>
<p>
      Setting up replication with two channels is not radically
      different from setting up a single replication channel. First, the
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> processes for the primary and secondary
      replication masters must be started, followed by those for the
      primary and secondary slaves. Then the replication processes may
      be initiated by issuing the <a class="link" href="sql-syntax.html#start-slave" title="13.4.2.5. START SLAVE Syntax"><code class="literal">START
      SLAVE</code></a> statement on each of the slaves. The commands and
      the order in which they need to be issued are shown here:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          Start the primary replication master:
        </p><pre class="programlisting">shell<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>mysqld --ndbcluster --server-id=1 \</code></strong>
               <strong class="userinput"><code>--log-bin &amp;</code></strong>
</pre></li><li class="listitem"><p>
          Start the secondary replication master:
        </p><pre class="programlisting">shell<em class="replaceable"><code>M'</code></em>&gt; <strong class="userinput"><code>mysqld --ndbcluster --server-id=2 \</code></strong>
               <strong class="userinput"><code>--log-bin &amp;</code></strong>
</pre></li><li class="listitem"><p>
          Start the primary replication slave server:
        </p><pre class="programlisting">shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>mysqld --ndbcluster --server-id=3 \</code></strong>
               <strong class="userinput"><code>--skip-slave-start &amp;</code></strong>
</pre></li><li class="listitem"><p>
          Start the secondary replication slave:
        </p><pre class="programlisting">shell<em class="replaceable"><code>S'</code></em>&gt; <strong class="userinput"><code>mysqld --ndbcluster --server-id=4 \</code></strong>
                <strong class="userinput"><code>--skip-slave-start &amp;</code></strong>
</pre></li><li class="listitem"><p>
          Finally, initiate replication on the primary channel by
          executing the <a class="link" href="sql-syntax.html#start-slave" title="13.4.2.5. START SLAVE Syntax"><code class="literal">START SLAVE</code></a>
          statement on the primary slave as shown here:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>START SLAVE;</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p xmlns="">
            Only the primary channel is to be started at this point. The
            secondary replication channel is to be started only in the
            event that the primary replication channel fails, as
            described in
            <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-failover" title="17.6.8. Implementing Failover with MySQL Cluster Replication">Section 17.6.8, “Implementing Failover with MySQL Cluster Replication”</a>.
            Running multiple replication channels simultaneously can
            result in unwanted duplicate records being created on the
            replication slaves.
</p>
</div>
</li></ol>
</div>
<p>
      As mentioned previously, it is not necessary to enable binary
      logging on replication slaves.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-replication-failover"></a>17.6.8. Implementing Failover with MySQL Cluster Replication</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp126014976"></a><a class="indexterm" name="idp126016480"></a><p>
      In the event that the primary Cluster replication process fails,
      it is possible to switch over to the secondary replication
      channel. The following procedure describes the steps required to
      accomplish this.
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          <a class="indexterm" name="idp126019936"></a>

          Obtain the time of the most recent global checkpoint (GCP).
          That is, you need to determine the most recent epoch from the
          <code class="literal">ndb_apply_status</code> table on the slave
          cluster, which can be found using the following query:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>S'</code></em>&gt; <strong class="userinput"><code>SELECT @latest:=MAX(epoch)</code></strong>
      -&gt;        <strong class="userinput"><code>FROM mysql.ndb_apply_status;</code></strong>
</pre></li><li class="listitem"><p>
          <a class="indexterm" name="idp126025328"></a>

          Using the information obtained from the query shown in Step 1,
          obtain the corresponding records from the
          <code class="literal">ndb_binlog_index</code> table on the master
          cluster.
        </p><p>
          In MySQL Cluster NDB 7.3, you can use the following query to
          obtain the needed records from the master's
          <code class="literal">ndb_binlog_index</code> table:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>M'</code></em>&gt; <strong class="userinput"><code>SELECT</code></strong>
      -&gt;     <strong class="userinput"><code>@file:=SUBSTRING_INDEX(next_file, '/', -1),</code></strong>
      -&gt;     <strong class="userinput"><code>@pos:=next_position</code></strong>
      -&gt; <strong class="userinput"><code>FROM mysql.ndb_binlog_index</code></strong>
      -&gt; <strong class="userinput"><code>WHERE epoch = @latest</code></strong>
      -&gt; <strong class="userinput"><code>ORDER BY epoch ASC LIMIT 1;</code></strong>
</pre><p>
          These are the records saved on the master since the failure of
          the primary replication channel. We have employed a user
          variable <code class="literal">@latest</code> here to represent the
          value obtained in Step 1. Of course, it is not possible for
          one <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> instance to access user
          variables set on another server instance directly. These
          values must be <span class="quote">“<span class="quote">plugged in</span>”</span> to the second query
          manually or in application code.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
            You must ensure that the slave <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> is
            started with
            <a class="link" href="replication.html#option_mysqld_slave-skip-errors"><code class="option">--slave-skip-errors=ddl_exist_errors</code></a>
            before executing <a class="link" href="sql-syntax.html#start-slave" title="13.4.2.5. START SLAVE Syntax"><code class="literal">START SLAVE</code></a>.
            Otherwise, replication may stop with duplicate DDL errors.
</p>
</div>
</li><li class="listitem"><p>
          Now it is possible to synchronize the secondary channel by
          running the following query on the secondary slave server:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>S'</code></em>&gt; <strong class="userinput"><code>CHANGE MASTER TO</code></strong>
      -&gt;     <strong class="userinput"><code>MASTER_LOG_FILE='@file',</code></strong>
      -&gt;     <strong class="userinput"><code>MASTER_LOG_POS=@pos;</code></strong>
</pre><p>
          Again we have employed user variables (in this case
          <code class="literal">@file</code> and <code class="literal">@pos</code>) to
          represent the values obtained in Step 2 and applied in Step 3;
          in practice these values must be inserted manually or using
          application code that can access both of the servers involved.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
            <code class="literal">@file</code> is a string value such as
            <code class="literal">'/var/log/mysql/replication-master-bin.00001'</code>,
            and so must be quoted when used in SQL or application code.
            However, the value represented by <code class="literal">@pos</code>
            must <span class="emphasis"><em>not</em></span> be quoted. Although MySQL
            normally attempts to convert strings to numbers, this case
            is an exception.
</p>
</div>
</li><li class="listitem"><p>
          You can now initiate replication on the secondary channel by
          issuing the appropriate command on the secondary slave
          <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>S'</code></em>&gt; <strong class="userinput"><code>START SLAVE;</code></strong>
</pre></li></ol>
</div>
<p>
      Once the secondary replication channel is active, you can
      investigate the failure of the primary and effect repairs. The
      precise actions required to do this will depend upon the reasons
      for which the primary channel failed.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Warning
</div>
<p xmlns="">
        The secondary replication channel is to be started only if and
        when the primary replication channel has failed. Running
        multiple replication channels simultaneously can result in
        unwanted duplicate records being created on the replication
        slaves.
</p>
</div>
<p>
      If the failure is limited to a single server, it should (in
      theory) be possible to replicate from <em class="replaceable"><code>M</code></em>
      to <em class="replaceable"><code>S'</code></em>, or from
      <em class="replaceable"><code>M'</code></em> to <em class="replaceable"><code>S</code></em>;
      however, this has not yet been tested.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-replication-backups"></a>17.6.9. MySQL Cluster Backups With MySQL Cluster Replication</h3>

</div>

</div>

</div>
<div class="toc">
<dl><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-auto-sync">17.6.9.1. MySQL Cluster Replication: Automating Synchronization of the Replication
Slave to the Master Binary Log</a></span></dt><dt><span class="section"><a href="mysql-cluster.html#mysql-cluster-replication-pitr">17.6.9.2. Point-In-Time Recovery Using MySQL Cluster Replication</a></span></dt></dl>
</div>
<a class="indexterm" name="idp126059360"></a><a class="indexterm" name="idp126060864"></a><a class="indexterm" name="idp126062368"></a><a class="indexterm" name="idp126063872"></a><p>
      This section discusses making backups and restoring from them
      using MySQL Cluster replication. We assume that the replication
      servers have already been configured as covered previously (see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-preparation" title="17.6.5. Preparing the MySQL Cluster for Replication">Section 17.6.5, “Preparing the MySQL Cluster for Replication”</a>, and the
      sections immediately following). This having been done, the
      procedure for making a backup and then restoring from it is as
      follows:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
          There are two different methods by which the backup may be
          started.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Method A. </b>
                This method requires that the cluster backup process was
                previously enabled on the master server, prior to
                starting the replication process. This can be done by
                including the following line in a
                <code class="literal">[mysql_cluster]</code> section in the
                <code class="filename">my.cnf file</code>, where
                <em class="replaceable"><code>management_host</code></em> is the IP
                address or host name of the
                <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> management server for
                the master cluster, and <em class="replaceable"><code>port</code></em>
                is the management server's port number:
              </p><pre class="programlisting">ndb-connectstring=<em class="replaceable"><code>management_host</code></em>[:<em class="replaceable"><code>port</code></em>]
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
                The port number needs to be specified only if the
                default port (1186) is not being used. See
                <a class="xref" href="mysql-cluster.html#mysql-cluster-install-configuration" title="17.2.4. Initial Configuration of MySQL Cluster">Section 17.2.4, “Initial Configuration of MySQL Cluster”</a>,
                for more information about ports and port allocation in
                MySQL Cluster.
</p>
</div>
<p>
              <a class="indexterm" name="idp126076944"></a>

              In this case, the backup can be started by executing this
              statement on the replication master:
            </p><pre class="programlisting">shell<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>ndb_mgm -e "START BACKUP"</code></strong>
</pre></li><li class="listitem"><p><b>Method B. </b>
                If the <code class="filename">my.cnf</code> file does not specify
                where to find the management host, you can start the
                backup process by passing this information to the
                <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> management client as
                part of the <code class="literal">START BACKUP</code> command.
                This can be done as shown here, where
                <em class="replaceable"><code>management_host</code></em> and
                <em class="replaceable"><code>port</code></em> are the host name and
                port number of the management server:
              </p><pre class="programlisting">shell<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>ndb_mgm <em class="replaceable"><code>management_host</code></em>:<em class="replaceable"><code>port</code></em> -e "START BACKUP"</code></strong>
</pre><p>
              In our scenario as outlined earlier (see
              <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-preparation" title="17.6.5. Preparing the MySQL Cluster for Replication">Section 17.6.5, “Preparing the MySQL Cluster for Replication”</a>),
              this would be executed as follows:
            </p><pre class="programlisting">shell<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>ndb_mgm rep-master:1186 -e "START BACKUP"</code></strong>
</pre></li></ul>
</div>
</li><li class="listitem"><p>
          Copy the cluster backup files to the slave that is being
          brought on line. Each system running an
          <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> process for the master cluster will
          have cluster backup files located on it, and
          <span class="emphasis"><em>all</em></span> of these files must be copied to the
          slave to ensure a successful restore. The backup files can be
          copied into any directory on the computer where the slave
          management host resides, so long as the MySQL and NDB binaries
          have read permissions in that directory. In this case, we will
          assume that these files have been copied into the directory
          <code class="filename">/var/BACKUPS/BACKUP-1</code>.
        </p><p>
          It is not necessary that the slave cluster have the same
          number of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a> processes (data nodes) as
          the master; however, it is highly recommended this number be
          the same. It <span class="emphasis"><em>is</em></span> necessary that the slave
          be started with the
          <a class="link" href="replication.html#option_mysqld_skip-slave-start"><code class="option">--skip-slave-start</code></a> option, to
          prevent premature startup of the replication process.
        </p></li><li class="listitem"><p>
          Create any databases on the slave cluster that are present on
          the master cluster that are to be replicated to the slave.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
            A <a class="link" href="sql-syntax.html#create-database" title="13.1.10. CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a> (or
            <a class="link" href="sql-syntax.html#create-database" title="13.1.10. CREATE DATABASE Syntax"><code class="literal">CREATE
            SCHEMA</code></a>) statement corresponding to each database
            to be replicated must be executed on each SQL node in the
            slave cluster.
</p>
</div>
</li><li class="listitem"><p>
          Reset the slave cluster using this statement in the MySQL
          Monitor:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>RESET SLAVE;</code></strong>
</pre><p>
          It is important to make sure that the slave's
          <code class="literal">apply_status</code> table does not contain any
          records prior to running the restore process. You can
          accomplish this by running this SQL statement on the slave:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>DELETE FROM mysql.ndb_apply_status;</code></strong>
</pre></li><li class="listitem"><p>
          You can now start the cluster restoration process on the
          replication slave using the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>
          command for each backup file in turn. For the first of these,
          it is necessary to include the <code class="option">-m</code> option to
          restore the cluster metadata:
        </p><pre class="programlisting">shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>ndb_restore -c <em class="replaceable"><code>slave_host</code></em>:<em class="replaceable"><code>port</code></em> -n <em class="replaceable"><code>node-id</code></em> \</code></strong>
        <strong class="userinput"><code>-b <em class="replaceable"><code>backup-id</code></em> -m -r <em class="replaceable"><code>dir</code></em></code></strong>
</pre><p>
          <em class="replaceable"><code>dir</code></em> is the path to the directory
          where the backup files have been placed on the replication
          slave. For the <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> commands
          corresponding to the remaining backup files, the
          <code class="option">-m</code> option should <span class="emphasis"><em>not</em></span> be
          used.
        </p><p>
          For restoring from a master cluster with four data nodes (as
          shown in the figure in
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication" title="17.6. MySQL Cluster Replication">Section 17.6, “MySQL Cluster Replication”</a>) where the backup
          files have been copied to the directory
          <code class="filename">/var/BACKUPS/BACKUP-1</code>, the proper
          sequence of commands to be executed on the slave might look
          like this:
        </p><pre class="programlisting">shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>ndb_restore -c rep-slave:1186 -n 2 -b 1 -m \</code></strong>
        <strong class="userinput"><code>-r ./var/BACKUPS/BACKUP-1</code></strong>
shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>ndb_restore -c rep-slave:1186 -n 3 -b 1 \</code></strong>
        <strong class="userinput"><code>-r ./var/BACKUPS/BACKUP-1</code></strong>
shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>ndb_restore -c rep-slave:1186 -n 4 -b 1 \</code></strong>
        <strong class="userinput"><code>-r ./var/BACKUPS/BACKUP-1</code></strong>
shell<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>ndb_restore -c rep-slave:1186 -n 5 -b 1 -e \</code></strong>
        <strong class="userinput"><code>-r ./var/BACKUPS/BACKUP-1</code></strong>
</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
            The <code class="option">-e</code> (or
            <a class="link" href="mysql-cluster.html#option_ndb_restore_restore_epoch"><code class="option">--restore_epoch</code></a>) option
            in the final invocation of <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a> in
            this example is required in order that the epoch is written
            to the slave <code class="literal">mysql.ndb_apply_status</code>.
            Without this information, the slave will not be able to
            synchronize properly with the master. (See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup">Section 17.4.19, “<span class="command"><strong>ndb_restore</strong></span> — Restore a MySQL Cluster Backup”</a>.)
</p>
</div>
</li><li class="listitem"><p>
          Now you need to obtain the most recent epoch from the
          <code class="literal">ndb_apply_status</code> table on the slave (as
          discussed in
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-failover" title="17.6.8. Implementing Failover with MySQL Cluster Replication">Section 17.6.8, “Implementing Failover with MySQL Cluster Replication”</a>):
        </p><pre class="programlisting">mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>SELECT @latest:=MAX(epoch)</code></strong>
        <strong class="userinput"><code>FROM mysql.ndb_apply_status;</code></strong>
</pre></li><li class="listitem"><p>
          Using <code class="literal">@latest</code> as the epoch value obtained
          in the previous step, you can obtain the correct starting
          position <code class="literal">@pos</code> in the correct binary log
          file <code class="literal">@file</code> from the master's
          <code class="literal">mysql.ndb_binlog_index</code> table using the
          query shown here:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>M</code></em>&gt; <strong class="userinput"><code>SELECT</code></strong>
     -&gt;     <strong class="userinput"><code>@file:=SUBSTRING_INDEX(File, '/', -1),</code></strong>
     -&gt;     <strong class="userinput"><code>@pos:=Position</code></strong>
     -&gt; <strong class="userinput"><code>FROM mysql.ndb_binlog_index</code></strong>
     -&gt; <strong class="userinput"><code>WHERE epoch &gt; @latest</code></strong>
     -&gt; <strong class="userinput"><code>ORDER BY epoch ASC LIMIT 1;</code></strong>
</pre><p>
          In the event that there is currently no replication traffic,
          you can get this information by running
          <a class="link" href="sql-syntax.html#show-master-status" title="13.7.5.24. SHOW MASTER STATUS Syntax"><code class="literal">SHOW MASTER STATUS</code></a> on the
          master and using the value in the <code class="literal">Position</code>
          column for the file whose name has the suffix with the
          greatest value for all files shown in the
          <code class="literal">File</code> column. However, in this case, you
          must determine this and supply it in the next step manually or
          by parsing the output with a script.
        </p></li><li class="listitem"><p>
          Using the values obtained in the previous step, you can now
          issue the appropriate <a class="link" href="sql-syntax.html#change-master-to" title="13.4.2.1. CHANGE MASTER TO Syntax"><code class="literal">CHANGE MASTER
          TO</code></a> statement in the slave's <a class="link" href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span class="command"><strong>mysql</strong></span></a>
          client:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>CHANGE MASTER TO</code></strong>
     -&gt;     <strong class="userinput"><code>MASTER_LOG_FILE='@file',</code></strong>
     -&gt;     <strong class="userinput"><code>MASTER_LOG_POS=@pos;</code></strong>
</pre></li><li class="listitem"><p>
          Now that the slave <span class="quote">“<span class="quote">knows</span>”</span> from what point in
          which <code class="literal">binlog</code> file to start reading data
          from the master, you can cause the slave to begin replicating
          with this standard MySQL statement:
        </p><pre class="programlisting">mysql<em class="replaceable"><code>S</code></em>&gt; <strong class="userinput"><code>START SLAVE;</code></strong>
</pre></li></ol>
</div>
<p>
      To perform a backup and restore on a second replication channel,
      it is necessary only to repeat these steps, substituting the host
      names and IDs of the secondary master and slave for those of the
      primary master and slave replication servers where appropriate,
      and running the preceding statements on them.
    </p><p>
      For additional information on performing Cluster backups and
      restoring Cluster from backups, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-backup" title="17.5.3. Online Backup of MySQL Cluster">Section 17.5.3, “Online Backup of MySQL Cluster”</a>.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-replication-auto-sync"></a>17.6.9.1. MySQL Cluster Replication: Automating Synchronization of the Replication
Slave to the Master Binary Log</h4>
</div>
</div>
</div>
<a class="indexterm" name="idp126161184"></a><a class="indexterm" name="idp126162704"></a><p>
        It is possible to automate much of the process described in the
        previous section (see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-backups" title="17.6.9. MySQL Cluster Backups With MySQL Cluster Replication">Section 17.6.9, “MySQL Cluster Backups With MySQL Cluster Replication”</a>). The
        following Perl script <code class="filename">reset-slave.pl</code> serves
        as an example of how you can do this.
      </p><a class="indexterm" name="idp126166096"></a><a class="indexterm" name="idp126167616"></a><pre class="programlisting">#!/user/bin/perl -w

#  file: reset-slave.pl

#  Copyright ©2005 MySQL AB

#  This program is free software; you can redistribute it and/or modify
#  it under the terms of the GNU General Public License as published by
#  the Free Software Foundation; either version 2 of the License, or
#  (at your option) any later version.

#  This program is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#  GNU General Public License for more details.

#  You should have received a copy of the GNU General Public License
#  along with this program; if not, write to:
#  Free Software Foundation, Inc.
#  59 Temple Place, Suite 330
#  Boston, MA 02111-1307 USA
#
#  Version 1.1


######################## Includes ###############################

use DBI;

######################## Globals ################################

my  $m_host='';
my  $m_port='';
my  $m_user='';
my  $m_pass='';
my  $s_host='';
my  $s_port='';
my  $s_user='';
my  $s_pass='';
my  $dbhM='';
my  $dbhS='';

####################### Sub Prototypes ##########################

sub CollectCommandPromptInfo;
sub ConnectToDatabases;
sub DisconnectFromDatabases;
sub GetSlaveEpoch;
sub GetMasterInfo;
sub UpdateSlave;

######################## Program Main ###########################

CollectCommandPromptInfo;
ConnectToDatabases;
GetSlaveEpoch;
GetMasterInfo;
UpdateSlave;
DisconnectFromDatabases;

################## Collect Command Prompt Info ##################

sub CollectCommandPromptInfo
{
  ### Check that user has supplied correct number of command line args
  die "Usage:\n
       reset-slave &gt;master MySQL host&lt; &gt;master MySQL port&lt; \n
                   &gt;master user&lt; &gt;master pass&lt; &gt;slave MySQL host&lt; \n
                   &gt;slave MySQL port&lt; &gt;slave user&lt; &gt;slave pass&lt; \n
       All 8 arguments must be passed. Use BLANK for NULL passwords\n"
       unless @ARGV == 8;

  $m_host  =  $ARGV[0];
  $m_port  =  $ARGV[1];
  $m_user  =  $ARGV[2];
  $m_pass  =  $ARGV[3];
  $s_host  =  $ARGV[4];
  $s_port  =  $ARGV[5];
  $s_user  =  $ARGV[6];
  $s_pass  =  $ARGV[7];

  if ($m_pass eq "BLANK") { $m_pass = '';}
  if ($s_pass eq "BLANK") { $s_pass = '';}
}

###############  Make connections to both databases #############

sub ConnectToDatabases
{
  ### Connect to both master and slave cluster databases

  ### Connect to master
  $dbhM
    = DBI-&gt;connect(
    "dbi:mysql:database=mysql;host=$m_host;port=$m_port",
    "$m_user", "$m_pass")
      or die "Can't connect to Master Cluster MySQL process!
              Error: $DBI::errstr\n";

  ### Connect to slave
  $dbhS
    = DBI-&gt;connect(
          "dbi:mysql:database=mysql;host=$s_host",
          "$s_user", "$s_pass")
    or die "Can't connect to Slave Cluster MySQL process!
            Error: $DBI::errstr\n";
}

################  Disconnect from both databases ################

sub DisconnectFromDatabases
{
  ### Disconnect from master

  $dbhM-&gt;disconnect
  or warn " Disconnection failed: $DBI::errstr\n";

  ### Disconnect from slave

  $dbhS-&gt;disconnect
  or warn " Disconnection failed: $DBI::errstr\n";
}

######################  Find the last good GCI ##################

sub GetSlaveEpoch
{
  $sth = $dbhS-&gt;prepare("SELECT MAX(epoch)
                         FROM mysql.ndb_apply_status;")
      or die "Error while preparing to select epoch from slave: ",
             $dbhS-&gt;errstr;

  $sth-&gt;execute
      or die "Selecting epoch from slave error: ", $sth-&gt;errstr;

  $sth-&gt;bind_col (1, \$epoch);
  $sth-&gt;fetch;
  print "\tSlave Epoch =  $epoch\n";
  $sth-&gt;finish;
}

#######  Find the position of the last GCI in the binary log ########

sub GetMasterInfo
{
  $sth = $dbhM-&gt;prepare("SELECT
                           SUBSTRING_INDEX(File, '/', -1), Position
                         FROM mysql.ndb_binlog_index
                         WHERE epoch &gt; $epoch
                         ORDER BY epoch ASC LIMIT 1;")
      or die "Prepare to select from master error: ", $dbhM-&gt;errstr;

  $sth-&gt;execute
      or die "Selecting from master error: ", $sth-&gt;errstr;

  $sth-&gt;bind_col (1, \$binlog);
  $sth-&gt;bind_col (2, \$binpos);
  $sth-&gt;fetch;
  print "\tMaster binary log =  $binlog\n";
  print "\tMaster binary log position =  $binpos\n";
  $sth-&gt;finish;
}

##########  Set the slave to process from that location #########

sub UpdateSlave
{
  $sth = $dbhS-&gt;prepare("CHANGE MASTER TO
                         MASTER_LOG_FILE='$binlog',
                         MASTER_LOG_POS=$binpos;")
      or die "Prepare to CHANGE MASTER error: ", $dbhS-&gt;errstr;

  $sth-&gt;execute
       or die "CHANGE MASTER on slave error: ", $sth-&gt;errstr;
  $sth-&gt;finish;
  print "\tSlave has been updated. You may now start the slave.\n";
}

# end reset-slave.pl</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-cluster-replication-pitr"></a>17.6.9.2. Point-In-Time Recovery Using MySQL Cluster Replication</h4>

</div>

</div>

</div>
<a class="indexterm" name="idp126176144"></a><a class="indexterm" name="idp126177648"></a><a class="indexterm" name="idp126179152"></a><p>
        <em class="firstterm">Point-in-time</em> recovery—that is,
        recovery of data changes made since a given point in
        time—is performed after restoring a full backup that
        returns the server to its state when the backup was made.
        Performing point-in-time recovery of MySQL Cluster tables with
        MySQL Cluster and MySQL Cluster Replication can be accomplished
        using a native <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> data backup
        (taken by issuing <code class="literal">CREATE BACKUP</code> in the
        <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client) and restoring the
        <code class="literal">ndb_binlog_index</code> table (from a dump made
        using <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a>).
      </p><p>
        To perform point-in-time recovery of MySQL Cluster, it is
        necessary to follow the steps shown here:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
            Back up all <code class="literal">NDB</code> databases in the cluster,
            using the <code class="literal">START BACKUP</code> command in the
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-mgm" title="17.4.5. ndb_mgm — The MySQL Cluster Management Client"><span class="command"><strong>ndb_mgm</strong></span></a> client (see
            <a class="xref" href="mysql-cluster.html#mysql-cluster-backup" title="17.5.3. Online Backup of MySQL Cluster">Section 17.5.3, “Online Backup of MySQL Cluster”</a>).
          </p></li><li class="listitem"><p>
            At some later point, prior to restoring the cluster, make a
            backup of the <code class="literal">mysql.ndb_binlog_index</code>
            table. It is probably simplest to use
            <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> for this task. Also back up the
            binary log files at this time.
          </p><p>
            This backup should be updated regularly—perhaps even
            hourly—depending on your needs.
          </p></li><li class="listitem"><p>
            (<span class="emphasis"><em>Catastrophic failure or error occurs</em></span>.)
          </p></li><li class="listitem"><p>
            Locate the last known good backup.
          </p></li><li class="listitem"><p>
            Clear the data node file systems (using
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbd" title="17.4.1. ndbd — The MySQL Cluster Data Node Daemon"><span class="command"><strong>ndbd</strong></span></a>
            <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a> or
            <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndbmtd" title="17.4.3. ndbmtd — The MySQL Cluster Data Node Daemon (Multi-Threaded)"><span class="command"><strong>ndbmtd</strong></span></a>
            <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a>).
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
              MySQL Cluster Disk Data tablespace and log files are not
              removed by <a class="link" href="mysql-cluster.html#option_ndbd_initial"><code class="option">--initial</code></a>. You
              must delete these manually.
</p>
</div>
</li><li class="listitem"><p>
            Use <a class="link" href="sql-syntax.html#drop-table" title="13.1.28. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> or
            <a class="link" href="sql-syntax.html#truncate-table" title="13.1.33. TRUNCATE TABLE Syntax"><code class="literal">TRUNCATE TABLE</code></a> with the
            <code class="literal">mysql.ndb_binlog_index</code> table.
          </p></li><li class="listitem"><p>
            Execute <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>, restoring all data.
            You must include the
            <a class="link" href="mysql-cluster.html#option_ndb_restore_restore_epoch"><code class="option">--restore_epoch</code></a> option
            when you run <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>, so that the
            <code class="literal">ndb_apply_status</code> table is populated
            correctly. (See
            <a class="xref" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup">Section 17.4.19, “<span class="command"><strong>ndb_restore</strong></span> — Restore a MySQL Cluster Backup”</a>, for
            more information.)
          </p></li><li class="listitem"><p>
            Restore the <code class="literal">ndb_binlog_index</code> table from
            the output of <a class="link" href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span class="command"><strong>mysqldump</strong></span></a> and restore the
            binary log files from backup, if necessary.
          </p></li><li class="listitem"><p>
            Find the epoch applied most recently—that is, the
            maximum <code class="literal">epoch</code> column value in the
            <code class="literal">ndb_apply_status</code> table—as the user
            variable <code class="literal">@LATEST_EPOCH</code> (emphasized):
          </p><pre class="programlisting">SELECT <span class="emphasis"><em>@LAST_EPOCH</em></span>:=MAX(epoch) 
    FROM mysql.ndb_apply_status;
</pre></li><li class="listitem"><p>
            Find the latest binary log file
            (<code class="literal">@FIRST_FILE</code>) and position
            (<code class="literal">Position</code> column value) within this file
            that correspond to <code class="literal">@LATEST_EPOCH</code> in the
            <code class="literal">ndb_binlog_index</code> table:
          </p><pre class="programlisting">SELECT Position, <span class="emphasis"><em>@FIRST_FILE</em></span>:=File 
    FROM mysql.ndb_binlog_index 
    WHERE epoch &gt; <span class="emphasis"><em>@LAST_EPOCH</em></span> ORDER BY epoch ASC LIMIT 1;
</pre></li><li class="listitem"><p>
            Using <a class="link" href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span class="command"><strong>mysqlbinlog</strong></span></a>, replay the binary log
            events from the given file and position up to the point of
            the failure. (See <a class="xref" href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files">Section 4.6.8, “<span class="command"><strong>mysqlbinlog</strong></span> — Utility for Processing Binary Log Files”</a>.)
</p></li></ol>
</div>
<p>
        See also <a class="xref" href="backup-and-recovery.html#point-in-time-recovery" title="7.5. Point-in-Time (Incremental) Recovery Using the Binary Log">Section 7.5, “Point-in-Time (Incremental) Recovery Using the Binary Log”</a>, for more
        information about the binary log, replication, and incremental
        recovery.
</p>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-replication-multi-master"></a>17.6.10. MySQL Cluster Replication: Multi-Master and Circular Replication</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp126227648"></a><a class="indexterm" name="idp126229168"></a><a class="indexterm" name="idp126230672"></a><a class="indexterm" name="idp126232176"></a><p>
      It is possible to use MySQL Cluster in multi-master replication,
      including circular replication between a number of MySQL Clusters.
    </p><p><b>Circular replication example. </b>
        In the next few paragraphs we consider the example of a
        replication setup involving three MySQL Clusters numbered 1, 2,
        and 3, in which Cluster 1 acts as the replication master for
        Cluster 2, Cluster 2 acts as the master for Cluster 3, and
        Cluster 3 acts as the master for Cluster 1. Each cluster has two
        SQL nodes, with SQL nodes A and B belonging to Cluster 1, SQL
        nodes C and D belonging to Cluster 2, and SQL nodes E and F
        belonging to Cluster 3.
      </p><p>
      Circular replication using these clusters is supported as long as
      the following conditions are met:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          The SQL nodes on all masters and slaves are the same
        </p></li><li class="listitem"><p>
          All SQL nodes acting as replication masters and slaves are
          started using the
          <a class="link" href="replication.html#option_mysqld_log-slave-updates"><code class="option">--log-slave-updates</code></a> option
</p></li></ul>
</div>
<p>
      This type of circular replication setup is shown in the following
      diagram:
</p>
<div class="mediaobject">
<img src="images/cluster-circular-replication-1.png" width="550" height="646" alt="MySQL Cluster circular replication scheme in which all master SQL nodes are also slaves.">
</div>
<p>
      In this scenario, SQL node A in Cluster 1 replicates to SQL node C
      in Cluster 2; SQL node C replicates to SQL node E in Cluster 3;
      SQL node E replicates to SQL node A. In other words, the
      replication line (indicated by the red arrows in the diagram)
      directly connects all SQL nodes used as replication masters and
      slaves.
    </p><p>
      It is also possible to set up circular replication in such a way
      that not all master SQL nodes are also slaves, as shown here:
</p>
<div class="mediaobject">
<img src="images/cluster-circular-replication-2.png" width="550" height="622" alt="MySQL Cluster circular replication scheme in which all master SQL nodes are not also necessarily slaves.">
</div>
<p>
      In this case, different SQL nodes in each cluster are used as
      replication masters and slaves. However, you must
      <span class="emphasis"><em>not</em></span> start any of the SQL nodes using
      <a class="link" href="replication.html#option_mysqld_log-slave-updates"><code class="option">--log-slave-updates</code></a>. This type of
      circular replication scheme for MySQL Cluster, in which the line
      of replication (again indicated by the red arrows in the diagram)
      is discontinuous, should be possible, but it should be noted that
      it has not yet been thoroughly tested and must therefore still be
      considered experimental.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        You should execute the following statement before starting
        circular replication:
      </p><pre class="programlisting">mysql&gt; <strong class="userinput"><code>SET GLOBAL SLAVE_EXEC_MODE = 'IDEMPOTENT';</code></strong>
</pre><p xmlns="">
        This is necessary to suppress duplicate-key and other errors
        that otherwise break circular replication in MySQL Cluster.
        <code class="literal">IDEMPOTENT</code> mode is also required for
        multi-master replication when using MySQL Cluster. (Bug #31609)
      </p><p xmlns="">
        See <a class="link" href="replication.html#sysvar_slave_exec_mode"><code class="literal">slave_exec_mode</code></a>, for more
        information.
</p>
</div>
<p><b>Using NDB-native backup and restore to initialize a slave MySQL Cluster. </b>
        <a class="indexterm" name="idp126260000"></a>

        When setting up circular replication, it is possible to
        initialize the slave cluster by using the management client
        <code class="literal">BACKUP</code> command on one MySQL Cluster to create
        a backup and then applying this backup on another MySQL Cluster
        using <a class="link" href="mysql-cluster.html#mysql-cluster-programs-ndb-restore" title="17.4.19. ndb_restore — Restore a MySQL Cluster Backup"><span class="command"><strong>ndb_restore</strong></span></a>. However, this does not
        automatically create binary logs on the second MySQL
        Cluster's SQL node acting as the replication slave. In
        order to cause the binary logs to be created, you must issue a
        <a class="link" href="sql-syntax.html#show-tables" title="13.7.5.38. SHOW TABLES Syntax"><code class="literal">SHOW TABLES</code></a> statement on that SQL
        node; this should be done prior to running
        <a class="link" href="sql-syntax.html#start-slave" title="13.4.2.5. START SLAVE Syntax"><code class="literal">START SLAVE</code></a>.
      </p><p>
      This is a known issue which we intend to address in a future
      release.
    </p><p><b>Multi-master failover example. </b>
        In this section, we discuss failover in a multi-master MySQL
        Cluster replication setup with three MySQL Clusters having
        server IDs 1, 2, and 3. In this scenario, Cluster 1 replicates
        to Clusters 2 and 3; Cluster 2 also replicates to Cluster 3.
        This relationship is shown here:
</p>
<div class="mediaobject">
<img src="images/cluster-replication-multi-master.png" width="350" height="275" alt="Multi-master MySQL Cluster replication setup, with three MySQL Clusters">
</div>
<p>
      In other words, data replicates from Cluster 1 to Cluster 3
      through 2 different routes: directly, and by way of Cluster 2.
    </p><p>
      Not all MySQL servers taking part in multi-master replication must
      act as both master and slave, and a given MySQL Cluster might use
      different SQL nodes for different replication channels. Such a
      case is shown here:
</p>
<div class="mediaobject">
<img src="images/cluster-replication-multi-master-mysqlds.png" width="500" height="375" alt="Multi-master MySQL Cluster replication setup, detail with MySQL Servers">
</div>
<p>
      MySQL servers acting as replication slaves must be run with the
      <a class="link" href="replication.html#option_mysqld_log-slave-updates"><code class="option">--log-slave-updates</code></a> option. Which
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> processes require this option is also
      shown in the preceding diagram.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        Using the <a class="link" href="replication.html#option_mysqld_log-slave-updates"><code class="option">--log-slave-updates</code></a>
        option has no effect on servers not being run as replication
        slaves.
</p>
</div>
<p>
      The need for failover arises when one of the replicating clusters
      goes down. In this example, we consider the case where Cluster 1
      is lost to service, and so Cluster 3 loses 2 sources of updates
      from Cluster 1. Because replication between MySQL Clusters is
      asynchronous, there is no guarantee that Cluster 3's updates
      originating directly from Cluster 1 are more recent than those
      received through Cluster 2. You can handle this by ensuring that
      Cluster 3 catches up to Cluster 2 with regard to updates from
      Cluster 1. In terms of MySQL servers, this means that you need to
      replicate any outstanding updates from MySQL server C to server F.
    </p><p>
      On server C, perform the following queries:
    </p><pre class="programlisting">mysqlC&gt; SELECT @latest:=MAX(epoch)
     -&gt;     FROM mysql.ndb_apply_status
     -&gt;     WHERE server_id=1;

mysqlC&gt; SELECT
     -&gt;     @file:=SUBSTRING_INDEX(File, '/', -1),
     -&gt;     @pos:=Position
     -&gt;     FROM mysql.ndb_binlog_index
     -&gt;     WHERE orig_epoch &gt;= @latest
     -&gt;     AND orig_server_id = 1
-&gt;     ORDER BY epoch ASC LIMIT 1;</pre>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        You can improve the performance of this query, and thus likely
        speed up failover times significantly, by adding the appropriate
        index to the <code class="literal">ndb_binlog_index</code> table. See
        <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-schema" title="17.6.4. MySQL Cluster Replication Schema and Tables">Section 17.6.4, “MySQL Cluster Replication Schema and Tables”</a>, for more
        information.
</p>
</div>
<p>
      Copy over the values for <em class="replaceable"><code>@file</code></em> and
      <em class="replaceable"><code>@pos</code></em> manually from server C to server F
      (or have your application perform the equivalent). Then, on server
      F, execute the following <a class="link" href="sql-syntax.html#change-master-to" title="13.4.2.1. CHANGE MASTER TO Syntax"><code class="literal">CHANGE MASTER
      TO</code></a> statement:
    </p><pre class="programlisting">mysqlF&gt; CHANGE MASTER TO
     -&gt;     MASTER_HOST = 'serverC'
     -&gt;     MASTER_LOG_FILE='@file',
     -&gt;     MASTER_LOG_POS=@pos;</pre><p>
      Once this has been done, you can issue a
      <a class="link" href="sql-syntax.html#start-slave" title="13.4.2.5. START SLAVE Syntax"><code class="literal">START SLAVE</code></a> statement on MySQL
      server F, and any missing updates originating from server B will
      be replicated to server F.
    </p><p>
      The <a class="link" href="sql-syntax.html#change-master-to" title="13.4.2.1. CHANGE MASTER TO Syntax"><code class="literal">CHANGE MASTER TO</code></a> statement also
      supports an <code class="literal">IGNORE_SERVER_IDS</code> option which
      takes a comma-separated list of server IDs and causes events
      originating from the corresponding servers to be ignored. For more
      information, see <a class="xref" href="sql-syntax.html#change-master-to" title="13.4.2.1. CHANGE MASTER TO Syntax">Section 13.4.2.1, “<code class="literal">CHANGE MASTER TO</code> Syntax”</a>, and
      <a class="xref" href="sql-syntax.html#show-slave-status" title="13.7.5.35. SHOW SLAVE STATUS Syntax">Section 13.7.5.35, “<code class="literal">SHOW SLAVE STATUS</code> Syntax”</a>.
</p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-cluster-replication-conflict-resolution"></a>17.6.11. MySQL Cluster Replication Conflict Resolution</h3>

</div>

</div>

</div>
<a class="indexterm" name="idp126297120"></a><a class="indexterm" name="idp126298624"></a><a class="indexterm" name="idp126300128"></a><a class="indexterm" name="idp126301632"></a><p>
      When using a replication setup involving multiple masters
      (including circular replication), it is possible that different
      masters may try to update the same row on the slave with different
      data. Conflict resolution in MySQL Cluster Replication provides a
      means of resolving such conflicts by permitting a user-defined
      resolution column to be used to determine whether or not an update
      on a given master should be applied on the slave.
    </p><p>
      Some types of conflict resolution supported by MySQL Cluster
      (<code class="literal">NDB$OLD()</code>, <code class="literal">NDB$MAX()</code>,
      <code class="literal">NDB$MAX_DELETE_WIN()</code>) implement this
      user-defined column as a <span class="quote">“<span class="quote">timestamp</span>”</span> column (although
      its type cannot be <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>, as
      explained later in this section). These types of conflict
      resolution are always applied a row-by-row basis rather than a
      transactional basis. The epoch-based conflict resolution functions
      <code class="literal">NDB$EPOCH()</code> and
      <code class="literal">NDB$EPOCH_TRANS()</code> compare the order in which
      epochs are replicated (and thus these functions are
      transactional). Different methods can be used to compare
      resolution column values on the slave when conflicts occur, as
      explained later in this section; the method used can be set on a
      per-table basis.
    </p><p>
      You should also keep in mind that it is the application's
      responsibility to ensure that the resolution column is correctly
      populated with relevant values, so that the resolution function
      can make the appropriate choice when determining whether to apply
      an update.
    </p><p><b>Requirements. </b>
        Preparations for conflict resolution must be made on both the
        master and the slave. These tasks are described in the following
        list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          On the master writing the binary logs, you must determine
          which columns are sent (all columns or only those that have
          been updated). This is done for the MySQL Server as a whole by
          applying the <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> startup option
          <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-updated-only"><code class="option">--ndb-log-updated-only</code></a>
          (described later in this section) or on a per-table basis by
          entries in the <code class="literal">mysql.ndb_replication</code> table
          (see <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-replication-table" title="The ndb_replication system table">The <code class="literal">ndb_replication</code> system table</a>).
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
            If you are replicating tables with very large columns (such
            as <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> or
            <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> columns),
            <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-updated-only"><code class="option">--ndb-log-updated-only</code></a> can
            also be useful for reducing the size of the master and slave
            binary logs and avoiding possible replication failures due
            to exceeding
            <a class="link" href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>.
          </p><p xmlns="">
            See
            <a class="xref" href="replication.html#replication-features-max-allowed-packet" title="16.4.1.20. Replication and max_allowed_packet">Section 16.4.1.20, “Replication and <code class="literal">max_allowed_packet</code>”</a>,
            for more information about this issue.
</p>
</div>
</li><li class="listitem"><p>
          On the slave, you must determine which type of conflict
          resolution to apply (<span class="quote">“<span class="quote">latest timestamp wins</span>”</span>,
          <span class="quote">“<span class="quote">same timestamp wins</span>”</span>, <span class="quote">“<span class="quote">primary
          wins</span>”</span>, <span class="quote">“<span class="quote">primary wins, complete
          transaction</span>”</span>, or none). This is done using the
          <code class="literal">mysql.ndb_replication</code> system table, on a
          per-table basis (see
          <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-replication-table" title="The ndb_replication system table">The <code class="literal">ndb_replication</code> system table</a>).
</p></li></ul>
</div>
<p>
      When using the functions <code class="literal">NDB$OLD()</code>,
      <code class="literal">NDB$MAX()</code>, and
      <code class="literal">NDB$MAX_DELETE_WIN()</code> for timestamp-based
      conflict resolution, we often refer to the column used for
      determining updates as a <span class="quote">“<span class="quote">timestamp</span>”</span> column. However,
      the data type of this column is never
      <a class="link" href="data-types.html#datetime" title="11.3.1. The DATE, DATETIME, and TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>; instead, its data type
      should be <a class="link" href="data-types.html#integer-types" title="11.2.1. Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INT</code></a>
      (<a class="link" href="data-types.html#integer-types" title="11.2.1. Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">INTEGER</code></a>) or
      <a class="link" href="data-types.html#integer-types" title="11.2.1. Integer Types (Exact Value) - INTEGER, INT, SMALLINT, TINYINT, MEDIUMINT, BIGINT"><code class="literal">BIGINT</code></a>. The
      <span class="quote">“<span class="quote">timestamp</span>”</span> column should also be
      <code class="literal">UNSIGNED</code> and <code class="literal">NOT NULL</code>.
    </p><p>
      The <code class="literal">NDB$EPOCH()</code> and
      <code class="literal">NDB$EPOCH_TRANS()</code> functions discussed later in
      this section work by comparing the relative order of replication
      epochs applied on a primary and secondary MySQL Cluster, and do
      not make use of timestamps.
    </p><a class="indexterm" name="idp126336576"></a><p><b>Master column control. </b>
        We can see update operations in terms of <span class="quote">“<span class="quote">before</span>”</span>
        and <span class="quote">“<span class="quote">after</span>”</span> images—that is, the states of the
        table before and after the update is applied. Normally, when
        updating a table with a primary key, the <span class="quote">“<span class="quote">before</span>”</span>
        image is not of great interest; however, when we need to
        determine on a per-update basis whether or not to use the
        updated values on a replication slave, we need to make sure that
        both images are written to the master's binary log. This is
        done with the
        <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-update-as-write"><code class="option">--ndb-log-update-as-write</code></a> option
        for <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, as described later in this
        section.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        Whether logging of complete rows or of updated columns only is
        done is decided when the MySQL server is started, and cannot be
        changed online; you must either restart
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>, or start a new
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> instance with different logging
        options.
</p>
</div>
<a class="indexterm" name="idp126345344"></a>
<h4><a name="idp126346832"></a>
      Logging Full or Partial Rows (<code class="option">--ndb-log-updated-only</code> Option)
</h4>
<div class="informaltable">
<table summary="Options for ndb_log_updated_only" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-log-updated-only</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb_log_updated_only</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal">ndb_log_updated_only</code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>
<p><a name="option_mysqld_ndb-log-updated-only"></a>
      For purposes of conflict resolution, there are two basic methods
      of logging rows, as determined by the setting of the
      <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-updated-only"><code class="option">--ndb-log-updated-only</code></a> option for
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a>:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Log complete rows
        </p></li><li class="listitem"><p>
          Log only column data that has been updated—that is,
          column data whose value has been set, regardless of whether or
          not this value was actually changed. This is the default
          behavior.
</p></li></ul>
</div>
<p>
      It is usually sufficient—and more efficient—to log
      updated columns only; however, if you need to log full rows, you
      can do so by setting
      <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-updated-only"><code class="option">--ndb-log-updated-only</code></a> to
      <code class="literal">0</code> or <code class="literal">OFF</code>.
</p>
<h4><a name="idp126376192"></a>
      <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-update-as-write"><code class="option">--ndb-log-update-as-write</code></a> Option: Logging Changed Data as Updates
</h4>
<div class="informaltable">
<table summary="Options for ndb-log-update-as-write" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ndb-log-update-as-write</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ndb-log-update-as-write</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal">ndb_log_update_as_write</code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3"> </td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>
<p><a name="option_mysqld_ndb-log-update-as-write"></a>
      The setting of the MySQL Server's
      <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-update-as-write"><code class="option">--ndb-log-update-as-write</code></a> option
      determines whether logging is performed with or without the
      <span class="quote">“<span class="quote">before</span>”</span> image. Because conflict resolution is done
      in the MySQL Server's update handler, it is necessary to
      control logging on the master such that updates are updates and
      not writes; that is, such that updates are treated as changes in
      existing rows rather than the writing of new rows (even though
      these replace existing rows). This option is turned on by default;
      in other words, updates are treated as writes. (That is, updates
      are by default written as <code class="literal">write_row</code> events in
      the binary log, rather than as <code class="literal">update_row</code>
      events.) To turn off the option, start the master
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with
      <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-update-as-write"><code class="option">--ndb-log-update-as-write=0</code></a> or
      <code class="option">--ndb-log-update-as-write=OFF</code>.
    </p><a class="indexterm" name="idp126404336"></a><p><b>Conflict resolution control. </b>
        Conflict resolution is usually enabled on the server where
        conflicts can occur. Like logging method selection, it is
        enabled by entries in the
        <code class="literal">mysql.ndb_replication</code> table.
      </p><p><a name="mysql-cluster-ndb-replication-table"></a><b>The <code class="literal">ndb_replication</code> system table. </b>
        <a class="indexterm" name="idp126409872"></a>

        <a class="indexterm" name="idp126410960"></a>

        To enable conflict resolution, it is necessary to create an
        <code class="literal">ndb_replication</code> table in the
        <code class="literal">mysql</code> system database on the master, the
        slave, or both, depending on the conflict resolution type and
        method to be employed. This table is used to control logging and
        conflict resolution functions on a per-table basis, and has one
        row per table involved in replication.
        <code class="literal">ndb_replication</code> is created and filled with
        control information on the server where the conflict is to be
        resolved. In a simple master-slave setup where data can also be
        changed locally on the slave this will typically be the slave.
        In a more complex master-master (2-way) replication schema this
        will usually be all of the masters involved. Each row in
        <code class="literal">mysql.ndb_replication</code> corresponds to a table
        being replicated, and specifies how to log and resolve conflicts
        (that is, which conflict resolution function, if any, to use)
        for that table. The definition of the
        <code class="literal">mysql.ndb_replication</code> table is shown here:
      </p><pre class="programlisting">CREATE TABLE mysql.ndb_replication  (
    db VARBINARY(63),
    table_name VARBINARY(63),
    server_id INT UNSIGNED,
    binlog_type INT UNSIGNED,
    conflict_fn VARBINARY(128),
    PRIMARY KEY USING HASH (db, table_name, server_id)
)   ENGINE=NDB
PARTITION BY KEY(db,table_name);</pre><p>
      The columns in this table are described in the next few
      paragraphs.
    </p><p><b><code class="literal">db</code>. </b>
        The name of the database containing the table to be replicated.
      </p><p><b><code class="literal">table_name</code>. </b>
        The name of the table to be replicated.
      </p><p><b><code class="literal">server_id</code>. </b>
        The unique server ID of the MySQL instance (SQL node) where the
        table resides.
      </p><p><b><code class="literal">binlog_type</code>. </b>
        The type of binary logging to be employed. This is determined as
        shown in the following table:
</p>
<div class="informaltable">
<table summary="This table lists binlog_type values
        and provides the internal value and a description for
        each." border="1"><colgroup><col><col><col></colgroup><thead><tr><th scope="col">Value</th><th scope="col">Internal Value</th><th scope="col">Description</th></tr></thead><tbody><tr><td scope="row">0</td><td><code class="literal">NBT_DEFAULT</code></td><td>Use server default</td></tr><tr><td scope="row">1</td><td><code class="literal">NBT_NO_LOGGING</code></td><td>Do not log this table in the binary log</td></tr><tr><td scope="row">2</td><td><code class="literal">NBT_UPDATED_ONLY</code></td><td>Only updated attributes are logged</td></tr><tr><td scope="row">3</td><td><code class="literal">NBT_FULL</code></td><td>Log full row, even if not updated (MySQL server default behavior)</td></tr><tr><td scope="row">4</td><td><code class="literal">NBT_USE_UPDATE</code></td><td>(For generating <code class="literal">NBT_UPDATED_ONLY_USE_UPDATE</code> and
              <code class="literal">NBT_FULL_USE_UPDATE</code> values
              only—not intended for separate use)</td></tr><tr><td scope="row">5</td><td>[<span class="emphasis"><em>Not used</em></span>]</td><td>---</td></tr><tr><td scope="row">6</td><td><code class="literal">NBT_UPDATED_ONLY_USE_UPDATE</code> (equal to
              <code class="literal">NBT_UPDATED_ONLY | NBT_USE_UPDATE</code>)</td><td>Use updated attributes, even if values are unchanged</td></tr><tr><td scope="row">7</td><td><code class="literal">NBT_FULL_USE_UPDATE</code> (equal to <code class="literal">NBT_FULL |
NBT_USE_UPDATE</code>)</td><td>Use full row, even if values are unchanged</td></tr></tbody></table>
</div>
<p><b><code class="literal">conflict_fn</code>. </b>
        The conflict resolution function to be applied. This function
        must be specified as one of those shown in the following list:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-old" title="NDB$OLD(column_name)"><code class="literal">NDB$OLD(<em class="replaceable"><code>column_name</code></em></code>)</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-max" title="NDB$MAX(column_name)"><code class="literal">NDB$MAX(<em class="replaceable"><code>column_name</code></em></code>)</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-max-delete-win" title="NDB$MAX_DELETE_WIN(column_name)"><code class="literal">NDB$MAX_DELETE_WIN(<em class="replaceable"><code>column_name</code></em></code>)</a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-epoch" title="NDB$EPOCH()"><code class="literal">NDB$EPOCH()</code></a>
        </p></li><li class="listitem"><p>
          <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-epoch-trans" title="NDB$EPOCH_TRANS()"><code class="literal">NDB$EPOCH_TRANS()</code></a>
        </p></li><li class="listitem"><p>
          <code class="literal">NULL</code>
</p></li></ul>
</div>
<p>
      These functions are described in the next few paragraphs.
    </p><p><a name="mysql-cluster-replication-ndb-old"></a><b><code class="literal">NDB$OLD(<em class="replaceable"><code>column_name</code></em></code>). </b>
        <a class="indexterm" name="idp126463728"></a>

        If the value of <em class="replaceable"><code>column_name</code></em> is the
        same on both the master and the slave, then the update is
        applied; otherwise, the update is not applied on the slave and
        an exception is written to the log. This is illustrated by the
        following pseudocode:
      </p><pre class="programlisting">if (<em class="replaceable"><code>master_old_column_value</code></em> == <em class="replaceable"><code>slave_current_column_value</code></em>)
  apply_update();
else
  log_exception();
</pre><p>
      <a class="indexterm" name="idp126467680"></a>

      This function can be used for <span class="quote">“<span class="quote">same value wins</span>”</span>
      conflict resolution. This type of conflict resolution ensures that
      updates are not applied on the slave from the wrong master.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        The column value from the master's <span class="quote">“<span class="quote">before</span>”</span>
        image is used by this function.
</p>
</div>
<p><a name="mysql-cluster-replication-ndb-max"></a><b><code class="literal">NDB$MAX(<em class="replaceable"><code>column_name</code></em></code>). </b>
        <a class="indexterm" name="idp126472864"></a>

        If the <span class="quote">“<span class="quote">timestamp</span>”</span> column value for a given row
        coming from the master is higher than that on the slave, it is
        applied; otherwise it is not applied on the slave. This is
        illustrated by the following pseudocode:
      </p><pre class="programlisting">if (<em class="replaceable"><code>master_new_column_value</code></em> &gt; <em class="replaceable"><code>slave_current_column_value</code></em>)
  apply_update();
</pre><p>
      <a class="indexterm" name="idp126476736"></a>

      This function can be used for <span class="quote">“<span class="quote">greatest timestamp
      wins</span>”</span> conflict resolution. This type of conflict resolution
      ensures that, in the event of a conflict, the version of the row
      that was most recently updated is the version that persists.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        The column value from the master's <span class="quote">“<span class="quote">after</span>”</span>
        image is used by this function.
</p>
</div>
<p><a name="mysql-cluster-replication-ndb-max-delete-win"></a><b><code class="literal">NDB$MAX_DELETE_WIN(<em class="replaceable"><code>column_name</code></em></code>). </b>
        <a class="indexterm" name="idp126482016"></a>

        This is a variation on <code class="literal">NDB$MAX()</code>. Due to the
        fact that no timestamp is available for a delete operation, a
        delete using <code class="literal">NDB$MAX()</code> is in fact processed
        as <code class="literal">NDB$OLD</code>. However, for some use cases, this
        is not optimal. For <code class="literal">NDB$MAX_DELETE_WIN()</code>, if
        the <span class="quote">“<span class="quote">timestamp</span>”</span> column value for a given row adding
        or updating an existing row coming from the master is higher
        than that on the slave, it is applied. However, delete
        operations are treated as always having the higher value. This
        is illustrated in the following pseudocode:
      </p><pre class="programlisting">if ( (<em class="replaceable"><code>master_new_column_value</code></em> &gt; <em class="replaceable"><code>slave_current_column_value</code></em>)
        ||
      <em class="replaceable"><code>operation.type</code></em> == "delete")
  apply_update();
</pre><p>
      <a class="indexterm" name="idp126489488"></a>

      This function can be used for <span class="quote">“<span class="quote">greatest timestamp, delete
      wins</span>”</span> conflict resolution. This type of conflict resolution
      ensures that, in the event of a conflict, the version of the row
      that was deleted or (otherwise) most recently updated is the
      version that persists.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        As with <code class="literal">NDB$MAX()</code>, the column value from the
        master's <span class="quote">“<span class="quote">after</span>”</span> image is the value used by
        this function.
</p>
</div>
<p><a name="mysql-cluster-replication-ndb-epoch"></a><b><code class="literal">NDB$EPOCH()</code>. </b>
        The <code class="literal">NDB$EPOCH()</code> function tracks the order in
        which replicated epochs are applied on a slave MySQL Cluster
        relative to changes originating on the slave. This relative
        ordering is used to determine whether changes originating on the
        slave are concurrent with any changes that originate locally,
        and are therefore potentially in conflict.
      </p><p>
      Most of what follows in the description of
      <code class="literal">NDB$EPOCH()</code> also applies to
      <code class="literal">NDB$EPOCH_TRANS()</code>. Any exceptions are noted in
      the text.
    </p><p>
      <code class="literal">NDB$EPOCH()</code> is asymmetric, operating on one
      MySQL Cluster in a two-cluster circular replication configuration
      (sometimes referred to as <span class="quote">“<span class="quote">active-active</span>”</span>
      replication). We refer here to cluster on which it operates as the
      primary, and the other as the secondary. The slave on the primary
      is responsible for detecting and handling conflicts, while the
      slave on the secondaryis not involved in any conflict detection or
      handling.
    </p><p>
      When the slave on the primary detects conflicts, it injects events
      into its own binary log to compensate for these; this ensures that
      the secondary MySQL Cluster eventually realigns itself with the
      primary and so keeps the primary and secondary from diverging.
      This compensation and realignment mechanism requires that the
      primary MySQL Cluster always wins any conflicts with the
      secondary—that is, that the primary's changes are
      always used rather than those from the secondary in event of a
      conflict. This <span class="quote">“<span class="quote">primary always wins</span>”</span> rule has the
      following implications:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Operations that change data, once committed on the primary,
          are fully persistent and will not be undone or rolled back by
          conflict detection and resolution.
        </p></li><li class="listitem"><p>
          Data read from the primary is fully consistent. Any changes
          committed on the Primary (locally or from the slave) will not
          be reverted later.
        </p></li><li class="listitem"><p>
          Operations that change data on the secondary may later be
          reverted if the primary determines that they are in conflict.
        </p></li><li class="listitem"><p>
          Individual rows read on the secondary are self-consistent at
          all times, each row always reflecting either a state committed
          by the secondary, or one committed by the primary.
        </p></li><li class="listitem"><p>
          Sets of rows read on the secondary may not necessarily be
          consistent at a given single point in time. For
          <code class="literal">NDB$EPOCH_TRANS()</code>, this is a transient
          state; for <code class="literal">NDB$EPOCH()</code>, it can be a
          persistent state.
        </p></li><li class="listitem"><p>
          Assuming a period of sufficient length without any conflicts,
          all data on the secondary MySQL Cluster (eventually) becomes
          consistent with the primary's data.
</p></li></ul>
</div>
<p>
      <code class="literal">NDB$EPOCH()</code> and
      <code class="literal">NDB$EPOCH_TRANS()</code> do not require any user
      schema modifications, or application changes to provide conflict
      detection. However, careful thought must be given to the schema
      used, and the access patterns used, to verify that the complete
      system behaves within specified limits.
    </p><p>
      Each of the <code class="literal">NDB$EPOCH()</code> and
      <code class="literal">NDB$EPOCH_TRANS()</code> functions can take an
      optional parameter; this is the number of bits to use to represent
      the lower 32 bits of the epoch, and should be set to no less than
    </p><pre class="programlisting">CEIL( LOG2( <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenglobalcheckpoints"><code class="literal">TimeBetweenGlobalCheckpoints</code></a> / <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochs"><code class="literal">TimeBetweenEpochs</code></a> ), 1) 
</pre><p>
      For the default values of these configuration parameters (2000 and
      100 milliseconds, respectively), this gives a value of 5 bits, so
      the default value (6) should be sufficient, unless other values
      are used for
      <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenglobalcheckpoints"><code class="literal">TimeBetweenGlobalCheckpoints</code></a>,
      <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochs"><code class="literal">TimeBetweenEpochs</code></a>, or
      both. A value that is too small can result in false positives,
      while one that is too large could lead to excessive wasted space
      in the database.
    </p><p>
      Both <code class="literal">NDB$EPOCH()</code> and
      <code class="literal">NDB$EPOCH_TRANS()</code> insert entries for
      conflicting rows into the relevant exceptions tables, provided
      that these tables have been defined according to the same
      exception table schema rules as described elsewhere in this
      section (see <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-old" title="NDB$OLD(column_name)"><code class="literal">NDB$OLD(<em class="replaceable"><code>column_name</code></em></code>)</a>).
      Note that you need to create any exception table before creating
      the table with which it is to be used.
    </p><p>
      As with the other conflict detection functions discussed in this
      section, <code class="literal">NDB$EPOCH()</code> and
      <code class="literal">NDB$EPOCH_TRANS()</code> are activated by including
      relevant entries in the <code class="literal">mysql.ndb_replication</code>
      table (see <a class="xref" href="mysql-cluster.html#mysql-cluster-ndb-replication-table" title="The ndb_replication system table">The <code class="literal">ndb_replication</code> system table</a>).
      The roles of the primary and secondary MySQL Clusters in this
      scenario are fully determined by
      <code class="literal">mysql.ndb_replication</code> table entries.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        Because the conflict detection algorithms employed by
        <code class="literal">NDB$EPOCH()</code> and
        <code class="literal">NDB$EPOCH_TRANS()</code> are asymmetric, you must
        use different values for the primary slave's and secondary
        slave's <code class="literal">server_id</code> entries.
</p>
</div>
<p><a name="mysql-cluster-replication-ndb-epoch-statvars"></a><b><code class="literal">NDB$EPOCH()</code> and <code class="literal">NDB$EPOCH_TRANS()</code>
        status variables. </b>
        Several status variables can be used to monitor
        <code class="literal">NDB$EPOCH()</code> and
        <code class="literal">NDB$EPOCH_TRANS()</code> conflict detection. You can
        see how many rows have been found in conflict by
        <code class="literal">NDB$EPOCH()</code> since this slave was last
        restarted from the current value of the
        <a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_epoch"><code class="literal">Ndb_conflict_fn_epoch</code></a> system
        status variable.
      </p><p>
      <a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_epoch_trans"><code class="literal">Ndb_conflict_fn_epoch_trans</code></a>
      provides the number of rows that have been found directly in
      conflict by <code class="literal">NDB$EPOCH_TRANS()</code>; the number of
      rows actually realigned, including those affected due to their
      membership in or dependency on the same transactions as other
      conflicting rows, is given by
      <a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_trans_row_reject_count"><code class="literal">Ndb_conflict_trans_row_reject_count</code></a>.
    </p><p>
      For more information, see
      <a class="xref" href="mysql-cluster.html#mysql-cluster-status-variables" title="17.3.4.4. MySQL Cluster Status Variables">Section 17.3.4.4, “MySQL Cluster Status Variables”</a>.
    </p><p><a name="mysql-cluster-replication-ndb-epoch-limitations"></a><b>Limitations on <code class="literal">NDB$EPOCH()</code>. </b>
        The following limitations currently apply when using
        <code class="literal">NDB$EPOCH()</code> to perform conflict detection:
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Conflicts are detected using MySQL Cluster epoch boundaries,
          with granularity proportional to
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochs"><code class="literal">TimeBetweenEpochs</code></a>
          (default: 100 milliseconds). The minimum conflict window is
          the minimum time during which concurrent updates to the same
          data on both clusters always report a conflict. This is always
          a nonzero length of time, and is roughly proportional to
          <code class="literal">2 * (latency + queueing +
          TimeBetweenEpochs)</code>. This implies that—assuming
          the default for
          <a class="link" href="mysql-cluster.html#ndbparam-ndbd-timebetweenepochs"><code class="literal">TimeBetweenEpochs</code></a> and
          ignoring any latency between clusters (as well as any queuing
          delays)—the minimum conflict window size is
          approximately 200 milliseconds. This minimum window should be
          considered when looking at expected application
          <span class="quote">“<span class="quote">race</span>”</span> patterns.
        </p></li><li class="listitem"><p>
          Additional storage is required for tables using the
          <code class="literal">NDB$EPOCH()</code> and
          <code class="literal">NDB$EPOCH_TRANS()</code> functions; from 1 to 32
          bits extra space per row is required, depending on the value
          passed to the function.
        </p></li><li class="listitem"><p>
          Conflicts between delete operations may result in divergence
          between the primary and secondary. When a row is deleted on
          both clusters concurrently, the conflict can be detected, but
          is not recorded, since the row is deleted. This means that
          further conflicts during the propagation of any subsequent
          realignment operations will not be detected, which can lead to
          divergence.
        </p><p>
          Deletes should be externally serialized, or routed to one
          cluster only. Alternatively, a separate row should be updated
          transactionally with such deletes and any inserts that follow
          them, so that conflicts can be tracked across row deletes.
          This may require changes in applications.
        </p></li><li class="listitem"><p>
          Only two MySQL Clusters in a circular
          <span class="quote">“<span class="quote">active-active</span>”</span> configuration are currently
          supported when using <code class="literal">NDB$EPOCH()</code> or
          <code class="literal">NDB$EPOCH_TRANS()</code> for conflict detection.
        </p></li><li class="listitem"><p>
          Tables having <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">BLOB</code></a> or
          <a class="link" href="data-types.html#blob" title="11.4.3. The BLOB and TEXT Types"><code class="literal">TEXT</code></a> columns are not currently
          supported with <code class="literal">NDB$EPOCH()</code> or
          <code class="literal">NDB$EPOCH_TRANS()</code>.
</p></li></ul>
</div>
<p><a name="mysql-cluster-replication-ndb-epoch-trans"></a><b><code class="literal">NDB$EPOCH_TRANS()</code>. </b>
        <code class="literal">NDB$EPOCH_TRANS()</code> extends the
        <code class="literal">NDB$EPOCH()</code> function. Conflicts are detected
        and handled in the same way using the <span class="quote">“<span class="quote">primary wins
        all</span>”</span> rule (see
        <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-epoch" title="NDB$EPOCH()"><code class="literal">NDB$EPOCH()</code></a>) but with
        the extra condition that any other rows updated in the same
        transaction in which the conflict occurred are also regarded as
        being in conflict. In other words, where
        <code class="literal">NDB$EPOCH()</code> realigns individual conflicting
        rows on the secondary, <code class="literal">NDB$EPOCH_TRANS()</code>
        realigns conflicting transactions.
      </p><p>
      In addition, any transactions which are detectably dependent on a
      conflicting transaction are also regarded as being in conflict,
      these dependencies being determined by the contents of the
      secondary cluster's binary log. Since the binary log contains
      only data modification operations (inserts, updates, and deletes),
      only overlapping data modifications are used to determine
      dependencies between transactions.
    </p><p>
      <code class="literal">NDB$EPOCH_TRANS()</code> is subject to the same
      conditions and limitations as <code class="literal">NDB$EPOCH()</code>, and
      in addition requires that Version 2 binary log row events are used
      (<a class="link" href="replication.html#option_mysqld_log-bin-use-v1-row-events"><code class="option">--log-bin-use-v1-row-events</code></a> equal
      to 0), which adds a storage overhead of 2 bytes per event in the
      binary log. In addition, all transaction IDs must be recorded in
      the secondary's binary log
      (<a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-transaction-id"><code class="option">--ndb-log-transaction-id</code></a> option),
      which adds a further variable overhead (up to 13 bytes per row).
    </p><p>
      See <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-ndb-epoch" title="NDB$EPOCH()"><code class="literal">NDB$EPOCH()</code></a>.
    </p><p><b><code class="literal">NULL</code>. </b>
        Indicates that conflict resolution is not to be used for the
        corresponding table.
      </p><p><b>Status information. </b>
        A server status variable
        <a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_max"><code class="literal">Ndb_conflict_fn_max</code></a> provides a
        count of the number of times that a row was not applied on the
        current SQL node due to <span class="quote">“<span class="quote">greatest timestamp wins</span>”</span>
        conflict resolution since the last time that
        <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> was started.
      </p><p>
      The number of times that a row was not applied as the result of
      <span class="quote">“<span class="quote">same timestamp wins</span>”</span> conflict resolution on a given
      <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> since the last time it was restarted is
      given by the global status variable
      <a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_old"><code class="literal">Ndb_conflict_fn_old</code></a>. In addition
      to incrementing
      <a class="link" href="mysql-cluster.html#statvar_Ndb_conflict_fn_old"><code class="literal">Ndb_conflict_fn_old</code></a>, the primary
      key of the row that was not used is inserted into an
      <em class="firstterm">exceptions table</em>, as explained later in
      this section.
    </p><p><b>Exceptions table. </b>
        To use the <code class="literal">NDB$OLD()</code> conflict resolution
        function, it is also necessary to create an exceptions table
        corresponding to each <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table for
        which this type of conflict resolution is to be employed. This
        is also true when using <code class="literal">NDB$EPOCH()</code> or
        <code class="literal">NDB$EPOCH_TRANS()</code>. The name of this table is
        that of the table for which conflict resolution is to be
        applied, with the string <code class="literal">$EX</code> appended. (For
        example, if the name of the original table is
        <code class="literal">mytable</code>, the name of the corresponding
        exception table name should be <code class="literal">mytable$EX</code>.)
        This table is created as follows:
      </p><pre class="programlisting">CREATE TABLE <em class="replaceable"><code>original_table</code></em>$EX  (
    server_id INT UNSIGNED,
    master_server_id INT UNSIGNED,
    master_epoch BIGINT UNSIGNED,
    count INT UNSIGNED,
    <em class="replaceable"><code>original_table_pk_columns</code></em>,
    [<em class="replaceable"><code>additional_columns</code></em>,]
    PRIMARY KEY(server_id, master_server_id, master_epoch, count)
) ENGINE=NDB;
</pre><p>
      The first four columns are required. Following these columns, the
      columns making up the original table's primary key should be
      copied in the order in which they are used to define the primary
      key of the original table.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Note
</div>
<p xmlns="">
        The names of the first four columns and the columns matching the
        original table's primary key columns are not critical; however,
        we suggest for reasons of clarity and consistency, that you use
        the names shown here for the
        <a class="link" href="server-administration.html#sysvar_server_id"><code class="literal">server_id</code></a>,
        <code class="literal">master_server_id</code>,
        <code class="literal">master_epoch</code>, and <code class="literal">count</code>
        columns, and that you use the same names as in the original
        table for the columns matching those in the original table's
        primary key.
      </p><p xmlns="">
        The data types for the columns duplicating the primary key
        columns of the original table should be the same as for (or
        larger than) the original columns.
</p>
</div>
<p>
      Additional columns may optionally be defined following these
      columns, but not before any of them; any such extra columns cannot
      be <code class="literal">NOT NULL</code>. The exception table's primary
      key must be defined as shown. The exception table must use the
      <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> storage engine. An example that
      uses <code class="literal">NDB$OLD()</code> with an exceptions table is
      shown later in this section.
</p>
<div xmlns="http://www.w3.org/1999/xhtml" class="important" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title">
Important
</div>
<p xmlns="">
        The <code class="literal">mysql.ndb_replication</code> table is read when
        a data table is set up for replication, so the row corresponding
        to a table to be replicated must be inserted into
        <code class="literal">mysql.ndb_replication</code>
        <span class="emphasis"><em>before</em></span> the table to be replicated is
        created.
</p>
</div>
<p><b>Examples. </b>
        The following examples assume that you have already a working
        MySQL Cluster replication setup, as described in
        <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-preparation" title="17.6.5. Preparing the MySQL Cluster for Replication">Section 17.6.5, “Preparing the MySQL Cluster for Replication”</a>, and
        <a class="xref" href="mysql-cluster.html#mysql-cluster-replication-starting" title="17.6.6. Starting MySQL Cluster Replication (Single Replication Channel)">Section 17.6.6, “Starting MySQL Cluster Replication (Single Replication Channel)”</a>.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b><code class="literal">NDB$MAX()</code> example. </b>
            Suppose you wish to enable <span class="quote">“<span class="quote">greatest timestamp
            wins</span>”</span> conflict resolution on table
            <code class="literal">test.t1</code>, using column
            <code class="literal">mycol</code> as the <span class="quote">“<span class="quote">timestamp</span>”</span>.
            This can be done using the following steps:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
              Make sure that you have started the master
              <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> with
              <a class="link" href="mysql-cluster.html#option_mysqld_ndb-log-update-as-write"><code class="option">--ndb-log-update-as-write=OFF</code></a>.
            </p></li><li class="listitem"><p>
              On the master, perform this
              <a class="link" href="sql-syntax.html#insert" title="13.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement:
            </p><pre class="programlisting">INSERT INTO mysql.ndb_replication
    VALUES ('test', 't1', 0, NULL, 'NDB$MAX(mycol)');</pre><p>
              Inserting a 0 into the
              <a class="link" href="server-administration.html#sysvar_server_id"><code class="literal">server_id</code></a> indicates that
              all SQL nodes accessing this table should use conflict
              resolution. If you want to use conflict resolution on a
              specific <a class="link" href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span class="command"><strong>mysqld</strong></span></a> only, use the actual
              server ID.
            </p><p>
              Inserting <code class="literal">NULL</code> into the
              <code class="literal">binlog_type</code> column has the same effect
              as inserting 0 (<code class="literal">NBT_DEFAULT</code>); the
              server default is used.
            </p></li><li class="listitem"><p>
              Create the <code class="literal">test.t1</code> table:
            </p><pre class="programlisting">CREATE TABLE test.t1 (
    <em class="replaceable"><code>columns</code></em>
    mycol INT UNSIGNED,
    <em class="replaceable"><code>columns</code></em>
) ENGINE=NDB;
</pre><p>
              Now, when updates are done on this table, conflict
              resolution is applied, and the version of the row having
              the greatest value for <code class="literal">mycol</code> is written
              to the slave.
</p></li></ol>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<div class="admon-title">
Note
</div>
<p xmlns="">
            Other <code class="literal">binlog_type</code> options—such as
            <code class="literal">NBT_UPDATED_ONLY_USE_UPDATE</code> should be
            used to control logging on the master using the
            <code class="literal">ndb_replication</code> table rather than by
            using command-line options.
</p>
</div>
</li><li class="listitem"><p><b><code class="literal">NDB$OLD()</code> example. </b>
            Suppose an <a class="link" href="mysql-cluster.html" title="Chapter 17. MySQL Cluster NDB 7.3"><code class="literal">NDB</code></a> table such as
            the one defined here is being replicated, and you wish to
            enable <span class="quote">“<span class="quote">same timestamp wins</span>”</span> conflict
            resolution for updates to this table:
          </p><pre class="programlisting">CREATE TABLE test.t2  (
    a INT UNSIGNED NOT NULL,
    b CHAR(25) NOT NULL,
    <em class="replaceable"><code>columns</code></em>,
    mycol INT UNSIGNED NOT NULL,
    <em class="replaceable"><code>columns</code></em>,
    PRIMARY KEY pk (a, b)
)   ENGINE=NDB;
</pre><p>
          The following steps are required, in the order shown:
</p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p>
              First—and <span class="emphasis"><em>prior</em></span> to creating
              <code class="literal">test.t2</code>—you must insert a row
              into the
              <a class="link" href="mysql-cluster.html#mysql-cluster-ndb-replication-table" title="The ndb_replication system table"><code class="literal">mysql.ndb_replication</code></a>
              table, as shown here:
            </p><pre class="programlisting">INSERT INTO mysql.ndb_replication
    VALUES ('test', 't2', 0, NULL, 'NDB$OLD(mycol)');</pre><p>
              Possible values for the <code class="literal">binlog_type</code>
              column are shown earlier in this section. The value
              <code class="literal">'NDB$OLD(mycol)'</code> should be inserted
              into the <code class="literal">conflict_fn</code> column.
            </p></li><li class="listitem"><p>
              Create an appropriate exceptions table for
              <code class="literal">test.t2</code>. The table creation statement
              shown here includes all required columns; any additional
              columns must be declared following these columns, and
              before the definition of the table's primary key.
            </p><pre class="programlisting">CREATE TABLE test.t2$EX  (
    server_id SMALLINT UNSIGNED,
    master_server_id INT UNSIGNED,
    master_epoch BIGINT UNSIGNED,
    count BIGINT UNSIGNED,
    a INT UNSIGNED NOT NULL,
    b CHAR(25) NOT NULL,
    [<em class="replaceable"><code>additional_columns</code></em>,]
    PRIMARY KEY(server_id, master_server_id, master_epoch, count)
)   ENGINE=NDB;
</pre></li><li class="listitem"><p>
              Create the table <code class="literal">test.t2</code> as shown
              previously.
</p></li></ol>
</div>
<p>
          These steps must be followed for every table for which you
          wish to perform conflict resolution using
          <code class="literal">NDB$OLD()</code>. For each such table, there must
          be a corresponding row in
          <code class="literal">mysql.ndb_replication</code>, and there must be an
          exceptions table in the same database as the table being
          replicated.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="mysql-cluster-news"></a>17.7. MySQL Cluster Release Notes</h2>

</div>

</div>

</div>
<p>
      Changes in MySQL Cluster releases documented separately from this
      reference manual; you can find release notes for the changes in
      each MySQL Cluster NDB 7.3 release at
      <a class="ulink" href="http://dev.mysql.com/doc/relnotes/mysql-cluster/7.3/en/" target="_top">MySQL
      Cluster NDB 7.3 Release Notes</a>. You can also obtain release
      notes for older versions of MySQL Cluster from
      <a class="ulink" href="http://dev.mysql.com/doc//index-cluster.html#cluster-relnotes" target="_top">MySQL
      Cluster Release Notes</a>.
</p>
</div>

</div>
<div class="copyright-footer">
    Copyright © 1997, 2013, Oracle and/or its affiliates. All
    rights reserved.
<a href="preface.html#legalnotice">Legal Notices</a>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left"><a accesskey="p" href="replication.html">Prev</a></td>
<td width="20%" align="center"><a accesskey="u" href="">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="partitioning.html">Next</a></td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Chapter 16. Replication</td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top">Chapter 18. Partitioning</td>
</tr>
</table>
</div>
</body>
</html>

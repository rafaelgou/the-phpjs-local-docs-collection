<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Algo &Uacute;til</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="tutorial.firstpage.html">Sua primeira p&aacute;gina PHP</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="tutorial.forms.html">Tratando Formul&aacute;rios</a></div>
 <div class="up"><a href="tutorial.html">Um simples tutorial</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="tutorial.useful" class="sect1">
   <h2 class="title">Algo Útil</h2>
   <p class="para">
    Vamos fazer alguma coisa um pouco mais útil agora. Nós iremos checar 
    qual é o tipo de navegador que o visitante está utilizando para ver 
    a nossa página. De fato, para fazer isto nós teremos que checar 
    qual é o valor da string agente que o navegador envia como parte de 
    sua requisição HTTP. Esta informação é armazenada em uma <a href="language.variables.html" class="link">variável</a>. Variáveis sempre 
    começam com um símbolo de cifrão no PHP. A variável que nos interessa 
    no momento é a <var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER["HTTP_USER_AGENT"]</a></var></var>.
   </p>
   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <strong>Nota sobre as Auto-Globais do PHP</strong><br />
    <p class="para">
     <a href="reserved.variables.server.html" class="link">$_SERVER</a> é uma variável 
     especial reservada do PHP que contém todas as informações sobre o servidor web. 
     Ela é conhecida como uma Auto-Global (ou Superglobal). Veja a página do manual 
     relacionada as <a href="language.variables.superglobals.html" class="link">Auto-globais</a> 
     para mais informações. Estas variáveis especiais foram introduzidas no PHP 
     <a href="http://www.php.net/releases/4_1_0.php" class="link external">&raquo;&nbsp;4.1.0</a>.  Antes desta versão, nós usávamos 
     os velhos arrays <var class="varname"><var class="varname">$HTTP_*_VARS</var></var>, 
     como o <var class="varname"><var class="varname">$HTTP_SERVER_VARS</var></var>.  Entretanto, este estilo antigo 
     foi removido, porém ainda existem. (Veja a nota sobre <a href="tutorial.oldcode.html" class="link">códigos antigos</a>.)
    </p>
   </p></blockquote>
   <p class="para">
    Para chamar esta variável, nós podemos fazer isto:
   </p>
   <p class="para">
    <div class="example" id="example-3">
    <p><strong>Exemplo #1 Imprimindo a variável (Elemento Array)</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">"HTTP_USER_AGENT"</span><span style="color: #007700">];&nbsp;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     Um exemplo de saída deste script poderia ser:
     <div class="example-contents screen"><br />
Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)<br />
     </div>
    </p></div>
   </div>
   </p>
   <p class="para">
    Há muitos <a href="language.types.html" class="link">tipos</a> de 
    variáveis disponíveis no PHP. No exemplo acima nós escrevemos 
    um elemento <a href="language.types.array.html" class="link">Array</a>. 
    Arrays podem ser muito úteis.
   </p>
   <p class="para">
    <var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER</a></var></var> é somente uma variável que é automaticamente 
    disponibilizada para você pelo PHP. Uma lista de Variáveis Reservadas pode 
    ser vista na seção <a href="reserved.variables.html" class="link">Variáveis Reservadas</a> 
    do manual ou você pode pegar uma lista completa delas criando um arquivo como 
    este:
   </p>
   <p class="para">
    <div class="example" id="example-4">
     <p><strong>Exemplo #2 Exibindo todas as variáveis pré-definidas usando a função  <span class="function"><a href="function.phpinfo.html" class="function">phpinfo()</a></span></strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&nbsp;phpinfo</span><span style="color: #007700">();&nbsp;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="para">
    Se você carregar este arquivo no seu navegador você irá ver uma página 
    com todas as informações sobre o PHP junto com uma lista de todos os tipos 
    de variáveis disponíveis para você.
   </p>
   <p class="para">
    Você pode colocar múltiplas declarações PHP dentro da tag PHP e 
    criar pequenos blocos de códigos que fazem muito mais do que um 
    simples echo. Por exemplo, se você quer checar se o navegador é 
    o Internet Explorer faça algo como isso:
   </p>
   <p class="para">
    <div class="example" id="example-5">
     <p><strong>Exemplo #3 Exemplo usando <a href="language.control-structures.html" class="link">controles de declarações</a> e <a href="language.functions.html" class="link">funções</a></strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strstr</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">"HTTP_USER_AGENT"</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">"MSIE"</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Você&nbsp;está&nbsp;usando&nbsp;o&nbsp;Internet&nbsp;Explorer&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <div class="example-contents"><p>
     Um exemplo de Saída seria:
      <div class="example-contents screen">
<div class="cdata"><pre>
Você está usando o Internet Explorer&lt;br /&gt;
</pre></div>
      </div>
     </p></div>
    </div>
   </p>
   <p class="para">
    Aqui nós mostraremos alguns novos conceitos. Nós temos a 
    declaração <a href="control-structures.if.html" class="link">if</a>. 
    Se você é familiar com a sintaxe básica usada pela linguagem 
    C isto parecerá ser lógico para você. Se você não conhece a 
    linguagem C ou alguma outra linguagem onde a sintaxe usada acima 
    é usada, você provavelmente precisará de um livro introdutório sobre o 
    PHP, dê uma lida nos primeiros capítulos do livro, ou leia a parte 
    sobre a <a href="langref.html" class="link">Referência da Linguagem</a> no manual. 
    Você pode encontrar uma lista de livros sobre PHP em 
    at <a href="http://www.php.net/books.php" class="link external">&raquo;&nbsp;http://www.php.net/books.php</a>.
   </p>
   <p class="para">
    O segundo conceito que iremos abordar é a chamada à função  <span class="function"><a href="function.strstr.html" class="function">strstr()</a></span>. 
    A função  <span class="function"><a href="function.strstr.html" class="function">strstr()</a></span> é trazida junto com o PHP, ela faz uma busca 
    em uma palavra por uma outra palavra. Neste caso nós procuramos pela palavra 
    <em>&quot;MSIE&quot;</em> dentro de <var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER["HTTP_USER_AGENT"]</a></var></var>. 
    Se a palavra for encontrada, a função retorna <strong><code>TRUE</code></strong> e se ela não for encontrada 
    a função retorna <strong><code>FALSE</code></strong>. Se o retorno for <strong><code>TRUE</code></strong>, a declaração 
    <a href="control-structures.if.html" class="link">if</a> ocorre e o código dentro dela 
    é executado. Caso contrário, o código não é executado. Sinta-se à vontade para 
    criar exemplos similares com o <a href="control-structures.if.html" class="link">if</a>, 
    <a href="control-structures.else.html" class="link">else</a>, e outras funções como a 
     <span class="function"><a href="function.strtoupper.html" class="function">strtoupper()</a></span> e 
     <span class="function"><a href="function.strlen.html" class="function">strlen()</a></span>.  Cada uma delas está no manual com seus respectivos 
    exemplos.
   </p>
   <p class="para">
    Nós podemos avançar agora e mostrar a você como alternar entre os modos 
    PHP mesmo que você esteja executando blocos de códigos:
   </p>
   <p class="para">
    <div class="example" id="example-6">
     <p><strong>Exemplo #4 Mesclando entre os modos PHP e HTML</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strstr</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">"HTTP_USER_AGENT"</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">"MSIE"</span><span style="color: #007700">))&nbsp;{<br /></span><span style="color: #0000BB">?&gt;<br /></span>&lt;h3&gt;strstr&nbsp;retorna&nbsp;verdadeiro&lt;/h3&gt;<br />&lt;center&gt;&lt;b&gt;Você&nbsp;está&nbsp;usando&nbsp;o&nbsp;Internet&nbsp;Explorer&lt;/b&gt;&lt;/center&gt;<br /><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">}&nbsp;else&nbsp;{<br /></span><span style="color: #0000BB">?&gt;<br /></span>&lt;h3&gt;strstr&nbsp;retorna&nbsp;falso&lt;/h3&gt;<br />&lt;center&gt;&lt;b&gt;Você&nbsp;não&nbsp;está&nbsp;usando&nbsp;o&nbsp;Internet&nbsp;Explorer&lt;/b&gt;&lt;/center&gt;<br /><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <div class="example-contents"><p>
      Um exemplo de saída deste script poderia ser:
      <div class="example-contents screen">
<div class="cdata"><pre>
&lt;h3&gt;strstr retorna verdadeiro&lt;/h3&gt;
&lt;center&gt;&lt;b&gt;Você está usando o Internet Explorer&lt;/b&gt;&lt;/center&gt;
</pre></div>
      </div>
     </p></div>
    </div>
   </p>
   <p class="para">
    Ao invés de usar a declaração echo do PHP para imprimir a saída dos dados, nós saímos do 
    modo do PHP e usamos o HTML normal. O importante à notar aqui é que a lógica do script 
    continua intacta. Somente alguns blocos HTML será enviados de acordo com o que a declaração 
     <span class="function"><a href="function.strstr.html" class="function">strstr()</a></span> retornar, ou seja <strong><code>TRUE</code></strong> ou <strong><code>FALSE</code></strong>. Em outras palavras, 
    se a palavra <em>MSIE</em> for encontrada ou não.
   </p>
  </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="tutorial.firstpage.html">Sua primeira p&aacute;gina PHP</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="tutorial.forms.html">Tratando Formul&aacute;rios</a></div>
 <div class="up"><a href="tutorial.html">Um simples tutorial</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>

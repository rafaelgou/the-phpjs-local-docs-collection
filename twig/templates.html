<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Twig for Template Designers &mdash; TwigDocs 1.15 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.15',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="TwigDocs 1.15 documentation" href="index.html" />
    <link rel="next" title="Twig for Developers" href="api.html" />
    <link rel="prev" title="Introduction" href="intro.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="api.html" title="Twig for Developers"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="intro.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">TwigDocs 1.15 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="twig-for-template-designers">
<h1>Twig for Template Designers<a class="headerlink" href="#twig-for-template-designers" title="Permalink to this headline">¶</a></h1>
<p>This document describes the syntax and semantics of the template engine and
will be most useful as reference to those creating Twig templates.</p>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>A template is simply a text file. It can generate any text-based format (HTML,
XML, CSV, LaTeX, etc.). It doesn&#8217;t have a specific extension, <tt class="docutils literal"><span class="pre">.html</span></tt> or
<tt class="docutils literal"><span class="pre">.xml</span></tt> are just fine.</p>
<p>A template contains <strong>variables</strong> or <strong>expressions</strong>, which get replaced with
values when the template is evaluated, and <strong>tags</strong>, which control the logic
of the template.</p>
<p>Below is a minimal template that illustrates a few basics. We will cover the
details later on:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>My Webpage<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;navigation&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">navigation</span> <span class="cp">%}</span>
            <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">item.href</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">item.caption</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
        <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
        <span class="nt">&lt;/ul&gt;</span>

        <span class="nt">&lt;h1&gt;</span>My Webpage<span class="nt">&lt;/h1&gt;</span>
        <span class="cp">{{</span> <span class="nv">a_variable</span> <span class="cp">}}</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>There are two kinds of delimiters: <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">...</span> <span class="pre">%}</span></tt> and <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">...</span> <span class="pre">}}</span></tt>. The first
one is used to execute statements such as for-loops, the latter prints the
result of an expression to the template.</p>
</div>
<div class="section" id="ides-integration">
<h2>IDEs Integration<a class="headerlink" href="#ides-integration" title="Permalink to this headline">¶</a></h2>
<p>Many IDEs support syntax highlighting and auto-completion for Twig:</p>
<ul class="simple">
<li><em>Textmate</em> via the <a class="reference external" href="https://github.com/Anomareh/PHP-Twig.tmbundle">Twig bundle</a></li>
<li><em>Vim</em> via the <a class="reference external" href="http://jinja.pocoo.org/docs/integration/#vim">Jinja syntax plugin</a> or the <a class="reference external" href="https://github.com/evidens/vim-twig">vim-twig plugin</a></li>
<li><em>Netbeans</em> via the <a class="reference external" href="http://plugins.netbeans.org/plugin/37069/php-twig">Twig syntax plugin</a> (until 7.1, native as of 7.2)</li>
<li><em>PhpStorm</em> (native as of 2.1)</li>
<li><em>Eclipse</em> via the <a class="reference external" href="https://github.com/pulse00/Twig-Eclipse-Plugin">Twig plugin</a></li>
<li><em>Sublime Text</em> via the <a class="reference external" href="https://github.com/Anomareh/PHP-Twig.tmbundle">Twig bundle</a></li>
<li><em>GtkSourceView</em> via the <a class="reference external" href="https://github.com/gabrielcorpse/gedit-twig-template-language">Twig language definition</a> (used by gedit and other projects)</li>
<li><em>Coda</em> and <em>SubEthaEdit</em> via the <a class="reference external" href="https://github.com/bobthecow/Twig-HTML.mode">Twig syntax mode</a></li>
<li><em>Coda 2</em> via the <a class="reference external" href="https://github.com/muxx/Twig-HTML.mode">other Twig syntax mode</a></li>
<li><em>Komodo</em> and <em>Komodo Edit</em> via the Twig highlight/syntax check mode</li>
<li><em>Notepad++</em> via the <a class="reference external" href="https://github.com/Banane9/notepadplusplus-twig">Notepad++ Twig Highlighter</a></li>
<li><em>Emacs</em> via <a class="reference external" href="http://web-mode.org/">web-mode.el</a></li>
</ul>
</div>
<div class="section" id="variables">
<h2>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h2>
<p>The application passes variables to the templates you can mess around in the
template. Variables may have attributes or elements on them you can access
too. How a variable looks like heavily depends on the application providing
those.</p>
<p>You can use a dot (<tt class="docutils literal"><span class="pre">.</span></tt>) to access attributes of a variable (methods or
properties of a PHP object, or items of a PHP array), or the so-called
&#8220;subscript&#8221; syntax (<tt class="docutils literal"><span class="pre">[]</span></tt>):</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">foo.bar</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">foo</span><span class="o">[</span><span class="s1">&#39;bar&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>When the attribute contains special characters (like <tt class="docutils literal"><span class="pre">-</span></tt> that would be
interpreted as the minus operator), use the <tt class="docutils literal"><span class="pre">attribute</span></tt> function instead to
access the variable attribute:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# equivalent to the non-working foo.data-foo #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">attribute</span><span class="o">(</span><span class="nv">foo</span><span class="o">,</span> <span class="s1">&#39;data-foo&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It&#8217;s important to know that the curly braces are <em>not</em> part of the
variable but the print statement. If you access variables inside tags
don&#8217;t put the braces around.</p>
</div>
<p>If a variable or attribute does not exist, you will get back a <tt class="docutils literal"><span class="pre">null</span></tt> value
when the <tt class="docutils literal"><span class="pre">strict_variables</span></tt> option is set to <tt class="docutils literal"><span class="pre">false</span></tt>, otherwise Twig will
throw an error (see <a class="reference internal" href="api.html#environment-options"><em>environment options</em></a>).</p>
<div class="sidebar">
<p class="first sidebar-title">Implementation</p>
<p>For convenience sake <tt class="docutils literal"><span class="pre">foo.bar</span></tt> does the following things on the PHP
layer:</p>
<ul class="simple">
<li>check if <tt class="docutils literal"><span class="pre">foo</span></tt> is an array and <tt class="docutils literal"><span class="pre">bar</span></tt> a valid element;</li>
<li>if not, and if <tt class="docutils literal"><span class="pre">foo</span></tt> is an object, check that <tt class="docutils literal"><span class="pre">bar</span></tt> is a valid property;</li>
<li>if not, and if <tt class="docutils literal"><span class="pre">foo</span></tt> is an object, check that <tt class="docutils literal"><span class="pre">bar</span></tt> is a valid method
(even if <tt class="docutils literal"><span class="pre">bar</span></tt> is the constructor - use <tt class="docutils literal"><span class="pre">__construct()</span></tt> instead);</li>
<li>if not, and if <tt class="docutils literal"><span class="pre">foo</span></tt> is an object, check that <tt class="docutils literal"><span class="pre">getBar</span></tt> is a valid method;</li>
<li>if not, and if <tt class="docutils literal"><span class="pre">foo</span></tt> is an object, check that <tt class="docutils literal"><span class="pre">isBar</span></tt> is a valid method;</li>
<li>if not, return a <tt class="docutils literal"><span class="pre">null</span></tt> value.</li>
</ul>
<p><tt class="docutils literal"><span class="pre">foo['bar']</span></tt> on the other hand only works with PHP arrays:</p>
<ul class="last simple">
<li>check if <tt class="docutils literal"><span class="pre">foo</span></tt> is an array and <tt class="docutils literal"><span class="pre">bar</span></tt> a valid element;</li>
<li>if not, return a <tt class="docutils literal"><span class="pre">null</span></tt> value.</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you want to get a dynamic attribute on a variable, use the
<a class="reference internal" href="functions/attribute.html"><em>attribute</em></a> function instead.</p>
</div>
<div class="section" id="global-variables">
<h3>Global Variables<a class="headerlink" href="#global-variables" title="Permalink to this headline">¶</a></h3>
<p>The following variables are always available in templates:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">_self</span></tt>: references the current template;</li>
<li><tt class="docutils literal"><span class="pre">_context</span></tt>: references the current context;</li>
<li><tt class="docutils literal"><span class="pre">_charset</span></tt>: references the current charset.</li>
</ul>
</div>
<div class="section" id="setting-variables">
<h3>Setting Variables<a class="headerlink" href="#setting-variables" title="Permalink to this headline">¶</a></h3>
<p>You can assign values to variables inside code blocks. Assignments use the
<a class="reference internal" href="tags/set.html"><em>set</em></a> tag:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">{</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="o">}</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="filters">
<h2>Filters<a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h2>
<p>Variables can be modified by <strong>filters</strong>. Filters are separated from the
variable by a pipe symbol (<tt class="docutils literal"><span class="pre">|</span></tt>) and may have optional arguments in
parentheses. Multiple filters can be chained. The output of one filter is
applied to the next.</p>
<p>The following example removes all HTML tags from the <tt class="docutils literal"><span class="pre">name</span></tt> and title-cases
it:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">name</span><span class="o">|</span><span class="nf">striptags</span><span class="o">|</span><span class="nf">title</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Filters that accept arguments have parentheses around the arguments. This
example will join a list by commas:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">list</span><span class="o">|</span><span class="nf">join</span><span class="o">(</span><span class="s1">&#39;, &#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>To apply a filter on a section of code, wrap it with the
<a class="reference internal" href="tags/filter.html"><em>filter</em></a> tag:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">filter</span> <span class="nf">upper</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    This text becomes uppercase</span>
<span class="cp">{%</span> <span class="k">endfilter</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Go to the <a class="reference internal" href="filters/index.html"><em>filters</em></a> page to learn more about the built-in
filters.</p>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<p>Functions can be called to generate content. Functions are called by their
name followed by parentheses (<tt class="docutils literal"><span class="pre">()</span></tt>) and may have arguments.</p>
<p>For instance, the <tt class="docutils literal"><span class="pre">range</span></tt> function returns a list containing an arithmetic
progression of integers:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="nv">range</span><span class="o">(</span><span class="m">0</span><span class="o">,</span> <span class="m">3</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="x">,</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Go to the <a class="reference internal" href="functions/index.html"><em>functions</em></a> page to learn more about the
built-in functions.</p>
</div>
<div class="section" id="named-arguments">
<h2>Named Arguments<a class="headerlink" href="#named-arguments" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.12: </span>Support for named arguments was added in Twig 1.12.</p>
</div>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="nv">range</span><span class="o">(</span><span class="nv">low</span><span class="o">=</span><span class="m">1</span><span class="o">,</span> <span class="nv">high</span><span class="o">=</span><span class="m">10</span><span class="o">,</span> <span class="nv">step</span><span class="o">=</span><span class="m">2</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="x">,</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Using named arguments makes your templates more explicit about the meaning of
the values you pass as arguments:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">data</span><span class="o">|</span><span class="nf">convert_encoding</span><span class="o">(</span><span class="s1">&#39;UTF-8&#39;</span><span class="o">,</span> <span class="s1">&#39;iso-2022-jp&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>

<span class="c">{# versus #}</span><span class="x"></span>

<span class="cp">{{</span> <span class="nv">data</span><span class="o">|</span><span class="nf">convert_encoding</span><span class="o">(</span><span class="nv">from</span><span class="o">=</span><span class="s1">&#39;iso-2022-jp&#39;</span><span class="o">,</span> <span class="nv">to</span><span class="o">=</span><span class="s1">&#39;UTF-8&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Named arguments also allow you to skip some arguments for which you don&#8217;t want
to change the default value:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# the first argument is the date format, which defaults to the global date format if null is passed #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="s2">&quot;now&quot;</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="nv">null</span><span class="o">,</span> <span class="s2">&quot;Europe/Paris&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>

<span class="c">{# or skip the format value by using a named argument for the timezone #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="s2">&quot;now&quot;</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="nv">timezone</span><span class="o">=</span><span class="s2">&quot;Europe/Paris&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>You can also use both positional and named arguments in one call, in which
case positional arguments must always come before named arguments:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="s2">&quot;now&quot;</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="s1">&#39;d/m/Y H:i&#39;</span><span class="o">,</span> <span class="nv">timezone</span><span class="o">=</span><span class="s2">&quot;Europe/Paris&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Each function and filter documentation page has a section where the names
of all arguments are listed when supported.</p>
</div>
</div>
<div class="section" id="control-structure">
<h2>Control Structure<a class="headerlink" href="#control-structure" title="Permalink to this headline">¶</a></h2>
<p>A control structure refers to all those things that control the flow of a
program - conditionals (i.e. <tt class="docutils literal"><span class="pre">if</span></tt>/<tt class="docutils literal"><span class="pre">elseif</span></tt>/<tt class="docutils literal"><span class="pre">else</span></tt>), <tt class="docutils literal"><span class="pre">for</span></tt>-loops, as
well as things like blocks. Control structures appear inside <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">...</span> <span class="pre">%}</span></tt>
blocks.</p>
<p>For example, to display a list of users provided in a variable called
<tt class="docutils literal"><span class="pre">users</span></tt>, use the <a class="reference internal" href="tags/for.html"><em>for</em></a> tag:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="x">&lt;h1&gt;Members&lt;/h1&gt;</span>
<span class="x">&lt;ul&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="tags/if.html"><em>if</em></a> tag can be used to test an expression:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">users</span><span class="o">|</span><span class="nf">length</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;ul&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;/ul&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Go to the <a class="reference internal" href="tags/index.html"><em>tags</em></a> page to learn more about the built-in tags.</p>
</div>
<div class="section" id="comments">
<h2>Comments<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h2>
<p>To comment-out part of a line in a template, use the comment syntax <tt class="docutils literal"><span class="pre">{#</span> <span class="pre">...</span>
<span class="pre">#}</span></tt>. This is useful for debugging or to add information for other template
designers or yourself:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# note: disabled template because we no longer use this</span>
<span class="c">    {% for user in users %}</span>
<span class="c">        ...</span>
<span class="c">    {% endfor %}</span>
<span class="c">#}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="including-other-templates">
<h2>Including other Templates<a class="headerlink" href="#including-other-templates" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="tags/include.html"><em>include</em></a> tag is useful to include a template and
return the rendered content of that template into the current one:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;sidebar.html&#39;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Per default included templates are passed the current context.</p>
<p>The context that is passed to the included template includes variables defined
in the template:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">box</span> <span class="k">in</span> <span class="nv">boxes</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;render_box.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The included template <tt class="docutils literal"><span class="pre">render_box.html</span></tt> is able to access <tt class="docutils literal"><span class="pre">box</span></tt>.</p>
<p>The filename of the template depends on the template loader. For instance, the
<tt class="docutils literal"><span class="pre">Twig_Loader_Filesystem</span></tt> allows you to access other templates by giving the
filename. You can access templates in subdirectories with a slash:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;sections/articles/sidebar.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>This behavior depends on the application embedding Twig.</p>
</div>
<div class="section" id="template-inheritance">
<h2>Template Inheritance<a class="headerlink" href="#template-inheritance" title="Permalink to this headline">¶</a></h2>
<p>The most powerful part of Twig is template inheritance. Template inheritance
allows you to build a base &#8220;skeleton&#8221; template that contains all the common
elements of your site and defines <strong>blocks</strong> that child templates can
override.</p>
<p>Sounds complicated but is very basic. It&#8217;s easier to understand it by
starting with an example.</p>
<p>Let&#8217;s define a base template, <tt class="docutils literal"><span class="pre">base.html</span></tt>, which defines a simple HTML
skeleton document that you might use for a simple two-column page:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span>
            <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;style.css&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;title&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span> - My Webpage<span class="nt">&lt;/title&gt;</span>
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;footer&quot;</span><span class="nt">&gt;</span>
            <span class="cp">{%</span> <span class="k">block</span> <span class="nv">footer</span> <span class="cp">%}</span>
                <span class="ni">&amp;copy;</span> Copyright 2011 by <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://domain.invalid/&quot;</span><span class="nt">&gt;</span>you<span class="nt">&lt;/a&gt;</span>.
            <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>In this example, the <a class="reference internal" href="tags/block.html"><em>block</em></a> tags define four blocks that
child templates can fill in. All the <tt class="docutils literal"><span class="pre">block</span></tt> tag does is to tell the
template engine that a child template may override those portions of the
template.</p>
<p>A child template might look like this:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span><span class="x">Index</span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    &lt;style type=&quot;text/css&quot;&gt;</span>
<span class="x">        .important { color: #336699; }</span>
<span class="x">    &lt;/style&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;h1&gt;Index&lt;/h1&gt;</span>
<span class="x">    &lt;p class=&quot;important&quot;&gt;</span>
<span class="x">        Welcome to my awesome homepage.</span>
<span class="x">    &lt;/p&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The <a class="reference internal" href="tags/extends.html"><em>extends</em></a> tag is the key here. It tells the template
engine that this template &#8220;extends&#8221; another template. When the template system
evaluates this template, first it locates the parent. The extends tag should
be the first tag in the template.</p>
<p>Note that since the child template doesn&#8217;t define the <tt class="docutils literal"><span class="pre">footer</span></tt> block, the
value from the parent template is used instead.</p>
<p>It&#8217;s possible to render the contents of the parent block by using the
<a class="reference internal" href="functions/parent.html"><em>parent</em></a> function. This gives back the results of the
parent block:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;h3&gt;Table Of Contents&lt;/h3&gt;</span>
<span class="x">    ...</span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">The documentation page for the <a class="reference internal" href="tags/extends.html"><em>extends</em></a> tag describes
more advanced features like block nesting, scope, dynamic inheritance, and
conditional inheritance.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Twig also supports multiple inheritance with the so called horizontal reuse
with the help of the <a class="reference internal" href="tags/use.html"><em>use</em></a> tag. This is an advanced feature
hardly ever needed in regular templates.</p>
</div>
</div>
<div class="section" id="html-escaping">
<h2>HTML Escaping<a class="headerlink" href="#html-escaping" title="Permalink to this headline">¶</a></h2>
<p>When generating HTML from templates, there&#8217;s always a risk that a variable
will include characters that affect the resulting HTML. There are two
approaches: manually escaping each variable or automatically escaping
everything by default.</p>
<p>Twig supports both, automatic escaping is enabled by default.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Automatic escaping is only supported if the <em>escaper</em> extension has been
enabled (which is the default).</p>
</div>
<div class="section" id="working-with-manual-escaping">
<h3>Working with Manual Escaping<a class="headerlink" href="#working-with-manual-escaping" title="Permalink to this headline">¶</a></h3>
<p>If manual escaping is enabled, it is <strong>your</strong> responsibility to escape
variables if needed. What to escape? Any variable you don&#8217;t trust.</p>
<p>Escaping works by piping the variable through the
<a class="reference internal" href="filters/escape.html"><em>escape</em></a> or <tt class="docutils literal"><span class="pre">e</span></tt> filter:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>By default, the <tt class="docutils literal"><span class="pre">escape</span></tt> filter uses the <tt class="docutils literal"><span class="pre">html</span></tt> strategy, but depending on
the escaping context, you might want to explicitly use any other available
strategies:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span><span class="o">(</span><span class="s1">&#39;js&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span><span class="o">(</span><span class="s1">&#39;css&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span><span class="o">(</span><span class="s1">&#39;url&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span><span class="o">(</span><span class="s1">&#39;html_attr&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="working-with-automatic-escaping">
<h3>Working with Automatic Escaping<a class="headerlink" href="#working-with-automatic-escaping" title="Permalink to this headline">¶</a></h3>
<p>Whether automatic escaping is enabled or not, you can mark a section of a
template to be escaped or not by using the <a class="reference internal" href="tags/autoescape.html"><em>autoescape</em></a>
tag:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">autoescape</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Everything will be automatically escaped in this block (using the HTML strategy)</span>
<span class="cp">{%</span> <span class="k">endautoescape</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>By default, auto-escaping uses the <tt class="docutils literal"><span class="pre">html</span></tt> escaping strategy. If you output
variables in other contexts, you need to explicitly escape them with the
appropriate escaping strategy:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">autoescape</span> <span class="s1">&#39;js&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Everything will be automatically escaped in this block (using the JS strategy)</span>
<span class="cp">{%</span> <span class="k">endautoescape</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="escaping">
<h2>Escaping<a class="headerlink" href="#escaping" title="Permalink to this headline">¶</a></h2>
<p>It is sometimes desirable or even necessary to have Twig ignore parts it would
otherwise handle as variables or blocks. For example if the default syntax is
used and you want to use <tt class="docutils literal"><span class="pre">{{</span></tt> as raw string in the template and not start a
variable you have to use a trick.</p>
<p>The easiest way is to output the variable delimiter (<tt class="docutils literal"><span class="pre">{{</span></tt>) by using a variable
expression:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="s1">&#39;{{&#39;</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>For bigger sections it makes sense to mark a block
<a class="reference internal" href="tags/verbatim.html"><em>verbatim</em></a>.</p>
</div>
<div class="section" id="macros">
<h2>Macros<a class="headerlink" href="#macros" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.12: </span>Support for default argument values was added in Twig 1.12.</p>
</div>
<p>Macros are comparable with functions in regular programming languages. They
are useful to reuse often used HTML fragments to not repeat yourself.</p>
<p>A macro is defined via the <a class="reference internal" href="tags/macro.html"><em>macro</em></a> tag. Here is a small example
(subsequently called <tt class="docutils literal"><span class="pre">forms.html</span></tt>) of a macro that renders a form element:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">input</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">,</span> <span class="nv">type</span><span class="o">,</span> <span class="nv">size</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;input type=&quot;</span><span class="cp">{{</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;text&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot; name=&quot;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">&quot; value=&quot;</span><span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&quot; size=&quot;</span><span class="cp">{{</span> <span class="nv">size</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="m">20</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Macros can be defined in any template, and need to be &#8220;imported&#8221; via the
<a class="reference internal" href="tags/import.html"><em>import</em></a> tag before being used:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">import</span> <span class="s2">&quot;forms.html&quot;</span> <span class="k">as</span> <span class="nv">forms</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">forms.input</span><span class="o">(</span><span class="s1">&#39;username&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
</pre></div>
</div>
<p>Alternatively, you can import individual macro names from a template into the
current namespace via the <a class="reference internal" href="tags/from.html"><em>from</em></a> tag and optionally alias them:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">from</span> <span class="s1">&#39;forms.html&#39;</span> <span class="k">import</span> <span class="nv">input</span> <span class="k">as</span> <span class="nv">input_field</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">&lt;dl&gt;</span>
<span class="x">    &lt;dt&gt;Username&lt;/dt&gt;</span>
<span class="x">    &lt;dd&gt;</span><span class="cp">{{</span> <span class="nv">input_field</span><span class="o">(</span><span class="s1">&#39;username&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/dd&gt;</span>
<span class="x">    &lt;dt&gt;Password&lt;/dt&gt;</span>
<span class="x">    &lt;dd&gt;</span><span class="cp">{{</span> <span class="nv">input_field</span><span class="o">(</span><span class="s1">&#39;password&#39;</span><span class="o">,</span> <span class="s1">&#39;&#39;</span><span class="o">,</span> <span class="s1">&#39;password&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/dd&gt;</span>
<span class="x">&lt;/dl&gt;</span>
</pre></div>
</div>
<p>A default value can also be defined for macro arguments when not provided in a
macro call:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">input</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">,</span> <span class="nv">type</span> <span class="o">=</span> <span class="s2">&quot;text&quot;</span><span class="o">,</span> <span class="nv">size</span> <span class="o">=</span> <span class="m">20</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;input type=&quot;</span><span class="cp">{{</span> <span class="nv">type</span> <span class="cp">}}</span><span class="x">&quot; name=&quot;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">&quot; value=&quot;</span><span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&quot; size=&quot;</span><span class="cp">{{</span> <span class="nv">size</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="expressions">
<span id="twig-expressions"></span><h2>Expressions<a class="headerlink" href="#expressions" title="Permalink to this headline">¶</a></h2>
<p>Twig allows expressions everywhere. These work very similar to regular PHP and
even if you&#8217;re not working with PHP you should feel comfortable with it.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The operator precedence is as follows, with the lowest-precedence
operators listed first: <tt class="docutils literal"><span class="pre">b-and</span></tt>, <tt class="docutils literal"><span class="pre">b-xor</span></tt>, <tt class="docutils literal"><span class="pre">b-or</span></tt>, <tt class="docutils literal"><span class="pre">or</span></tt>, <tt class="docutils literal"><span class="pre">and</span></tt>,
<tt class="docutils literal"><span class="pre">==</span></tt>, <tt class="docutils literal"><span class="pre">!=</span></tt>, <tt class="docutils literal"><span class="pre">&lt;</span></tt>, <tt class="docutils literal"><span class="pre">&gt;</span></tt>, <tt class="docutils literal"><span class="pre">&gt;=</span></tt>, <tt class="docutils literal"><span class="pre">&lt;=</span></tt>, <tt class="docutils literal"><span class="pre">in</span></tt>, <tt class="docutils literal"><span class="pre">matches</span></tt>,
<tt class="docutils literal"><span class="pre">starts</span> <span class="pre">with</span></tt>, <tt class="docutils literal"><span class="pre">ends</span> <span class="pre">with</span></tt>, <tt class="docutils literal"><span class="pre">..</span></tt>, <tt class="docutils literal"><span class="pre">+</span></tt>, <tt class="docutils literal"><span class="pre">-</span></tt>, <tt class="docutils literal"><span class="pre">~</span></tt>, <tt class="docutils literal"><span class="pre">*</span></tt>, <tt class="docutils literal"><span class="pre">/</span></tt>,
<tt class="docutils literal"><span class="pre">//</span></tt>, <tt class="docutils literal"><span class="pre">%</span></tt>, <tt class="docutils literal"><span class="pre">is</span></tt>, <tt class="docutils literal"><span class="pre">**</span></tt>, <tt class="docutils literal"><span class="pre">|</span></tt>, <tt class="docutils literal"><span class="pre">[]</span></tt>, and <tt class="docutils literal"><span class="pre">.</span></tt>:</p>
<div class="last highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">greeting</span> <span class="o">=</span> <span class="s1">&#39;Hello &#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">name</span> <span class="o">=</span> <span class="s1">&#39;Fabien&#39;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{{</span> <span class="nv">greeting</span> <span class="o">~</span> <span class="nv">name</span><span class="o">|</span><span class="nf">lower</span> <span class="cp">}}</span><span class="x">   </span><span class="c">{# Hello fabien #}</span><span class="x"></span>

<span class="c">{# use parenthesis to change precedence #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="o">(</span><span class="nv">greeting</span> <span class="o">~</span> <span class="nv">name</span><span class="o">)|</span><span class="nf">lower</span> <span class="cp">}}</span><span class="x"> </span><span class="c">{# hello fabien #}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="literals">
<h3>Literals<a class="headerlink" href="#literals" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.5: </span>Support for hash keys as names and expressions was added in Twig 1.5.</p>
</div>
<p>The simplest form of expressions are literals. Literals are representations
for PHP types such as strings, numbers, and arrays. The following literals
exist:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">&quot;Hello</span> <span class="pre">World&quot;</span></tt>: Everything between two double or single quotes is a
string. They are useful whenever you need a string in the template (for
example as arguments to function calls, filters or just to extend or include
a template). A string can contain a delimiter if it is preceded by a
backslash (<tt class="docutils literal"><span class="pre">\</span></tt>) &#8211; like in <tt class="docutils literal"><span class="pre">'It\'s</span> <span class="pre">good'</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">42</span></tt> / <tt class="docutils literal"><span class="pre">42.23</span></tt>: Integers and floating point numbers are created by just
writing the number down. If a dot is present the number is a float,
otherwise an integer.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">[&quot;foo&quot;,</span> <span class="pre">&quot;bar&quot;]</span></tt>: Arrays are defined by a sequence of expressions
separated by a comma (<tt class="docutils literal"><span class="pre">,</span></tt>) and wrapped with squared brackets (<tt class="docutils literal"><span class="pre">[]</span></tt>).</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">{&quot;foo&quot;:</span> <span class="pre">&quot;bar&quot;}</span></tt>: Hashes are defined by a list of keys and values
separated by a comma (<tt class="docutils literal"><span class="pre">,</span></tt>) and wrapped with curly braces (<tt class="docutils literal"><span class="pre">{}</span></tt>):</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# keys as string #}</span><span class="x"></span>
<span class="x">{ &#39;foo&#39;: &#39;foo&#39;, &#39;bar&#39;: &#39;bar&#39; }</span>

<span class="c">{# keys as names (equivalent to the previous hash) -- as of Twig 1.5 #}</span><span class="x"></span>
<span class="x">{ foo: &#39;foo&#39;, bar: &#39;bar&#39; }</span>

<span class="c">{# keys as integer #}</span><span class="x"></span>
<span class="x">{ 2: &#39;foo&#39;, 4: &#39;bar&#39; }</span>

<span class="c">{# keys as expressions (the expression must be enclosed into parentheses) -- as of Twig 1.5 #}</span><span class="x"></span>
<span class="x">{ (1 + 1): &#39;foo&#39;, (a ~ &#39;b&#39;): &#39;bar&#39; }</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">true</span></tt> / <tt class="docutils literal"><span class="pre">false</span></tt>: <tt class="docutils literal"><span class="pre">true</span></tt> represents the true value, <tt class="docutils literal"><span class="pre">false</span></tt>
represents the false value.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">null</span></tt>: <tt class="docutils literal"><span class="pre">null</span></tt> represents no specific value. This is the value returned
when a variable does not exist. <tt class="docutils literal"><span class="pre">none</span></tt> is an alias for <tt class="docutils literal"><span class="pre">null</span></tt>.</p>
</li>
</ul>
<p>Arrays and hashes can be nested:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="o">{</span><span class="s2">&quot;foo&quot;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span><span class="o">}]</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Using double-quoted or single-quoted strings has no impact on performance
but string interpolation is only supported in double-quoted strings.</p>
</div>
</div>
<div class="section" id="math">
<h3>Math<a class="headerlink" href="#math" title="Permalink to this headline">¶</a></h3>
<p>Twig allows you to calculate with values. This is rarely useful in templates
but exists for completeness&#8217; sake. The following operators are supported:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">+</span></tt>: Adds two objects together (the operands are casted to numbers). <tt class="docutils literal"><span class="pre">{{</span>
<span class="pre">1</span> <span class="pre">+</span> <span class="pre">1</span> <span class="pre">}}</span></tt> is <tt class="docutils literal"><span class="pre">2</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">-</span></tt>: Subtracts the second number from the first one. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">3</span> <span class="pre">-</span> <span class="pre">2</span> <span class="pre">}}</span></tt> is
<tt class="docutils literal"><span class="pre">1</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">/</span></tt>: Divides two numbers. The returned value will be a floating point
number. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">2</span> <span class="pre">}}</span></tt> is <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">0.5</span> <span class="pre">}}</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">%</span></tt>: Calculates the remainder of an integer division. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">11</span> <span class="pre">%</span> <span class="pre">7</span> <span class="pre">}}</span></tt> is
<tt class="docutils literal"><span class="pre">4</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">//</span></tt>: Divides two numbers and returns the floored integer result. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">20</span>
<span class="pre">//</span> <span class="pre">7</span> <span class="pre">}}</span></tt> is <tt class="docutils literal"><span class="pre">2</span></tt>, <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">-20</span>&nbsp; <span class="pre">//</span> <span class="pre">7</span> <span class="pre">}}</span></tt> is <tt class="docutils literal"><span class="pre">-3</span></tt> (this is just syntactic
sugar for the <a class="reference internal" href="filters/round.html"><em>round</em></a> filter).</li>
<li><tt class="docutils literal"><span class="pre">*</span></tt>: Multiplies the left operand with the right one. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">2</span> <span class="pre">}}</span></tt> would
return <tt class="docutils literal"><span class="pre">4</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">**</span></tt>: Raises the left operand to the power of the right operand. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">2</span> <span class="pre">**</span>
<span class="pre">3</span> <span class="pre">}}</span></tt> would return <tt class="docutils literal"><span class="pre">8</span></tt>.</li>
</ul>
</div>
<div class="section" id="logic">
<h3>Logic<a class="headerlink" href="#logic" title="Permalink to this headline">¶</a></h3>
<p>You can combine multiple expressions with the following operators:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">and</span></tt>: Returns true if the left and the right operands are both true.</li>
<li><tt class="docutils literal"><span class="pre">or</span></tt>: Returns true if the left or the right operand is true.</li>
<li><tt class="docutils literal"><span class="pre">not</span></tt>: Negates a statement.</li>
<li><tt class="docutils literal"><span class="pre">(expr)</span></tt>: Groups an expression.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Twig also support bitwise operators (<tt class="docutils literal"><span class="pre">b-and</span></tt>, <tt class="docutils literal"><span class="pre">b-xor</span></tt>, and <tt class="docutils literal"><span class="pre">b-or</span></tt>).</p>
</div>
</div>
<div class="section" id="comparisons">
<h3>Comparisons<a class="headerlink" href="#comparisons" title="Permalink to this headline">¶</a></h3>
<p>The following comparison operators are supported in any expression: <tt class="docutils literal"><span class="pre">==</span></tt>,
<tt class="docutils literal"><span class="pre">!=</span></tt>, <tt class="docutils literal"><span class="pre">&lt;</span></tt>, <tt class="docutils literal"><span class="pre">&gt;</span></tt>, <tt class="docutils literal"><span class="pre">&gt;=</span></tt>, and <tt class="docutils literal"><span class="pre">&lt;=</span></tt>.</p>
<p>You can also check if a string <tt class="docutils literal"><span class="pre">starts</span> <span class="pre">with</span></tt> or <tt class="docutils literal"><span class="pre">ends</span> <span class="pre">with</span></tt> another
string:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="s1">&#39;Fabien&#39;</span> <span class="nv">starts</span> <span class="k">with</span> <span class="s1">&#39;F&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">if</span> <span class="s1">&#39;Fabien&#39;</span> <span class="nv">ends</span> <span class="k">with</span> <span class="s1">&#39;n&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For complex string comparisons, the <tt class="docutils literal"><span class="pre">matches</span></tt> operator allows you to use
<a class="reference external" href="http://php.net/manual/en/pcre.pattern.php">regular expressions</a>:</p>
<div class="last highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">phone</span> <span class="nv">matches</span> <span class="s1">&#39;{^[\d\.]+$}&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="containment-operator">
<h3>Containment Operator<a class="headerlink" href="#containment-operator" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">in</span></tt> operator performs containment test.</p>
<p>It returns <tt class="docutils literal"><span class="pre">true</span></tt> if the left operand is contained in the right:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# returns true #}</span><span class="x"></span>

<span class="cp">{{</span> <span class="m">1</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>

<span class="cp">{{</span> <span class="s1">&#39;cd&#39;</span> <span class="k">in</span> <span class="s1">&#39;abcde&#39;</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You can use this filter to perform a containment test on strings, arrays,
or objects implementing the <tt class="docutils literal"><span class="pre">Traversable</span></tt> interface.</p>
</div>
<p>To perform a negative test, use the <tt class="docutils literal"><span class="pre">not</span> <span class="pre">in</span></tt> operator:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="m">1</span> <span class="k">not</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# is equivalent to #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="o">(</span><span class="m">1</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">])</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="test-operator">
<h3>Test Operator<a class="headerlink" href="#test-operator" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">is</span></tt> operator performs tests. Tests can be used to test a variable against
a common expression. The right operand is name of the test:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# find out if a variable is odd #}</span><span class="x"></span>

<span class="cp">{{</span> <span class="nv">name</span> <span class="k">is</span> <span class="nf">odd</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Tests can accept arguments too:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">post.status</span> <span class="k">is</span> <span class="nf">constant</span><span class="o">(</span><span class="s1">&#39;Post::PUBLISHED&#39;</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Tests can be negated by using the <tt class="docutils literal"><span class="pre">is</span> <span class="pre">not</span></tt> operator:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">post.status</span> <span class="k">is</span> <span class="k">not</span> <span class="nf">constant</span><span class="o">(</span><span class="s1">&#39;Post::PUBLISHED&#39;</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# is equivalent to #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="o">(</span><span class="nv">post.status</span> <span class="k">is</span> <span class="nf">constant</span><span class="o">(</span><span class="s1">&#39;Post::PUBLISHED&#39;</span><span class="o">))</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Go to the <a class="reference internal" href="tests/index.html"><em>tests</em></a> page to learn more about the built-in
tests.</p>
</div>
<div class="section" id="other-operators">
<h3>Other Operators<a class="headerlink" href="#other-operators" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.12.0: </span>Support for the extended ternary operator was added in Twig 1.12.0.</p>
</div>
<p>The following operators are very useful but don&#8217;t fit into any of the other
categories:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">..</span></tt>: Creates a sequence based on the operand before and after the
operator (this is just syntactic sugar for the <a class="reference internal" href="functions/range.html"><em>range</em></a>
function).</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">|</span></tt>: Applies a filter.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">~</span></tt>: Converts all operands into strings and concatenates them. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">&quot;Hello</span>
<span class="pre">&quot;</span> <span class="pre">~</span> <span class="pre">name</span> <span class="pre">~</span> <span class="pre">&quot;!&quot;</span> <span class="pre">}}</span></tt> would return (assuming <tt class="docutils literal"><span class="pre">name</span></tt> is <tt class="docutils literal"><span class="pre">'John'</span></tt>) <tt class="docutils literal"><span class="pre">Hello</span>
<span class="pre">John!</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">.</span></tt>, <tt class="docutils literal"><span class="pre">[]</span></tt>: Gets an attribute of an object.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">?:</span></tt>: The ternary operator:</p>
<div class="highlight-jinja"><div class="highlight"><pre>{{ foo ? &#39;yes&#39; : &#39;no&#39; }}

{# as of Twig 1.12.0 #}
{{ foo ?: &#39;no&#39; }} is the same as {{ foo ? foo : &#39;no&#39; }}
{{ foo ? &#39;yes&#39; }} is the same as {{ foo ? &#39;yes&#39; : &#39;&#39; }}
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="string-interpolation">
<h3>String Interpolation<a class="headerlink" href="#string-interpolation" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.5: </span>String interpolation was added in Twig 1.5.</p>
</div>
<p>String interpolation (<cite>#{expression}</cite>) allows any valid expression to appear
within a <em>double-quoted string</em>. The result of evaluating that expression is
inserted into the string:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="s2">&quot;foo #{bar} baz&quot;</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="s2">&quot;foo #{1 + 2} baz&quot;</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="whitespace-control">
<h2>Whitespace Control<a class="headerlink" href="#whitespace-control" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1: </span>Tag level whitespace control was added in Twig 1.1.</p>
</div>
<p>The first newline after a template tag is removed automatically (like in PHP.)
Whitespace is not further modified by the template engine, so each whitespace
(spaces, tabs, newlines etc.) is returned unchanged.</p>
<p>Use the <tt class="docutils literal"><span class="pre">spaceless</span></tt> tag to remove whitespace <em>between HTML tags</em>:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">spaceless</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;div&gt;</span>
<span class="x">        &lt;strong&gt;foo bar&lt;/strong&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endspaceless</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# output will be &lt;div&gt;&lt;strong&gt;foo bar&lt;/strong&gt;&lt;/div&gt; #}</span><span class="x"></span>
</pre></div>
</div>
<p>In addition to the spaceless tag you can also control whitespace on a per tag
level. By using the whitespace control modifier on your tags, you can trim
leading and or trailing whitespace:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">value</span> <span class="o">=</span> <span class="s1">&#39;no spaces&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="c">{#- No leading/trailing whitespace -#}</span><span class="x"></span>
<span class="cp">{%</span>- <span class="k">if</span> <span class="kp">true</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">value</span> -<span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span>- <span class="k">endif</span> -<span class="cp">%}</span><span class="x"></span>

<span class="c">{# output &#39;no spaces&#39; #}</span><span class="x"></span>
</pre></div>
</div>
<p>The above sample shows the default whitespace control modifier, and how you can
use it to remove whitespace around tags.  Trimming space will consume all whitespace
for that side of the tag.  It is possible to use whitespace trimming on one side
of a tag:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">value</span> <span class="o">=</span> <span class="s1">&#39;no spaces&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;li&gt;    </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">value</span> <span class="cp">}}</span><span class="x">    &lt;/li&gt;</span>

<span class="c">{# outputs &#39;&lt;li&gt;no spaces    &lt;/li&gt;&#39; #}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="extensions">
<h2>Extensions<a class="headerlink" href="#extensions" title="Permalink to this headline">¶</a></h2>
<p>Twig can be easily extended.</p>
<p>If you are looking for new tags, filters, or functions, have a look at the Twig official
<a class="reference external" href="http://github.com/fabpot/Twig-extensions">extension repository</a>.</p>
<p>If you want to create your own, read the <a class="reference internal" href="advanced_legacy.html#creating-extensions"><em>Creating an
Extension</em></a> chapter.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Twig for Template Designers</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#ides-integration">IDEs Integration</a></li>
<li><a class="reference internal" href="#variables">Variables</a><ul>
<li><a class="reference internal" href="#global-variables">Global Variables</a></li>
<li><a class="reference internal" href="#setting-variables">Setting Variables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#filters">Filters</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#named-arguments">Named Arguments</a></li>
<li><a class="reference internal" href="#control-structure">Control Structure</a></li>
<li><a class="reference internal" href="#comments">Comments</a></li>
<li><a class="reference internal" href="#including-other-templates">Including other Templates</a></li>
<li><a class="reference internal" href="#template-inheritance">Template Inheritance</a></li>
<li><a class="reference internal" href="#html-escaping">HTML Escaping</a><ul>
<li><a class="reference internal" href="#working-with-manual-escaping">Working with Manual Escaping</a></li>
<li><a class="reference internal" href="#working-with-automatic-escaping">Working with Automatic Escaping</a></li>
</ul>
</li>
<li><a class="reference internal" href="#escaping">Escaping</a></li>
<li><a class="reference internal" href="#macros">Macros</a></li>
<li><a class="reference internal" href="#expressions">Expressions</a><ul>
<li><a class="reference internal" href="#literals">Literals</a></li>
<li><a class="reference internal" href="#math">Math</a></li>
<li><a class="reference internal" href="#logic">Logic</a></li>
<li><a class="reference internal" href="#comparisons">Comparisons</a></li>
<li><a class="reference internal" href="#containment-operator">Containment Operator</a></li>
<li><a class="reference internal" href="#test-operator">Test Operator</a></li>
<li><a class="reference internal" href="#other-operators">Other Operators</a></li>
<li><a class="reference internal" href="#string-interpolation">String Interpolation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#whitespace-control">Whitespace Control</a></li>
<li><a class="reference internal" href="#extensions">Extensions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="intro.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api.html"
                        title="next chapter">Twig for Developers</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/templates.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="api.html" title="Twig for Developers"
             >next</a> |</li>
        <li class="right" >
          <a href="intro.html" title="Introduction"
             >previous</a> |</li>
        <li><a href="index.html">TwigDocs 1.15 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Twig Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>
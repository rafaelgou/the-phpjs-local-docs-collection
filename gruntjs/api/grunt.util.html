<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>grunt.util - Grunt: The JavaScript Task Runner</title><link rel="stylesheet" href="../css/main.css"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lato:400,700"><link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon"><link href="../rss" rel="alternate" title="Grunt Blog Feed" type="application/atom+xml"><script src="../js/vendor/lib/modernizr.min.js"></script></head><body class="page-api page-secondary"><div class="navbar navbar-inverse"><div class="navbar-inner"><div class="container"><a href="../index.html" class="brand"><span class="logo"></span></a><div class="nav-collapse collapse"><ul class="nav"><li><a href="../getting-started/index.html"><i class="icon-arrow-right"></i><span>Getting Started</span></a></li><li><a href="../plugins.html"><i class="icon-power-cord"></i><span>Plugins</span></a></li><li><a href="../getting-started/index.html"><i class="icon-document-alt-stroke"></i><span>Documentation</span></a></li><li><a href="../api.html"><i class="icon-cog"></i><span>API</span></a></li></ul><form class="navbar-search pull-right"><input type="text" placeholder="Search" class="search-query"></form></div><!--.nav-collapse--></div></div></div><div class="content"><div class="container grunt.util"><div class="row-fluid"><div class="span9 page"><div class="hero-unit"><h1>grunt.util</h1><p>Miscellaneous utilities for your Gruntfile and tasks.</p>
<h3><a class="anchor" href="../grunt.util.html#grunt.util.kindof" name="grunt.util.kindof">grunt.util.kindOf</a></h3>
<p>Return the &quot;kind&quot; of a value. Like <code>typeof</code> but returns the internal <code>[Class](Class/)</code> value. Possible results are <code>&quot;number&quot;</code>, <code>&quot;string&quot;</code>, <code>&quot;boolean&quot;</code>, <code>&quot;function&quot;</code>, <code>&quot;regexp&quot;</code>, <code>&quot;array&quot;</code>, <code>&quot;date&quot;</code>, <code>&quot;error&quot;</code>, <code>&quot;null&quot;</code>, <code>&quot;undefined&quot;</code> and the catch-all <code>&quot;object&quot;</code>.</p>
<pre><code class="lang-js">grunt.util.kindOf(value)</code></pre>
<h3><a class="anchor" href="../grunt.util.html#grunt.util.error" name="grunt.util.error">grunt.util.error</a></h3>
<p>Return a new Error instance (that can be thrown) with the appropriate message. If an Error object is specified instead of <code>message</code> that object will be returned.
Also, if an Error object is specified for <code>origError</code> and Grunt was run with the <code>--debug 9</code> option, the original Error stack will be dumped.</p>
<pre><code class="lang-js">grunt.util.error(message [, origError])</code></pre>
<h3><a class="anchor" href="../grunt.util.html#grunt.util.linefeed" name="grunt.util.linefeed">grunt.util.linefeed</a></h3>
<p>The linefeed character, normalized for the current operating system. (<code>\r\n</code> on Windows, <code>\n</code> otherwise)</p>
<h3><a class="anchor" href="../grunt.util.html#grunt.util.normalizelf" name="grunt.util.normalizelf">grunt.util.normalizelf</a></h3>
<p>Given a string, return a new string with all the linefeeds normalized for the current operating system. (<code>\r\n</code> on Windows, <code>\n</code> otherwise)</p>
<pre><code class="lang-js">grunt.util.normalizelf(string)</code></pre>
<h3><a class="anchor" href="../grunt.util.html#grunt.util.recurse" name="grunt.util.recurse">grunt.util.recurse</a></h3>
<p>Recurse through nested objects and arrays, executing <code>callbackFunction</code> for each non-object value. If <code>continueFunction</code> returns <code>false</code>, a given object or value will be skipped.</p>
<pre><code class="lang-js">grunt.util.recurse(object, callbackFunction, continueFunction)</code></pre>
<h3><a class="anchor" href="../grunt.util.html#grunt.util.repeat" name="grunt.util.repeat">grunt.util.repeat</a></h3>
<p>Return string <code>str</code> repeated <code>n</code> times.</p>
<pre><code class="lang-js">grunt.util.repeat(n, str)</code></pre>
<h3><a class="anchor" href="../grunt.util.html#grunt.util.pluralize" name="grunt.util.pluralize">grunt.util.pluralize</a></h3>
<p>Given <code>str</code> of <code>&quot;a/b&quot;</code>, If <code>n</code> is <code>1</code>, return <code>&quot;a&quot;</code> otherwise <code>&quot;b&quot;</code>. You can specify a custom separator if &#39;/&#39; doesn&#39;t work for you.</p>
<pre><code class="lang-js">grunt.util.pluralize(n, str, separator)</code></pre>
<h3><a class="anchor" href="../grunt.util.html#grunt.util.spawn" name="grunt.util.spawn">grunt.util.spawn</a></h3>
<p>Spawn a child process, keeping track of its stdout, stderr and exit code. The method returns a reference to the spawned child. When the child exits, the done function is called.</p>
<pre><code class="lang-js">grunt.util.spawn(options, doneFunction)</code></pre>
<p>The <code>options</code> object has these possible properties:</p>
<pre><code class="lang-js"><span class="keyword">var</span> options = {
  <span class="comment">// The command to execute. It should be in the system path.</span>
  cmd: commandToExecute,
  <span class="comment">// If specified, the same grunt bin that is currently running will be</span>
  <span class="comment">// spawned as the child command, instead of the "cmd" option. Defaults</span>
  <span class="comment">// to false.</span>
  grunt: boolean,
  <span class="comment">// An array of arguments to pass to the command.</span>
  args: arrayOfArguments,
  <span class="comment">// Additional options for the Node.js child_process spawn method.</span>
  opts: nodeSpawnOptions,
  <span class="comment">// If this value is set and an error occurs, it will be used as the value</span>
  <span class="comment">// and null will be passed as the error value.</span>
  fallback: fallbackValue
};</code></pre>
<p>The done function accepts these arguments:</p>
<pre><code class="lang-js"><span class="function"><span class="keyword">function</span> <span class="title">doneFunction</span><span class="params">(error, result, code)</span> {</span>
  <span class="comment">// If the exit code was non-zero and a fallback wasn't specified, an Error</span>
  <span class="comment">// object, otherwise null.</span>
  error
  <span class="comment">// The result object is an object with the properties .stdout, .stderr, and</span>
  <span class="comment">// .code (exit code).</span>
  result
  <span class="comment">// When result is coerced to a string, the value is stdout if the exit code</span>
  <span class="comment">// was zero, the fallback if the exit code was non-zero and a fallback was</span>
  <span class="comment">// specified, or stderr if the exit code was non-zero and a fallback was</span>
  <span class="comment">// not specified.</span>
  String(result)
  <span class="comment">// The numeric exit code.</span>
  code
}</code></pre>
<h3><a class="anchor" href="../grunt.util.html#grunt.util.toarray" name="grunt.util.toarray">grunt.util.toArray</a></h3>
<p>Given an array or array-like object, return an array. Great for converting <code>arguments</code> objects into arrays.</p>
<pre><code class="lang-js">grunt.util.toArray(arrayLikeObject)</code></pre>
<h3><a class="anchor" href="../grunt.util.html#grunt.util.callbackify" name="grunt.util.callbackify">grunt.util.callbackify</a></h3>
<p>Normalizes both &quot;returns a value&quot; and &quot;passes result to a callback&quot; functions to always pass a result to the specified callback. If the original function returns a value, that value will now be passed to the callback, which is specified as the last argument, after all other predefined arguments. If the original function passed a value to a callback, it will continue to do so.</p>
<pre><code class="lang-js">grunt.util.callbackify(syncOrAsyncFunction)</code></pre>
<p>This example might better illustrate:</p>
<pre><code class="lang-js"><span class="function"><span class="keyword">function</span> <span class="title">add1</span><span class="params">(a, b)</span> {</span>
  <span class="keyword">return</span> a + b;
}
<span class="function"><span class="keyword">function</span> <span class="title">add2</span><span class="params">(a, b, callback)</span> {</span>
  callback(a + b);
}

<span class="keyword">var</span> fn1 = grunt.util.callbackify(add1);
<span class="keyword">var</span> fn2 = grunt.util.callbackify(add2);

fn1(<span class="number">1</span>, <span class="number">2</span>, <span class="keyword">function</span>(result) {
  console.log(<span class="string">'1 plus 2 equals '</span> + result);
});
fn2(<span class="number">1</span>, <span class="number">2</span>, <span class="keyword">function</span>(result) {
  console.log(<span class="string">'1 plus 2 equals '</span> + result);
});</code></pre>
<h2><a class="anchor" href="../grunt.util.html#internal-libraries" name="internal-libraries">Internal libraries</a></h2>
<h3><a class="anchor" href="../grunt.util.html#grunt.util.namespace" name="grunt.util.namespace">grunt.util.namespace</a></h3>
<p>An internal library for resolving deeply-nested properties in objects.</p>
<h3><a class="anchor" href="../grunt.util.html#grunt.util.task" name="grunt.util.task">grunt.util.task</a></h3>
<p>An internal library for task running.</p>
<h2><a class="anchor" href="../grunt.util.html#external-libraries" name="external-libraries">External libraries</a></h2>
<p><em>Deprecated</em></p>
<p><strong>All external libraries that are listed below are now deprecated.</strong></p>
<p>Please use <strong>npm</strong> to manage these external libraries in your project&#39;s dependencies.</p>
<p>For example if you want use <a href="https://npmjs.org/package/lodash">Lo-Dash</a>, install it first <code>npm install lodash</code>, then
use it in your <code>Gruntfile</code>: <code>var _ = require(&#39;lodash&#39;);</code></p>
<h4><a class="anchor" href="../grunt.util.html#grunt.util._" name="grunt.util._">grunt.util._</a></h4>
<p><em>Deprecated</em></p>
<p><a href="http://lodash.com/">Lo-Dash</a> and <a href="https://github.com/epeli/underscore.string">Underscore.string</a></p>
<p><code>grunt.util._.str</code> is available for methods that conflict with existing Lo-Dash methods.</p>
<h4><a class="anchor" href="../grunt.util.html#grunt.util.async" name="grunt.util.async">grunt.util.async</a></h4>
<p><em>Deprecated</em></p>
<p><a href="https://github.com/caolan/async">Async</a> - Async utilities for node and the browser.</p>
<h4><a class="anchor" href="../grunt.util.html#grunt.util.hooker" name="grunt.util.hooker">grunt.util.hooker</a></h4>
<p><em>Deprecated</em></p>
<p><a href="https://github.com/cowboy/javascript-hooker">JavaScript Hooker</a> - Monkey-patch (hook) functions for debugging and stuff.</p>
<div class="end-link">Found an error in the documentation?
<a href='https://github.com/gruntjs/grunt-docs/issues'>File an issue</a>.</div></div></div><div class="span3"><div class="well sidebar-nav"><ul class="nav nav-list"><li class="nav-header"><i class="icon-cog"></i><span>API</span></li><li><a href="../grunt.html" class="false">grunt</a></li><li><a href="../grunt.config.html" class="false">grunt.config</a></li><li><a href="../grunt.event.html" class="false">grunt.event</a></li><li><a href="../grunt.fail.html" class="false">grunt.fail</a></li><li><a href="../grunt.file.html" class="false">grunt.file</a></li><li><a href="../grunt.log.html" class="false">grunt.log</a></li><li><a href="grunt.option.html" class="false">grunt.option</a></li><li><a href="../grunt.task.html" class="false">grunt.task</a></li><li><a href="../grunt.template.1.html" class="false">grunt.template</a></li><li><a href="../grunt.util.html" class="active">grunt.util</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Other</span></li><li><a href="inside-tasks.html" class="false">Inside Tasks</a></li><li><a href="exit-codes.html" class="false">Exit Codes</a></li></ul><div class="advertisements"><script>var p="http",d="static";if(document.location.protocol=="https:"){p+="s";d="engine";}var z=document.createElement("script");z.type="text/javascript";z.async=true;z.src=p+"://"+d+".adzerk.net/ados.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(z,s);</script><script>var ados = ados || {};ados.run = ados.run || [];ados.run.push(function() {/* load placement for account: Bocoup, site: Grunt, size: 120x90 - Button 1 and Text*/ados_add_placement(4433, 27854, "azk48893", 1);ados_load();});</script><div id="azk48893"></div><span class="adsbybocoup">Ads by <a href="http://bocoup.com">Bocoup</a>.</span></div></div></div></div></div></div><footer class="grunt-footer"><div class="inner"><div class="container"><ul class="pull-right"><li><a href="../blog.1.html">Blog</a></li><li><a href="../upgrading-from-0.3-to-0.4.html">Migration Guides</a></li><li><a href="../contributing.html">Contributing</a></li><li class="social"><a href="https://github.com/gruntjs/" alt="Grunt on GitHub"><span class="icon-github"></span></a></li><li class="social"><a href="https://twitter.com/gruntjs/" alt="Grunt on Twitter"><span class="icon-twitter"></span></a></li><li class="social"><a href="../rss" alt="Grunt blog RSS feed"><span class="icon-feed"></span></a></li></ul><ul class="pull-left"><li>Grunt development is sponsored by <a href="http://bocoup.com/" alt="Bocoup">Bocoup</a></li></ul></div></div></footer><script>var _gaq=[['_setAccount','UA-34623937-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script><script>document.write('<script type="text/javascript" src="http://gruntjs.com/api/'&#32;+&#32;('https:'==document.location.protocol?'https://':'http://c.')&#32;+&#32;'jslogger.com/jslogger.js"><\/script>');</script><script>window.jslogger = new JSLogger();</script></body></html>
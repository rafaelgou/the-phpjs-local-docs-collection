

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Translations &mdash; Symfony2Docs v.2.0.17 2.0.17 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.17',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Symfony2Docs v.2.0.17 2.0.17 documentation" href="../index.html" />
    <link rel="up" title="The Book" href="index.html" />
    <link rel="next" title="Service Container" href="service_container.html" />
    <link rel="prev" title="HTTP Cache" href="http_cache.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="service_container.html" title="Service Container"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="http_cache.html" title="HTTP Cache"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Symfony2Docs v.2.0.17 2.0.17 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">The Book</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="translations">
<span id="index-0"></span><h1>Translations<a class="headerlink" href="#translations" title="Permalink to this headline">¶</a></h1>
<p>The term &#8220;internationalization&#8221; (often abbreviated <a class="reference external" href="http://en.wikipedia.org/wiki/Internationalization_and_localization">i18n</a>) refers to the process
of abstracting strings and other locale-specific pieces out of your application
and into a layer where they can be translated and converted based on the user&#8217;s
locale (i.e. language and country). For text, this means wrapping each with a
function capable of translating the text (or &#8220;message&#8221;) into the language of
the user:</p>
<div class="highlight-python"><pre>// text will *always* print out in English
echo 'Hello World';

// text can be translated into the end-user's language or default to English
echo $translator-&gt;trans('Hello World');</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The term <em>locale</em> refers roughly to the user&#8217;s language and country. It
can be any string that your application uses to manage translations
and other format differences (e.g. currency format). We recommended the
<a class="reference external" href="http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO639-1</a> <em>language</em> code, an underscore (<tt class="docutils literal"><span class="pre">_</span></tt>), then the <a class="reference external" href="http://en.wikipedia.org/wiki/ISO_3166-1#Current_codes">ISO3166 Alpha-2</a> <em>country</em>
code (e.g. <tt class="docutils literal"><span class="pre">fr_FR</span></tt> for French/France).</p>
</div>
<p>In this chapter, we&#8217;ll learn how to prepare an application to support multiple
locales and then how to create translations for multiple locales. Overall,
the process has several common steps:</p>
<ol class="arabic simple">
<li>Enable and configure Symfony&#8217;s <tt class="docutils literal"><span class="pre">Translation</span></tt> component;</li>
<li>Abstract strings (i.e. &#8220;messages&#8221;) by wrapping them in calls to the <tt class="docutils literal"><span class="pre">Translator</span></tt>;</li>
<li>Create translation resources for each supported locale that translate
each message in the application;</li>
<li>Determine, set and manage the user&#8217;s locale in the session.</li>
</ol>
<div class="section" id="configuration">
<span id="index-1"></span><h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Translations are handled by a <tt class="docutils literal"><span class="pre">Translator</span></tt> <a class="reference internal" href="../glossary.html#term-service"><em class="xref std std-term">service</em></a> that uses the
user&#8217;s locale to lookup and return translated messages. Before using it,
enable the <tt class="docutils literal"><span class="pre">Translator</span></tt> in your configuration:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">framework</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">translator</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">fallback</span><span class="p-Indicator">:</span> <span class="nv">en</span> <span class="p-Indicator">}</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- app/config/config.xml --&gt;</span>
<span class="nt">&lt;framework:config&gt;</span>
    <span class="nt">&lt;framework:translator</span> <span class="na">fallback=</span><span class="s">&quot;en&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/framework:config&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// app/config/config.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;framework&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;translator&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;fallback&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;en&#39;</span><span class="p">),</span>
<span class="p">));</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>The <tt class="docutils literal"><span class="pre">fallback</span></tt> option defines the fallback locale when a translation does
not exist in the user&#8217;s locale.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">When a translation does not exist for a locale, the translator first tries
to find the translation for the language (<tt class="docutils literal"><span class="pre">fr</span></tt> if the locale is
<tt class="docutils literal"><span class="pre">fr_FR</span></tt> for instance). If this also fails, it looks for a translation
using the fallback locale.</p>
</div>
<p>The locale used in translations is the one stored in the user session.</p>
</div>
<div class="section" id="basic-translation">
<span id="index-2"></span><h2>Basic Translation<a class="headerlink" href="#basic-translation" title="Permalink to this headline">¶</a></h2>
<p>Translation of text is done through the  <tt class="docutils literal"><span class="pre">translator</span></tt> service
(<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Translation/Translator.html" title="Symfony\Component\Translation\Translator"><span class="pre">Translator</span></a></tt>). To translate a block
of text (called a <em>message</em>), use the
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Translation/Translator.html#method_trans" title="Symfony\Component\Translation\Translator::trans()"><span class="pre">trans()</span></a></tt> method. Suppose,
for example, that we&#8217;re translating a simple message from inside a controller:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$t</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;translator&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">trans</span><span class="p">(</span><span class="s1">&#39;Symfony2 is great&#39;</span><span class="p">);</span>

    <span class="k">return</span> <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="nv">$t</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When this code is executed, Symfony2 will attempt to translate the message
&#8220;Symfony2 is great&#8221; based on the <tt class="docutils literal"><span class="pre">locale</span></tt> of the user. For this to work,
we need to tell Symfony2 how to translate the message via a &#8220;translation
resource&#8221;, which is a collection of message translations for a given locale.
This &#8220;dictionary&#8221; of translations can be created in several different formats,
XLIFF being the recommended format:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- messages.fr.xliff --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;xliff</span> <span class="na">version=</span><span class="s">&quot;1.2&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;urn:oasis:names:tc:xliff:document:1.2&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;file</span> <span class="na">source-language=</span><span class="s">&quot;en&quot;</span> <span class="na">datatype=</span><span class="s">&quot;plaintext&quot;</span> <span class="na">original=</span><span class="s">&quot;file.ext&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;body&gt;</span>
            <span class="nt">&lt;trans-unit</span> <span class="na">id=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;source&gt;</span>Symfony2 is great<span class="nt">&lt;/source&gt;</span>
                <span class="nt">&lt;target&gt;</span>J&#39;aime Symfony2<span class="nt">&lt;/target&gt;</span>
            <span class="nt">&lt;/trans-unit&gt;</span>
        <span class="nt">&lt;/body&gt;</span>
    <span class="nt">&lt;/file&gt;</span>
<span class="nt">&lt;/xliff&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// messages.fr.php</span>
<span class="k">return</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Symfony2 is great&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;J\&#39;aime Symfony2&#39;</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># messages.fr.yml</span>
<span class="l-Scalar-Plain">Symfony2 is great</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">J&#39;aime Symfony2</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Now, if the language of the user&#8217;s locale is French (e.g. <tt class="docutils literal"><span class="pre">fr_FR</span></tt> or <tt class="docutils literal"><span class="pre">fr_BE</span></tt>),
the message will be translated into <tt class="docutils literal"><span class="pre">J'aime</span> <span class="pre">Symfony2</span></tt>.</p>
<div class="section" id="the-translation-process">
<h3>The Translation Process<a class="headerlink" href="#the-translation-process" title="Permalink to this headline">¶</a></h3>
<p>To actually translate the message, Symfony2 uses a simple process:</p>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">locale</span></tt> of the current user, which is stored in the session, is determined;</li>
<li>A catalog of translated messages is loaded from translation resources defined
for the <tt class="docutils literal"><span class="pre">locale</span></tt> (e.g. <tt class="docutils literal"><span class="pre">fr_FR</span></tt>). Messages from the fallback locale are
also loaded and added to the catalog if they don&#8217;t already exist. The end
result is a large &#8220;dictionary&#8221; of translations. See <a class="reference internal" href="#message-catalogues">Message Catalogues</a>
for more details;</li>
<li>If the message is located in the catalog, the translation is returned. If
not, the translator returns the original message.</li>
</ul>
<p>When using the <tt class="docutils literal"><span class="pre">trans()</span></tt> method, Symfony2 looks for the exact string inside
the appropriate message catalog and returns it (if it exists).</p>
</div>
<div class="section" id="message-placeholders">
<span id="index-3"></span><h3>Message Placeholders<a class="headerlink" href="#message-placeholders" title="Permalink to this headline">¶</a></h3>
<p>Sometimes, a message containing a variable needs to be translated:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$t</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;translator&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">trans</span><span class="p">(</span><span class="s1">&#39;Hello &#39;</span><span class="o">.</span><span class="nv">$name</span><span class="p">);</span>

    <span class="k">return</span> <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="nv">$t</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>However, creating a translation for this string is impossible since the translator
will try to look up the exact message, including the variable portions
(e.g. &#8220;Hello Ryan&#8221; or &#8220;Hello Fabien&#8221;). Instead of writing a translation
for every possible iteration of the <tt class="docutils literal"><span class="pre">$name</span></tt> variable, we can replace the
variable with a &#8220;placeholder&#8221;:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$t</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;translator&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">trans</span><span class="p">(</span><span class="s1">&#39;Hello %name%&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;%name%&#39;</span> <span class="o">=&gt;</span> <span class="nv">$name</span><span class="p">));</span>

    <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="nv">$t</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Symfony2 will now look for a translation of the raw message (<tt class="docutils literal"><span class="pre">Hello</span> <span class="pre">%name%</span></tt>)
and <em>then</em> replace the placeholders with their values. Creating a translation
is done just as before:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- messages.fr.xliff --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;xliff</span> <span class="na">version=</span><span class="s">&quot;1.2&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;urn:oasis:names:tc:xliff:document:1.2&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;file</span> <span class="na">source-language=</span><span class="s">&quot;en&quot;</span> <span class="na">datatype=</span><span class="s">&quot;plaintext&quot;</span> <span class="na">original=</span><span class="s">&quot;file.ext&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;body&gt;</span>
            <span class="nt">&lt;trans-unit</span> <span class="na">id=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;source&gt;</span>Hello %name%<span class="nt">&lt;/source&gt;</span>
                <span class="nt">&lt;target&gt;</span>Bonjour %name%<span class="nt">&lt;/target&gt;</span>
            <span class="nt">&lt;/trans-unit&gt;</span>
        <span class="nt">&lt;/body&gt;</span>
    <span class="nt">&lt;/file&gt;</span>
<span class="nt">&lt;/xliff&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// messages.fr.php</span>
<span class="k">return</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Hello %name%&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bonjour %name%&#39;</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># messages.fr.yml</span>
<span class="s">&#39;Hello</span><span class="nv"> </span><span class="s">%name%&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Bonjour %name%</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The placeholders can take on any form as the full message is reconstructed
using the PHP <a class="reference external" href="http://www.php.net/manual/en/function.strtr.php">strtr function</a>. However, the <tt class="docutils literal"><span class="pre">%var%</span></tt> notation is
required when translating in Twig templates, and is overall a sensible
convention to follow.</p>
</div>
<p>As we&#8217;ve seen, creating a translation is a two-step process:</p>
<ol class="arabic simple">
<li>Abstract the message that needs to be translated by processing it through
the <tt class="docutils literal"><span class="pre">Translator</span></tt>.</li>
<li>Create a translation for the message in each locale that you choose to
support.</li>
</ol>
<p>The second step is done by creating message catalogues that define the translations
for any number of different locales.</p>
</div>
</div>
<div class="section" id="message-catalogues">
<span id="index-4"></span><h2>Message Catalogues<a class="headerlink" href="#message-catalogues" title="Permalink to this headline">¶</a></h2>
<p>When a message is translated, Symfony2 compiles a message catalogue for the
user&#8217;s locale and looks in it for a translation of the message. A message
catalogue is like a dictionary of translations for a specific locale. For
example, the catalogue for the <tt class="docutils literal"><span class="pre">fr_FR</span></tt> locale might contain the following
translation:</p>
<blockquote>
<div>Symfony2 is Great =&gt; J&#8217;aime Symfony2</div></blockquote>
<p>It&#8217;s the responsibility of the developer (or translator) of an internationalized
application to create these translations. Translations are stored on the
filesystem and discovered by Symfony, thanks to some conventions.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>Each time you create a <em>new</em> translation resource (or install a bundle
that includes a translation resource), be sure to clear your cache so
that Symfony can discover the new translation resource:</p>
<div class="last highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>php app/console cache:clear
</pre></div>
</div>
</div>
<div class="section" id="translation-locations-and-naming-conventions">
<span id="index-5"></span><h3>Translation Locations and Naming Conventions<a class="headerlink" href="#translation-locations-and-naming-conventions" title="Permalink to this headline">¶</a></h3>
<p>Symfony2 looks for message files (i.e. translations) in two locations:</p>
<ul class="simple">
<li>For messages found in a bundle, the corresponding message files should
live in the <tt class="docutils literal"><span class="pre">Resources/translations/</span></tt> directory of the bundle;</li>
<li>To override any bundle translations, place message files in the
<tt class="docutils literal"><span class="pre">app/Resources/translations</span></tt> directory.</li>
</ul>
<p>The filename of the translations is also important as Symfony2 uses a convention
to determine details about the translations. Each message file must be named
according to the following pattern: <tt class="docutils literal"><span class="pre">domain.locale.loader</span></tt>:</p>
<ul class="simple">
<li><strong>domain</strong>: An optional way to organize messages into groups (e.g. <tt class="docutils literal"><span class="pre">admin</span></tt>,
<tt class="docutils literal"><span class="pre">navigation</span></tt> or the default <tt class="docutils literal"><span class="pre">messages</span></tt>) - see <a class="reference internal" href="#using-message-domains">Using Message Domains</a>;</li>
<li><strong>locale</strong>: The locale that the translations are for (e.g. <tt class="docutils literal"><span class="pre">en_GB</span></tt>, <tt class="docutils literal"><span class="pre">en</span></tt>, etc);</li>
<li><strong>loader</strong>: How Symfony2 should load and parse the file (e.g. <tt class="docutils literal"><span class="pre">xliff</span></tt>,
<tt class="docutils literal"><span class="pre">php</span></tt> or <tt class="docutils literal"><span class="pre">yml</span></tt>).</li>
</ul>
<p>The loader can be the name of any registered loader. By default, Symfony
provides the following loaders:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">xliff</span></tt>: XLIFF file;</li>
<li><tt class="docutils literal"><span class="pre">php</span></tt>:   PHP file;</li>
<li><tt class="docutils literal"><span class="pre">yml</span></tt>:  YAML file.</li>
</ul>
<p>The choice of which loader to use is entirely up to you and is a matter of
taste.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can also store translations in a database, or any other storage by
providing a custom class implementing the
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Translation/Loader/LoaderInterface.html" title="Symfony\Component\Translation\Loader\LoaderInterface"><span class="pre">LoaderInterface</span></a></tt> interface.</p>
</div>
</div>
<div class="section" id="creating-translations">
<span id="index-6"></span><h3>Creating Translations<a class="headerlink" href="#creating-translations" title="Permalink to this headline">¶</a></h3>
<p>The act of creating translation files is an important part of &#8220;localization&#8221;
(often abbreviated <a class="reference external" href="http://en.wikipedia.org/wiki/Internationalization_and_localization">L10n</a>). Translation files consist of a series of
id-translation pairs for the given domain and locale. The source is the identifier
for the individual translation, and can be the message in the main locale (e.g.
&#8220;Symfony is great&#8221;) of your application or a unique identifier (e.g.
&#8220;symfony2.great&#8221; - see the sidebar below):</p>
<div class="configuration-block">
<ul class="simple">
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- src/Acme/DemoBundle/Resources/translations/messages.fr.xliff --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;xliff</span> <span class="na">version=</span><span class="s">&quot;1.2&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;urn:oasis:names:tc:xliff:document:1.2&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;file</span> <span class="na">source-language=</span><span class="s">&quot;en&quot;</span> <span class="na">datatype=</span><span class="s">&quot;plaintext&quot;</span> <span class="na">original=</span><span class="s">&quot;file.ext&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;body&gt;</span>
            <span class="nt">&lt;trans-unit</span> <span class="na">id=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;source&gt;</span>Symfony2 is great<span class="nt">&lt;/source&gt;</span>
                <span class="nt">&lt;target&gt;</span>J&#39;aime Symfony2<span class="nt">&lt;/target&gt;</span>
            <span class="nt">&lt;/trans-unit&gt;</span>
            <span class="nt">&lt;trans-unit</span> <span class="na">id=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;source&gt;</span>symfony2.great<span class="nt">&lt;/source&gt;</span>
                <span class="nt">&lt;target&gt;</span>J&#39;aime Symfony2<span class="nt">&lt;/target&gt;</span>
            <span class="nt">&lt;/trans-unit&gt;</span>
        <span class="nt">&lt;/body&gt;</span>
    <span class="nt">&lt;/file&gt;</span>
<span class="nt">&lt;/xliff&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// src/Acme/DemoBundle/Resources/translations/messages.fr.php</span>
<span class="k">return</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Symfony2 is great&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;J\&#39;aime Symfony2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;symfony2.great&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;J\&#39;aime Symfony2&#39;</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># src/Acme/DemoBundle/Resources/translations/messages.fr.yml</span>
<span class="l-Scalar-Plain">Symfony2 is great</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">J&#39;aime Symfony2</span>
<span class="l-Scalar-Plain">symfony2.great</span><span class="p-Indicator">:</span>    <span class="l-Scalar-Plain">J&#39;aime Symfony2</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Symfony2 will discover these files and use them when translating either
&#8220;Symfony2 is great&#8221; or &#8220;symfony2.great&#8221; into a French language locale (e.g.
<tt class="docutils literal"><span class="pre">fr_FR</span></tt> or <tt class="docutils literal"><span class="pre">fr_BE</span></tt>).</p>
<div class="sidebar">
<p class="first sidebar-title">Using Real or Keyword Messages</p>
<p>This example illustrates the two different philosophies when creating
messages to be translated:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$t</span> <span class="o">=</span> <span class="nv">$translator</span><span class="o">-&gt;</span><span class="na">trans</span><span class="p">(</span><span class="s1">&#39;Symfony2 is great&#39;</span><span class="p">);</span>

<span class="nv">$t</span> <span class="o">=</span> <span class="nv">$translator</span><span class="o">-&gt;</span><span class="na">trans</span><span class="p">(</span><span class="s1">&#39;symfony2.great&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>In the first method, messages are written in the language of the default
locale (English in this case). That message is then used as the &#8220;id&#8221;
when creating translations.</p>
<p>In the second method, messages are actually &#8220;keywords&#8221; that convey the
idea of the message. The keyword message is then used as the &#8220;id&#8221; for
any translations. In this case, translations must be made for the default
locale (i.e. to translate <tt class="docutils literal"><span class="pre">symfony2.great</span></tt> to <tt class="docutils literal"><span class="pre">Symfony2</span> <span class="pre">is</span> <span class="pre">great</span></tt>).</p>
<p>The second method is handy because the message key won&#8217;t need to be changed
in every translation file if we decide that the message should actually
read &#8220;Symfony2 is really great&#8221; in the default locale.</p>
<p>The choice of which method to use is entirely up to you, but the &#8220;keyword&#8221;
format is often recommended.</p>
<p>Additionally, the <tt class="docutils literal"><span class="pre">php</span></tt> and <tt class="docutils literal"><span class="pre">yaml</span></tt> file formats support nested ids to
avoid repeating yourself if you use keywords instead of real text for your
ids:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">symfony2</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">great</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Symfony2 is great</span>
        <span class="l-Scalar-Plain">amazing</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Symfony2 is amazing</span>
    <span class="l-Scalar-Plain">has</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">bundles</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Symfony2 has bundles</span>
<span class="l-Scalar-Plain">user</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">login</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Login</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="k">return</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;symfony2&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;is&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;great&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Symfony2 is great&#39;</span><span class="p">,</span>
            <span class="s1">&#39;amazing&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Symfony2 is amazing&#39;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="s1">&#39;has&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;bundles&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Symfony2 has bundles&#39;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">),</span>
    <span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;login&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Login&#39;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>The multiple levels are flattened into single id/translation pairs by
adding a dot (.) between every level, therefore the above examples are
equivalent to the following:</p>
<div class="last configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">symfony2.is.great</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Symfony2 is great</span>
<span class="l-Scalar-Plain">symfony2.is.amazing</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Symfony2 is amazing</span>
<span class="l-Scalar-Plain">symfony2.has.bundles</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Symfony2 has bundles</span>
<span class="l-Scalar-Plain">user.login</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Login</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="k">return</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;symfony2.is.great&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Symfony2 is great&#39;</span><span class="p">,</span>
    <span class="s1">&#39;symfony2.is.amazing&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Symfony2 is amazing&#39;</span><span class="p">,</span>
    <span class="s1">&#39;symfony2.has.bundles&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Symfony2 has bundles&#39;</span><span class="p">,</span>
    <span class="s1">&#39;user.login&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Login&#39;</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="section" id="using-message-domains">
<span id="index-7"></span><h2>Using Message Domains<a class="headerlink" href="#using-message-domains" title="Permalink to this headline">¶</a></h2>
<p>As we&#8217;ve seen, message files are organized into the different locales that
they translate. The message files can also be organized further into &#8220;domains&#8221;.
When creating message files, the domain is the first portion of the filename.
The default domain is <tt class="docutils literal"><span class="pre">messages</span></tt>. For example, suppose that, for organization,
translations were split into three different domains: <tt class="docutils literal"><span class="pre">messages</span></tt>, <tt class="docutils literal"><span class="pre">admin</span></tt>
and <tt class="docutils literal"><span class="pre">navigation</span></tt>. The French translation would have the following message
files:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">messages.fr.xliff</span></tt></li>
<li><tt class="docutils literal"><span class="pre">admin.fr.xliff</span></tt></li>
<li><tt class="docutils literal"><span class="pre">navigation.fr.xliff</span></tt></li>
</ul>
<p>When translating strings that are not in the default domain (<tt class="docutils literal"><span class="pre">messages</span></tt>),
you must specify the domain as the third argument of <tt class="docutils literal"><span class="pre">trans()</span></tt>:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;translator&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">trans</span><span class="p">(</span><span class="s1">&#39;Symfony2 is great&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="s1">&#39;admin&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Symfony2 will now look for the message in the <tt class="docutils literal"><span class="pre">admin</span></tt> domain of the user&#8217;s
locale.</p>
</div>
<div class="section" id="handling-the-user-s-locale">
<span id="index-8"></span><h2>Handling the User&#8217;s Locale<a class="headerlink" href="#handling-the-user-s-locale" title="Permalink to this headline">¶</a></h2>
<p>The locale of the current user is stored in the session and is accessible
via the <tt class="docutils literal"><span class="pre">session</span></tt> service:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$locale</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;session&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getLocale</span><span class="p">();</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;session&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">setLocale</span><span class="p">(</span><span class="s1">&#39;en_US&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="fallback-and-default-locale">
<span id="index-9"></span><h3>Fallback and Default Locale<a class="headerlink" href="#fallback-and-default-locale" title="Permalink to this headline">¶</a></h3>
<p>If the locale hasn&#8217;t been set explicitly in the session, the <tt class="docutils literal"><span class="pre">fallback_locale</span></tt>
configuration parameter will be used by the <tt class="docutils literal"><span class="pre">Translator</span></tt>. The parameter
defaults to <tt class="docutils literal"><span class="pre">en</span></tt> (see <a class="reference internal" href="#configuration">Configuration</a>).</p>
<p>Alternatively, you can guarantee that a locale is set on the user&#8217;s session
by defining a <tt class="docutils literal"><span class="pre">default_locale</span></tt> for the session service:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">framework</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">session</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">default_locale</span><span class="p-Indicator">:</span> <span class="nv">en</span> <span class="p-Indicator">}</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- app/config/config.xml --&gt;</span>
<span class="nt">&lt;framework:config&gt;</span>
    <span class="nt">&lt;framework:session</span> <span class="na">default-locale=</span><span class="s">&quot;en&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/framework:config&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// app/config/config.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;framework&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;session&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;default_locale&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;en&#39;</span><span class="p">),</span>
<span class="p">));</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="the-locale-and-the-url">
<span id="book-translation-locale-url"></span><h3>The Locale and the URL<a class="headerlink" href="#the-locale-and-the-url" title="Permalink to this headline">¶</a></h3>
<p>Since the locale of the user is stored in the session, it may be tempting
to use the same URL to display a resource in many different languages based
on the user&#8217;s locale. For example, <tt class="docutils literal"><span class="pre">http://www.example.com/contact</span></tt> could
show content in English for one user and French for another user. Unfortunately,
this violates a fundamental rule of the Web: that a particular URL returns
the same resource regardless of the user. To further muddy the problem, which
version of the content would be indexed by search engines?</p>
<p>A better policy is to include the locale in the URL. This is fully-supported
by the routing system using the special <tt class="docutils literal"><span class="pre">_locale</span></tt> parameter:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">contact</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">pattern</span><span class="p-Indicator">:</span>   <span class="l-Scalar-Plain">/{_locale}/contact</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>  <span class="p-Indicator">{</span> <span class="nv">_controller</span><span class="p-Indicator">:</span> <span class="nv">AcmeDemoBundle</span><span class="p-Indicator">:</span><span class="nv">Contact</span><span class="p-Indicator">:</span><span class="nv">index</span><span class="p-Indicator">,</span> <span class="nv">_locale</span><span class="p-Indicator">:</span> <span class="nv">en</span> <span class="p-Indicator">}</span>
    <span class="l-Scalar-Plain">requirements</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">_locale</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">en|fr|de</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;contact&quot;</span> <span class="na">pattern=</span><span class="s">&quot;/{_locale}/contact&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;default</span> <span class="na">key=</span><span class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AcmeDemoBundle:Contact:index<span class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;default</span> <span class="na">key=</span><span class="s">&quot;_locale&quot;</span><span class="nt">&gt;</span>en<span class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;requirement</span> <span class="na">key=</span><span class="s">&quot;_locale&quot;</span><span class="nt">&gt;</span>en|fr|de<span class="nt">&lt;/requirement&gt;</span>
<span class="nt">&lt;/route&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;contact&#39;</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Route</span><span class="p">(</span><span class="s1">&#39;/{_locale}/contact&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AcmeDemoBundle:Contact:index&#39;</span><span class="p">,</span>
    <span class="s1">&#39;_locale&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span>
<span class="p">),</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;_locale&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;en|fr|de&#39;</span>
<span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>When using the special <cite>_locale</cite> parameter in a route, the matched locale
will <em>automatically be set on the user&#8217;s session</em>. In other words, if a user
visits the URI <tt class="docutils literal"><span class="pre">/fr/contact</span></tt>, the locale <tt class="docutils literal"><span class="pre">fr</span></tt> will automatically be set
as the locale for the user&#8217;s session.</p>
<p>You can now use the user&#8217;s locale to create routes to other translated pages
in your application.</p>
</div>
</div>
<div class="section" id="pluralization">
<span id="index-10"></span><h2>Pluralization<a class="headerlink" href="#pluralization" title="Permalink to this headline">¶</a></h2>
<p>Message pluralization is a tough topic as the rules can be quite complex. For
instance, here is the mathematic representation of the Russian pluralization
rules:</p>
<div class="highlight-python"><pre>(($number % 10 == 1) &amp;&amp; ($number % 100 != 11)) ? 0 : ((($number % 10 &gt;= 2) &amp;&amp; ($number % 10 &lt;= 4) &amp;&amp; (($number % 100 &lt; 10) || ($number % 100 &gt;= 20))) ? 1 : 2);</pre>
</div>
<p>As you can see, in Russian, you can have three different plural forms, each
given an index of 0, 1 or 2. For each form, the plural is different, and
so the translation is also different.</p>
<p>When a translation has different forms due to pluralization, you can provide
all the forms as a string separated by a pipe (<tt class="docutils literal"><span class="pre">|</span></tt>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&#39;There is one apple|There are </span><span class="si">%c</span><span class="s">ount% apples&#39;</span>
</pre></div>
</div>
<p>To translate pluralized messages, use the
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Translation/Translator.html#method_transChoice" title="Symfony\Component\Translation\Translator::transChoice()"><span class="pre">transChoice()</span></a></tt> method:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$t</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;translator&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">transChoice</span><span class="p">(</span>
    <span class="s1">&#39;There is one apple|There are %count% apples&#39;</span><span class="p">,</span>
    <span class="mi">10</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;%count%&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>The second argument (<tt class="docutils literal"><span class="pre">10</span></tt> in this example), is the <em>number</em> of objects being
described and is used to determine which translation to use and also to populate
the <tt class="docutils literal"><span class="pre">%count%</span></tt> placeholder.</p>
<p>Based on the given number, the translator chooses the right plural form.
In English, most words have a singular form when there is exactly one object
and a plural form for all other numbers (0, 2, 3...). So, if <tt class="docutils literal"><span class="pre">count</span></tt> is
<tt class="docutils literal"><span class="pre">1</span></tt>, the translator will use the first string (<tt class="docutils literal"><span class="pre">There</span> <span class="pre">is</span> <span class="pre">one</span> <span class="pre">apple</span></tt>)
as the translation. Otherwise it will use <tt class="docutils literal"><span class="pre">There</span> <span class="pre">are</span> <span class="pre">%count%</span> <span class="pre">apples</span></tt>.</p>
<p>Here is the French translation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&#39;Il y a </span><span class="si">%c</span><span class="s">ount% pomme|Il y a </span><span class="si">%c</span><span class="s">ount% pommes&#39;</span>
</pre></div>
</div>
<p>Even if the string looks similar (it is made of two sub-strings separated by a
pipe), the French rules are different: the first form (no plural) is used when
<tt class="docutils literal"><span class="pre">count</span></tt> is <tt class="docutils literal"><span class="pre">0</span></tt> or <tt class="docutils literal"><span class="pre">1</span></tt>. So, the translator will automatically use the
first string (<tt class="docutils literal"><span class="pre">Il</span> <span class="pre">y</span> <span class="pre">a</span> <span class="pre">%count%</span> <span class="pre">pomme</span></tt>) when <tt class="docutils literal"><span class="pre">count</span></tt> is <tt class="docutils literal"><span class="pre">0</span></tt> or <tt class="docutils literal"><span class="pre">1</span></tt>.</p>
<p>Each locale has its own set of rules, with some having as many as six different
plural forms with complex rules behind which numbers map to which plural form.
The rules are quite simple for English and French, but for Russian, you&#8217;d
may want a hint to know which rule matches which string. To help translators,
you can optionally &#8220;tag&#8221; each string:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&#39;one: There is one apple|some: There are </span><span class="si">%c</span><span class="s">ount% apples&#39;</span>

<span class="s">&#39;none_or_one: Il y a </span><span class="si">%c</span><span class="s">ount% pomme|some: Il y a </span><span class="si">%c</span><span class="s">ount% pommes&#39;</span>
</pre></div>
</div>
<p>The tags are really only hints for translators and don&#8217;t affect the logic
used to determine which plural form to use. The tags can be any descriptive
string that ends with a colon (<tt class="docutils literal"><span class="pre">:</span></tt>). The tags also do not need to be the
same in the original message as in the translated one.</p>
<div class="section" id="explicit-interval-pluralization">
<h3>Explicit Interval Pluralization<a class="headerlink" href="#explicit-interval-pluralization" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to pluralize a message is to let Symfony2 use internal logic
to choose which string to use based on a given number. Sometimes, you&#8217;ll
need more control or want a different translation for specific cases (for
<tt class="docutils literal"><span class="pre">0</span></tt>, or when the count is negative, for example). For such cases, you can
use explicit math intervals:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&#39;{0} There are no apples|{1} There is one apple|]1,19] There are </span><span class="si">%c</span><span class="s">ount% apples|[20,Inf] There are many apples&#39;</span>
</pre></div>
</div>
<p>The intervals follow the <a class="reference external" href="http://en.wikipedia.org/wiki/Interval_%28mathematics%29#The_ISO_notation">ISO 31-11</a> notation. The above string specifies
four different intervals: exactly <tt class="docutils literal"><span class="pre">0</span></tt>, exactly <tt class="docutils literal"><span class="pre">1</span></tt>, <tt class="docutils literal"><span class="pre">2-19</span></tt>, and <tt class="docutils literal"><span class="pre">20</span></tt>
and higher.</p>
<p>You can also mix explicit math rules and standard rules. In this case, if
the count is not matched by a specific interval, the standard rules take
effect after removing the explicit rules:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&#39;{0} There are no apples|[20,Inf] There are many apples|There is one apple|a_few: There are </span><span class="si">%c</span><span class="s">ount% apples&#39;</span>
</pre></div>
</div>
<p>For example, for <tt class="docutils literal"><span class="pre">1</span></tt> apple, the standard rule <tt class="docutils literal"><span class="pre">There</span> <span class="pre">is</span> <span class="pre">one</span> <span class="pre">apple</span></tt> will
be used. For <tt class="docutils literal"><span class="pre">2-19</span></tt> apples, the second standard rule <tt class="docutils literal"><span class="pre">There</span> <span class="pre">are</span> <span class="pre">%count%</span>
<span class="pre">apples</span></tt> will be selected.</p>
<p>An <tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Translation/Interval.html" title="Symfony\Component\Translation\Interval"><span class="pre">Interval</span></a></tt> can represent a finite set
of numbers:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">}</span>
</pre></div>
</div>
<p>Or numbers between two other numbers:</p>
<div class="highlight-python"><pre>[1, +Inf[
]-1,2[</pre>
</div>
<p>The left delimiter can be <tt class="docutils literal"><span class="pre">[</span></tt> (inclusive) or <tt class="docutils literal"><span class="pre">]</span></tt> (exclusive). The right
delimiter can be <tt class="docutils literal"><span class="pre">[</span></tt> (exclusive) or <tt class="docutils literal"><span class="pre">]</span></tt> (inclusive). Beside numbers, you
can use <tt class="docutils literal"><span class="pre">-Inf</span></tt> and <tt class="docutils literal"><span class="pre">+Inf</span></tt> for the infinite.</p>
</div>
</div>
<div class="section" id="translations-in-templates">
<span id="index-11"></span><h2>Translations in Templates<a class="headerlink" href="#translations-in-templates" title="Permalink to this headline">¶</a></h2>
<p>Most of the time, translation occurs in templates. Symfony2 provides native
support for both Twig and PHP templates.</p>
<div class="section" id="twig-templates">
<h3>Twig Templates<a class="headerlink" href="#twig-templates" title="Permalink to this headline">¶</a></h3>
<p>Symfony2 provides specialized Twig tags (<tt class="docutils literal"><span class="pre">trans</span></tt> and <tt class="docutils literal"><span class="pre">transchoice</span></tt>) to
help with message translation of <em>static blocks of text</em>:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">trans</span> <span class="cp">%}</span><span class="x">Hello %name%</span><span class="cp">{%</span> <span class="k">endtrans</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">transchoice</span> <span class="nv">count</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    {0} There are no apples|{1} There is one apple|]1,Inf] There are %count% apples</span>
<span class="cp">{%</span> <span class="k">endtranschoice</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">transchoice</span></tt> tag automatically gets the <tt class="docutils literal"><span class="pre">%count%</span></tt> variable from
the current context and passes it to the translator. This mechanism only
works when you use a placeholder following the <tt class="docutils literal"><span class="pre">%var%</span></tt> pattern.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If you need to use the percent character (<tt class="docutils literal"><span class="pre">%</span></tt>) in a string, escape it by
doubling it: <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">trans</span> <span class="pre">%}Percent:</span> <span class="pre">%percent%%%{%</span> <span class="pre">endtrans</span> <span class="pre">%}</span></tt></p>
</div>
<p>You can also specify the message domain and pass some additional variables:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">trans</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;%name%&#39;</span><span class="o">:</span> <span class="s1">&#39;Fabien&#39;</span><span class="o">}</span> <span class="nv">from</span> <span class="s2">&quot;app&quot;</span> <span class="cp">%}</span><span class="x">Hello %name%</span><span class="cp">{%</span> <span class="k">endtrans</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">trans</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;%name%&#39;</span><span class="o">:</span> <span class="s1">&#39;Fabien&#39;</span><span class="o">}</span> <span class="nv">from</span> <span class="s2">&quot;app&quot;</span> <span class="nv">into</span> <span class="s2">&quot;fr&quot;</span> <span class="cp">%}</span><span class="x">Hello %name%</span><span class="cp">{%</span> <span class="k">endtrans</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">transchoice</span> <span class="nv">count</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;%name%&#39;</span><span class="o">:</span> <span class="s1">&#39;Fabien&#39;</span><span class="o">}</span> <span class="nv">from</span> <span class="s2">&quot;app&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    {0} There is no apples|{1} There is one apple|]1,Inf] There are %count% apples</span>
<span class="cp">{%</span> <span class="k">endtranschoice</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">trans</span></tt> and <tt class="docutils literal"><span class="pre">transchoice</span></tt> filters can be used to translate <em>variable
texts</em> and complex expressions:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">message</span><span class="o">|</span><span class="nf">trans</span> <span class="cp">}}</span><span class="x"></span>

<span class="cp">{{</span> <span class="nv">message</span><span class="o">|</span><span class="nf">transchoice</span><span class="o">(</span><span class="m">5</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>

<span class="cp">{{</span> <span class="nv">message</span><span class="o">|</span><span class="nf">trans</span><span class="o">({</span><span class="s1">&#39;%name%&#39;</span><span class="o">:</span> <span class="s1">&#39;Fabien&#39;</span><span class="o">},</span> <span class="s2">&quot;app&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>

<span class="cp">{{</span> <span class="nv">message</span><span class="o">|</span><span class="nf">transchoice</span><span class="o">(</span><span class="m">5</span><span class="o">,</span> <span class="o">{</span><span class="s1">&#39;%name%&#39;</span><span class="o">:</span> <span class="s1">&#39;Fabien&#39;</span><span class="o">},</span> <span class="s1">&#39;app&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>Using the translation tags or filters have the same effect, but with
one subtle difference: automatic output escaping is only applied to
variables translated using a filter. In other words, if you need to
be sure that your translated variable is <em>not</em> output escaped, you must
apply the raw filter after the translation filter:</p>
<div class="last highlight-jinja"><div class="highlight"><pre><span class="c">{# text translated between tags is never escaped #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">trans</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;h3&gt;foo&lt;/h3&gt;</span>
<span class="cp">{%</span> <span class="k">endtrans</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">set</span> <span class="nv">message</span> <span class="o">=</span> <span class="s1">&#39;&lt;h3&gt;foo&lt;/h3&gt;&#39;</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# a variable translated via a filter is escaped by default #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">message</span><span class="o">|</span><span class="nf">trans</span><span class="o">|</span><span class="nf">raw</span> <span class="cp">}}</span><span class="x"></span>

<span class="c">{# but static strings are never escaped #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="s1">&#39;&lt;h3&gt;foo&lt;/h3&gt;&#39;</span><span class="o">|</span><span class="nf">trans</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="php-templates">
<h3>PHP Templates<a class="headerlink" href="#php-templates" title="Permalink to this headline">¶</a></h3>
<p>The translator service is accessible in PHP templates through the
<tt class="docutils literal"><span class="pre">translator</span></tt> helper:</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;translator&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">trans</span><span class="p">(</span><span class="s1">&#39;Symfony2 is great&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;translator&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">transChoice</span><span class="p">(</span>
    <span class="s1">&#39;{0} There is no apples|{1} There is one apple|]1,Inf[ There are %count% apples&#39;</span><span class="p">,</span>
    <span class="mi">10</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;%count%&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">)</span>
<span class="p">)</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="forcing-the-translator-locale">
<h2>Forcing the Translator Locale<a class="headerlink" href="#forcing-the-translator-locale" title="Permalink to this headline">¶</a></h2>
<p>When translating a message, Symfony2 uses the locale from the user&#8217;s session
or the <tt class="docutils literal"><span class="pre">fallback</span></tt> locale if necessary. You can also manually specify the
locale to use for translation:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;translator&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">trans</span><span class="p">(</span>
    <span class="s1">&#39;Symfony2 is great&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(),</span>
    <span class="s1">&#39;messages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;fr_FR&#39;</span><span class="p">,</span>
<span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;translator&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">transChoice</span><span class="p">(</span>
    <span class="s1">&#39;{0} There are no apples|{1} There is one apple|]1,Inf[ There are %count% apples&#39;</span><span class="p">,</span>
    <span class="mi">10</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;%count%&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">),</span>
    <span class="s1">&#39;messages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;fr_FR&#39;</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="translating-database-content">
<h2>Translating Database Content<a class="headerlink" href="#translating-database-content" title="Permalink to this headline">¶</a></h2>
<p>The translation of database content should be handled by Doctrine through
the <a class="reference external" href="https://github.com/l3pp4rd/DoctrineExtensions">Translatable Extension</a>. For more information, see the documentation
for that library.</p>
</div>
<div class="section" id="translating-constraint-messages">
<span id="book-translation-constraint-messages"></span><h2>Translating Constraint Messages<a class="headerlink" href="#translating-constraint-messages" title="Permalink to this headline">¶</a></h2>
<p>The best way to understand constraint translation is to see it in action. To start,
suppose you&#8217;ve created a plain-old-PHP object that you need to use somewhere in
your application:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="c1">// src/Acme/BlogBundle/Entity/Author.php</span>
<span class="k">namespace</span> <span class="nx">Acme\BlogBundle\Entity</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Author</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nv">$name</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Add constraints though any of the supported methods. Set the message option to the
translation source text. For example, to guarantee that the $name property is not
empty, add the following:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># src/Acme/BlogBundle/Resources/config/validation.yml</span>
<span class="l-Scalar-Plain">Acme\BlogBundle\Entity\Author</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">properties</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span>
            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">NotBlank</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span class="nv">message</span><span class="p-Indicator">:</span> <span class="s">&quot;author.name.not_blank&quot;</span> <span class="p-Indicator">}</span>
</pre></div>
</div>
</li>
<li><em>Annotations</em><div class="highlight-php-annotations"><div class="highlight"><pre><span class="c1">// src/Acme/BlogBundle/Entity/Author.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Validator\Constraints</span> <span class="k">as</span> <span class="nx">Assert</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Author</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @Assert\NotBlank(message = &quot;author.name.not_blank&quot;)</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="nv">$name</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- src/Acme/BlogBundle/Resources/config/validation.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;constraint-mapping</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/constraint-mapping&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/constraint-mapping http://symfony.com/schema/dic/constraint-mapping/constraint-mapping-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;class</span> <span class="na">name=</span><span class="s">&quot;Acme\BlogBundle\Entity\Author&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;constraint</span> <span class="na">name=</span><span class="s">&quot;NotBlank&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;option</span> <span class="na">name=</span><span class="s">&quot;message&quot;</span><span class="nt">&gt;</span>author.name.not_blank<span class="nt">&lt;/option&gt;</span>
            <span class="nt">&lt;/constraint&gt;</span>
        <span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;/class&gt;</span>
<span class="nt">&lt;/constraint-mapping&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// src/Acme/BlogBundle/Entity/Author.php</span>

<span class="c1">// ...</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Validator\Mapping\ClassMetadata</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Validator\Constraints\NotBlank</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Author</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nv">$name</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">loadValidatorMetadata</span><span class="p">(</span><span class="nx">ClassMetadata</span> <span class="nv">$metadata</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$metadata</span><span class="o">-&gt;</span><span class="na">addPropertyConstraint</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="k">new</span> <span class="nx">NotBlank</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;author.name.not_blank&#39;</span>
        <span class="p">)));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Create a translation file under the <tt class="docutils literal"><span class="pre">validators</span></tt> catalog for the constraint messages, typically in the <tt class="docutils literal"><span class="pre">Resources/translations/</span></tt> directory of the bundle. See <a class="reference internal" href="#message-catalogues">Message Catalogues</a> for more details.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- validators.en.xliff --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;xliff</span> <span class="na">version=</span><span class="s">&quot;1.2&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;urn:oasis:names:tc:xliff:document:1.2&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;file</span> <span class="na">source-language=</span><span class="s">&quot;en&quot;</span> <span class="na">datatype=</span><span class="s">&quot;plaintext&quot;</span> <span class="na">original=</span><span class="s">&quot;file.ext&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;body&gt;</span>
            <span class="nt">&lt;trans-unit</span> <span class="na">id=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;source&gt;</span>author.name.not_blank<span class="nt">&lt;/source&gt;</span>
                <span class="nt">&lt;target&gt;</span>Please enter an author name.<span class="nt">&lt;/target&gt;</span>
            <span class="nt">&lt;/trans-unit&gt;</span>
        <span class="nt">&lt;/body&gt;</span>
    <span class="nt">&lt;/file&gt;</span>
<span class="nt">&lt;/xliff&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// validators.en.php</span>
<span class="k">return</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;author.name.not_blank&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Please enter an author name.&#39;</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># validators.en.yml</span>
<span class="l-Scalar-Plain">author.name.not_blank</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Please enter an author name.</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>With the Symfony2 Translation component, creating an internationalized application
no longer needs to be a painful process and boils down to just a few basic
steps:</p>
<ul class="simple">
<li>Abstract messages in your application by wrapping each in either the
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Translation/Translator.html#method_trans" title="Symfony\Component\Translation\Translator::trans()"><span class="pre">trans()</span></a></tt> or
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Translation/Translator.html#method_transChoice" title="Symfony\Component\Translation\Translator::transChoice()"><span class="pre">transChoice()</span></a></tt> methods;</li>
<li>Translate each message into multiple locales by creating translation message
files. Symfony2 discovers and processes each file because its name follows
a specific convention;</li>
<li>Manage the user&#8217;s locale, which is stored in the session.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Translations</a><ul>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#basic-translation">Basic Translation</a><ul>
<li><a class="reference internal" href="#the-translation-process">The Translation Process</a></li>
<li><a class="reference internal" href="#message-placeholders">Message Placeholders</a></li>
</ul>
</li>
<li><a class="reference internal" href="#message-catalogues">Message Catalogues</a><ul>
<li><a class="reference internal" href="#translation-locations-and-naming-conventions">Translation Locations and Naming Conventions</a></li>
<li><a class="reference internal" href="#creating-translations">Creating Translations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-message-domains">Using Message Domains</a></li>
<li><a class="reference internal" href="#handling-the-user-s-locale">Handling the User&#8217;s Locale</a><ul>
<li><a class="reference internal" href="#fallback-and-default-locale">Fallback and Default Locale</a></li>
<li><a class="reference internal" href="#the-locale-and-the-url">The Locale and the URL</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pluralization">Pluralization</a><ul>
<li><a class="reference internal" href="#explicit-interval-pluralization">Explicit Interval Pluralization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#translations-in-templates">Translations in Templates</a><ul>
<li><a class="reference internal" href="#twig-templates">Twig Templates</a></li>
<li><a class="reference internal" href="#php-templates">PHP Templates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#forcing-the-translator-locale">Forcing the Translator Locale</a></li>
<li><a class="reference internal" href="#translating-database-content">Translating Database Content</a></li>
<li><a class="reference internal" href="#translating-constraint-messages">Translating Constraint Messages</a></li>
<li><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="http_cache.html"
                        title="previous chapter">HTTP Cache</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="service_container.html"
                        title="next chapter">Service Container</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/book/translation.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="service_container.html" title="Service Container"
             >next</a> |</li>
        <li class="right" >
          <a href="http_cache.html" title="HTTP Cache"
             >previous</a> |</li>
        <li><a href="../index.html">Symfony2Docs v.2.0.17 2.0.17 documentation</a> &raquo;</li>
          <li><a href="index.html" >The Book</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Symfony Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>